!function(I){function webpackJsonpCallback(N){for(var U,$,B=N[0],V=N[1],W=0,z=[];W<B.length;W++)$=B[W],Object.prototype.hasOwnProperty.call(R,$)&&R[$]&&z.push(R[$][0]),R[$]=0;for(U in V)Object.prototype.hasOwnProperty.call(V,U)&&(I[U]=V[U]);for(H&&H(N);z.length;)z.shift()()}var N={},R={33:0};function __webpack_require__(R){if(N[R])return N[R].exports;var U=N[R]={i:R,l:!1,exports:{}};return I[R].call(U.exports,U,U.exports,__webpack_require__),U.l=!0,U.exports}__webpack_require__.e=function requireEnsure(I){var N=[],U=R[I];if(0!==U)if(U)N.push(U[2]);else{var $=new Promise((function(N,$){U=R[I]=[N,$]}));N.push(U[2]=$);var B,H=document.createElement("script");H.charset="utf-8",H.timeout=120,__webpack_require__.nc&&H.setAttribute("nonce",__webpack_require__.nc),H.src=function jsonpScriptSrc(I){return __webpack_require__.p+"js/"+({0:"BackToTop",1:"InstitutionAdminReport",2:"InstitutionalAffiliations",3:"RequestResetPassword",4:"SageSocietyLogin",5:"SavedSearches",6:"Shibboleth",7:"audioPlayer",8:"axel-publication-content",14:"clientPagination",15:"copyText",16:"dashboardToolbar",17:"datepicker",18:"deepdyve",19:"disableADBlocker",20:"download-marc-form-v2",21:"editableGenericWidget",22:"emailAlerts",23:"exportCitation",24:"exportCitationsSage",25:"federatedAccessLogin",26:"graphqlApi",27:"header",28:"journalsCategories",29:"kbartApiTokens",30:"lazy-imports",31:"lockssIp",32:"loi",34:"mddbNavigation",36:"profile",37:"requestidlecallback-polyfill",38:"search",39:"showRecommended",40:"slideshow",41:"ssoLogin",42:"temisRelated",43:"toggleTable",44:"topicalIndex",45:"trendingAltmetric",46:"truncate",47:"vendors~article",48:"vendors~axel-publication-content",49:"vendors~binders",50:"vendors~dynamic-imports",51:"vendors~fileUploader",52:"vendors~ie-imports",53:"vendors~lazy-imports",54:"vendors~loiAccordion",55:"vendors~pd",56:"vendors~search",57:"vendors~slideshow"}[I]||I)+"-"+{0:"6556300f057a9fb92ec9",1:"6e0870820819b36f32db",2:"b21e42841ccb4c0db725",3:"3b96cfc43a89dd2c77b1",4:"3418646a6d43389c8876",5:"e44454b4d5eb63a36a7d",6:"5eaf974b717411fa825c",7:"aec74be9bc3e23981f37",8:"ea20ec699aa3f5a41aca",14:"f1e4e9cf5599f7cd25fc",15:"6fb50cb7199d31c7f09b",16:"eb8b992c4d5c655cce1f",17:"be23c224d4de2b1d8507",18:"5f0058076152af4fc5a9",19:"b5e851d70722a7a63e82",20:"65487243d38cfbd63170",21:"4276601d0444e4305207",22:"66784f94f65767402f44",23:"ef70529669d50c7b89af",24:"841f4a0408415ad716b6",25:"e53af1914ea46f74c6c5",26:"9db02832246374d745b3",27:"b7acbc21b13c8d50bc0f",28:"4ad5429c2b1bbc829bfc",29:"53929470cc98c282144d",30:"f79fe933adc88ceb0bb7",31:"2a9f7219b441c1bf06a6",32:"aaf349020b36e91b0c69",34:"874fb026a93916344fa5",36:"83b83df7baed53713356",37:"e714878ec874cd927a01",38:"eabcef630b6245bd9710",39:"5392b74732f55bf192f1",40:"ae83dafb3db554b84c1f",41:"a143fd1bba1597aaa64b",42:"d2a131a49020e4555598",43:"20a9dbe513cf20748ad5",44:"6231c6ea8eeb68dc9b91",45:"08e82da1ec29da0c7568",46:"da6d817cbde4bc3d0b3d",47:"59b8008d9b8ae8c39d0e",48:"fba701550f928711fdaf",49:"9334f616656921be6ea9",50:"e4a5a309905b79fe9eea",51:"0d21ccdbb4279dcaebf4",52:"3eefe21ae1da0e22bcc4",53:"6bfb60629ea330f6cb12",54:"5a85ee8a06d2bce1e0f5",55:"190e9ddd9de806fb0fcb",56:"d9b8d7cb04d230037e27",57:"5d7e94f93376834d3168"}[I]+".js"}(I);var V=new Error;B=function(N){H.onerror=H.onload=null,clearTimeout(W);var U=R[I];if(0!==U){if(U){var $=N&&("load"===N.type?"missing":N.type),B=N&&N.target&&N.target.src;V.message="Loading chunk "+I+" failed.\n("+$+": "+B+")",V.name="ChunkLoadError",V.type=$,V.request=B,U[1](V)}R[I]=void 0}};var W=setTimeout((function(){B({type:"timeout",target:H})}),12e4);H.onerror=H.onload=B,document.head.appendChild(H)}return Promise.all(N)},__webpack_require__.m=I,__webpack_require__.c=N,__webpack_require__.d=function(I,N,R){__webpack_require__.o(I,N)||Object.defineProperty(I,N,{enumerable:!0,get:R})},__webpack_require__.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},__webpack_require__.t=function(I,N){if(1&N&&(I=__webpack_require__(I)),8&N)return I;if(4&N&&"object"==typeof I&&I&&I.__esModule)return I;var R=Object.create(null);if(__webpack_require__.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:I}),2&N&&"string"!=typeof I)for(var U in I)__webpack_require__.d(R,U,function(N){return I[N]}.bind(null,U));return R},__webpack_require__.n=function(I){var N=I&&I.__esModule?function getDefault(){return I.default}:function getModuleExports(){return I};return __webpack_require__.d(N,"a",N),N},__webpack_require__.o=function(I,N){return Object.prototype.hasOwnProperty.call(I,N)},__webpack_require__.p="",__webpack_require__.oe=function(I){throw console.error(I),I};var U=window.webpackJsonp=window.webpackJsonp||[],$=U.push.bind(U);U.push=webpackJsonpCallback,U=U.slice();for(var B=0;B<U.length;B++)webpackJsonpCallback(U[B]);var H=$;__webpack_require__(__webpack_require__.s=44)}([function(I,N,R){(function(N){I.exports=N.$=R(49)}).call(this,R(16))},function(I,N){function _typeof(N){return I.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},I.exports.__esModule=!0,I.exports.default=I.exports,_typeof(N)}I.exports=_typeof,I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){function _getPrototypeOf(N){return I.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(I){return I.__proto__||Object.getPrototypeOf(I)},I.exports.__esModule=!0,I.exports.default=I.exports,_getPrototypeOf(N)}I.exports=_getPrototypeOf,I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){I.exports=function _classCallCheck(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){var U=R(29);function _defineProperties(I,N){for(var R=0;R<N.length;R++){var $=N[R];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,U($.key),$)}}I.exports=function _createClass(I,N,R){return N&&_defineProperties(I.prototype,N),R&&_defineProperties(I,R),Object.defineProperty(I,"prototype",{writable:!1}),I},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){var U=R(1).default,$=R(24);I.exports=function _possibleConstructorReturn(I,N){if(N&&("object"===U(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return $(I)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){var U=R(54);I.exports=function _inherits(I,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),N&&U(I,N)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){var U=R(38);function _get(){return"undefined"!=typeof Reflect&&Reflect.get?(I.exports=_get=Reflect.get.bind(),I.exports.__esModule=!0,I.exports.default=I.exports):(I.exports=_get=function _get(I,N,R){var $=U(I,N);if($){var B=Object.getOwnPropertyDescriptor($,N);return B.get?B.get.call(arguments.length<3?I:R):B.value}},I.exports.__esModule=!0,I.exports.default=I.exports),_get.apply(this,arguments)}I.exports=_get,I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R.d(N,"a",(function(){return V}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=(R(30),function(){function Base(){$()(this,Base),this._selectors=this.selectors,this._classList=this.classList,this._elements=this.elements,this._texts=this.texts}return H()(Base,[{key:"selectors",get:function get(){return{}}},{key:"classList",get:function get(){return{}}},{key:"elements",get:function get(){return{}}},{key:"texts",get:function get(){return{}}},{key:"initialize",value:function initialize(){}},{key:"addEventListeners",value:function addEventListeners(){}},{key:"convertToArray",value:function convertToArray(I){return Array.prototype.slice.call(I)}},{key:"stringToNode",value:function stringToNode(I){var N=document.createElement("div");return N.innerHTML=I.trim(),N.firstChild}}]),Base}())},function(I,N,R){"use strict";R.d(N,"b",(function(){return U})),R.d(N,"d",(function(){return $})),R.d(N,"e",(function(){return B})),R.d(N,"c",(function(){return H})),R.d(N,"a",(function(){return V}));R(1),R(14);var U={TAB:9,RETURN:13,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},$=function validateEmail(I){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(I)},B=function whenAvailable(I,N){window.setTimeout((function(){window[I]?N(window[I]):whenAvailable(I,N)}),10)},H=function toast(I,N){var R={_ALERT:["alert","alert--floating"],_ALERT_SUCCESFUL:"alert--success"},U=document.createElement("div");U.setAttribute("role","alert"),U.setAttribute("role","alert"),R._ALERT.forEach((function(I){U.classList.add(I)})),U.append(N),I&&U.classList.add(R._ALERT_SUCCESFUL),document.querySelector("body").appendChild(U),window.setTimeout((function(){return U.remove()}),4e3)},V=function isIE(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1}},function(I,N,R){var U=R(29);I.exports=function _defineProperty(I,N,R){return(N=U(N))in I?Object.defineProperty(I,N,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[N]=R,I},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R.d(N,"c",(function(){return U})),R.d(N,"b",(function(){return $})),R.d(N,"a",(function(){return B})),R.d(N,"d",(function(){return H}));R(1),R(14);var U={TAB:9,RETURN:13,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},$=function isOutlineStylingActive(){return!0},B=function escapeHtml(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},H=function screenReaderSpeak(I,N){var R=N.ariaLive,U=N.role,$=document.createElement("div"),B="speak-"+Date.now();$.setAttribute("id",B),R&&$.setAttribute("aria-live",R),U&&$.setAttribute("role",U),$.classList.add("visually-hidden"),document.body.appendChild($),setTimeout((function(){document.getElementById(B).innerHTML=I}),100),setTimeout((function(){document.body.removeChild(document.getElementById(B))}),1e4)};!function setPropertyVH(){var I=function setVH(){var I=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(I,"px"))};I(),window.addEventListener("resize",(function(){I()}))}(),function accessCookieDialog(){window.addEventListener("load",(function(){var I=document.querySelector(".qc-cmp2-publisher-logo-container"),N=null==I?void 0:I.querySelector("h2"),R=null==I?void 0:I.querySelector(".qc-cmp2-summary-info"),U=null==I?void 0:I.querySelector("a");I&&(0!==(null==I?void 0:I.offsetHeight)&&(null==N||N.setAttribute("tabindex","0"),null==R||R.setAttribute("tabindex","0"),H(I.textContent,{ariaLive:"polite",role:"alert"}),null==I||I.setAttribute("aria-live","assertive")),null!=U&&U.textContent.includes("privacy")&&(null==U||U.classList.add("cookie-privacy")))}))}(),function isSearchResultShown(){var I=document.querySelector(".search-result--grid"),N=window.location.href,R=document.querySelector(".search-result__results");N.includes("collection")&&!R&&(null==I||I.classList.add("mt-n4"))}()},function(I,N,R){"use strict";var U=R(0),$=R.n(U);function transitionEndEmulator(I){var N=this,R=!1;return $()(this).one(B.TRANSITION_END,(function(){R=!0})),setTimeout((function(){R||B.triggerTransitionEnd(N)}),I),this}var B={TRANSITION_END:"bsTransitionEnd",getUID:function getUID(I){do{I+=~~(1e6*Math.random())}while(document.getElementById(I));return I},getSelectorFromElement:function getSelectorFromElement(I){var N=I.getAttribute("data-target");if(!N||"#"===N){var R=I.getAttribute("href");N=R&&"#"!==R?R.trim():""}try{return document.querySelector(N)?N:null}catch(I){return null}},getTransitionDurationFromElement:function getTransitionDurationFromElement(I){if(!I)return 0;var N=$()(I).css("transition-duration"),R=$()(I).css("transition-delay"),U=parseFloat(N),B=parseFloat(R);return U||B?(N=N.split(",")[0],R=R.split(",")[0],1e3*(parseFloat(N)+parseFloat(R))):0},reflow:function reflow(I){return I.offsetHeight},triggerTransitionEnd:function triggerTransitionEnd(I){$()(I).trigger("transitionend")},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean("transitionend")},isElement:function isElement(I){return(I[0]||I).nodeType},typeCheckConfig:function typeCheckConfig(I,N,R){for(var U in R)if(Object.prototype.hasOwnProperty.call(R,U)){var $=R[U],H=N[U],V=H&&B.isElement(H)?"element":(W=H,{}.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp($).test(V))throw new Error("".concat(I.toUpperCase(),": ")+'Option "'.concat(U,'" provided type "').concat(V,'" ')+'but expected type "'.concat($,'".'))}var W},findShadowRoot:function findShadowRoot(I){if(!document.documentElement.attachShadow)return null;if("function"==typeof I.getRootNode){var N=I.getRootNode();return N instanceof ShadowRoot?N:null}return I instanceof ShadowRoot?I:I.parentNode?B.findShadowRoot(I.parentNode):null},jQueryDetection:function jQueryDetection(){if(void 0===$.a)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var I=$.a.fn.jquery.split(" ")[0].split(".");if(I[0]<2&&I[1]<9||1===I[0]&&9===I[1]&&I[2]<1||I[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};B.jQueryDetection(),function setTransitionEndSupport(){$.a.fn.emulateTransitionEnd=transitionEndEmulator,$.a.event.special[B.TRANSITION_END]=function getSpecialTransitionEndEvent(){return{bindType:"transitionend",delegateType:"transitionend",handle:function handle(I){if($()(I.target).is(this))return I.handleObj.handler.apply(this,arguments)}}}()}(),N.a=B},function(I,N,R){var U=R(60),$=R(40),B=R(27),H=R(61);I.exports=function _toConsumableArray(I){return U(I)||$(I)||B(I)||H()},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){function asyncGeneratorStep(I,N,R,U,$,B,H){try{var V=I[B](H),W=V.value}catch(I){return void R(I)}V.done?N(W):Promise.resolve(W).then(U,$)}I.exports=function _asyncToGenerator(I){return function(){var N=this,R=arguments;return new Promise((function(U,$){var B=I.apply(N,R);function _next(I){asyncGeneratorStep(B,U,$,_next,_throw,"next",I)}function _throw(I){asyncGeneratorStep(B,U,$,_next,_throw,"throw",I)}_next(void 0)}))}},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R.d(N,"h",(function(){return Injectable})),R.d(N,"g",(function(){return Inject})),R.d(N,"a",(function(){return V})),R.d(N,"e",(function(){return at})),R.d(N,"f",(function(){return ot})),R.d(N,"d",(function(){return lt})),R.d(N,"b",(function(){return ct})),R.d(N,"c",(function(){return ComponentInjector}));var U=function(){function Container(){this._services={}}return Container.register=function(I){this.instance._services[I.name]=new I},Container.get=function(I){var N=this.instance._services[I.name];if(!N)throw Error("Service not found");return N},Container.instance=new Container,Container}();function Injectable(I){return void 0===I&&(I=null),function(I){U.register(I)}}function Inject(){return function(I,N){var R=Reflect.getMetadata("design:type",I,N);Object.defineProperty(I,N,{get:function get(){return U.get(R)},enumerable:!1,configurable:!1})}}var $,B=R(1),H=R.n(B),__decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},__generator=function(I,N){var R,U,$,B,H={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return B={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B;function verb(B){return function(V){return function step(B){if(R)throw new TypeError("Generator is already executing.");for(;H;)try{if(R=1,U&&($=2&B[0]?U.return:B[0]?U.throw||(($=U.return)&&$.call(U),0):U.next)&&!($=$.call(U,B[1])).done)return $;switch(U=0,$&&(B=[2&B[0],$.value]),B[0]){case 0:case 1:$=B;break;case 4:return H.label++,{value:B[1],done:!1};case 5:H.label++,U=B[1],B=[0];continue;case 7:B=H.ops.pop(),H.trys.pop();continue;default:if(!($=H.trys,($=$.length>0&&$[$.length-1])||6!==B[0]&&2!==B[0])){H=0;continue}if(3===B[0]&&(!$||B[1]>$[0]&&B[1]<$[3])){H.label=B[1];break}if(6===B[0]&&H.label<$[1]){H.label=$[1],$=B;break}if($&&H.label<$[2]){H.label=$[2],H.ops.push(B);break}$[2]&&H.ops.pop(),H.trys.pop();continue}B=N.call(I,H)}catch(I){B=[6,I],U=0}finally{R=$=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([B,V])}}},V=function(){function BrowserUtils(){}return Object.defineProperty(BrowserUtils.prototype,"isIOS",{get:function get(){return!!navigator.userAgent.match(/ipad|ipod|iphone/i)},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserUtils.prototype,"isSafari",{get:function get(){return new RegExp("apple","i").test(navigator.vendor)},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserUtils.prototype,"isIE",{get:function get(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1},enumerable:!1,configurable:!0}),BrowserUtils.prototype.toggleFullScreen=function(I){var N=document.webkitIsFullScreen||document.mozFullScreen||!1;I.requestFullScreen=I.requestFullScreen||I.webkitRequestFullScreen||I.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},N?document.cancelFullScreen():I.requestFullScreen()},BrowserUtils.prototype.copyToClipboard=function(I){var N=document.createElement("textarea");N.value=I,N.setAttribute("readonly",""),document.body.appendChild(N),N.select(),document.execCommand("copy"),document.body.removeChild(N)},BrowserUtils.prototype.delay=function(I){var N;return __generator(this,(function(R){switch(R.label){case 0:return[4,setTimeout((function(){N()}),I)];case 1:return R.sent(),[2,new Promise((function(I){return N=I}))]}}))},BrowserUtils.prototype.scrollTo=function(I,N){if(void 0===N&&(N=0),I&&I.offsetTop){var R=I.offsetTop-N;window.scrollTo({top:R,behavior:"smooth"})}},BrowserUtils=__decorate([Injectable()],BrowserUtils)}(),observer_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},W=(function(){function Observer(){this._observers={}}Observer.prototype.subscribe=function(I,N){this._observers[I]||(this._observers[I]=[]),this._observers[I].push(N)},Observer.prototype.unsubscribe=function(I,N){this._observers[I]&&(this._observers[I]=this._observers[I].filter((function(I){return I!==N})))},Observer.prototype.unsubscribeAll=function(I){this._observers[I]&&(this._observers[I]=[])},Observer.prototype.notify=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];this._observers[I]&&this._observers[I].forEach((function(I){I.apply(void 0,N)}))},Observer.prototype.getObservers=function(I){return this._observers[I]},Observer=observer_decorate([Injectable()],Observer)}(),function(){function DOMEvents(){}return DOMEvents.prototype.addEventListener=function(I,N,R){var U=this;N.indexOf(",")>-1?N.split(",").forEach((function(N){U.addEventListener(I,N,R)})):I&&(I instanceof Array?I.forEach((function(I){null==I||I.addEventListener(N.trim(),R)})):null==I||I.addEventListener(N.trim(),R))},DOMEvents.prototype.removeEventListener=function(I,N,R){var U=this;N.indexOf(",")>-1?N.split(",").forEach((function(N){U.removeEventListener(I,N,R)})):I&&(I instanceof Array?I.forEach((function(I){null==I||I.removeEventListener(N.trim(),R)})):null==I||I.removeEventListener(N.trim(),R))},DOMEvents}()),__awaiter=function(I,N,R,U){return new(R||(R=Promise))((function($,B){function fulfilled(I){try{step(U.next(I))}catch(I){B(I)}}function rejected(I){try{step(U.throw(I))}catch(I){B(I)}}function step(I){I.done?$(I.value):function adopt(I){return I instanceof R?I:new R((function(N){N(I)}))}(I.value).then(fulfilled,rejected)}step((U=U.apply(I,N||[])).next())}))},scriptLoader_generator=function(I,N){var R,U,$,B,H={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return B={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B;function verb(B){return function(V){return function step(B){if(R)throw new TypeError("Generator is already executing.");for(;H;)try{if(R=1,U&&($=2&B[0]?U.return:B[0]?U.throw||(($=U.return)&&$.call(U),0):U.next)&&!($=$.call(U,B[1])).done)return $;switch(U=0,$&&(B=[2&B[0],$.value]),B[0]){case 0:case 1:$=B;break;case 4:return H.label++,{value:B[1],done:!1};case 5:H.label++,U=B[1],B=[0];continue;case 7:B=H.ops.pop(),H.trys.pop();continue;default:if(!($=H.trys,($=$.length>0&&$[$.length-1])||6!==B[0]&&2!==B[0])){H=0;continue}if(3===B[0]&&(!$||B[1]>$[0]&&B[1]<$[3])){H.label=B[1];break}if(6===B[0]&&H.label<$[1]){H.label=$[1],$=B;break}if($&&H.label<$[2]){H.label=$[2],H.ops.push(B);break}$[2]&&H.ops.pop(),H.trys.pop();continue}B=N.call(I,H)}catch(I){B=[6,I],U=0}finally{R=$=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([B,V])}}},z=function(){function LoadScript(I,N){void 0===N&&(N=!1),this.target=I}return LoadScript.prototype.generateScripts=function(I){var N=this;void 0===I&&(I=0);var R=Array.from(this.target);if(I<R.length)return R[I].src?void this.injectScriptsAsync(R[I].src,!0).then((function(R){return I++,N.generateScripts(I)})):(this.injectScriptsAsync(R[I].innerHTML),I++,this.generateScripts(I))},LoadScript.prototype.injectScriptsAsync=function(I,N){return void 0===N&&(N=!1),__awaiter(this,void 0,void 0,(function(){var R;return scriptLoader_generator(this,(function(U){return(R=document.createElement("script")).type="text/javascript",R.async=!0,N?R.src=I:R.innerHTML=I,[2,new Promise((function(I,N){document.getElementsByTagName("head")[0].appendChild(R),R.onload=function(N){I(N)},R.onerror=function(I){N(I)}}))]}))}))},LoadScript}(),X=($=function extendStatics(I,N){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(I,N)},function(I,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function __(){this.constructor=I}$(I,N),I.prototype=null===N?Object.create(N):(__.prototype=N.prototype,new __)}),Q=function(I){function DOMHTML(){return null!==I&&I.apply(this,arguments)||this}return X(DOMHTML,I),DOMHTML.prototype.insertHTML=function(I,N,R){var U;return void 0===R&&(R=document.body),U="string"==typeof N?this.htmlToElement(N):N,R.insertAdjacentElement(I,U)},DOMHTML.prototype.htmlToElement=function(I){var N=document.createElement("template");return I=I.trim(),N.innerHTML=I,N.content.firstElementChild},DOMHTML.prototype.replaceElement=function(I,N){var R,U=(R="string"==typeof N?this.htmlToElement(N):N).querySelectorAll("script");return I.parentNode.replaceChild(R,I),U&&new z(U).generateScripts(),R},DOMHTML}(W),animate_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},J=function(){function Animater(){this._duration=250,this._display="block",this.delays=new Map}return Animater.prototype.toggleClass=function(I,N,R){I.classList.remove(N),I.classList.add(R)},Animater.prototype.withDuration=function(I){return this._duration=I,this},Animater.prototype.withDisplay=function(I){return this._display=I,this},Animater.prototype.fadeToggle=function(I){if(I){var N=getComputedStyle(I);"0"===N.opacity||"none"===N.display||I.classList.contains("animator__fade-out")?this.fadeIn(I):this.fadeOut(I)}},Animater.prototype.slideToggle=function(I){I&&("none"===getComputedStyle(I).display||I.classList.contains("animator__slide-up")?this.slideIn(I):this.slideOut(I))},Animater.prototype.fadeIn=function(I){I&&(clearTimeout(this.delays.get(I)),this.toggleClass(I,"animator__fade-out","animator__fade-in"),I.style.opacity="0",I.style.display=this._display,I.style.transition="opacity ".concat(this._duration,"ms ease-in-out"),this.delays.set(I,setTimeout((function(){I.style.opacity="1"}),0)))},Animater.prototype.fadeOut=function(I){I&&(clearTimeout(this.delays.get(I)),this.toggleClass(I,"animator__fade-in","animator__fade-out"),I.style.transition="opacity ".concat(this._duration,"ms ease-in-out"),I.style.opacity="0",this.delays.set(I,setTimeout((function(){I.style.display="none"}),this._duration)))},Animater.prototype.slideIn=function(I){I&&(clearTimeout(this.delays.get(I)),this.toggleClass(I,"animator__slide-up","animator__slide-down"),I.style.height="0",I.style.display=this._display,I.style.transition="height ".concat(this._duration,"ms ease-in-out"),I.style.overflow="hidden",setTimeout((function(){I.style.height="".concat(I.scrollHeight,"px")}),0),this.delays.set(I,setTimeout((function(){I.style.height=null}),this._duration)))},Animater.prototype.slideOut=function(I){I&&(clearTimeout(this.delays.get(I)),this.toggleClass(I,"animator__slide-down","animator__slide-up"),I.style.height="".concat(I.scrollHeight,"px"),I.style.transition="height ".concat(this._duration,"ms ease-in-out"),setTimeout((function(){I.style.height="0"}),0),this.delays.set(I,setTimeout((function(){I.style.display="none",I.style.overflow=null}),this._duration)))},Animater=animate_decorate([Injectable()],Animater)}(),Z=function(){var I=function extendStatics(N,R){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(N,R)};return function(N,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function __(){this.constructor=N}I(N,R),N.prototype=null===R?Object.create(R):(__.prototype=R.prototype,new __)}}(),classlist_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},__metadata=function(I,N){if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,N)},tt=function(I){function DOMClasslist(){return null!==I&&I.apply(this,arguments)||this}return Z(DOMClasslist,I),DOMClasslist.prototype.containsClasses=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];for(var U=0,$=N;U<$.length;U++){var B=$[U];if(I.classList.contains(B))return!0}return!1},DOMClasslist.prototype.addClasses=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];for(var U=function _loop_1(N){I instanceof Array?I.forEach((function(I){null==I||I.classList.add(N)})):null==I||I.classList.add(N)},$=0,B=N;$<B.length;$++){var H=B[$];U(H)}},DOMClasslist.prototype.removeClasses=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];for(var U=function _loop_2(N){I instanceof Array?I.forEach((function(I){null==I||I.classList.remove(N)})):null==I||I.classList.remove(N)},$=0,B=N;$<B.length;$++){var H=B[$];U(H)}},DOMClasslist.prototype.toggleClasses=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];for(var U=N.filter((function(I){return"string"==typeof I})),$=N.find((function(I){return"boolean"==typeof I})),B=function _loop_3(N){I instanceof Array?I.forEach((function(I){null==I||I.classList.toggle(N,$)})):null==I||I.classList.toggle(N,$)},H=0,V=U;H<V.length;H++){var W=V[H];B(W)}},DOMClasslist.prototype.toSelector=function(I){return I.id?"#".concat(I.id):I.classList.length>0?I.classList.toString().split(" ").map((function(I){return".".concat(I.trim())})).join(""):I.tagName.toLowerCase()},DOMClasslist.prototype.animate=function(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];var U=this._animate;"string"==typeof N[0]&&(U=this._animate.withDisplay(N[0])),N.forEach((function(N){N instanceof Element&&U[I].bind(U)(N)})),this._animate.withDisplay("block")},DOMClasslist.prototype.isVisible=function(I){return"none"!==window.getComputedStyle(I).display||I.classList.contains("js--fade-in")},classlist_decorate([Inject(),__metadata("design:type",J)],DOMClasslist.prototype,"_animate",void 0),DOMClasslist}(Q),et=function(){var I=function extendStatics(N,R){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(N,R)};return function(N,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function __(){this.constructor=N}I(N,R),N.prototype=null===R?Object.create(R):(__.prototype=R.prototype,new __)}}(),dom_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},it=function(I){function DOMUtils(){var N=null!==I&&I.apply(this,arguments)||this;return N.focusableElementSelector='button, a, input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',N}return et(DOMUtils,I),DOMUtils.prototype.getFocusableElements=function(I){return this.getElements(this.focusableElementSelector,I)},DOMUtils.prototype.getFocusableElement=function(I){return this.getElement(this.focusableElementSelector,I)},DOMUtils.prototype.getElement=function(I,N){return void 0===N&&(N=document.body),null==N?void 0:N.querySelector(I)},DOMUtils.prototype.getElements=function(I,N){return void 0===N&&(N=document.body),this.convertToArray(null==N?void 0:N.querySelectorAll(I))},DOMUtils.prototype.getElementById=function(I){return document.getElementById(I)},DOMUtils.prototype.getElementsByClassName=function(I,N){return void 0===N&&(N=document.body),this.convertToArray(null==N?void 0:N.getElementsByClassName(I))},DOMUtils.prototype.getElementByClassName=function(I,N){return void 0===N&&(N=document.body),this.getElementsByClassName(I,N)[0]},DOMUtils.prototype.closest=function(I,N){return null==N?void 0:N.closest(I)},DOMUtils.prototype.convertToArray=function(I){return null==I?[]:Array.prototype.slice.call(I)},DOMUtils.prototype.htmlIterator=function(I,N,R){for(var U=[],$=I;$[N];)$=$[N],R?$.matches(R)&&U.push($):U.push($);return U},DOMUtils.prototype.nextAll=function(I,N){return this.htmlIterator(I,"nextElementSibling",N)},DOMUtils.prototype.prevAll=function(I,N){return void 0===N&&(N=null),this.htmlIterator(I,"previousElementSibling",N)},DOMUtils.prototype.parents=function(I,N){return this.htmlIterator(I,"parentElement",N)},DOMUtils.prototype.offsetTop=function(I){return(I instanceof HTMLElement?I.getBoundingClientRect():I).top+window.pageYOffset},DOMUtils=dom_decorate([Injectable()],DOMUtils)}(tt),api_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},api_metadata=function(I,N){if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,N)},api_awaiter=function(I,N,R,U){return new(R||(R=Promise))((function($,B){function fulfilled(I){try{step(U.next(I))}catch(I){B(I)}}function rejected(I){try{step(U.throw(I))}catch(I){B(I)}}function step(I){I.done?$(I.value):function adopt(I){return I instanceof R?I:new R((function(N){N(I)}))}(I.value).then(fulfilled,rejected)}step((U=U.apply(I,N||[])).next())}))},api_generator=function(I,N){var R,U,$,B,H={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return B={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B;function verb(B){return function(V){return function step(B){if(R)throw new TypeError("Generator is already executing.");for(;H;)try{if(R=1,U&&($=2&B[0]?U.return:B[0]?U.throw||(($=U.return)&&$.call(U),0):U.next)&&!($=$.call(U,B[1])).done)return $;switch(U=0,$&&(B=[2&B[0],$.value]),B[0]){case 0:case 1:$=B;break;case 4:return H.label++,{value:B[1],done:!1};case 5:H.label++,U=B[1],B=[0];continue;case 7:B=H.ops.pop(),H.trys.pop();continue;default:if(!($=H.trys,($=$.length>0&&$[$.length-1])||6!==B[0]&&2!==B[0])){H=0;continue}if(3===B[0]&&(!$||B[1]>$[0]&&B[1]<$[3])){H.label=B[1];break}if(6===B[0]&&H.label<$[1]){H.label=$[1],$=B;break}if($&&H.label<$[2]){H.label=$[2],H.ops.push(B);break}$[2]&&H.ops.pop(),H.trys.pop();continue}B=N.call(I,H)}catch(I){B=[6,I],U=0}finally{R=$=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([B,V])}}},nt=(function(){function Api(){}Object.defineProperty(Api.prototype,"pbContext",{get:function get(){var I;return null===(I=this.domUtils.getElement("[name=pbContext]",document.head))||void 0===I?void 0:I.getAttribute("content")},enumerable:!1,configurable:!0}),Api.prototype.widgetId=function(I){var N,R;return null!==(R=null!==(N=I.getAttribute("widget-id"))&&void 0!==N?N:I.dataset.widgetId)&&void 0!==R?R:I.id},Api.prototype.renderWidget=function(I,N,R,U,$){return void 0===R&&(R={}),void 0===U&&(U="GET"),void 0===$&&($="html"),api_awaiter(this,void 0,void 0,(function(){var B,H,V,W;return api_generator(this,(function(z){if(B=R,I){if(H=this.widgetId(I),V=this.pbContext,!(null==H?void 0:H.length))throw new Error("Widget ID not found");if(!(null==V?void 0:V.length))throw new Error("PB Context not found");B.pbContext=this.pbContext,B.widgetId=H}return(W=new URL(window.location.href).searchParams).has("showJson")&&(B.showJson=W.get("showJson")),[2,this.fetch("/pb/widgets/".concat(N),U,$,B)]}))}))},Api.prototype.dataToQueryString=function(I,N){var R,U=(N||"").indexOf("?")>-1,$=[];for(var B in I)$.push("".concat(B,"=").concat(encodeURIComponent("".concat(I[B]))));return R=$.join("&"),U?"&".concat(R):"?".concat(R)},Api.prototype.fetch=function(I,N,R,U){return void 0===N&&(N="GET"),void 0===R&&(R="html"),void 0===U&&(U={}),api_awaiter(this,void 0,void 0,(function(){var $,B;return api_generator(this,(function(H){switch(H.label){case 0:return($="POST"===N||"PUT"===N||"PATCH"===N)||(I+=this.dataToQueryString(U,I)),[4,fetch(I,{method:N,headers:this.getHeaderFromData(U),body:$?this.serialize(U):null})];case 1:if(404===(B=H.sent()).status)throw new Error("not found");if(500===B.status)throw new Error("internal server error");return[2,"json"==R||"jsonp"==R?B.json():B.text()]}}))}))},Api.prototype.serialize=function(I){var N="";if(I instanceof FormData){var R=[];I.forEach((function(I,N){R.push("".concat(N,"=").concat(encodeURIComponent("".concat(I))))})),N=R.join("&")}else N=JSON.stringify(I);return N},Api.prototype.getHeaderFromData=function(I){return I instanceof FormData?{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}:{"Content-Type":"application/json"}},Api.prototype.get=function(I,N,R){return void 0===N&&(N={}),void 0===R&&(R="json"),api_awaiter(this,void 0,void 0,(function(){return api_generator(this,(function(U){return[2,this.fetch(I,"GET",R,N)]}))}))},Api.prototype.post=function(I,N,R){return void 0===N&&(N={}),void 0===R&&(R="json"),api_awaiter(this,void 0,void 0,(function(){return api_generator(this,(function(U){return[2,this.fetch(I,"POST",R,N)]}))}))},api_decorate([Inject(),api_metadata("design:type",it)],Api.prototype,"domUtils",void 0),Api=api_decorate([Injectable()],Api)}(),function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V}),st=function(){function Validator(){}return Validator.prototype.valueFrom=function(I){return I instanceof HTMLInputElement?null==I?void 0:I.value:null!=I?I:""},Validator.prototype.isEmail=function(I){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.valueFrom(I))},Validator.prototype.isNumber=function(I){var N=parseFloat(this.valueFrom(I));return!isNaN(N)&&isFinite(N)},Validator.prototype.isPhone=function(I){return/^\+\d{12}$/.test(this.valueFrom(I))},Validator.prototype.isEmpty=function(I){return!this.valueFrom(I).trim().length},Validator.prototype.isNotEmpty=function(I){return!!this.valueFrom(I).trim().length},Validator.prototype.isTooLong=function(I,N){return this.valueFrom(I).length>N},Validator.prototype.isTooShort=function(I,N){return this.valueFrom(I).length<N},Validator.prototype.matchLength=function(I,N){return this.valueFrom(I).length===N},Validator.prototype.hasSpecialCharacters=function(I){return/[!@#\$%\^\&*\)\(+=._-]/.test(this.valueFrom(I))},Validator.prototype.hasLowerCase=function(I){return/[a-z]/.test(this.valueFrom(I))},Validator.prototype.hasUpperCase=function(I){return/[A-Z]/.test(this.valueFrom(I))},Validator.prototype.hasNumber=function(I){return/[0-9]/.test(this.valueFrom(I))},Validator=nt([Injectable()],Validator)}(),i18n_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},i18n_awaiter=function(I,N,R,U){return new(R||(R=Promise))((function($,B){function fulfilled(I){try{step(U.next(I))}catch(I){B(I)}}function rejected(I){try{step(U.throw(I))}catch(I){B(I)}}function step(I){I.done?$(I.value):function adopt(I){return I instanceof R?I:new R((function(N){N(I)}))}(I.value).then(fulfilled,rejected)}step((U=U.apply(I,N||[])).next())}))},i18n_generator=function(I,N){var R,U,$,B,H={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return B={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B;function verb(B){return function(V){return function step(B){if(R)throw new TypeError("Generator is already executing.");for(;H;)try{if(R=1,U&&($=2&B[0]?U.return:B[0]?U.throw||(($=U.return)&&$.call(U),0):U.next)&&!($=$.call(U,B[1])).done)return $;switch(U=0,$&&(B=[2&B[0],$.value]),B[0]){case 0:case 1:$=B;break;case 4:return H.label++,{value:B[1],done:!1};case 5:H.label++,U=B[1],B=[0];continue;case 7:B=H.ops.pop(),H.trys.pop();continue;default:if(!($=H.trys,($=$.length>0&&$[$.length-1])||6!==B[0]&&2!==B[0])){H=0;continue}if(3===B[0]&&(!$||B[1]>$[0]&&B[1]<$[3])){H.label=B[1];break}if(6===B[0]&&H.label<$[1]){H.label=$[1],$=B;break}if($&&H.label<$[2]){H.label=$[2],H.ops.push(B);break}$[2]&&H.ops.pop(),H.trys.pop();continue}B=N.call(I,H)}catch(I){B=[6,I],U=0}finally{R=$=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([B,V])}}},rt=(function(){function I18N(){}I18N.prototype.initialize=function(){return i18n_awaiter(this,void 0,void 0,(function(){return i18n_generator(this,(function(I){switch(I.label){case 0:return[4,this.load()];case 1:return I.sent(),[2]}}))}))},Object.defineProperty(I18N.prototype,"language",{get:function get(){return document.documentElement.lang||"en"},enumerable:!1,configurable:!0}),I18N.prototype.load=function(){return i18n_awaiter(this,void 0,void 0,(function(){var I=this;return i18n_generator(this,(function(N){return[2,new Promise((function(N){return i18n_awaiter(I,void 0,void 0,(function(){return i18n_generator(this,(function(I){switch(I.label){case 0:return this.data?(N(),[3,3]):[3,1];case 1:return[4,this.loadFromFile()];case 2:I.sent(),N(),I.label=3;case 3:return[2]}}))}))}))]}))}))},I18N.prototype.loadFromFile=function(){return i18n_awaiter(this,void 0,void 0,(function(){var I,N,R,U;return i18n_generator(this,(function($){switch($.label){case 0:return I=this.language,N="".concat(window.__webpack_public_path__,"/locales/").concat(I,".json"),[4,fetch(N)];case 1:return R=$.sent(),U=this,[4,R.json()];case 2:return U.data=$.sent(),[2]}}))}))},I18N.prototype.localized=function(I,N){return this.translate(this.localizedObject(I),N)},I18N.prototype.localizedObject=function(I){return I.includes(".")?this.correctedKey(I):this.data[I]},I18N.prototype.correctedKey=function(I){for(var N=I.split("."),R=this.data[N.shift()];N.length>0;)R=R[N.shift()];return R},I18N.prototype.translate=function(I,N){var R=I;return N?(Object.keys(N).forEach((function(I){var U=N[I],$=new RegExp("{{".concat(I,"}}"),"g");R=R.replace($,U)})),R):R},I18N=i18n_decorate([Injectable()],I18N)}(),function(){var I=function extendStatics(N,R){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(N,R)};return function(N,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function __(){this.constructor=N}I(N,R),N.prototype=null===R?Object.create(R):(__.prototype=R.prototype,new __)}}()),component_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},component_metadata=function(I,N){if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,N)},at=function at(I,N,R){void 0===N&&(N="wrapper"),void 0===R&&(R=!0),this.selector=I,this.parent=N,this.shouldInitiate=R},ot=function ot(){},lt=function(){function ComponentObject(){}return Object.defineProperty(ComponentObject.prototype,"className",{get:function get(){return H()(this)},enumerable:!1,configurable:!0}),ComponentObject}(),ct=function(){function ComponentElements(I){this.selectors=I}return ComponentElements.prototype.initialize=function(I){void 0===I&&(I=null),this.wrapper=I,this.setElements()},ComponentElements.prototype.setElements=function(){var I=this,N=this.selectors;Object.keys(N).forEach((function(R){if("string"!=typeof N[R]){var U=N[R];if(U.shouldInitiate){var $,B=U.parent;$="document"==B?document.body:I[B],Array.isArray(I[R])?I[R]=I.domUtils.getElements(U.selector,$):I[R]=I.domUtils.getElement(U.selector,$)}}}))},component_decorate([Inject(),component_metadata("design:type",it)],ComponentElements.prototype,"domUtils",void 0),ComponentElements}(),ut=function ut(I,N,R){this.elements=I,this.classList=N,this.texts=R};function ComponentInjector(I,N,R,U){return function($){return function($){function class_1(){var B=null!==$&&$.apply(this,arguments)||this;return B.component=new ut(new N(new I),new R,new U),B}return rt(class_1,$),Object.defineProperty(class_1.prototype,"selectors",{get:function get(){return this.component.elements.selectors},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"classList",{get:function get(){return this.component.classList},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"elements",{get:function get(){return this.component.elements},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"texts",{get:function get(){return this.component.texts},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"domUtils",{get:function get(){return this.component.elements.domUtils},enumerable:!1,configurable:!0}),class_1}($)}}var form_decorate=function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V},form_metadata=function(I,N){if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,N)},ht=(function(){function Form(I){for(var N=[],R=1;R<arguments.length;R++)N[R-1]=arguments[R];this.submitButton=I,this._isValid=!0,this._builders=[],this.builders=N||[],this.addEventListeners()}Object.defineProperty(Form.prototype,"isValid",{get:function get(){return this._isValid},set:function set(I){this._isValid=I},enumerable:!1,configurable:!0}),Object.defineProperty(Form.prototype,"builders",{get:function get(){return this._builders},set:function set(I){this._builders=I},enumerable:!1,configurable:!0}),Object.defineProperty(Form.prototype,"onSubmission",{get:function get(){return this._onSubmission},set:function set(I){this._onSubmission=I},enumerable:!1,configurable:!0}),Form.prototype.addEventListeners=function(){var I,N=this;(null===(I=this.submitButton)||void 0===I?void 0:I.form)&&this.submitButton.form.addEventListener("submit",this.onSubmit.bind(this)),this.builders.forEach((function(I){N.domUtils.addEventListener(I.field,"keyup,input",N.validate.bind(N))}))},Form.prototype.onSubmit=function(I){this.validate(),this.isValid||I.preventDefault(),this.onSubmission&&this.onSubmission(I)},Form.prototype.validate=function(){return this.isValid=this.builders.every((function(I){return I.validate()})),this.isValid?this.submitButton.removeAttribute("disabled"):this.submitButton.setAttribute("disabled","disabled"),this},form_decorate([Inject(),form_metadata("design:type",it)],Form.prototype,"domUtils",void 0)}(),function(I,N,R,U){var $,B=arguments.length,V=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)V=Reflect.decorate(I,N,R,U);else for(var W=I.length-1;W>=0;W--)($=I[W])&&(V=(B<3?$(V):B>3?$(N,R,V):$(N,R))||V);return B>3&&V&&Object.defineProperty(N,R,V),V}),validator_builder_metadata=function(I,N){if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,N)};!function(){function ValidatorBuilder(I){this._field=I,this.customValidators=[]}Object.defineProperty(ValidatorBuilder.prototype,"field",{get:function get(){return this._field},enumerable:!1,configurable:!0}),ValidatorBuilder.prototype.isRequired=function(){return this.required=this.validator.isNotEmpty.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isTooLong=function(I){return this.tooLong=this.validator.isTooLong.bind(this.validator,this.field,I),this},ValidatorBuilder.prototype.isTooShort=function(I){return this.tooShort=this.validator.isTooShort.bind(this.validator,this.field,I),this},ValidatorBuilder.prototype.isEmail=function(){return this.email=this.validator.isEmail.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isNumber=function(){return this.number=this.validator.isNumber.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isPhone=function(){return this.phone=this.validator.isPhone.bind(this.validator,this.field),this},ValidatorBuilder.prototype.matches=function(I){return this.matchLength=this.validator.matchLength.bind(this.validator,this.field,I),this},ValidatorBuilder.prototype.custom=function(I){return this.customValidators.push(I.bind(this.validator,this.field)),this},ValidatorBuilder.prototype.validate=function(){var I=this;if(this.required&&!this.required(this.field))return!1;if(this.email&&!this.email(this.field))return!1;if(this.tooLong&&this.tooLong(this.field))return!1;if(this.tooShort&&this.tooShort(this.field))return!1;if(this.number&&!this.number(this.field))return!1;if(this.matchLength&&!this.matchLength(this.field))return!1;if(this.phone&&!this.phone(this.field))return!1;if(this.customValidators.length&&!this.customValidators.every((function(N){return N(I.field)})))return!1;return!0},ht([Inject(),validator_builder_metadata("design:type",st)],ValidatorBuilder.prototype,"validator",void 0)}();if(!Reflect||!Reflect.getMetadata)throw new Error("reflect-metadata should be installed otherwise please uninstall this package")},function(I,N,R){var U,$=R(48);U=function(){return this}();try{U=U||new Function("return this")()}catch(I){"object"===("undefined"==typeof window?"undefined":$(window))&&(U=window)}I.exports=U},function(I,N,R){"use strict";R.d(N,"a",(function(){return nt}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=R(5),W=R.n(V),z=R(7),X=R.n(z),Q=R(2),J=R.n(Q),Z=R(6),tt=R.n(Z),et=R(8),it=R(11);function _callSuper(I,N,R){return N=J()(N),W()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],J()(I).constructor):N.apply(I,R))}var nt=function(I){function RequiredFieldsValidation(I){var N;return $()(this,RequiredFieldsValidation),(N=_callSuper(this,RequiredFieldsValidation)).ERROR_MESSAGE_TEMPLATE='<div><div class="message error">%message%</div></div>',N.form=I,N.isValid=!0,N}return tt()(RequiredFieldsValidation,I),H()(RequiredFieldsValidation,[{key:"selectors",get:function get(){return{FORM:"form",FORM_GROUP:".form-group",FORM_PASSWORD:".form-password",REQUIRED_FIELD:"[required]",FORM_CONTROL:".form-control",DROPDOWN:".dropdown-selectable",DROPDOWN_TOGGLE:".dropdown-toggle",FORM_ROW:".form-row",MESSAGE:".message",ERROR:".message.error",LABEL:"label"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"texts",get:function get(){return{FILL_FIELD:"This required field was missing. Please enter your %form_label%.",ONLY_ALPHANUMERIC:"Please use only alpha-numeric characters.",SELECT_OPTION:"This required field was missing. Please select your %form_label% from the drop-down.",CONFIRM_TERMS:"Please, confirm that you have read and agreed to the Privacy Policy and the Terms and Conditions.",WRONG_EMAIL_FORMAT:"Email has wrong format."}}},{key:"initialize",value:function initialize(){X()(J()(RequiredFieldsValidation.prototype),"initialize",this).call(this)}},{key:"checkRequired",value:function checkRequired(){var I=this;return this.isValid=!0,this.form.querySelectorAll(this._selectors.REQUIRED_FIELD).forEach((function(N,R){I.setValid(N),(!N.value||""===N.value||"checkbox"===N.type&&!1===N.checked)&&(I.setInvalid(N),I.isValid=!1)}),this),this.isValid}},{key:"setValid",value:function setValid(I){var N,R,U,$=I.closest(this._selectors.FORM_GROUP);I.setAttribute("aria-invalid","false"),I.classList.remove(this._classList.IS_INVALID),null==$||$.classList.remove(this._classList.IS_INVALID),null==$||null===(N=$.querySelector(this._selectors.ERROR))||void 0===N||N.remove(),null===(R=I.closest(this._selectors.DROPDOWN))||void 0===R||null===(U=R.querySelector(this._selectors.DROPDOWN_TOGGLE))||void 0===U||U.classList.remove(this._classList.IS_INVALID)}},{key:"setInvalid",value:function setInvalid(I){var N,R,U,$,B,H;I.setAttribute("aria-invalid","true"),I.classList.add(this._classList.IS_INVALID);var V,W,z,X=null,Q="";switch(z=(X=null===(N=V=I.closest(this._selectors.FORM_GROUP))||void 0===N?void 0:N.querySelector(this._selectors.LABEL)).innerText.replace(":",""),null!==(R=V)&&void 0!==R&&R.classList.add(this._classList.IS_INVALID),W=null===(U=V)||void 0===U?void 0:U.querySelector("[aria-describedby]"),I.name){case"terms.value":Q=this.ERROR_MESSAGE_TEMPLATE.replace("%message%",Object(it.a)(this._texts.CONFIRM_TERMS)),null===($=I.closest(this._selectors.FORM_ROW))||void 0===$||$.insertAdjacentHTML("beforebegin",Q);break;default:Q=this.ERROR_MESSAGE_TEMPLATE.replace("%message%",this._texts.FILL_FIELD.replace("%form_label%",Object(it.a)(z))),X.insertAdjacentHTML("afterend",Q)}var J=null===(B=V)||void 0===B?void 0:B.querySelector(".message.error");null==J||J.setAttribute("id",null===(H=W)||void 0===H?void 0:H.getAttribute("aria-describedby"))}}]),RequiredFieldsValidation}(et.a)},function(I,N,R){"use strict";R.d(N,"a",(function(){return it}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=R(5),W=R.n(V),z=R(7),X=R.n(z),Q=R(2),J=R.n(Q),Z=R(6),tt=R.n(Z),et=R(8);function _callSuper(I,N,R){return N=J()(N),W()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],J()(I).constructor):N.apply(I,R))}var it=function(I){function EmailFormatValidation(I){var N;return $()(this,EmailFormatValidation),(N=_callSuper(this,EmailFormatValidation)).form=I,N.isValid=!0,N}return tt()(EmailFormatValidation,I),H()(EmailFormatValidation,[{key:"selectors",get:function get(){return{FORM:"form",FORM_GROUP:".form-group",EMAIL_INPUT:'[type="email"]'}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"texts",get:function get(){return{MESSAGE:"Email has wrong format."}}},{key:"initialize",value:function initialize(){X()(J()(EmailFormatValidation.prototype),"initialize",this).call(this)}},{key:"checkEmailFormat",value:function checkEmailFormat(){var I=this;this.isValid=!0;var N=this.form.querySelectorAll(this.selectors.EMAIL_INPUT),R="",U="",$=null,B=null;return N.length>0&&N.forEach((function(N){var H;if((R=N.value)&&(B=N.closest(I._selectors.FORM_GROUP),N.setAttribute("aria-invalid","false"),$=null===(H=B)||void 0===H?void 0:H.querySelector("[aria-describedby]"),N.classList.remove(I._classList.IS_INVALID),B.classList.remove(I._classList.IS_INVALID),!new RegExp("^[a-zA-Z0-9._-]+[\\+]?[a-zA-Z0-9._-]+?@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$","gm").test(R))){var V,W;N.setAttribute("aria-invalid","true"),N.classList.add(I._classList.IS_INVALID),B.classList.add(I._classList.IS_INVALID),U=I._texts.MESSAGE,N.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(U,"</div>")),I.isValid=!1;var z=null===(V=B)||void 0===V?void 0:V.querySelector(".message.error");null==z||z.setAttribute("id",null===(W=$)||void 0===W?void 0:W.getAttribute("aria-describedby"))}})),this.isValid}}]),EmailFormatValidation}(et.a)},function(I,N,R){"use strict";(function(I){var R="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,U=function(){for(var I=["Edge","Trident","Firefox"],N=0;N<I.length;N+=1)if(R&&navigator.userAgent.indexOf(I[N])>=0)return 1;return 0}();var $=R&&window.Promise?function microtaskDebounce(I){var N=!1;return function(){N||(N=!0,window.Promise.resolve().then((function(){N=!1,I()})))}}:function taskDebounce(I){var N=!1;return function(){N||(N=!0,setTimeout((function(){N=!1,I()}),U))}};function isFunction(I){return I&&"[object Function]"==={}.toString.call(I)}function getStyleComputedProperty(I,N){if(1!==I.nodeType)return[];var R=I.ownerDocument.defaultView.getComputedStyle(I,null);return N?R[N]:R}function getParentNode(I){return"HTML"===I.nodeName?I:I.parentNode||I.host}function getScrollParent(I){if(!I)return document.body;switch(I.nodeName){case"HTML":case"BODY":return I.ownerDocument.body;case"#document":return I.body}var N=getStyleComputedProperty(I),R=N.overflow,U=N.overflowX,$=N.overflowY;return/(auto|scroll|overlay)/.test(R+$+U)?I:getScrollParent(getParentNode(I))}function getReferenceNode(I){return I&&I.referenceNode?I.referenceNode:I}var B=R&&!(!window.MSInputMethodContext||!document.documentMode),H=R&&/MSIE 10/.test(navigator.userAgent);function isIE(I){return 11===I?B:10===I?H:B||H}function getOffsetParent(I){if(!I)return document.documentElement;for(var N=isIE(10)?document.body:null,R=I.offsetParent||null;R===N&&I.nextElementSibling;)R=(I=I.nextElementSibling).offsetParent;var U=R&&R.nodeName;return U&&"BODY"!==U&&"HTML"!==U?-1!==["TH","TD","TABLE"].indexOf(R.nodeName)&&"static"===getStyleComputedProperty(R,"position")?getOffsetParent(R):R:I?I.ownerDocument.documentElement:document.documentElement}function getRoot(I){return null!==I.parentNode?getRoot(I.parentNode):I}function findCommonOffsetParent(I,N){if(!(I&&I.nodeType&&N&&N.nodeType))return document.documentElement;var R=I.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING,U=R?I:N,$=R?N:I,B=document.createRange();B.setStart(U,0),B.setEnd($,0);var H=B.commonAncestorContainer;if(I!==H&&N!==H||U.contains($))return function isOffsetContainer(I){var N=I.nodeName;return"BODY"!==N&&("HTML"===N||getOffsetParent(I.firstElementChild)===I)}(H)?H:getOffsetParent(H);var V=getRoot(I);return V.host?findCommonOffsetParent(V.host,N):findCommonOffsetParent(I,getRoot(N).host)}function getScroll(I){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",R="top"===N?"scrollTop":"scrollLeft",U=I.nodeName;if("BODY"===U||"HTML"===U){var $=I.ownerDocument.documentElement,B=I.ownerDocument.scrollingElement||$;return B[R]}return I[R]}function includeScroll(I,N){var R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=getScroll(N,"top"),$=getScroll(N,"left"),B=R?-1:1;return I.top+=U*B,I.bottom+=U*B,I.left+=$*B,I.right+=$*B,I}function getBordersSize(I,N){var R="x"===N?"Left":"Top",U="Left"===R?"Right":"Bottom";return parseFloat(I["border"+R+"Width"])+parseFloat(I["border"+U+"Width"])}function getSize(I,N,R,U){return Math.max(N["offset"+I],N["scroll"+I],R["client"+I],R["offset"+I],R["scroll"+I],isIE(10)?parseInt(R["offset"+I])+parseInt(U["margin"+("Height"===I?"Top":"Left")])+parseInt(U["margin"+("Height"===I?"Bottom":"Right")]):0)}function getWindowSizes(I){var N=I.body,R=I.documentElement,U=isIE(10)&&getComputedStyle(R);return{height:getSize("Height",N,R,U),width:getSize("Width",N,R,U)}}var V=function classCallCheck(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")},W=function(){function defineProperties(I,N){for(var R=0;R<N.length;R++){var U=N[R];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(I,U.key,U)}}return function(I,N,R){return N&&defineProperties(I.prototype,N),R&&defineProperties(I,R),I}}(),z=function defineProperty(I,N,R){return N in I?Object.defineProperty(I,N,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[N]=R,I},X=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var R=arguments[N];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(I[U]=R[U])}return I};function getClientRect(I){return X({},I,{right:I.left+I.width,bottom:I.top+I.height})}function getBoundingClientRect(I){var N={};try{if(isIE(10)){N=I.getBoundingClientRect();var R=getScroll(I,"top"),U=getScroll(I,"left");N.top+=R,N.left+=U,N.bottom+=R,N.right+=U}else N=I.getBoundingClientRect()}catch(I){}var $={left:N.left,top:N.top,width:N.right-N.left,height:N.bottom-N.top},B="HTML"===I.nodeName?getWindowSizes(I.ownerDocument):{},H=B.width||I.clientWidth||$.width,V=B.height||I.clientHeight||$.height,W=I.offsetWidth-H,z=I.offsetHeight-V;if(W||z){var X=getStyleComputedProperty(I);W-=getBordersSize(X,"x"),z-=getBordersSize(X,"y"),$.width-=W,$.height-=z}return getClientRect($)}function getOffsetRectRelativeToArbitraryNode(I,N){var R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=isIE(10),$="HTML"===N.nodeName,B=getBoundingClientRect(I),H=getBoundingClientRect(N),V=getScrollParent(I),W=getStyleComputedProperty(N),z=parseFloat(W.borderTopWidth),X=parseFloat(W.borderLeftWidth);R&&$&&(H.top=Math.max(H.top,0),H.left=Math.max(H.left,0));var Q=getClientRect({top:B.top-H.top-z,left:B.left-H.left-X,width:B.width,height:B.height});if(Q.marginTop=0,Q.marginLeft=0,!U&&$){var J=parseFloat(W.marginTop),Z=parseFloat(W.marginLeft);Q.top-=z-J,Q.bottom-=z-J,Q.left-=X-Z,Q.right-=X-Z,Q.marginTop=J,Q.marginLeft=Z}return(U&&!R?N.contains(V):N===V&&"BODY"!==V.nodeName)&&(Q=includeScroll(Q,N)),Q}function getViewportOffsetRectRelativeToArtbitraryNode(I){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1],R=I.ownerDocument.documentElement,U=getOffsetRectRelativeToArbitraryNode(I,R),$=Math.max(R.clientWidth,window.innerWidth||0),B=Math.max(R.clientHeight,window.innerHeight||0),H=N?0:getScroll(R),V=N?0:getScroll(R,"left"),W={top:H-U.top+U.marginTop,left:V-U.left+U.marginLeft,width:$,height:B};return getClientRect(W)}function isFixed(I){var N=I.nodeName;if("BODY"===N||"HTML"===N)return!1;if("fixed"===getStyleComputedProperty(I,"position"))return!0;var R=getParentNode(I);return!!R&&isFixed(R)}function getFixedPositionOffsetParent(I){if(!I||!I.parentElement||isIE())return document.documentElement;for(var N=I.parentElement;N&&"none"===getStyleComputedProperty(N,"transform");)N=N.parentElement;return N||document.documentElement}function getBoundaries(I,N,R,U){var $=arguments.length>4&&void 0!==arguments[4]&&arguments[4],B={top:0,left:0},H=$?getFixedPositionOffsetParent(I):findCommonOffsetParent(I,getReferenceNode(N));if("viewport"===U)B=getViewportOffsetRectRelativeToArtbitraryNode(H,$);else{var V=void 0;"scrollParent"===U?"BODY"===(V=getScrollParent(getParentNode(N))).nodeName&&(V=I.ownerDocument.documentElement):V="window"===U?I.ownerDocument.documentElement:U;var W=getOffsetRectRelativeToArbitraryNode(V,H,$);if("HTML"!==V.nodeName||isFixed(H))B=W;else{var z=getWindowSizes(I.ownerDocument),X=z.height,Q=z.width;B.top+=W.top-W.marginTop,B.bottom=X+W.top,B.left+=W.left-W.marginLeft,B.right=Q+W.left}}var J="number"==typeof(R=R||0);return B.left+=J?R:R.left||0,B.top+=J?R:R.top||0,B.right-=J?R:R.right||0,B.bottom-=J?R:R.bottom||0,B}function getArea(I){return I.width*I.height}function computeAutoPlacement(I,N,R,U,$){var B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===I.indexOf("auto"))return I;var H=getBoundaries(R,U,B,$),V={top:{width:H.width,height:N.top-H.top},right:{width:H.right-N.right,height:H.height},bottom:{width:H.width,height:H.bottom-N.bottom},left:{width:N.left-H.left,height:H.height}},W=Object.keys(V).map((function(I){return X({key:I},V[I],{area:getArea(V[I])})})).sort((function(I,N){return N.area-I.area})),z=W.filter((function(I){var N=I.width,U=I.height;return N>=R.clientWidth&&U>=R.clientHeight})),Q=z.length>0?z[0].key:W[0].key,J=I.split("-")[1];return Q+(J?"-"+J:"")}function getReferenceOffsets(I,N,R){var U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,$=U?getFixedPositionOffsetParent(N):findCommonOffsetParent(N,getReferenceNode(R));return getOffsetRectRelativeToArbitraryNode(R,$,U)}function getOuterSizes(I){var N=I.ownerDocument.defaultView.getComputedStyle(I),R=parseFloat(N.marginTop||0)+parseFloat(N.marginBottom||0),U=parseFloat(N.marginLeft||0)+parseFloat(N.marginRight||0);return{width:I.offsetWidth+U,height:I.offsetHeight+R}}function getOppositePlacement(I){var N={left:"right",right:"left",bottom:"top",top:"bottom"};return I.replace(/left|right|bottom|top/g,(function(I){return N[I]}))}function getPopperOffsets(I,N,R){R=R.split("-")[0];var U=getOuterSizes(I),$={width:U.width,height:U.height},B=-1!==["right","left"].indexOf(R),H=B?"top":"left",V=B?"left":"top",W=B?"height":"width",z=B?"width":"height";return $[H]=N[H]+N[W]/2-U[W]/2,$[V]=R===V?N[V]-U[z]:N[getOppositePlacement(V)],$}function find(I,N){return Array.prototype.find?I.find(N):I.filter(N)[0]}function runModifiers(I,N,R){return(void 0===R?I:I.slice(0,function findIndex(I,N,R){if(Array.prototype.findIndex)return I.findIndex((function(I){return I[N]===R}));var U=find(I,(function(I){return I[N]===R}));return I.indexOf(U)}(I,"name",R))).forEach((function(I){I.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var R=I.function||I.fn;I.enabled&&isFunction(R)&&(N.offsets.popper=getClientRect(N.offsets.popper),N.offsets.reference=getClientRect(N.offsets.reference),N=R(N,I))})),N}function update(){if(!this.state.isDestroyed){var I={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};I.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),I.placement=computeAutoPlacement(this.options.placement,I.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),I.originalPlacement=I.placement,I.positionFixed=this.options.positionFixed,I.offsets.popper=getPopperOffsets(this.popper,I.offsets.reference,I.placement),I.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",I=runModifiers(this.modifiers,I),this.state.isCreated?this.options.onUpdate(I):(this.state.isCreated=!0,this.options.onCreate(I))}}function isModifierEnabled(I,N){return I.some((function(I){var R=I.name;return I.enabled&&R===N}))}function getSupportedPropertyName(I){for(var N=[!1,"ms","Webkit","Moz","O"],R=I.charAt(0).toUpperCase()+I.slice(1),U=0;U<N.length;U++){var $=N[U],B=$?""+$+R:I;if(void 0!==document.body.style[B])return B}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(I){var N=I.ownerDocument;return N?N.defaultView:window}function setupEventListeners(I,N,R,U){R.updateBound=U,getWindow(I).addEventListener("resize",R.updateBound,{passive:!0});var $=getScrollParent(I);return function attachToScrollParents(I,N,R,U){var $="BODY"===I.nodeName,B=$?I.ownerDocument.defaultView:I;B.addEventListener(N,R,{passive:!0}),$||attachToScrollParents(getScrollParent(B.parentNode),N,R,U),U.push(B)}($,"scroll",R.updateBound,R.scrollParents),R.scrollElement=$,R.eventsEnabled=!0,R}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(I,N){return getWindow(I).removeEventListener("resize",N.updateBound),N.scrollParents.forEach((function(I){I.removeEventListener("scroll",N.updateBound)})),N.updateBound=null,N.scrollParents=[],N.scrollElement=null,N.eventsEnabled=!1,N}(this.reference,this.state))}function isNumeric(I){return""!==I&&!isNaN(parseFloat(I))&&isFinite(I)}function setStyles(I,N){Object.keys(N).forEach((function(R){var U="";-1!==["width","height","top","right","bottom","left"].indexOf(R)&&isNumeric(N[R])&&(U="px"),I.style[R]=N[R]+U}))}var Q=R&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(I,N,R){var U=find(I,(function(I){return I.name===N})),$=!!U&&I.some((function(I){return I.name===R&&I.enabled&&I.order<U.order}));if(!$){var B="`"+N+"`",H="`"+R+"`";console.warn(H+" modifier is required by "+B+" modifier in order to work, be sure to include it before "+B+"!")}return $}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function clockwise(I){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1],R=Z.indexOf(I),U=Z.slice(R+1).concat(Z.slice(0,R));return N?U.reverse():U}var tt="flip",et="clockwise",it="counterclockwise";function parseOffset(I,N,R,U){var $=[0,0],B=-1!==["right","left"].indexOf(U),H=I.split(/(\+|\-)/).map((function(I){return I.trim()})),V=H.indexOf(find(H,(function(I){return-1!==I.search(/,|\s/)})));H[V]&&-1===H[V].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var W=/\s*,\s*|\s+/,z=-1!==V?[H.slice(0,V).concat([H[V].split(W)[0]]),[H[V].split(W)[1]].concat(H.slice(V+1))]:[H];return(z=z.map((function(I,U){var $=(1===U?!B:B)?"height":"width",H=!1;return I.reduce((function(I,N){return""===I[I.length-1]&&-1!==["+","-"].indexOf(N)?(I[I.length-1]=N,H=!0,I):H?(I[I.length-1]+=N,H=!1,I):I.concat(N)}),[]).map((function(I){return function toValue(I,N,R,U){var $=I.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),B=+$[1],H=$[2];if(!B)return I;if(0===H.indexOf("%")){var V=void 0;switch(H){case"%p":V=R;break;case"%":case"%r":default:V=U}return getClientRect(V)[N]/100*B}if("vh"===H||"vw"===H){return("vh"===H?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*B}return B}(I,$,N,R)}))}))).forEach((function(I,N){I.forEach((function(R,U){isNumeric(R)&&($[N]+=R*("-"===I[U-1]?-1:1))}))})),$}var nt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(I){var N=I.placement,R=N.split("-")[0],U=N.split("-")[1];if(U){var $=I.offsets,B=$.reference,H=$.popper,V=-1!==["bottom","top"].indexOf(R),W=V?"left":"top",Q=V?"width":"height",J={start:z({},W,B[W]),end:z({},W,B[W]+B[Q]-H[Q])};I.offsets.popper=X({},H,J[U])}return I}},offset:{order:200,enabled:!0,fn:function offset(I,N){var R=N.offset,U=I.placement,$=I.offsets,B=$.popper,H=$.reference,V=U.split("-")[0],W=void 0;return W=isNumeric(+R)?[+R,0]:parseOffset(R,B,H,V),"left"===V?(B.top+=W[0],B.left-=W[1]):"right"===V?(B.top+=W[0],B.left+=W[1]):"top"===V?(B.left+=W[0],B.top-=W[1]):"bottom"===V&&(B.left+=W[0],B.top+=W[1]),I.popper=B,I},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(I,N){var R=N.boundariesElement||getOffsetParent(I.instance.popper);I.instance.reference===R&&(R=getOffsetParent(R));var U=getSupportedPropertyName("transform"),$=I.instance.popper.style,B=$.top,H=$.left,V=$[U];$.top="",$.left="",$[U]="";var W=getBoundaries(I.instance.popper,I.instance.reference,N.padding,R,I.positionFixed);$.top=B,$.left=H,$[U]=V,N.boundaries=W;var Q=N.priority,J=I.offsets.popper,Z={primary:function primary(I){var R=J[I];return J[I]<W[I]&&!N.escapeWithReference&&(R=Math.max(J[I],W[I])),z({},I,R)},secondary:function secondary(I){var R="right"===I?"left":"top",U=J[R];return J[I]>W[I]&&!N.escapeWithReference&&(U=Math.min(J[R],W[I]-("right"===I?J.width:J.height))),z({},R,U)}};return Q.forEach((function(I){var N=-1!==["left","top"].indexOf(I)?"primary":"secondary";J=X({},J,Z[N](I))})),I.offsets.popper=J,I},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(I){var N=I.offsets,R=N.popper,U=N.reference,$=I.placement.split("-")[0],B=Math.floor,H=-1!==["top","bottom"].indexOf($),V=H?"right":"bottom",W=H?"left":"top",z=H?"width":"height";return R[V]<B(U[W])&&(I.offsets.popper[W]=B(U[W])-R[z]),R[W]>B(U[V])&&(I.offsets.popper[W]=B(U[V])),I}},arrow:{order:500,enabled:!0,fn:function arrow(I,N){var R;if(!isModifierRequired(I.instance.modifiers,"arrow","keepTogether"))return I;var U=N.element;if("string"==typeof U){if(!(U=I.instance.popper.querySelector(U)))return I}else if(!I.instance.popper.contains(U))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),I;var $=I.placement.split("-")[0],B=I.offsets,H=B.popper,V=B.reference,W=-1!==["left","right"].indexOf($),X=W?"height":"width",Q=W?"Top":"Left",J=Q.toLowerCase(),Z=W?"left":"top",tt=W?"bottom":"right",et=getOuterSizes(U)[X];V[tt]-et<H[J]&&(I.offsets.popper[J]-=H[J]-(V[tt]-et)),V[J]+et>H[tt]&&(I.offsets.popper[J]+=V[J]+et-H[tt]),I.offsets.popper=getClientRect(I.offsets.popper);var it=V[J]+V[X]/2-et/2,nt=getStyleComputedProperty(I.instance.popper),st=parseFloat(nt["margin"+Q]),rt=parseFloat(nt["border"+Q+"Width"]),at=it-I.offsets.popper[J]-st-rt;return at=Math.max(Math.min(H[X]-et,at),0),I.arrowElement=U,I.offsets.arrow=(z(R={},J,Math.round(at)),z(R,Z,""),R),I},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(I,N){if(isModifierEnabled(I.instance.modifiers,"inner"))return I;if(I.flipped&&I.placement===I.originalPlacement)return I;var R=getBoundaries(I.instance.popper,I.instance.reference,N.padding,N.boundariesElement,I.positionFixed),U=I.placement.split("-")[0],$=getOppositePlacement(U),B=I.placement.split("-")[1]||"",H=[];switch(N.behavior){case tt:H=[U,$];break;case et:H=clockwise(U);break;case it:H=clockwise(U,!0);break;default:H=N.behavior}return H.forEach((function(V,W){if(U!==V||H.length===W+1)return I;U=I.placement.split("-")[0],$=getOppositePlacement(U);var z=I.offsets.popper,Q=I.offsets.reference,J=Math.floor,Z="left"===U&&J(z.right)>J(Q.left)||"right"===U&&J(z.left)<J(Q.right)||"top"===U&&J(z.bottom)>J(Q.top)||"bottom"===U&&J(z.top)<J(Q.bottom),tt=J(z.left)<J(R.left),et=J(z.right)>J(R.right),it=J(z.top)<J(R.top),nt=J(z.bottom)>J(R.bottom),st="left"===U&&tt||"right"===U&&et||"top"===U&&it||"bottom"===U&&nt,rt=-1!==["top","bottom"].indexOf(U),at=!!N.flipVariations&&(rt&&"start"===B&&tt||rt&&"end"===B&&et||!rt&&"start"===B&&it||!rt&&"end"===B&&nt),ot=!!N.flipVariationsByContent&&(rt&&"start"===B&&et||rt&&"end"===B&&tt||!rt&&"start"===B&&nt||!rt&&"end"===B&&it),lt=at||ot;(Z||st||lt)&&(I.flipped=!0,(Z||st)&&(U=H[W+1]),lt&&(B=function getOppositeVariation(I){return"end"===I?"start":"start"===I?"end":I}(B)),I.placement=U+(B?"-"+B:""),I.offsets.popper=X({},I.offsets.popper,getPopperOffsets(I.instance.popper,I.offsets.reference,I.placement)),I=runModifiers(I.instance.modifiers,I,"flip"))})),I},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(I){var N=I.placement,R=N.split("-")[0],U=I.offsets,$=U.popper,B=U.reference,H=-1!==["left","right"].indexOf(R),V=-1===["top","left"].indexOf(R);return $[H?"left":"top"]=B[R]-(V?$[H?"width":"height"]:0),I.placement=getOppositePlacement(N),I.offsets.popper=getClientRect($),I}},hide:{order:800,enabled:!0,fn:function hide(I){if(!isModifierRequired(I.instance.modifiers,"hide","preventOverflow"))return I;var N=I.offsets.reference,R=find(I.instance.modifiers,(function(I){return"preventOverflow"===I.name})).boundaries;if(N.bottom<R.top||N.left>R.right||N.top>R.bottom||N.right<R.left){if(!0===I.hide)return I;I.hide=!0,I.attributes["x-out-of-boundaries"]=""}else{if(!1===I.hide)return I;I.hide=!1,I.attributes["x-out-of-boundaries"]=!1}return I}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(I,N){var R=N.x,U=N.y,$=I.offsets.popper,B=find(I.instance.modifiers,(function(I){return"applyStyle"===I.name})).gpuAcceleration;void 0!==B&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var H=void 0!==B?B:N.gpuAcceleration,V=getOffsetParent(I.instance.popper),W=getBoundingClientRect(V),z={position:$.position},J=function getRoundedOffsets(I,N){var R=I.offsets,U=R.popper,$=R.reference,B=Math.round,H=Math.floor,V=function noRound(I){return I},W=B($.width),z=B(U.width),X=-1!==["left","right"].indexOf(I.placement),Q=-1!==I.placement.indexOf("-"),J=N?X||Q||W%2==z%2?B:H:V,Z=N?B:V;return{left:J(W%2==1&&z%2==1&&!Q&&N?U.left-1:U.left),top:Z(U.top),bottom:Z(U.bottom),right:J(U.right)}}(I,window.devicePixelRatio<2||!Q),Z="bottom"===R?"top":"bottom",tt="right"===U?"left":"right",et=getSupportedPropertyName("transform"),it=void 0,nt=void 0;if(nt="bottom"===Z?"HTML"===V.nodeName?-V.clientHeight+J.bottom:-W.height+J.bottom:J.top,it="right"===tt?"HTML"===V.nodeName?-V.clientWidth+J.right:-W.width+J.right:J.left,H&&et)z[et]="translate3d("+it+"px, "+nt+"px, 0)",z[Z]=0,z[tt]=0,z.willChange="transform";else{var st="bottom"===Z?-1:1,rt="right"===tt?-1:1;z[Z]=nt*st,z[tt]=it*rt,z.willChange=Z+", "+tt}var at={"x-placement":I.placement};return I.attributes=X({},at,I.attributes),I.styles=X({},z,I.styles),I.arrowStyles=X({},I.offsets.arrow,I.arrowStyles),I},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(I){return setStyles(I.instance.popper,I.styles),function setAttributes(I,N){Object.keys(N).forEach((function(R){!1!==N[R]?I.setAttribute(R,N[R]):I.removeAttribute(R)}))}(I.instance.popper,I.attributes),I.arrowElement&&Object.keys(I.arrowStyles).length&&setStyles(I.arrowElement,I.arrowStyles),I},onLoad:function applyStyleOnLoad(I,N,R,U,$){var B=getReferenceOffsets($,N,I,R.positionFixed),H=computeAutoPlacement(R.placement,B,N,I,R.modifiers.flip.boundariesElement,R.modifiers.flip.padding);return N.setAttribute("x-placement",H),setStyles(N,{position:R.positionFixed?"fixed":"absolute"}),R},gpuAcceleration:void 0}}},st=function(){function Popper(I,N){var R=this,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(R.update)},this.update=$(this.update.bind(this)),this.options=X({},Popper.Defaults,U),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=I&&I.jquery?I[0]:I,this.popper=N&&N.jquery?N[0]:N,this.options.modifiers={},Object.keys(X({},Popper.Defaults.modifiers,U.modifiers)).forEach((function(I){R.options.modifiers[I]=X({},Popper.Defaults.modifiers[I]||{},U.modifiers?U.modifiers[I]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(I){return X({name:I},R.options.modifiers[I])})).sort((function(I,N){return I.order-N.order})),this.modifiers.forEach((function(I){I.enabled&&isFunction(I.onLoad)&&I.onLoad(R.reference,R.popper,R.options,I,R.state)})),this.update();var B=this.options.eventsEnabled;B&&this.enableEventListeners(),this.state.eventsEnabled=B}return W(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();st.Utils=("undefined"!=typeof window?window:I).PopperUtils,st.placements=J,st.Defaults=nt,N.a=st}).call(this,R(16))},function(I,N,R){var U=R(41),$=R(78),B=R(27),H=R(42);I.exports=function _slicedToArray(I,N){return U(I)||$(I,N)||B(I,N)||H()},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R.r(N),R.d(N,"default",(function(){return nt}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=R(5),W=R.n(V),z=R(7),X=R.n(z),Q=R(2),J=R.n(Q),Z=R(6),tt=R.n(Z),et=R(8);function _callSuper(I,N,R){return N=J()(N),W()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],J()(I).constructor):N.apply(I,R))}var it=/([`¬\*\^£\$%=<>{}\[\]_…\/\\\|])/,nt=function(I){function ExcludedCharacters(I){var N;return $()(this,ExcludedCharacters),(N=_callSuper(this,ExcludedCharacters)).form=I,N.isValid=!0,N}return tt()(ExcludedCharacters,I),H()(ExcludedCharacters,[{key:"selectors",get:function get(){return{FORM:"form",FORM_GROUP:".form-group",TEXT_INPUT:'[type="text"], [type="search"]'}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid",FORM_PASSWORD:"form-password"}}},{key:"texts",get:function get(){return{MESSAGE:"Characters ` ¬ * ^ £ $ % = <> {}[] _ … / \\ | are not allowed."}}},{key:"initialize",value:function initialize(){X()(J()(ExcludedCharacters.prototype),"initialize",this).call(this)}},{key:"checkExcludedCharacters",value:function checkExcludedCharacters(){var I=this;this.isValid=!0;var N=this.form.querySelectorAll(this.selectors.TEXT_INPUT),R="",U="",$=null,B=null;return N.length>0&&N.forEach((function(N){var H,V=N.parentElement.classList.contains(I._classList.FORM_PASSWORD);if((R=N.value)&&!V&&(B=N.closest(I._selectors.FORM_GROUP),N.setAttribute("aria-invalid","false"),N.classList.remove(I._classList.IS_INVALID),B.classList.remove(I._classList.IS_INVALID),$=null===(H=B)||void 0===H?void 0:H.querySelector("[aria-describedby]"),new RegExp(it,"gm").test(R))){var W,z;N.setAttribute("aria-invalid","true"),N.classList.add(I._classList.IS_INVALID),B.classList.add(I._classList.IS_INVALID),U=I._texts.MESSAGE,N.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(U,"</div>")),I.isValid=!1;var X=null===(W=B)||void 0===W?void 0:W.querySelector(".message.error");null==X||X.setAttribute("id",null===(z=$)||void 0===z?void 0:z.getAttribute("aria-describedby"))}})),this.isValid}}]),ExcludedCharacters}(et.a)},function(I,N,R){"use strict";R.d(N,"a",(function(){return it}));var U=R(3),B=R.n(U),H=R(4),V=R.n(H),W=R(5),z=R.n(W),X=R(7),Q=R.n(X),J=R(2),Z=R.n(J),tt=R(6),et=R.n(tt);function _callSuper(I,N,R){return N=Z()(N),z()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],Z()(I).constructor):N.apply(I,R))}var it=function(I){function PasswordFormatValidation(I){var N;return B()(this,PasswordFormatValidation),(N=_callSuper(this,PasswordFormatValidation)).DESCRIBED_BY="new-password-rules",N.VALIDATION_RULES=[{regexp:"(?=.*[a-z])",message:"1 lowercase letter"},{regexp:"(?=.*[A-Z])",message:"1 uppercase letter"},{regexp:"(?=.*\\d)",message:"1 number"},{regexp:"(?=.*[^a-zA-Z0-9])",message:"1 special character"},{regexp:"^.{8,}$",message:"8 characters"}],N.form=I,N.invalid={passwordFormat:!0},N.passwordInputs=N.form.querySelectorAll(N._selectors.PASSWORD_INPUT_FORMAT_VALIDATE),N.passwordInputs.length>0&&N.initialize(),N}return et()(PasswordFormatValidation,I),V()(PasswordFormatValidation,[{key:"selectors",get:function get(){return{FORM:"form",INPUT:"input",PASSWORD_INPUT_FORMAT_VALIDATE:".js-format-validate",FORM_GROUP:".form-group",FORM_PASSWORD:".form-password",MESSAGE:".message",ERROR:".message.error",POPOVER_HEADER:".popover-header",POPOVER_BODY:".popover-body"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid",IS_VALID_ICON:"icon-check-circle-outline",IS_INVALID_ICON:"icon-info",IS_VALID_ICON_SMALL:"icon-check",IS_INVALID_ICON_SMALL:"icon-close",PASSWORD_POPOVER:"password-popover"}}},{key:"texts",get:function get(){return{IS_VALID:"valid",IS_INVALID:"invalid",MESSAGE_PREFIX:"Your password must contain at least:",MESSAGE_ERROR:"Your password does not meet the criteria."}}},{key:"initialize",value:function initialize(){Q()(Z()(PasswordFormatValidation.prototype),"initialize",this).call(this),this.control()}},{key:"control",value:function control(){var I=this;this.passwordInputs.forEach((function(N){N.addEventListener("input",I.onChangePassword.bind(I)),I.checkPasswordFormat(N)}),this)}},{key:"onChangePassword",value:function onChangePassword(I){this.checkPasswordFormat(I.target,!1)}},{key:"checkPasswordFormat",value:function checkPasswordFormat(){var I=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,R=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(N){this.invalid.passwordFormat=!1;var U=N.value,$="";this.VALIDATION_RULES.forEach((function(N){var R=!1,B=new RegExp(N.regexp,"gm");U&&(R=B.test(U));var H=R?I._classList.IS_VALID:I._classList.IS_INVALID,V=R?I._classList.IS_VALID_ICON_SMALL:I._classList.IS_INVALID_ICON_SMALL,W=R?I._texts.IS_VALID:I._texts.IS_INVALID;R||(I.invalid.passwordFormat=!0),$="".concat($,"<li class='").concat(H,"'><i class='").concat(V,"' aria-hidden='true'></i>").concat(N.message," <span class='sr-only'>").concat(W,"</span></li>")}));var B=this.invalid.passwordFormat?this._classList.IS_INVALID:this._classList.IS_VALID,H=this.invalid.passwordFormat?this._classList.IS_INVALID_ICON:this._classList.IS_VALID_ICON,V=this.invalid.passwordFormat?this._texts.MESSAGE_ERROR:"";return $="<div class='".concat(B,"'><i class='").concat(H,"' aria-hidden='true'></i><span class='sr-only'>").concat(V,"</span></div><p>").concat(this._texts.MESSAGE_PREFIX,"</p><ul class='rlist'>").concat($,"</ul>"),N&&this.showPopOver(N.parentElement,$,R),R&&this.validate(N,R),!this.invalid.passwordFormat}return!1}},{key:"showPopOver",value:function showPopOver(I,N,R){window.innerWidth;if(N){var U,B,H,V,W=$(I).popover("dispose").popover({html:!0,content:N,container:I.parentElement,trigger:"manual",placement:"right",fallbackPlacement:["left","right","bottom","right"],offset:"70px, 8px, 0"}).popover("show").data("bs.popover");null===(U=W.tip)||void 0===U||U.classList.add(this._classList.PASSWORD_POPOVER),null===(B=W.tip)||void 0===B||null===(H=B.querySelector(this._selectors.POPOVER_HEADER))||void 0===H||H.remove();var z=null===(V=W.tip)||void 0===V?void 0:V.querySelector(this._selectors.POPOVER_BODY);z.setAttribute("id",this.DESCRIBED_BY),Math.pow(this.invalid.passwordFormat,R)&&z.setAttribute("aria-live","polite")}}},{key:"validate",value:function validate(I){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setValid(I),this.invalid.passwordFormat&&this.setInValid(I,N)}},{key:"setValid",value:function setValid(I){var N;I.setAttribute("aria-invalid","false"),I.classList.remove(this._classList.IS_INVALID);var R=I.closest(this._selectors.FORM_GROUP);null==R||R.classList.remove(this._classList.IS_INVALID),null==R||null===(N=R.querySelector(this._selectors.ERROR))||void 0===N||N.remove()}},{key:"setInValid",value:function setInValid(I){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(I.classList.add(this._classList.IS_INVALID),I.setAttribute("aria-invalid","true"),N){var R=I.closest(this._selectors.FORM_GROUP),U=I.closest(this._selectors.FORM_PASSWORD),$=null==U?void 0:U.querySelector("[aria-describedby]");null==R||R.classList.add(this._classList.IS_INVALID),null==U||U.insertAdjacentHTML("beforebegin",'<div><div class="message error">'.concat(this._texts.MESSAGE_ERROR,"</div></div>"));var B=null==R?void 0:R.querySelector(".message.error");null==B||B.setAttribute("id",null==$?void 0:$.getAttribute("aria-describedby"))}}}]),PasswordFormatValidation}(R(8).a)},function(I,N,R){"use strict";R.d(N,"a",(function(){return et}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=R(5),W=R.n(V),z=R(7),X=R.n(z),Q=R(2),J=R.n(Q),Z=R(6),tt=R.n(Z);function _callSuper(I,N,R){return N=J()(N),W()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],J()(I).constructor):N.apply(I,R))}var et=function(I){function PasswordEqualityValidation(I){var N;return $()(this,PasswordEqualityValidation),(N=_callSuper(this,PasswordEqualityValidation)).ERROR_MESSAGE_TEMPLATE='<div><div class="message error">%message%</div></div>',N.form=I,N.passwordInputs=N.form.querySelectorAll(N._selectors.PASSWORD_INPUT),N.invalid={passwords:!1,passwordFormat:!1},N.passwordInputs.length>1&&N.initialize(),N}return tt()(PasswordEqualityValidation,I),H()(PasswordEqualityValidation,[{key:"selectors",get:function get(){return{FORM:"form",FORM_GROUP:".form-group",FORM_PASSWORD:".form-password",PASSWORD_INPUT:".js-equal-validate",ERROR_MESSAGE_EL:".message.error"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"texts",get:function get(){return{EMAILS_DONT_MATCH:"Passwords don't match."}}},{key:"initialize",value:function initialize(){X()(J()(PasswordEqualityValidation.prototype),"initialize",this).call(this),this.control()}},{key:"control",value:function control(){this.passwordInputs[1]&&(this.passwordInputs[1].addEventListener("focus",this.onChangePassword.bind(this)),this.passwordInputs[1].addEventListener("input",this.onChangePassword.bind(this)))}},{key:"onChangePassword",value:function onChangePassword(I){this.checkPasswordEquality(I.target)}},{key:"checkPasswordEquality",value:function checkPasswordEquality(){var I=Array.from(this.passwordInputs),N=I.reduce((function(I,N){return!!N.value&&I}),!0),R=!!I.reduce((function(I,N){return N.value===I.value&&I}));if(this.invalid.passwords=!1,I.length>1&&N){var U,$,B=this.passwordInputs[1].closest(this._selectors.FORM_GROUP),H=B.querySelector(this._selectors.FORM_PASSWORD),V=this.passwordInputs[1];if(V.setAttribute("aria-invalid","false"),V.classList.remove(this._classList.IS_INVALID),B.classList.remove(this._classList.IS_INVALID),null===(U=B.querySelector(this._selectors.ERROR_MESSAGE_EL))||void 0===U||U.remove(),$=null==B?void 0:B.querySelector("[aria-describedby]"),this.invalid.passwords=!1,!R){var W;B.classList.add(this._classList.IS_INVALID),this.passwordInputs[1].classList.add(this._classList.IS_INVALID),this.passwordInputs[1].setAttribute("aria-invalid","true"),null==H||H.insertAdjacentHTML("beforebegin",'<div><div class="message error">'.concat(this._texts.EMAILS_DONT_MATCH,"</div></div>")),this.invalid.passwords=!0;var z=null==B?void 0:B.querySelector(".message.error");null==z||z.setAttribute("id",null===(W=$)||void 0===W?void 0:W.getAttribute("aria-describedby"))}}return!this.invalid.passwords}}]),PasswordEqualityValidation}(R(8).a)},function(I,N){I.exports=function _assertThisInitialized(I){if(void 0===I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){var R,U,$=I.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(I){if(R===setTimeout)return setTimeout(I,0);if((R===defaultSetTimout||!R)&&setTimeout)return R=setTimeout,setTimeout(I,0);try{return R(I,0)}catch(N){try{return R.call(null,I,0)}catch(N){return R.call(this,I,0)}}}!function(){try{R="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(I){R=defaultSetTimout}try{U="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(I){U=defaultClearTimeout}}();var B,H=[],V=!1,W=-1;function cleanUpNextTick(){V&&B&&(V=!1,B.length?H=B.concat(H):W=-1,H.length&&drainQueue())}function drainQueue(){if(!V){var I=runTimeout(cleanUpNextTick);V=!0;for(var N=H.length;N;){for(B=H,H=[];++W<N;)B&&B[W].run();W=-1,N=H.length}B=null,V=!1,function runClearTimeout(I){if(U===clearTimeout)return clearTimeout(I);if((U===defaultClearTimeout||!U)&&clearTimeout)return U=clearTimeout,clearTimeout(I);try{return U(I)}catch(N){try{return U.call(null,I)}catch(N){return U.call(this,I)}}}(I)}}function Item(I,N){this.fun=I,this.array=N}function noop(){}$.nextTick=function(I){var N=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)N[R-1]=arguments[R];H.push(new Item(I,N)),1!==H.length||V||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=noop,$.addListener=noop,$.once=noop,$.off=noop,$.removeListener=noop,$.removeAllListeners=noop,$.emit=noop,$.prependListener=noop,$.prependOnceListener=noop,$.listeners=function(I){return[]},$.binding=function(I){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(I){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(I,N,R){"use strict";R.r(N),R.d(N,"CSL",(function(){return et}));var U=R(1),$=R.n(U);function _createForOfIteratorHelper(I,N){var R="undefined"!=typeof Symbol&&I[Symbol.iterator]||I["@@iterator"];if(!R){if(Array.isArray(I)||(R=function _unsupportedIterableToArray(I,N){if(!I)return;if("string"==typeof I)return _arrayLikeToArray(I,N);var R=Object.prototype.toString.call(I).slice(8,-1);"Object"===R&&I.constructor&&(R=I.constructor.name);if("Map"===R||"Set"===R)return Array.from(I);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return _arrayLikeToArray(I,N)}(I))||N&&I&&"number"==typeof I.length){R&&(I=R);var U=0,$=function F(){};return{s:$,n:function n(){return U>=I.length?{done:!0}:{done:!1,value:I[U++]}},e:function e(I){throw I},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,H=!0,V=!1;return{s:function s(){R=R.call(I)},n:function n(){var I=R.next();return H=I.done,I},e:function e(I){V=!0,B=I},f:function f(){try{H||null==R.return||R.return()}finally{if(V)throw B}}}}function _arrayLikeToArray(I,N){(null==N||N>I.length)&&(N=I.length);for(var R=0,U=new Array(N);R<N;R++)U[R]=I[R];return U}var B,H,V,W,z,X,Q,J,Z,tt,et={PROCESSOR_VERSION:"1.4.61",error:function error(I){throw"undefined"==typeof Error?new Error("citeproc-js error: "+I):"citeproc-js error: "+I},debug:function debug(I){"undefined"==typeof console?dump("CSL: "+I+"\n"):console.log("citeproc-js warning: "+I)},toLocaleUpperCase:function toLocaleUpperCase(I){var N=this.tmp.lang_array;try{I=I.toLocaleUpperCase(N)}catch(N){I=I.toUpperCase()}return I},toLocaleLowerCase:function toLocaleLowerCase(I){var N=this.tmp.lang_array;try{I=I.toLocaleLowerCase(N)}catch(N){I=I.toLowerCase()}return I},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","div.":"division","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",division:"div.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",div:"division",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function checkNestedBrace(I){"note"===I.opt.xclass?(this.depth=0,this.update=function(I){for(var N=(I=I||"").split(/([\(\)])/),R=1,U=N.length;R<U;R+=2)"("===N[R]?(1==this.depth%2&&(N[R]="["),this.depth+=1):")"===N[R]&&(0==this.depth%2&&(N[R]="]"),this.depth-=1);return N.join("")}):this.update=function(I){return I}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function AbbreviationSegments(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function getAbbrevsDomain(I,N,R){var U=null;if(I.opt.availableAbbrevDomains&&N&&"default"!==N){var $=I.locale[I.opt.lang].opts["jurisdiction-preference"],B=null;if(I.locale[R]&&(B=I.locale[R].opts["jurisdiction-preference"]),B)for(var H=B.length-1;H>-1;H--)if(I.opt.availableAbbrevDomains[N].indexOf(B[H])>-1){U=B[H];break}if(!U&&$)for(H=$.length-1;H>-1;H--)if(I.opt.availableAbbrevDomains[N].indexOf($[H])>-1){U=$[H];break}}return U},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function parseLocator(I){if(this.opt.development_extensions.locator_date_and_revision&&I.locator){I.locator=""+I.locator;var N=I.locator.indexOf("|");if(N>-1){var R=I.locator;I.locator=R.slice(0,N);var U=(R=R.slice(N+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);U&&(I["locator-date"]=this.fun.dateparser.parseDateToObject(U[1]),R=R.slice(U[1].length)),I["locator-extra"]=R.replace(/^\s+/,"").replace(/\s+$/,"")}}return I.locator&&(I.locator=(""+I.locator).replace(/\s+$/,"")),I},normalizeLocaleStr:function normalizeLocaleStr(I){if(I){var N=I.split("-");return N[0]=N[0].toLowerCase(),N[1]&&(N[1]=N[1].toUpperCase()),N.join("-")}},parseNoteFieldHacks:function parseNoteFieldHacks(I,N,R){if("string"==typeof I.note){for(var U=[],$=I.note.split("\n"),B=0,H=$.length;B<H;B++){U=[];var V=(Z=$[B]).match(et.NOTE_FIELDS_REGEXP);if(V){for(var W=Z.split(et.NOTE_FIELDS_REGEXP),z=0,X=W.length-1;z<X;z++)U.push(W[z]),U.push(V[z]);U.push(W[W.length-1]);for(z=1,X=U.length;z<X&&(!U[z-1].trim()||!(B>0||z>1)||U[z-1].match(et.NOTE_FIELD_REGEXP));z+=2)U[z]="\n"+U[z].slice(2,-1).trim()+"\n";$[B]=U.join("")}}var Q=0,J={};for(B=0,H=($=$.join("\n").split("\n")).length;B<H;B++){var Z,tt=(Z=$[B]).match(et.NOTE_FIELD_REGEXP);if(Z.trim()){if(!tt){if(0===B)continue;Q=B;break}var it=tt[1],nt=tt[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===it)I.type=nt,$[B]="";else if(et.DATE_VARIABLES.indexOf(it.replace(/^alt-/,""))>-1)I[it]&&!R||(I[it]=et.DateParser.parseDateToArray(nt),(!N||N[it]&&this.isDateString(nt))&&($[B]=""));else if(!I[it]){if(et.NAME_VARIABLES.indexOf(it.replace(/^alt-/,""))>-1){J[it]||(J[it]=[]);var st=nt.split(/\s*\|\|\s*/);if(1===st.length)J[it].push({literal:st[0]});else if(2===st.length){var rt={family:st[0],given:st[1]};et.parseParticles(rt),J[it].push(rt)}}else I[it]=nt;N&&!N[it]||($[B]="")}}}for(var it in J)I[it]=J[it];if(N){$[Q].trim()&&($[Q]="\n"+$[Q]);for(B=Q-1;B>-1;B--)$[B].trim()||($=$.slice(0,B).concat($.slice(B+1)))}I.note=$.join("\n").trim()}},checkPrefixSpaceAppend:function checkPrefixSpaceAppend(I,N){N||(N="");var R="",U=N.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),$=U.slice(-1);return(U.match(et.ENDSWITH_ROMANESQUE_REGEXP)||et.TERMINAL_PUNCTUATION.slice(0,-1).indexOf($)>-1||$.match(/[\)\],0-9]/))&&(R=" "),N=(N+R).replace(/\s+/g," ")},checkIgnorePredecessor:function checkIgnorePredecessor(I,N){var R=N.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return et.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(R)>-1&&N.trim().indexOf(" ")>-1&&(I.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function checkSuffixSpacePrepend(I,N){return N?((N.match(et.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(N.slice(0,1))>-1)&&(N=" "+N),N):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator","commenter"],CREATORS:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function TITLE_FIELD_SPLITS(I){for(var N=["title","short","main","sub","subjoin"],R={},U=0,$=N.length;U<$;U++)R[N[U]]=I+"title"+("title"===N[U]?"":"-"+N[U]);return R},demoteNoiseWords:function demoteNoiseWords(I,N,R){var U=I.locale[I.opt.lang].opts["leading-noise-words"];if(N&&R){(N=N.split(/\s+/)).reverse();for(var $=[],B=N.length-1;B>-1&&U.indexOf(N[B].toLowerCase())>-1;B+=-1)$.push(N.pop());N.reverse();var H=N.join(" "),V=$.join(" ");"drop"!==R&&V?"demote"===R&&(N=[H,V].join(", ")):N=H}return N},extractTitleAndSubtitle:function extractTitleAndSubtitle(I,N){var R=N?" ":"",U=[""];this.opt.development_extensions.split_container_title&&U.push("container-");for(var $=0,B=U.length;$<B;$++){var H=U[$],V=et.TITLE_FIELD_SPLITS(H),W=[!1];if(I.multi)for(var z in I.multi._keys[V.short])W.push(z);for(var X=0,Q=W.length;X<Q;X++){var J={};(z=W[X])?(I.multi._keys[V.title]&&(J[V.title]=I.multi._keys[V.title][z]),I.multi._keys[V.short]&&(J[V.short]=I.multi._keys[V.short][z])):(J[V.title]=I[V.title],J[V.short]=I[V.short]),J[V.main]=J[V.title],J[V.sub]=!1;var Z=J[V.short];if(J[V.title]){if(Z&&Z.toLowerCase()===J[V.title].toLowerCase())J[V.main]=J[V.title],J[V.subjoin]="",J[V.sub]="";else if(Z){var tt=J[V.title].slice(Z.replace(/[\?\!]+$/,"").length),it=J[V.title].replace(tt.replace(/^[\?\!]+/,""),"").trim();if((rt=et.TITLE_SPLIT_REGEXP.matchfirst.exec(tt))&&it.toLowerCase()===Z.toLowerCase())J[V.main]=it,J[V.subjoin]=rt[1].replace(/[\?\!]+(\s*)$/,"$1"),J[V.sub]=tt.replace(et.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(J[V.short]=J[V.main]);else 3==(nt=et.TITLE_SPLIT(J[V.title])).length?(J[V.main]=nt[0],J[V.subjoin]=nt[1],J[V.sub]=nt[2]):(J[V.main]=J[V.title],J[V.subjoin]="",J[V.sub]="")}else{var nt;if(3==(nt=et.TITLE_SPLIT(J[V.title])).length){if(J[V.main]=nt[0],J[V.subjoin]=nt[1],J[V.sub]=nt[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==I.type&&!I[V.short]&&!J[V.main].match(/^[\-\.[0-9]+$/)){var st=J[V.subjoin].trim();-1===["?","!"].indexOf(st)&&(st=""),J[V.short]=J[V.main]+st}}else J[V.main]=J[V.title],J[V.subjoin]="",J[V.sub]=""}if(J[V.subjoin]&&J[V.subjoin].match(/([\?\!])/)){var rt=J[V.subjoin].match(/(\s*)$/);J[V.main]=J[V.main]+R+J[V.subjoin].trim(),J[V.subjoin]=rt[1]}}if(J[V.subjoin]&&(J[V.subjoin].indexOf(":")>-1&&(J[V.subjoin]=R+": "),(J[V.subjoin].indexOf("-")>-1||J[V.subjoin].indexOf("—")>-1)&&(J[V.subjoin]="—")),z)for(var at in J)I.multi._keys[at]||(I.multi._keys[at]={}),I.multi._keys[at][z]=J[at];else for(var at in J)I[at]=J[at]}}},titlecaseSentenceOrNormal:function titlecaseSentenceOrNormal(I,N,R,U,$){var B=et.TITLE_FIELD_SPLITS(R),H={};if(U&&N.multi?(N.multi._keys[B.title]&&(H[B.title]=N.multi._keys[B.title][U]),N.multi._keys[B.main]&&(H[B.main]=N.multi._keys[B.main][U]),N.multi._keys[B.sub]&&(H[B.sub]=N.multi._keys[B.sub][U]),N.multi._keys[B.subjoin]&&(H[B.subjoin]=N.multi._keys[B.subjoin][U])):(H[B.title]=N[B.title],H[B.main]=N[B.main],H[B.sub]=N[B.sub],H[B.subjoin]=N[B.subjoin]),H[B.main]&&H[B.sub]){var V=H[B.main],W=H[B.subjoin],z=H[B.sub];return $?(V=et.Output.Formatters.sentence(I,V),z=et.Output.Formatters.sentence(I,z)):I.opt.development_extensions.uppercase_subtitles&&(z=et.Output.Formatters["capitalize-first"](I,z)),[V,W,z].join("")}if(H[B.title]){if($)return et.Output.Formatters.sentence(I,H[B.title]);if(I.opt.development_extensions.uppercase_subtitles){for(var X=et.TITLE_SPLIT(H[B.title]),Q=0,J=X.length;Q<J;Q+=2)X[Q]=et.Output.Formatters["capitalize-first"](I,X[Q]);for(Q=1,J=X.length-1;Q<J;Q+=2){var Z=X[Q].match(/([:\?\!] )/);if(Z){var tt="fr"===I.opt["default-locale"][0].slice(0,2).toLowerCase()?" ":"";X[Q]=tt+Z[1]}(X[Q].indexOf("-")>-1||X[Q].indexOf("—")>-1)&&(X[Q]="—")}return H[B.title]=X.join(""),H[B.title]}return H[B.title]}return""},getSafeEscape:function getSafeEscape(I){if(["bibliography","citation"].indexOf(I.tmp.area)>-1){var N=[];return I.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===I.opt.mode&&N.push((function(I){return I.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')})),N.length?function(R){for(var U=0,$=N.length;U<$;U+=1)R=N[U](R);return et.Output.Formats[I.opt.mode].text_escape(R)}:et.Output.Formats[I.opt.mode].text_escape}return function(I){return I}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"ª":"a","²":"2","³":"3","¹":"1","º":"o","ʰ":"h","ʱ":"ɦ","ʲ":"j","ʳ":"r","ʴ":"ɹ","ʵ":"ɻ","ʶ":"ʁ","ʷ":"w","ʸ":"y","ˠ":"ɣ","ˡ":"l","ˢ":"s","ˣ":"x","ˤ":"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")","ⁿ":"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人","ˀ":"ʔ","ˁ":"ʕ","ۥ":"و","ۦ":"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function UPDATE_GROUP_CONTEXT_CONDITION(I,N,R,U,$){if(I.opt.use_context_condition){var B=I.tmp.group_context.tip;B.condition?(B.condition.termtxt||(B.condition.termtxt=N,B.condition.valueTerm=R),B.value_seen||"comma-safe-numbers-only"!==B.condition.test||$&&(B.value_seen=!0,$.match(/^[0-9]/)||(I.tmp.just_did_number=!1))):U&&U.decorations.filter((function(I){return"@vertical-align"===I[0]})).length>0||U&&U.strings.suffix?I.tmp.just_did_number=!1:N&&(N.match(/[0-9]$/)?I.tmp.just_did_number=!0:I.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function EVALUATE_GROUP_CONDITION(I,N){if(I.opt.use_context_condition){var R,U="comma-safe-numbers-only"===N.condition.test;if("empty-label"===N.condition.test)R=!N.condition.termtxt;else if("empty-label-no-decor"===N.condition.test)R=!N.condition.termtxt||N.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(N.condition.test)>-1){var $=N.condition.termtxt,B=!1;N.condition.termtxt&&(B=N.condition.termtxt.slice(0,1).match(et.ALL_ROMANESQUE_REGEXP)),R=I.tmp.just_did_number?N.condition.valueTerm?!U:!$||(B?!U:["always","after-number"].indexOf(I.opt.require_comma_on_symbol)>-1):!N.condition.valueTerm&&(!!$&&(B?!U:"always"===I.opt.require_comma_on_symbol))}if(R)var H=!1;else H=!0;return N.condition.not&&(H=!H),H}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:(B=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*—\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+B.join("|")+")","g"),matchfirst:new RegExp("^("+B.join("|")+")"),split:new RegExp("(?:"+B.join("|")+")")}),TITLE_SPLIT:function TITLE_SPLIT(I){if(!I)return I;for(var N=I.match(et.TITLE_SPLIT_REGEXP.match),R=I.split(et.TITLE_SPLIT_REGEXP.split),U=R.length-2;U>-1;U--)R[U]=R[U].trim(),R[U]&&R[U].slice(-1).toLowerCase()!==R[U].slice(-1)?(R[U]=R[U]+N[U]+R[U+1],R=R.slice(0,U+1).concat(R.slice(U+2))):R=R.slice(0,U+1).concat([N[U]]).concat(R.slice(U+1));return R},GET_COURT_CLASS:function GET_COURT_CLASS(I,N,R){var U="",$=null,B=N.jurisdiction?N.jurisdiction.split(":")[0]:null,H="court_condition_classes";return R&&(H="court_key_classes"),B&&N.authority&&("string"==typeof N.authority?$=N.authority:N.authority[0]&&N.authority[0].literal&&($=N.authority[0].literal)),$&&(this.lang&&I.locale[this.lang].opts[H]&&I.locale[this.lang].opts[H][B]&&I.locale[this.lang].opts[H][B][$]?U=I.locale[this.lang].opts[H][B][$]:I.locale[I.opt["default-locale"][0]].opts[H]&&I.locale[I.opt["default-locale"][0]].opts[H][B]&&I.locale[I.opt["default-locale"][0]].opts[H][B][$]&&(U=I.locale[I.opt["default-locale"][0]].opts[H][B][$])),U},SET_COURT_CLASSES:function SET_COURT_CLASSES(I,N,R,U){for(var $=R.getNodesByName(U,"court-class"),B=0,H=R.numberofnodes($);B<H;B+=1){var V=$[B],W=R.attributes(V),z=W["@name"],X=W["@country"],Q=W["@courts"],J="court_key_classes";if(I.registry&&(J="court_condition_classes"),z&&X&&Q){Q=Q.trim().split(/\s+/),I.locale[N].opts[J]||(I.locale[N].opts[J]={}),I.locale[N].opts[J][X]||(I.locale[N].opts[J][X]={});for(var Z=0,tt=Q.length;Z<tt;Z++)I.locale[N].opts[J][X][Q[Z]]=z}}},INIT_JURISDICTION_MACROS:function INIT_JURISDICTION_MACROS(I,N,R,U){if(!I.sys.retrieveStyleModule||!et.MODULE_MACROS[U]||!N.jurisdiction)return!1;var $=I.getJurisdictionList(N.jurisdiction);if(!I.opt.jurisdictions_seen[$[0]]){var B=I.retrieveAllStyleModules($);for(var H in B){var V=I.loadStyleModule(H,B[H]);V&&(B[V]||(Object.assign(B,I.retrieveAllStyleModules([V])),I.loadStyleModule(V,B[V],!0)))}}I.opt.parallel.enable&&(I.parallel||(I.parallel=new et.Parallel(I)));for(var W=0,z=$.length;W<z;W++){H=$[W];if(R&&I.juris[H]&&!R["best-jurisdiction"]&&I.juris[H].types.locator&&(R["best-jurisdiction"]=H),I.juris[H]&&I.juris[H].types[N.type])return N["best-jurisdiction"]=H,!0}return!1}};et.XmlJSON=function(I){this.dataObj=I,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},et.XmlJSON.prototype.clean=function(I){return I},et.XmlJSON.prototype.getStyleId=function(I,N){var R="id";N&&(R="title");for(var U="",$=I.children,B=0,H=$.length;B<H;B++)if("info"===$[B].name)for(var V=$[B].children,W=0,z=V.length;W<z;W++)V[W].name===R&&(U=V[W].children[0]);return U},et.XmlJSON.prototype.children=function(I){return!(!I||!I.children.length)&&I.children.slice()},et.XmlJSON.prototype.nodename=function(I){return I?I.name:null},et.XmlJSON.prototype.attributes=function(I){var N={};for(var R in I.attrs)N["@"+R]=I.attrs[R];return N},et.XmlJSON.prototype.content=function(I){var N="";if(!I||!I.children)return N;for(var R=0,U=I.children.length;R<U;R+=1)"string"==typeof I.children[R]&&(N+=I.children[R]);return N},et.XmlJSON.prototype.namespace={},et.XmlJSON.prototype.numberofnodes=function(I){return I&&"number"==typeof I.length?I.length:0},et.XmlJSON.prototype.getAttributeValue=function(I,N,R){var U="";return R&&(N=R+":"+N),I&&I.attrs&&(U=I.attrs[N]?I.attrs[N]:""),U},et.XmlJSON.prototype.getNodeValue=function(I,N){var R="";if(N)for(var U=0,$=I.children.length;U<$;U+=1)I.children[U].name===N&&(R=I.children[U].children.length?I.children[U]:"");else I&&(R=I);return R&&R.children&&1==R.children.length&&"string"==typeof R.children[0]&&(R=R.children[0]),R},et.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(I,N,R,U,$){"@"===U.slice(0,1)&&(U=U.slice(1));for(var B=0,H=I.children.length;B<H;B+=1)I.children[B].name===N&&I.children[B].attrs.name===R&&(I.children[B].attrs[U]=$)},et.XmlJSON.prototype.deleteNodeByNameAttribute=function(I,N){var R,U;for(R=0,U=I.children.length;R<U;R+=1)I.children[R]&&"string"!=typeof I.children[R]&&I.children[R].attrs.name==N&&(I.children=I.children.slice(0,R).concat(I.children.slice(R+1)))},et.XmlJSON.prototype.deleteAttribute=function(I,N){void 0!==I.attrs[N]&&I.attrs.pop(N)},et.XmlJSON.prototype.setAttribute=function(I,N,R){return I.attrs[N]=R,!1},et.XmlJSON.prototype.nodeCopy=function(I,N){if(!N)N={};if("object"===$()(N)&&void 0===N.length)for(var R in I)"string"==typeof I[R]?N[R]=I[R]:"object"===$()(I[R])&&(void 0===I[R].length?N[R]=this.nodeCopy(I[R],{}):N[R]=this.nodeCopy(I[R],[]));else for(var U=0,B=I.length;U<B;U+=1)"string"==typeof I[U]?N[U]=I[U]:N[U]=this.nodeCopy(I[U],{});return N},et.XmlJSON.prototype.getNodesByName=function(I,N,R,U){if(!U)U=[];if(!I||!I.children)return U;N===I.name&&(R?R===I.attrs.name&&U.push(I):U.push(I));for(var B=0,H=I.children.length;B<H;B+=1)"object"===$()(I.children[B])&&this.getNodesByName(I.children[B],N,R,U);return U},et.XmlJSON.prototype.nodeNameIs=function(I,N){return void 0!==I&&N==I.name},et.XmlJSON.prototype.makeXml=function(I){return"string"==typeof I&&(I="<"===I.slice(0,1)?this.jsonStringWalker.walkToObject(I):JSON.parse(I)),I},et.XmlJSON.prototype.insertChildNodeAfter=function(I,N,R,U){for(var $=0,B=I.children.length;$<B;$+=1)if(N===I.children[$]){I.children=I.children.slice(0,$).concat([U]).concat(I.children.slice($+1));break}return I},et.XmlJSON.prototype.insertPublisherAndPlace=function(I){if("group"===I.name){for(var N=!0,R=["publisher","publisher-place"],U=0,B=I.children.length;U<B;U+=1){var H=R.indexOf(I.children[U].attrs.variable);if(!("text"===I.children[U].name&&H>-1)||I.children[U].attrs.prefix||I.children[U].attrs.suffix){N=!1;break}R=R.slice(0,H).concat(R.slice(H+1))}N&&!R.length&&(I.attrs["has-publisher-and-publisher-place"]=!0)}for(U=0,B=I.children.length;U<B;U+=1)"object"===$()(I.children[U])&&this.insertPublisherAndPlace(I.children[U])},et.XmlJSON.prototype.isChildOfSubstitute=function(I){if(I.length>0){var N=I.slice();return"substitute"===N.pop()||this.isChildOfSubstitute(N)}return!1},et.XmlJSON.prototype.addMissingNameNodes=function(I,N){if(N||(N=[]),"names"===I.name&&!this.isChildOfSubstitute(N)){for(var R=!0,U=0,B=I.children.length;U<B;U++)if("name"===I.children[U].name){R=!1;break}R&&(I.children=[{name:"name",attrs:{},children:[]}].concat(I.children))}N.push(I.name);for(U=0,B=I.children.length;U<B;U+=1)"object"===$()(I.children[U])&&this.addMissingNameNodes(I.children[U],N);N.pop()},et.XmlJSON.prototype.addInstitutionNodes=function(I){if("names"===I.name){for(var N={},R=-1,U=0,$=I.children.length;U<$;U+=1){if("name"==I.children[U].name){for(var B in I.children[U].attrs)N[B]=I.children[U].attrs[B];N.delimiter=I.children[U].attrs.delimiter,N.and=I.children[U].attrs.and,R=U;for(var H=0,V=I.children[U].children.length;H<V;H+=1)if("family"===I.children[U].children[H].attrs.name)for(var B in I.children[U].children[H].attrs)N[B]=I.children[U].children[H].attrs[B]}if("institution"==I.children[U].name){R=-1;break}}if(R>-1){var W=this.nodeCopy(this.institution);for(U=0,$=et.INSTITUTION_KEYS.length;U<$;U+=1){var z=et.INSTITUTION_KEYS[U];void 0!==N[z]&&(W.children[0].attrs[z]=N[z]),N.delimiter&&(W.attrs.delimiter=N.delimiter),N.and&&(W.attrs.and=N.and)}I.children=I.children.slice(0,R+1).concat([W]).concat(I.children.slice(R+1))}}for(U=0,$=I.children.length;U<$;U+=1)"string"!=typeof I.children[U]&&this.addInstitutionNodes(I.children[U])},et.XmlJSON.prototype.flagDateMacros=function(I){for(var N=0,R=I.children.length;N<R;N+=1)"macro"===I.children[N].name&&this.inspectDateMacros(I.children[N])&&(I.children[N].attrs["macro-has-date"]="true")},et.XmlJSON.prototype.inspectDateMacros=function(I){if(!I||!I.children)return!1;if("date"===I.name)return!0;for(var N=0,R=I.children.length;N<R;N+=1)if(this.inspectDateMacros(I.children[N]))return!0;return!1},et.stripXmlProcessingInstruction=function(I){return I?I=(I=(I=(I=I.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):I},et.parseXml=function(I){var N={children:[]},R=[N.children];function _decodeHtmlEntities(I){return I.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,(function(I,N){var R=parseInt(N,10);return String.fromCharCode(R)})).replace(/&#x([a-f0-9]{1,6});/gi,(function(I,N){var R=parseInt(N,16);return String.fromCharCode(R)}))}function _getAttribute(I,N){var R=RegExp("^.*[\t ]+"+N+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),U=I.match(R);return U?U[1].slice(1,-1):null}function _getTagName(I){var N=RegExp("^<([^\t />]+)"),R=I.match(N);return R?R[1]:null}function _castObjectFromOpeningTag(I){var N={};N.name=_getTagName(I),N.attrs={};var R=function _getAttributes(I){var N=I.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(N)for(var R=0,U=N.length;R<U;R++)N[R]=N[R].replace(/=.*/,"");return N}(I);if(R)for(var U=0,$=R.length;U<$;U++){var B={name:R[U],value:_getAttribute(I,R[U])};N.attrs[B.name]=_decodeHtmlEntities(B.value)}return N.children=[],N}function _extractTextFromCompositeElement(I){return _decodeHtmlEntities(I.match(/^.*>([^<]*)<.*$/)[1])}function _appendToChildren(I){R.slice(-1)[0].push(I)}function processElement(I){var N;I.slice(1).indexOf("<")>-1?((N=_castObjectFromOpeningTag(I.slice(0,I.indexOf(">")+1))).children=[_extractTextFromCompositeElement(I)],_appendToChildren(N)):"/>"===I.slice(-2)?(N=_castObjectFromOpeningTag(I),"term"===_getTagName(I)&&N.children.push(""),_appendToChildren(N)):"</"===I.slice(0,2)?R.pop():(_appendToChildren(N=_castObjectFromOpeningTag(I)),function _extendStackWithNewChildren(I){R.push(I.children)}(N))}for(var U=function _listifyString(I){for(var N=(I=I.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),R=null,U=0,$=N.length;U<$;U++)U>0&&(N[U]="<"+N[U]),U<N.length-1&&(N[U]=N[U]+">"),"number"!=typeof R&&("<style "!==N[U].slice(0,7)&&"<locale "!=N[U].slice(0,8)||(R=U));for(U=(N=N.slice(R)).length-2;U>-1;U--)if(-1===N[U].slice(1).indexOf("<")){var B=N[U].slice(0,5);"/>"!==N[U].slice(-2)&&("<term"===B?"</term"===N[U+1].slice(0,6)&&(N[U]=N[U]+N[U+1],N=N.slice(0,U+1).concat(N.slice(U+2))):["<sing","<mult"].indexOf(B)>-1&&"/>"!==N[U].slice(-2)&&"<"===N[U+1].slice(0,1)&&(N[U]=N[U]+N[U+1],N=N.slice(0,U+1).concat(N.slice(U+2))))}return N}(I),$=0,B=U.length;$<B;$++){processElement(U[$])}return N.children[0]},et.XmlDOM=function(I){this.dataObj=I,"undefined"==typeof DOMParser?(DOMParser=function DOMParser(){},DOMParser.prototype.parseFromString=function(I,N){var R;return"undefined"!=typeof ActiveXObject?((R=new ActiveXObject("MSXML.DomDocument")).async=!1,R.loadXML(I),R):"undefined"!=typeof XMLHttpRequest?(N||(N="text/xml"),(R=new XMLHttpRequest).open("GET","data:"+N+";charset=utf-8,"+encodeURIComponent(I),!1),R.overrideMimeType&&R.overrideMimeType(N),R.send(null),R.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(I):void 0},this.hasAttributes=function(I){return!(!I.attributes||!I.attributes.length)}):this.hasAttributes=function(I){return!(!I.attributes||!I.attributes.length)},this.importNode=function(I,N){return void 0===I.importNode?this._importNode(I,N,!0):I.importNode(N,!0)},this._importNode=function(I,N,R){switch(N.nodeType){case 1:var U=I.createElement(N.nodeName);if(N.attributes&&N.attributes.length>0)for(var $=0,B=N.attributes.length;$<B;)U.setAttribute(N.attributes[$].nodeName,N.getAttribute(N.attributes[$++].nodeName));if(R&&N.childNodes&&N.childNodes.length>0)for($=0,B=N.childNodes.length;$<B;)U.appendChild(this._importNode(I,N.childNodes[$++],R));return U}},this.parser=new DOMParser;var N=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),R=N.getElementsByTagName("institution");this.institution=R.item(0);var U=N.getElementsByTagName("institution-part");this.institutionpart=U.item(0),this.ns="http://purl.org/net/xbiblio/csl"},et.XmlDOM.prototype.clean=function(I){return I=(I=(I=(I=(I=I.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},et.XmlDOM.prototype.getStyleId=function(I,N){var R="",U="id";N&&(U="title");var $=I.getElementsByTagName(U);return $&&$.length&&($=$.item(0)),$&&(R=$.textContent),R||(R=$.innerText),R||(R=$.innerHTML),R},et.XmlDOM.prototype.children=function(I){var N,R,U,$;if(I){for($=[],R=0,U=(N=I.childNodes).length;R<U;R+=1)"#text"!=N[R].nodeName&&$.push(N[R]);return $}return[]},et.XmlDOM.prototype.nodename=function(I){return I.nodeName},et.XmlDOM.prototype.attributes=function(I){var N,R,U,$,B;if(N=new Object,I&&this.hasAttributes(I))for($=0,B=(R=I.attributes).length;$<B;$+=1)N["@"+(U=R[$]).name]=U.value;return N},et.XmlDOM.prototype.content=function(I){return void 0!==I.textContent?I.textContent:void 0!==I.innerText?I.innerText:I.txt},et.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},et.XmlDOM.prototype.numberofnodes=function(I){return I?I.length:0},et.XmlDOM.prototype.getAttributeName=function(I){return I.name},et.XmlDOM.prototype.getAttributeValue=function(I,N,R){var U="";return R&&(N=R+":"+N),I&&this.hasAttributes(I)&&I.getAttribute(N)&&(U=I.getAttribute(N)),U},et.XmlDOM.prototype.getNodeValue=function(I,N){var R=null;if(N){var U=I.getElementsByTagName(N);U.length>0&&(R=void 0!==U[0].textContent?U[0].textContent:void 0!==U[0].innerText?U[0].innerText:U[0].text)}return null===R&&I&&I.childNodes&&(0==I.childNodes.length||1==I.childNodes.length&&"#text"==I.firstChild.nodeName)&&(R=void 0!==I.textContent?I.textContent:void 0!==I.innerText?I.innerText:I.text),null===R&&(R=I),R},et.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(I,N,R,U,$){var B,H,V,W;for("@"===U.slice(0,1)&&(U=U.slice(1)),B=0,H=(V=I.getElementsByTagName(N)).length;B<H;B+=1)(W=V[B]).getAttribute("name")==R&&W.setAttribute(U,$)},et.XmlDOM.prototype.deleteNodeByNameAttribute=function(I,N){var R,U,$,B;for(R=0,U=(B=I.childNodes).length;R<U;R+=1)($=B[R])&&$.nodeType!=$.TEXT_NODE&&this.hasAttributes($)&&$.getAttribute("name")==N&&I.removeChild(B[R])},et.XmlDOM.prototype.deleteAttribute=function(I,N){I.removeAttribute(N)},et.XmlDOM.prototype.setAttribute=function(I,N,R){return I.ownerDocument||(I=I.firstChild),["function","unknown"].indexOf($()(I.setAttribute))>-1&&I.setAttribute(N,R),!1},et.XmlDOM.prototype.nodeCopy=function(I){return I.cloneNode(!0)},et.XmlDOM.prototype.getNodesByName=function(I,N,R){var U,$,B,H,V;for(U=[],H=0,V=($=I.getElementsByTagName(N)).length;H<V;H+=1)B=$.item(H),(!R||this.hasAttributes(B)&&B.getAttribute("name")==R)&&U.push(B);return U},et.XmlDOM.prototype.nodeNameIs=function(I,N){return N==I.nodeName},et.XmlDOM.prototype.makeXml=function(I){return I||(I="<docco><bogus/></docco>"),I=I.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(I,"application/xml").firstChild},et.XmlDOM.prototype.insertChildNodeAfter=function(I,N,R,U){var $;return $=this.importNode(N.ownerDocument,U),I.replaceChild($,N),I},et.XmlDOM.prototype.insertPublisherAndPlace=function(I){for(var N=I.getElementsByTagName("group"),R=0,U=N.length;R<U;R+=1){for(var $=N.item(R),B=[],H=0,V=$.childNodes.length;H<V;H+=1)1!==$.childNodes.item(H).nodeType&&B.push(H);if($.childNodes.length-B.length==2){var W=[];for(H=0,V=2;H<V;H+=1)if(!(B.indexOf(H)>-1)){for(var z=$.childNodes.item(H),X=[],Q=0,J=z.childNodes.length;Q<J;Q+=1)1!==z.childNodes.item(Q).nodeType&&X.push(Q);if(z.childNodes.length-X.length==0&&(W.push(z.getAttribute("variable")),z.getAttribute("suffix")||z.getAttribute("prefix"))){W=[];break}}W.indexOf("publisher")>-1&&W.indexOf("publisher-place")>-1&&$.setAttribute("has-publisher-and-publisher-place",!0)}}},et.XmlDOM.prototype.isChildOfSubstitute=function(I){return!!I.parentNode&&("substitute"===I.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(I.parentNode))},et.XmlDOM.prototype.addMissingNameNodes=function(I){for(var N=I.getElementsByTagName("names"),R=0,U=N.length;R<U;R+=1){var $=N.item(R),B=$.getElementsByTagName("name");if(!(B&&0!==B.length||this.isChildOfSubstitute($))){var H=$.ownerDocument.createElement("name");$.appendChild(H)}}},et.XmlDOM.prototype.addInstitutionNodes=function(I){var N,R,U,$,B,H,V,W;for(V=0,W=(N=I.getElementsByTagName("names")).length;V<W;V+=1)if(0!=(B=(R=N.item(V)).getElementsByTagName("name")).length&&0==R.getElementsByTagName("institution").length){$=(U=this.importNode(I.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),H=B.item(0),R.insertBefore(U,H.nextSibling);for(var z=0,X=et.INSTITUTION_KEYS.length;z<X;z+=1){var Q=et.INSTITUTION_KEYS[z];(it=H.getAttribute(Q))&&$.setAttribute(Q,it)}var J=H.getElementsByTagName("name-part");for(z=0,X=J.length;z<X;z+=1)if("family"===J[z].getAttribute("name"))for(var Z=0,tt=et.INSTITUTION_KEYS.length;Z<tt;Z+=1){var it;Q=et.INSTITUTION_KEYS[Z];(it=J[z].getAttribute(Q))&&$.setAttribute(Q,it)}}},et.XmlDOM.prototype.flagDateMacros=function(I){var N,R,U,$=I.getElementsByTagName("macro");for(N=0,R=$.length;N<R;N+=1)(U=$.item(N)).getElementsByTagName("date").length&&U.setAttribute("macro-has-date","true")},et.setupXml=function(I){var N={},R=null;return void 0!==I?"string"==typeof I?(N="<"===(I=I.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?et.parseXml(I):JSON.parse(I),R=new et.XmlJSON(N)):R=void 0!==I.getAttribute?new et.XmlDOM(I):void 0!==I.toXMLString?new et.XmlE4X(I):new et.XmlJSON(I):et.error("unable to parse XML input"),R||et.error("citeproc-js error: unable to parse CSL style or locale object"),R},et.getSortCompare=function(I){if(et.stringCompare)return et.stringCompare;var N,R=this,U={sensitivity:"base",ignorePunctuation:!0,numeric:!0};I||(I="en-US"),N=function strcmp(N,$){return et.toLocaleLowerCase.call(R,N).localeCompare(et.toLocaleLowerCase.call(R,$),I,U)};var $=function stripPunct(I){return I.replace(/^[\[\]\'\"]*/g,"")},B=function getBracketPreSort(){return!!N("[x","x")&&function(I,R){return N($(I),$(R))}}();return function sortCompare(I,R){return B?B(I,R):N(I,R)}},et.ambigConfigDiff=function(I,N){var R,U,$,B;if(I.names.length!==N.names.length)return 1;for(R=0,U=I.names.length;R<U;R+=1){if(I.names[R]!==N.names[R])return 1;for($=0,B=I.givens[R];$<B;$+=1)if(I.givens[R][$]!==N.givens[R][$])return 1}return I.disambiguate!=N.disambiguate||I.year_suffix!==N.year_suffix?1:0},et.cloneAmbigConfig=function(I,N){var R,U,$,B,H,V={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(R=0,U=I.names.length;R<U;R+=1)H=I.names[R],V.names[R]=H;for(R=0,U=I.givens.length;R<U;R+=1){for(H=[],$=0,B=I.givens[R].length;$<B;$+=1)H.push(I.givens[R][$]);V.givens.push(H)}return N?(V.year_suffix=N.year_suffix,V.disambiguate=N.disambiguate):(V.year_suffix=I.year_suffix,V.disambiguate=I.disambiguate),V},et.getAmbigConfig=function(){var I;return(I=this.tmp.disambig_request)||(I=this.tmp.disambig_settings),et.cloneAmbigConfig(I)},et.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},et.getMinVal=function(){return this.tmp["et-al-min"]},et.tokenExec=function(I,N,R){var U,$;U=I.next,$=!1;I.test&&(U=function record(N){return N?(this.tmp.jump.replace("succeed"),I.succeed):(this.tmp.jump.replace("fail"),I.fail)}.call(this,I.test(N,R)));for(var B=0,H=I.execs.length;B<H;B++)($=I.execs[B].call(I,this,N,R))&&(U=$);return U},et.expandMacro=function(I,N){var R,U,$;R=I.postponed_macro;var B=I.strings.sort_direction;I=new et.Token("group",et.START);var H=!1,V=!1;(U=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",R)).length&&(V=this.cslXml.getAttributeValue(U[0],"cslid"),H=this.cslXml.getAttributeValue(U[0],"macro-has-date")),H&&(R=R+"@"+this.build.current_default_locale,X=function func(I){I.tmp.extension&&(I.tmp["doing-macro-with-date"]=!0)},I.execs.push(X)),this.build.macro_stack.indexOf(R)>-1?et.error('CSL processor error: call to macro "'+R+'" would cause an infinite loop'):this.build.macro_stack.push(R),I.cslid=V,et.MODULE_MACROS[R]&&(I.juris=R,this.opt.update_mode=et.POSITION),et.Node.group.build.call(I,this,N,!0),this.cslXml.getNodeValue(U)||et.error('CSL style error: undefined macro "'+R+'"');var W,z=et.getMacroTarget.call(this,R);if(z&&(et.buildMacro.call(this,z,U),et.configureMacro.call(this,z)),!this.build.extension){var X=(W=R,function(I,N,R){for(var U=0;U<I.macros[W].length;)U=et.tokenExec.call(I,I.macros[W][U],N,R)}),Q=new et.Token("text",et.SINGLETON);Q.execs.push(X),N.push(Q)}($=new et.Token("group",et.END)).strings.sort_direction=B,H&&(X=function func(I){I.tmp.extension&&(I.tmp["doing-macro-with-date"]=!1)},$.execs.push(X)),I.juris&&($.juris=R),et.Node.group.build.call($,this,N,!0),this.build.macro_stack.pop()},et.getMacroTarget=function(I){var N=!1;return this.build.extension?N=this[this.build.root+this.build.extension].tokens:this.macros[I]||(N=[],this.macros[I]=N),N},et.buildMacro=function(I,N){et.makeBuilder(this,I)(void 0===N.length?N:N[0])},et.configureMacro=function(I){this.build.extension||this.configureTokenList(I)},et.XmlToToken=function(I,N,R,U){var $,B,H,V,W,z;if($=I.cslXml.nodename(this),!I.build.skip||I.build.skip===$)if($){if(et.Node[I.cslXml.nodename(this)]||et.error('Undefined node name "'+$+'".'),[],H=I.cslXml.attributes(this),V=et.setDecorations.call(this,I,H),W=new et.Token($,N),N!==et.END||"if"===$||"else-if"===$||"layout"===$){for(var X in H)if(H.hasOwnProperty(X)){if(N===et.END&&"@language"!==X&&"@locale"!==X)continue;if(H.hasOwnProperty(X))if(et.Attributes[X])try{et.Attributes[X].call(W,I,""+H[X])}catch(I){et.error(X+" attribute: "+I)}else et.debug('warning: undefined attribute "'+X+'" in style')}W.decorations=V,et.DATE_VARIABLES.indexOf(H["@variable"])>-1&&U.push(W.variables)}else N===et.END&&H["@variable"]&&(W.hasVariable=!0,et.DATE_VARIABLES.indexOf(H["@variable"])>-1&&(W.variables=U.pop()));z=R||I[I.build.area].tokens,et.Node[$].build.call(W,I,z,!0)}else(B=I.cslXml.content(this))&&(I.build.text=B)},et.DateParser=function(){for(var I=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],N={},R=0,U=I.length;R<U;R++){var $=I[R][0],B=I[R][1];N[$]=B}var H=[],V={};for(R=0,U=I.length;R<U;R++){var W=I[R];B=W[0];H.push(B),V[W[0]]=W[1]}var z=H.join("|"),X=new RegExp("(?:"+z+")(?:[0-9]+)"),Q=new RegExp("(?:"+z+")(?:[0-9]+)","g"),J=/(\u6708|\u5E74)/g,Z=/\u65E5/g,tt=/\u301c/g,it="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",nt=new RegExp(it.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),st=new RegExp(it.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),rt=new RegExp(it.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var I=0,N=this.monthStrings.length;I<N;I++)this.monthSets.push([this.monthStrings[I]]);this.monthAbbrevs=[];for(I=0,N=this.monthSets.length;I<N;I++){this.monthAbbrevs.push([]);for(var R=0,U=this.monthSets[I].length;R<U;R++)this.monthAbbrevs[I].push(this.monthSets[I][0].slice(0,3))}this.monthRexes=[];for(I=0,N=this.monthAbbrevs.length;I<N;I++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[I].join("|")+")"))},this.addDateParserMonths=function(I){if("string"==typeof I&&(I=I.split(/\s+/)),12===I.length||16===I.length){for(var N=0,R=I.length;N<R;N++){for(var U=null,$=!1,B=3,H={},V=0,W=this.monthAbbrevs.length;V<W;V++){if(H[V]={},V===N){for(var z=0,X=this.monthAbbrevs[N].length;z<X;z++)if(this.monthAbbrevs[N][z]===I[N].slice(0,this.monthAbbrevs[N][z].length)){$=!0;break}}else for(z=0,X=this.monthAbbrevs[V].length;z<X;z++)if(U=this.monthAbbrevs[V][z].length,this.monthAbbrevs[V][z]===I[N].slice(0,U)){for(;this.monthSets[V][z].slice(0,U)===I[N].slice(0,U);){if(U>I[N].length||U>this.monthSets[V][z].length){et.debug("unable to disambiguate month string in date parser: "+I[N]);break}U+=1}B=U,H[V][z]=U}for(var Q in H)for(var J in H[Q])U=H[Q][J],Q=parseInt(Q,10),J=parseInt(J,10),this.monthAbbrevs[Q][J]=this.monthSets[Q][J].slice(0,U)}$||(this.monthSets[N].push(I[N]),this.monthAbbrevs[N].push(I[N].slice(0,B)))}this.monthRexes=[],this.monthRexStrs=[];for(N=0,R=this.monthAbbrevs.length;N<R;N++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[N].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[N].join("|")+")");if(18===this.monthAbbrevs.length)for(N=12,R=14;N<R;N++)this.monthRexes[N+4]=new RegExp("^(?:"+this.monthAbbrevs[N].join("|")+")"),this.monthRexStrs[N+4]="^(?:"+this.monthAbbrevs[N].join("|")+")"}else et.debug("month [+season] list of "+I.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(I){I["date-parts"]=[],I["date-parts"].push([]);for(var N,R=0,U=0,$=3;U<$&&I[N=["year","month","day"][U]];U++)R+=1,I["date-parts"][0].push(I[N]),delete I[N];I["date-parts"].push([]);for(U=0,$=R;U<$&&I[N=["year_end","month_end","day_end"][U]];U++)I["date-parts"][1].push(I[N]),delete I[N];return I["date-parts"][0].length!==I["date-parts"][1].length&&I["date-parts"].pop(),I},this.convertDateObjectToString=function(I){for(var N=[],R=0;R<3&&I[et.DATE_PARTS_ALL[R]];R+=1)N.push(I[et.DATE_PARTS_ALL[R]]);return N.join("-")},this._parseNumericDate=function(I,N,R,U){R||(R="");for(var $=U.split(N),B=0,H=$.length;B<H;B++)if(4===$[B].length){I["year"+R]=$[B].replace(/^0*/,""),$=B?$.slice(0,B):$.slice(1);break}for(B=0,H=$.length;B<H;B++)$[B]=parseInt($[B],10);if(1===$.length||2===$.length&&!$[1])(V=$[0])&&(I["month"+R]=""+$[0]);else if(2===$.length)if($[this.monthGuess]>12){var V=$[this.dayGuess],W=$[this.monthGuess];V&&(I["month"+R]=""+V,W&&(I["day"+R]=""+W))}else{V=$[this.monthGuess],W=$[this.dayGuess];V&&(I["month"+R]=""+V,W&&(I["day"+R]=""+W))}},this.parseDateToObject=function(I){var N,R=I,U=-1,$=-1,B=!1;if(I){if("-"===(I=I.replace(/^(.*[0-9])T[0-9].*/,"$1")).slice(0,1)&&(B=!0,I=I.slice(1)),I.match(/^[0-9]{1,3}$/))for(;I.length<4;)I="0"+I;if(ft=(I=(I=""+I).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(J)){var H=(I=(I=(I=(I=(I=(I=I.replace(/\s+/g,"")).replace(Z,"")).replace(J,"-")).replace(tt,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(X);N=[];var W=I.match(Q);if(W){for(var z=[],it=0,at=W.length;it<at;it++)z=z.concat(W[it].match(/([^0-9]+)([0-9]+)/).slice(1));for(it=0,at=H.length;it<at;it++)if(N.push(H[it]),it!==at-1){var ot=2*it;N.push(z[ot]),N.push(z[ot+1])}}else N=H;for(it=1,at=N.length;it<at;it+=3)N[it+1]=V[N[it]]+parseInt(N[it+1],10),N[it]="";U=(I=(I=(I=(I=N.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),$=I.indexOf("-")}}var lt,ct,ut="",ht="",pt={};if('"'===(I=I.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===I.slice(-1))return pt.literal=I.slice(1,-1),pt;U>-1&&$>-1?I.split("/").length>3?(lt="-",ct="/",N=(I=I.replace(/\_/g,"-")).split(rt)):(lt="/",ct="-",N=(I=I.replace(/\_/g,"/")).split(st)):(lt="-",ct="-",N=(I=(I=I.replace(/\//g,"-")).replace(/\_/g,"-")).split(nt));var dt=[];for(it=0,at=N.length;it<at;it++){var ft;(ft=N[it].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&dt.push(ft[1])}var mt=dt.indexOf(lt),gt=[],vt=!1;mt>-1?(gt.push([0,mt]),gt.push([mt+1,dt.length]),vt=!0):gt.push([0,dt.length]);var bt="";for(it=0,at=gt.length;it<at;it++){var _t=gt[it],yt=dt.slice(_t[0],_t[1]);t:for(var xt=0,wt=yt.length;xt<wt;xt++){var Tt=yt[xt];if(Tt.indexOf(ct)>-1)this._parseNumericDate(pt,ct,bt,Tt);else if(Tt.match(/[0-9]{4}/))pt["year"+bt]=Tt.replace(/^0*/,"");else{("~"===Tt||"?"===Tt||"c"===Tt||Tt.match(/^cir/))&&(pt.circa=!0);for(var Et=0,St=this.monthRexes.length;Et<St;Et++)if(Tt.toLocaleLowerCase().match(this.monthRexes[Et])){pt["month"+bt]=""+(parseInt(Et,10)+1);continue t}Tt.match(/^[0-9]+$/)&&(ut=Tt),Tt.toLocaleLowerCase().match(/^bc/)&&ut?(pt["year"+bt]=""+-1*ut,ut=""):Tt.toLocaleLowerCase().match(/^ad/)&&ut?(pt["year"+bt]=""+ut,ut=""):!Tt.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||pt["season"+bt]||(ht=Tt)}}ut&&(pt["day"+bt]=ut,ut=""),ht&&!pt["season"+bt]&&(pt["season"+bt]=ht.trim(),ht=""),bt="_end"}if(vt)for(xt=0,wt=et.DATE_PARTS_ALL.length;xt<wt;xt++){var kt=et.DATE_PARTS_ALL[xt];pt[kt]&&!pt[kt+"_end"]?pt[kt+"_end"]=pt[kt]:!pt[kt]&&pt[kt+"_end"]&&(pt[kt]=pt[kt+"_end"])}(!pt.year||pt.year&&pt.day&&!pt.month)&&(pt={literal:R});var Ct=["year","month","day","year_end","month_end","day_end"];for(it=0,at=Ct.length;it<at;it++){var Ot=Ct[it];"string"==typeof pt[Ot]&&pt[Ot].match(/^[0-9]+$/)&&(pt[Ot]=parseInt(pt[Ot],10))}return B&&Object.keys(pt).indexOf("year")>-1&&(pt.year=-1*pt.year),pt},this.parseDateToArray=function(I){return this.convertDateObjectToArray(this.parseDateToObject(I))},this.parseDateToString=function(I){return this.convertDateObjectToString(this.parseDateToObject(I))},this.parse=function(I){return this.parseDateToObject(I)},this.setOrderMonthDay(),this.resetDateParserMonths()},et.DateParser=new et.DateParser,et.Engine=function(I,N,R,U){var $;for(var B in this.processor_version=et.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=I,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function assign(I){if(null==I)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(I),R=1;R<arguments.length;R++){var U=arguments[R];if(null!=U)for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(N[$]=U[$])}return N},writable:!0,configurable:!0}),I.variableWrapper&&(et.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(et.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),et.retrieveStyleModule&&(this.sys.retrieveStyleModule=et.retrieveStyleModule),et.getAbbreviation&&(this.sys.getAbbreviation=et.getAbbreviation),this.sys.stringCompare&&(et.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=et.AbbreviationSegments,this.transform=new et.Transform(this),this.setParseNames=function(I){this.opt["parse-names"]=I},this.opt=new et.Engine.Opt,this.tmp=new et.Engine.Tmp,this.build=new et.Engine.Build,this.fun=new et.Engine.Fun(this),this.configure=new et.Engine.Configure,this.citation_sort=new et.Engine.CitationSort,this.bibliography_sort=new et.Engine.BibliographySort,this.citation=new et.Engine.Citation(this),this.bibliography=new et.Engine.Bibliography,this.intext=new et.Engine.InText,this.output=new et.Output.Queue(this),this.dateput=new et.Output.Queue(this),this.cslXml=et.setupXml(N),et.SYS_OPTIONS){var H=et.SYS_OPTIONS[B];"boolean"==typeof this.sys[H]&&(this.opt.development_extensions[H]=this.sys[H])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(I,N){var R=this.cslXml.children(I);this.cslXml.setAttribute(I,"cslid",this.build.cslNodeId),this.opt.nodenames.push(N),this.build.cslNodeId+=1;for(var U=0,$=this.cslXml.numberofnodes(R);U<$;U+=1)(N=this.cslXml.nodename(R[U]))&&this.setCslNodeIds(R[U],N)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),R&&(R=R.replace("_","-"),R=et.normalizeLocaleStr(R)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=et.normalizeLocaleStr(this.opt["default-locale"][0])),R&&U&&(this.opt["default-locale"]=[R]),R&&!U&&this.opt["default-locale"][0]&&(R=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(R||(R="en-US"),this.opt["default-locale"].push("en-US")),R||(R=this.opt["default-locale"][0]),$=et.localeResolve(R),this.opt.lang=$.best,this.opt["default-locale"][0]=$.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure($),this.locale[this.opt.lang].opts["skip-words-regexp"]=function makeRegExp(I){return I=I.slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+I.join("|")+")(?=[!?:]*\\s+|-|$))","g")}(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new et.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new et.Registry(this),this.macros={},this.build.area="citation";var V=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(V,this[this.build.area].tokens),this.build.area="bibliography";V=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(V,this[this.build.area].tokens),this.build.area="intext";V=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(V,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new et.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new et.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=et.DateParser,this.fun.flipflopper=new et.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=et.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=et.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},et.Engine.prototype.setCloseQuotesArray=function(){var I;(I=[]).push(this.getTerm("close-quote")),I.push(this.getTerm("close-inner-quote")),I.push('"'),I.push("'"),this.opt.close_quotes_array=I},et.makeBuilder=function(I,N){var R=[],U=[];function runStart($){U.push($),et.XmlToToken.call($,I,et.START,N,R)}function runEnd(){var $=U.pop();et.XmlToToken.call($,I,et.END,N,R)}function runSingle(U){et.XmlToToken.call(U,I,et.SINGLETON,N,R)}return function buildStyle(N,R,U){U||(U=[]),N||(N=[]),void 0===N.length&&(N=[N]);for(var $=0;$<N.length;$++){var B=N[$];null!==I.cslXml.nodename(B)&&(R&&"date"===I.cslXml.nodename(B)&&(et.Util.fixDateNode.call(I,R,$,B),B=I.cslXml.children(R)[$]),I.cslXml.numberofnodes(I.cslXml.children(B))?(runStart(B),buildStyle(I.cslXml.children(B),B,U),runEnd()):runSingle(B))}}},et.Engine.prototype.buildTokenLists=function(I,N){this.cslXml.getNodeValue(I)&&et.makeBuilder(this,N)(void 0===I.length?I:I[0])},et.Engine.prototype.setStyleAttributes=function(){var I,N,R={};for(N in R.name=this.cslXml.nodename(this.cslXml.dataObj),I=this.cslXml.attributes(this.cslXml.dataObj))I.hasOwnProperty(N)&&et.Attributes[N].call(R,this,I[N])},et.Engine.prototype.getTerm=function(I,N,R,U,$,B){var H;I&&I.match(/[A-Z]/)&&I===I.toUpperCase()&&(et.debug("Warning: term key is in uppercase form: "+I),I=I.toLowerCase()),H=B?this.opt["default-locale"][0]:this.opt.lang;var V=et.Engine.getField(et.LOOSE,this.locale[H].terms,I,N,R,U);return V||"range-delimiter"!==I||(V="–"),void 0===V&&($===et.STRICT?et.error('Error in getTerm: term "'+I+'" does not exist.'):$===et.TOLERANT&&(V="")),V&&(this.tmp.cite_renders_content=!0),V},et.Engine.prototype.getDate=function(I,N){var R;return R=N?this.opt["default-locale"]:this.opt.lang,!!this.locale[R].dates[I]&&this.locale[R].dates[I]},et.Engine.prototype.getOpt=function(I){return void 0!==this.locale[this.opt.lang].opts[I]&&this.locale[this.opt.lang].opts[I]},et.Engine.prototype.getVariable=function(I,N,R,U){return et.Engine.getField(et.LOOSE,I,N,R,U)},et.Engine.prototype.getDateNum=function(I,N){return void 0===I?0:I[N]},et.Engine.getField=function(I,N,R,U,$,B){var H,V,W,z,X,Q;if(H="",void 0===N[R]){if(I!==et.STRICT)return;et.error('Error in getField: term "'+R+'" does not exist.')}for(Q=B&&N[R][B]?N[R][B]:N[R],V=[],"symbol"===U?V=["symbol","short"]:"verb-short"===U?V=["verb-short","verb"]:"long"!==U&&(V=[U]),X=(V=V.concat(["long"])).length,z=0;z<X;z+=1)if(W=V[z],"string"==typeof Q||"number"==typeof Q)H=Q;else if(void 0!==Q[W]){H="string"==typeof Q[W]||"number"==typeof Q[W]?Q[W]:"number"==typeof $?Q[W][$]:Q[W][0];break}return H},et.Engine.prototype.configureTokenLists=function(){var I,N;for(N=et.AREAS.length,I=0;I<N;I+=1){var R=this[et.AREAS[I]].tokens;this.configureTokenList(R)}return this.version=et.version,this.state},et.Engine.prototype.configureTokenList=function(I){var N,R,U,$,B,H;for(N=["year","month","day"],$=I.length-1;$>-1;$+=-1){if("date"===(R=I[$]).name&&et.END===R.tokentype&&(U=[]),"date-part"===R.name&&R.strings.name)for(H=N.length,B=0;B<H;B+=1)N[B]===R.strings.name&&U.push(R.strings.name);"date"===R.name&&et.START===R.tokentype&&(U.reverse(),R.dateparts=U),R.next=$+1,R.name&&et.Node[R.name].configure&&et.Node[R.name].configure.call(R,this,$)}},et.Engine.prototype.refetchItems=function(I){for(var N=[],R=0,U=I.length;R<U;R+=1)N.push(this.refetchItem(""+I[R]));return N},et.ITERATION=0,et.Engine.prototype.retrieveItem=function(I){var N,R;if(this.tmp.loadedItemIDs[I])return this.registry.refhash[I];if(this.tmp.loadedItemIDs[I]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var U=0,$=this.opt["default-locale"].length;U<$;U+=1)this.opt["default-locale"][U]=this.opt["default-locale"][U].toLowerCase();for(U=0,$=this.opt["locale-translit"].length;U<$;U+=1)this.opt["locale-translit"][U]=this.opt["locale-translit"][U].toLowerCase();for(U=0,$=this.opt["locale-translat"].length;U<$;U+=1)this.opt["locale-translat"][U]=this.opt["locale-translat"][U].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(et.ITERATION+=1,N=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+I))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(N.multi){if(N.multi._keys)for(var B in N.multi._keys)for(var H in N.multi._keys[B])H!==H.toLowerCase()&&(N.multi._keys[B][H.toLowerCase()]=N.multi._keys[B][H],delete N.multi._keys[B][H]);if(N.multi.main)for(var B in N.multi.main)N.multi.main[B]=N.multi.main[B].toLowerCase()}for(U=0,$=et.NAME_VARIABLES.length;U>$;U+=1){var V=et.NAME_VARIABLES[U];if(N[V]&&N[V].multi)for(var W=0,z=N[V].length;W<z;W+=1){var X=N[V][W];if(X.multi){if(X.multi._key)for(var H in X.multi._key)H!==H.toLowerCase()&&(X.multi._key[H.toLowerCase()]=X.multi._key[H],delete X.multi._key[H]);X.multi.main&&(X.multi.main=X.multi.main.toLowerCase())}}}}N.language&&N.language.match(/[><]/)&&("<"===(R=N.language.match(/(.*?)([<>])(.*)/))[2]?(N["language-name"]=R[1],N["language-name-original"]=R[3]):(N["language-name"]=R[3],N["language-name-original"]=R[1]),this.opt.multi_layout?N["language-name-original"]&&(N.language=N["language-name-original"]):N["language-name"]&&(N.language=N["language-name"]));N.page&&(N["page-first"]=N.page,"\\"!==(R=(""+N.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(N["page-first"]=R[0]));for(var H in this.opt.development_extensions.field_hack&&N.note&&et.parseNoteFieldHacks(N,!1,this.opt.development_extensions.allow_field_hack_date_override),N)if(et.DATE_VARIABLES.indexOf(H.replace(/^alt-/,""))>-1){var Q=N[H];Q&&(this.opt.development_extensions.raw_date_parsing&&(!Q.raw||Q["date-parts"]&&0!==Q["date-parts"].length||(Q=this.fun.dateparser.parseDateToObject(Q.raw))),N[H]=this.dateParseArray(Q))}if(this.opt.development_extensions.consolidate_legal_items&&N.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(N.type)>-1){var J=[];for(U=0,$=(it=["type","title","jurisdiction","genre","volume","container-title"]).length;U<$;U+=1)N[tt=it[U]]&&J.push(N[tt]);for(U=0,$=(it=["original-date","issued"]).length;U<$;U+=1)if(N[tt=it[U]]&&N[tt].year){var Z=N[tt].year;J.push(Z);break}N.legislation_id=J.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(N.type)>-1){var tt,it,nt=[];for(U=0,$=(it=["type","container-title","publisher","edition"]).length;U<$;U+=1)N[tt=it[U]]&&nt.push(N[tt]);N.container_id=nt.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof N.authority&&(N.authority=[{literal:N.authority,multi:{_key:{}}}],N.multi&&N.multi._keys&&N.multi._keys.authority))for(var H in N.authority[0].multi._key={},N.multi._keys.authority)N.authority[0].multi._key[H]={literal:N.multi._keys.authority[H]};if(N["title-short"]||(N["title-short"]=N.shortTitle),this.opt.development_extensions.main_title_from_short_title){var st="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();et.extractTitleAndSubtitle.call(this,N,st)}var rt,at=["bill","legal_case","legislation","gazette","regulation"].indexOf(N.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&at&&(N.jurisdiction||(N.jurisdiction="us")),!at&&N.title&&this.sys.getAbbreviation){N.jurisdiction||!0,rt=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",N.title):N.title;var ot=this.transform.loadAbbreviation(N.jurisdiction,"title",rt,N.language);this.transform.abbrevs[ot].title&&this.transform.abbrevs[ot].title[rt]&&(N["title-short"]=this.transform.abbrevs[ot].title[rt])}if(N["container-title-short"]||(N["container-title-short"]=N.journalAbbreviation),N["container-title"]&&this.sys.getAbbreviation){rt=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(N["container-title"]):N["container-title"];ot=this.transform.loadAbbreviation(N.jurisdiction,"container-title",rt,N.language);this.transform.abbrevs[ot]["container-title"]&&this.transform.abbrevs[ot]["container-title"][rt]&&(N["container-title-short"]=this.transform.abbrevs[ot]["container-title"][rt])}if(N.jurisdiction&&(N.country=N.jurisdiction.split(":")[0]),this.registry.refhash[I]){if(JSON.stringify(this.registry.refhash[I])!=JSON.stringify(N)){for(var H in this.registry.refhash[I])delete this.registry.refhash[I][H];this.tmp.taintedItemIDs[N.id]=!0,Object.assign(this.registry.refhash[I],N)}}else this.registry.refhash[I]=N;return this.registry.refhash[I]},et.Engine.prototype.refetchItem=function(I){return this.registry.refhash[I]},et.Engine.prototype.setOpt=function(I,N,R){"style"===I.name||"cslstyle"===I.name?(this.opt.inheritedAttributes[N]=R,this.citation.opt.inheritedAttributes[N]=R,this.bibliography.opt.inheritedAttributes[N]=R):["citation","bibliography"].indexOf(I.name)>-1?this[I.name].opt.inheritedAttributes[N]=R:I.strings[N]=R},et.Engine.prototype.inheritOpt=function(I,N,R,U){if(void 0!==I.strings[N])return I.strings[N];var $=this[this.tmp.root].opt.inheritedAttributes[R||N];return void 0!==$?$:U},et.Engine.prototype.remapSectionVariable=function(I){for(var N=0,R=I.length;N<R;N+=1){var U=I[N][0],$=I[N][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(U.type)>-1){if($.locator)$.locator=$.locator.trim(),(H=$.locator.match(et.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||($.label?$.locator=et.STATUTE_SUBDIV_STRINGS_REVERSE[$.label]+" "+$.locator:$.locator="p. "+$.locator);var B=null;if(U.section)U.section=U.section.trim(),(H=U.section.match(et.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?B=H[0].trim():(U.section="sec. "+U.section,B="sec.");if(U.section)if($.locator){var H,V=" ";(H=$.locator.match(/^([^ ]*)\s*(.*)/))?("p."===H[1]&&"p."!==B&&($.locator=H[2]),["[","(",".",",",";",":","?"].indexOf($.locator.slice(0,1))>-1&&(V="")):V="",$.locator=U.section+V+$.locator}else $.locator=U.section;$.label=""}}},et.Engine.prototype.setNumberLabels=function(I){if(I.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(I.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var N=""+I.number,R=(N=N.split("\\").join("")).split(/\s+/)[0],U=et.STATUTE_SUBDIV_STRINGS[R];if(U){var $=N.split(et.STATUTE_SUBDIV_PLAIN_REGEX);if($.length>1){for(var B=[],H=1,V=$.length;H<V;H+=1)B.push($[H].replace(/\s*$/,"").replace(/^\s*/,""));N=B.join(" ")}else N=$[0];this.tmp.shadow_numbers.number.label=U,this.tmp.shadow_numbers.number.values.push(["Blob",N,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",N,!1]),this.tmp.shadow_numbers.number.numeric=!0}},et.substituteOne=function(I){return function(N,R){return R?I.replace("%%STRING%%",R):""}},et.substituteTwo=function(I){return function(N){var R=I.replace("%%PARAM%%",N);return function(I,N){return N?R.replace("%%STRING%%",N):""}}},et.Mode=function(I){var N,R,U,$,B,H;for(U in N={},R=et.Output.Formats[I])"@"===U.slice(0,1)?($=!1,B=R[U],H=U.split("/"),"string"==typeof B&&B.indexOf("%%STRING%%")>-1?$=B.indexOf("%%PARAM%%")>-1?et.substituteTwo(B):et.substituteOne(B):"boolean"!=typeof B||B?"function"==typeof B?$=B:et.error("Bad "+I+" config entry for "+U+": "+B):$=et.Output.Formatters.passthrough,1===H.length?N[H[0]]=$:2===H.length&&(N[H[0]]||(N[H[0]]={}),N[H[0]][H[1]]=$)):N[U]=R[U];return N},et.setDecorations=function(I,N){var R,U;for(U in R=[],et.FORMAT_KEY_SEQUENCE){var $;N[$=et.FORMAT_KEY_SEQUENCE[U]]&&(R.push([$,N[$]]),delete N[$])}return R},et.Doppeler=function(I,N){var R=new RegExp("("+I+")","g"),U=new RegExp(I,"g");this.split=function(I){N&&(I=N(I));var $=I.match(R);if(!$)return{tags:[],strings:[I]};for(var B=I.split(U),H=$.length-1;H>-1;H--){"number"==typeof $[H]&&($[H]=""),"'"===$[H]&&B[H+1].length>0&&(B[H+1]=$[H]+B[H+1],$[H]="")}return{tags:$,strings:B,origStrings:B.slice()}},this.join=function(I){for(var N=I.strings.slice(-1),R=I.tags.length-1;R>-1;R--)N.push(I.tags[R]),N.push(I.strings[R]);return N.reverse(),N.join("")}},et.Engine.prototype.normalDecorIsOrphan=function(I,N){if("normal"===N[1]){for(var R,U=!1,$=(R="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(I.alldecor):I.alldecor).length-1;$>-1;$+=-1)for(var B=R[$].length-1;B>-1;B+=-1)R[$][B][0]===N[0]&&"normal"!==R[$][B][1]&&(U=!0);if(!U)return!0}return!1},et.Engine.prototype.getCitationLabel=function(I){var N="",R=this.getTrigraphParams(),U=R[0],$=this.getTerm("reference","short",0);void 0===$&&($="reference"),$=($=$.replace(".","")).slice(0,1).toUpperCase()+$.slice(1);for(var B=0,H=et.NAME_VARIABLES.length;B<H;B+=1){var V=et.NAME_VARIABLES[B];if(I[V]){var W=I[V];U=W.length>R.length?R[R.length-1]:R[W.length-1];for(var z=0,X=W.length;z<X&&z!==U.authors.length;z+=1){var Q=this.nameOutput.getName(W[z],"locale-translit",!0).name;Q&&Q.family?$=($=Q.family).replace(/^([ \'\u2019a-z]+\s+)/,""):Q&&Q.literal&&($=Q.literal);var J=$.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(J&&($=$.slice(J[1].length)),!($=$.replace(et.ROMANESQUE_NOT_REGEXP,"")))break;($=$.slice(0,U.authors[z])).length>1?$=$.slice(0,1).toUpperCase()+$.slice(1).toLowerCase():1===$.length&&($=$.toUpperCase()),N+=$}break}}if(!N&&I.title){var Z=this.locale[this.opt.lang].opts["skip-words"],tt=I.title.split(/\s+/);for(B=tt.length-1;B>-1;B--)Z.indexOf(tt[B])>-1&&(tt=tt.slice(0,B).concat(tt.slice(B+1)));var it=tt.join("");(it=it.slice(0,R[0].authors[0])).length>1?it=it.slice(0,1).toUpperCase()+it.slice(1).toLowerCase():1===it.length&&(it=it.toUpperCase()),N=it}var nt="0000";return I.issued&&I.issued.year&&(nt=""+I.issued.year),N+=nt=nt.slice(-1*U.year)},et.Engine.prototype.getTrigraphParams=function(){var I=[],N=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||et.error("Bad trigraph definition: "+this.opt.trigraph);for(var R=0,U=N.length;R<U;R+=1){for(var $=N[R],B={authors:[],year:0},H=0,V=$.length;H<V;H+=1)switch($.slice(H,H+1)){case"A":B.authors.push(1);break;case"a":B.authors[B.authors.length-1]+=1;break;case"0":B.year+=1;break;default:et.error("Invalid character in trigraph definition: "+this.opt.trigraph)}I.push(B)}return I},et.Engine.prototype.setOutputFormat=function(I){this.opt.mode=I,this.fun.decorate=et.Mode(I),this.output[I]||(this.output[I]={},this.output[I].tmp={})},et.Engine.prototype.getSortFunc=function(){return function(I,N){return I=I.split("-"),N=N.split("-"),I.length<N.length?1:I.length>N.length?-1:(I=I.slice(-1)[0],N=N.slice(-1)[0],I.length<N.length?1:I.length>N.length?-1:0)}},et.Engine.prototype.setLangTagsForCslSort=function(I){var N,R;if(I)for(this.opt["locale-sort"]=[],N=0,R=I.length;N<R;N+=1)this.opt["locale-sort"].push(I[N]);this.opt["locale-sort"].sort(this.getSortFunc())},et.Engine.prototype.setLangTagsForCslTransliteration=function(I){var N,R;if(this.opt["locale-translit"]=[],I)for(N=0,R=I.length;N<R;N+=1)this.opt["locale-translit"].push(I[N]);this.opt["locale-translit"].sort(this.getSortFunc())},et.Engine.prototype.setLangTagsForCslTranslation=function(I){var N,R;if(this.opt["locale-translat"]=[],I)for(N=0,R=I.length;N<R;N+=1)this.opt["locale-translat"].push(I[N]);this.opt["locale-translat"].sort(this.getSortFunc())},et.Engine.prototype.setLangPrefsForCites=function(I,N){var R=this.opt["cite-lang-prefs"];N||(N=function conv(I){return I.toLowerCase()});for(var U=["Persons","Institutions","Titles","Journals","Publishers","Places"],$=0,B=U.length;$<B;$+=1){var H=N(U[$]),V=U[$].toLowerCase();if(I[H]){for(var W=[];I[H].length>1;)W.push(I[H].pop());var z={orig:1,translit:2,translat:3};for(2===W.length&&z[W[0]]<z[W[1]]&&W.reverse();W.length;)I[H].push(W.pop());for(var X=R[V];X.length;)X.pop();for(var Q=0,J=I[H].length;Q<J;Q+=1)X.push(I[H][Q])}}},et.Engine.prototype.setLangPrefsForCiteAffixes=function(I){if(I&&48===I.length){for(var N,R=this.opt.citeAffixes,U=0,$=["persons","institutions","titles","journals","publishers","places"],B=["translit","orig","translit","translat"],H=0,V=$.length;H<V;H+=1)for(var W=0,z=B.length;W<z;W+=1)N="",U%8==4&&(R[$[H]]["locale-"+B[W]].prefix||R[$[H]]["locale-"+B[W]].suffix)||(N=I[U]?I[U]:"",R[$[H]]["locale-"+B[W]].prefix=N,N=I[U]?I[U+1]:"",R[$[H]]["locale-"+B[W]].suffix=N),U+=2;this.opt.citeAffixes=R}},et.Engine.prototype.setAutoVietnameseNamesOption=function(I){this.opt["auto-vietnamese-names"]=!!I},et.Engine.prototype.setAbbreviations=function(I){this.sys.setAbbreviations&&this.sys.setAbbreviations(I)},et.Engine.prototype.setSuppressTrailingPunctuation=function(I){this.citation.opt.suppressTrailingPunctuation=!!I},et.Output={},et.Output.Queue=function(I){this.levelname=["top"],this.state=I,this.queue=[],this.empty=new et.Token("empty");var N={};N.empty=this.empty,this.formats=new et.Stack(N),this.current=new et.Stack(this.queue)},et.Output.Queue.prototype.pop=function(){var I=this.current.value();return I.length?I.pop():I.blobs.pop()},et.Output.Queue.prototype.getToken=function(I){return this.formats.value()[I]},et.Output.Queue.prototype.mergeTokenStrings=function(I,N){var R,U,$;if($=R=this.formats.value()[I],U=this.formats.value()[N]){R||((R=new et.Token(I,et.SINGLETON)).decorations=[]),$=new et.Token(I,et.SINGLETON);var B="";for(var B in R.strings)R.strings.hasOwnProperty(B)&&($.strings[B]=R.strings[B]);for(var B in U.strings)U.strings.hasOwnProperty(B)&&($.strings[B]=U.strings[B]);$.decorations=R.decorations.concat(U.decorations)}return $},et.Output.Queue.prototype.addToken=function(I,N,R){var U,$;if(U=new et.Token("output"),"string"==typeof R&&(R=this.formats.value()[R]),R&&R.strings){for($ in R.strings)R.strings.hasOwnProperty($)&&(U.strings[$]=R.strings[$]);U.decorations=R.decorations}"string"==typeof N&&(U.strings.delimiter=N),this.formats.value()[I]=U},et.Output.Queue.prototype.pushFormats=function(I){I||(I={}),I.empty=this.empty,this.formats.push(I)},et.Output.Queue.prototype.popFormats=function(){this.formats.pop()},et.Output.Queue.prototype.startTag=function(I,N){var R={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(N=this.empty,I="empty"),R[I]=N,this.pushFormats(R),this.openLevel(I)},et.Output.Queue.prototype.endTag=function(I){this.closeLevel(I),this.popFormats()},et.Output.Queue.prototype.openLevel=function(I){var N,R;"object"===$()(I)?N=new et.Blob(void 0,I):void 0===I?N=new et.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[I]||et.error('CSL processor error: call to nonexistent format token "'+I+'"'),N=new et.Blob(void 0,this.formats.value()[I],I)),R=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(N.strings.prefix=this.checkNestedBrace.update(N.strings.prefix)),R.push(N),this.current.push(N)},et.Output.Queue.prototype.closeLevel=function(I){I&&I!==this.current.value().levelname&&et.error("Level mismatch error:  wanted "+I+" but found "+this.current.value().levelname);var N=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(N.strings.suffix=this.checkNestedBrace.update(N.strings.suffix))},et.Output.Queue.prototype.append=function(I,N,R,U,$){var B,H,V,W=!0;if(R&&(U=!0),this.state.tmp["doing-macro-with-date"]&&!R){if("macro-with-date"!==N)return!1;"macro-with-date"===N&&(N="empty")}if(void 0===I)return!1;if("number"==typeof I&&(I=""+I),!R&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(H=!1,N?"literal"===N?(B=!0,W=!1):B="string"==typeof N?this.formats.value()[N]:N:B=this.formats.value().empty,B||et.error("CSL processor error: unknown format token name: "+N),B.strings&&void 0===B.strings.delimiter&&(B.strings.delimiter=""),"string"==typeof I&&I.length&&(I=I.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=I.slice(-1),I=I.replace(/\s+'/g," '"),R||(I=I.replace(/^'/g," '")),U?R&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),H=new et.Blob(I,B),void 0===(V=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),V=this.current.value()),"string"==typeof H.blobs&&(U?R&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"==typeof I){if("string"==typeof H.blobs&&" "!==H.blobs.slice(0,1)){for(var z="",X=H.blobs;et.TERMINAL_PUNCTUATION.indexOf(X.slice(0,1))>-1;)z+=X.slice(0,1),X=X.slice(1);X&&z&&(H.strings.prefix=H.strings.prefix+z,H.blobs=X)}H.strings["text-case"]&&(H.blobs=et.Output.Formatters[H.strings["text-case"]](this.state,I)),this.state.tmp.strip_periods&&!$&&(H.blobs=H.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var Q=H.decorations.length-1;Q>-1;Q+=-1)"@quotes"===H.decorations[Q][0]&&"false"!==H.decorations[Q][1]&&(H.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),H.blobs.match(et.ROMANESQUE_REGEXP)||"@font-style"===H.decorations[Q][0]&&(H.decorations=H.decorations.slice(0,Q).concat(H.decorations.slice(Q+1)));V.push(H),this.state.fun.flipflopper.processTags(H)}else W?V.push(H):V.push(I);return!0},et.Output.Queue.prototype.string=function(I,N,R){var U,B=et.getSafeEscape(this.state),H=N.slice(),V=[];if(0===H.length)return V;var W,z,X,Q,J="";R?J=R.strings.delimiter:(I.tmp.count_offset_characters=!1,I.tmp.offset_characters=0),R&&R.new_locale&&(R.old_locale=I.opt.lang,I.opt.lang=R.new_locale);for(var Z=0,tt=H.length;Z<tt;Z+=1){if((W=H[Z]).strings.first_blob&&(I.tmp.count_offset_characters=W.strings.first_blob),"string"==typeof W.blobs){if("number"==typeof W.num)V.push(W);else if(W.blobs){W.particle&&(W.blobs=W.particle+W.blobs,W.particle="");var it=(U=B(W.blobs)).length;if(!I.tmp.suppress_decorations)for(rt=0,at=W.decorations.length;rt<at;rt+=1)"@showid"!==(Q=W.decorations[rt])[0]&&(I.normalDecorIsOrphan(W,Q)||(U=I.fun.decorate[Q[0]][Q[1]].call(W,I,U,Q[2])));if(U&&U.length){if(U=B(W.strings.prefix)+U+B(W.strings.suffix),I.opt.development_extensions.csl_reverse_lookup_support&&!I.tmp.suppress_decorations)for(rt=0,at=W.decorations.length;rt<at;rt+=1)"@showid"===(Q=W.decorations[rt])[0]&&(U=I.fun.decorate[Q[0]][Q[1]].call(W,I,U,Q[2]));V.push(U),I.tmp.count_offset_characters&&(I.tmp.offset_characters+=it+W.strings.suffix.length+W.strings.prefix.length)}}}else if(W.blobs.length){var nt=I.output.string(I,W.blobs,W);if(R&&"string"!==nt&&nt.length>1&&W.strings.delimiter)for(var st=!1,rt=0,at=nt.length;rt<at;rt++)"string"!=typeof nt[rt]?st=!0:st&&(nt[rt]=W.strings.delimiter+nt[rt]);V=V.concat(nt)}W.strings.first_blob&&I.registry.registry[W.strings.first_blob]&&(I.registry.registry[W.strings.first_blob].offset=I.tmp.offset_characters,I.tmp.count_offset_characters=!1)}for(Z=0,tt=V.length-1;Z<tt;Z+=1)"number"!=typeof V[Z].num||"number"!=typeof V[Z+1].num||V[Z+1].UGLY_DELIMITER_SUPPRESS_HACK||(V[Z].strings.suffix=V[Z].strings.suffix+(J||""),V[Z+1].successor_prefix="",V[Z+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var ot=0;for(Z=0,tt=V.length;Z<tt;Z+=1)"string"==typeof V[Z]&&(ot=parseInt(Z,10)+1,Z<V.length-1&&"object"===$()(V[Z+1])&&(J&&!V[Z+1].UGLY_DELIMITER_SUPPRESS_HACK&&(V[Z]+=B(J)),V[Z+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(R&&(R.decorations.length||R.strings.suffix))ot=V.length;else if(R&&R.strings.prefix)for(Z=0,tt=V.length;Z<tt;Z++)if(void 0!==V[Z].num){ot=Z,0===Z&&(V[Z].strings.prefix=R.strings.prefix+V[Z].strings.prefix);break}var lt=I.output.renderBlobs(V.slice(0,ot),J,!1,R);if(lt&&R&&(R.decorations.length||R.strings.suffix||R.strings.prefix)){if(!I.tmp.suppress_decorations)for(Z=0,tt=R.decorations.length;Z<tt;Z+=1)Q=R.decorations[Z],["@cite","@bibliography","@display","@showid"].indexOf(Q[0])>-1||I.normalDecorIsOrphan(W,Q)||Q[0]&&"string"==typeof lt&&(lt=I.fun.decorate[Q[0]][Q[1]].call(R,I,lt,Q[2]));if(U=lt,z=R.strings.suffix,U&&U.length&&(U=B(X=R.strings.prefix)+U+B(z),I.tmp.count_offset_characters&&(I.tmp.offset_characters+=X.length+z.length)),lt=U,!I.tmp.suppress_decorations)for(Z=0,tt=R.decorations.length;Z<tt;Z+=1)Q=R.decorations[Z],-1!==["@cite","@bibliography","@display","@showid"].indexOf(Q[0])&&"string"==typeof lt&&(lt=I.fun.decorate[Q[0]][Q[1]].call(R,I,lt,Q[2]))}var ct=V.slice(ot,V.length);return!ct.length&&lt?V=[lt]:ct.length&&!lt?V=ct:lt&&ct.length&&(V=[lt].concat(ct)),void 0===R?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),I.tmp.suppress_decorations&&(V=I.output.renderBlobs(V,void 0,!1))):"boolean"==typeof R&&(V=I.output.renderBlobs(V,void 0,!0)),R&&R.new_locale&&(I.opt.lang=R.old_locale),V},et.Output.Queue.prototype.clearlevel=function(){var I,N,R;for(R=(I=this.current.value()).blobs.length,N=0;N<R;N+=1)I.blobs.pop()},et.Output.Queue.prototype.renderBlobs=function(I,N,R,U){var B,H,V,W,z,X,Q,J,Z,tt,it;if(it=et.getSafeEscape(this.state),N||(N=""),B=this.state,H="",[],V="",X=I.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===X&&"object"===$()(I[0])&&U)return I[0].strings.prefix=U.strings.prefix+I[0].strings.prefix,I[0].strings.suffix=I[0].strings.suffix+U.strings.suffix,I[0].decorations=I[0].decorations.concat(U.decorations),I[0].params=U.params,I[0];var nt=!0;for(z=0;z<X;z+=1)I[z].checkNext?(I[z].checkNext(I[z+1],nt),nt=!1):nt=!I[z+1]||!I[z+1].splice_prefix;var st=!0;for(z=I.length-1;z>0;z+=-1)I[z].checkLast?st&&I[z].checkLast(I[z-1])&&(st=!1):st=!0;for(X=I.length,z=0;z<X;z+=1)if(H&&(V=N),"string"==typeof(W=I[z]))H+=it(V),H+=W,B.tmp.count_offset_characters&&(B.tmp.offset_characters+=V.length);else if(R)H=H?[H,W]:[W];else if(W.status!==et.SUPPRESS){var rt=(Z=W.particle?W.particle+W.num:W.formatter.format(W.num,W.gender)).replace(/<[^>]*>/g,"").length;this.append(Z,"empty",!0);var at=this.pop(),ot=B.tmp.count_offset_characters;if(Z=this.string(B,[at],!1),B.tmp.count_offset_characters=ot,W.strings["text-case"]&&(Z=et.Output.Formatters[W.strings["text-case"]](this.state,Z)),Z&&this.state.tmp.strip_periods&&(Z=Z.replace(/\.([^a-z]|$)/g,"$1")),!B.tmp.suppress_decorations)for(J=W.decorations.length,Q=0;Q<J;Q+=1)tt=W.decorations[Q],B.normalDecorIsOrphan(W,tt)||(Z=B.fun.decorate[tt[0]][tt[1]].call(W,B,Z,tt[2]));Z=it(W.strings.prefix)+Z+it(W.strings.suffix);var lt="";W.status===et.END?lt=it(W.range_prefix):W.status===et.SUCCESSOR?lt=it(W.successor_prefix):W.status===et.START?lt=z>0&&!W.suppress_splice_prefix?it(W.splice_prefix):"":W.status===et.SEEN&&(lt=it(W.splice_prefix)),H+=lt,H+=Z,B.tmp.count_offset_characters&&(B.tmp.offset_characters+=lt.length+W.strings.prefix.length+rt+W.strings.suffix.length)}return H},et.Output.Queue.purgeEmptyBlobs=function(I){if("object"===$()(I)&&"object"===$()(I.blobs)&&I.blobs.length)for(var N=I.blobs.length-1;N>-1;N--){et.Output.Queue.purgeEmptyBlobs(I.blobs[N]);var R=I.blobs[N];if(!R||!R.blobs||!R.blobs.length){for(var U=[];I.blobs.length-1>N;)U.push(I.blobs.pop());for(I.blobs.pop();U.length;)I.blobs.push(U.pop())}}},et.Output.Queue.adjust=function(I){var N={";":!0,":":!0},R={".":!0,"!":!0,"?":!0},U={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},B={},H={},V={},W={};for(var z in U)V[z]=!0,W[z]=!0,N[z]||(B[z]=!0),R[z]||(H[z]=!0);W[" "]=!0,W[" "]=!0;var X={};for(var z in U)for(var Q in U[z])X[Q]||(X[Q]={}),X[Q][z]=U[z][Q];function blobIsNumber(I){return"number"==typeof I.num||I.blobs&&1===I.blobs.length&&"number"==typeof I.blobs[0].num}function blobEndsInNumber(I){return"number"==typeof I.num||!(!I.blobs||"object"!==$()(I.blobs))&&(!!blobEndsInNumber(I.blobs[I.blobs.length-1])||void 0)}function blobHasDecorations(I,N){var R=!1,U=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(N&&U.push("@quotes"),I.decorations)for(var $=0,B=I.decorations.length;$<B;$++)if(U.indexOf(I.decorations[$][0])>-1){R=!0;break}return R}function blobHasDescendantQuotes(I){if(I.decorations)for(var N=0,R=I.decorations.length;N<R;N++)if("@quotes"===I.decorations[N][0]&&"false"!==I.decorations[N][1])return!0;return"object"===$()(I.blobs)&&blobHasDescendantQuotes(I.blobs[I.blobs.length-1])}function blobHasDescendantMergingPunctuation(I,N){var R=N.strings.suffix.slice(-1);R||"string"!=typeof N.blobs||(R=N.blobs.slice(-1));var U=X[I][R];return!(!U||1!==U.length)||"object"===$()(N.blobs)&&!!blobHasDescendantMergingPunctuation(I,N.blobs[N.blobs.length-1])}function matchLastChar(I,N){if(!V[N])return!1;if("string"==typeof I.blobs)return I.blobs.slice(-1)===N;var R=I.blobs[I.blobs.length-1];return!!R&&(R.strings.suffix.slice(-1)?R.strings.suffix.slice(-1)==N:matchLastChar(R,N))}function mergeChars(I,N,R,$,B){var H="blobs"===N?I:I.strings,V="blobs"===$?R:R.strings,W=H[N].slice(-1),z=V[$].slice(0,1);function cullRight(){V[$]=V[$].slice(1)}function cullLeft(){H[N]=H[N].slice(0,-1)}function addRight(I){V[$]=I+V[$]}function addLeft(I){H[N]+=I}var Q=B?function matchOnLeft(){return U[W]}:function matchOnRight(){return X[z]};var J=B?function mergeToRight(){var I=U[W][z];"string"==typeof I?(cullLeft(),cullRight(),addRight(I)):(addRight(W),cullLeft())}:function mergeToLeft(){var I=X[z][W];"string"==typeof I?(cullLeft(),cullRight(),addLeft(I)):(addLeft(z),cullRight())};W===z?(B?cullLeft:cullRight)():Q()&&J()}function swapToTheLeft(I){var N=I.strings.suffix.slice(0,1);if("string"==typeof I.blobs)for(;B[N];)mergeChars(I,"blobs",I,"suffix"),N=I.strings.suffix.slice(0,1);else for(;B[N];)mergeChars(I.blobs[I.blobs.length-1],"suffix",I,"suffix"),N=I.strings.suffix.slice(0,1)}function swapToTheRight(I){if("string"==typeof I.blobs)for(var N=I.blobs.slice(-1);H[N];)mergeChars(I,"blobs",I,"suffix",!0),N=I.blobs.slice(-1);else for(N=I.blobs[I.blobs.length-1].strings.suffix.slice(-1);H[N];)mergeChars(I.blobs[I.blobs.length-1],"suffix",I,"suffix",!0),N=I.blobs[I.blobs.length-1].strings.suffix.slice(-1)}this.upward=function upward(I){if(I.blobs&&"string"==typeof I.blobs)V[I.strings.suffix.slice(0,1)]&&I.strings.suffix.slice(0,1)===I.blobs.slice(-1)&&(I.strings.suffix=I.strings.suffix.slice(1));else if("object"===$()(I)&&"object"===$()(I.blobs)&&I.blobs.length)for(var N=blobHasDecorations(I,!0),R=I.blobs.length-1;R>-1;R--){this.upward(I.blobs[R]);var U=I.strings,B=I.blobs[R].strings;if(0===R){" "===U.prefix.slice(-1)&&" "===B.prefix.slice(0,1)&&(B.prefix=B.prefix.slice(1));var H=B.prefix.slice(0,1);N||!W[H]||U.prefix||(U.prefix+=H,B.prefix=B.prefix.slice(1))}if(R===I.blobs.length-1){H=B.suffix.slice(-1);!N&&[" "].indexOf(H)>-1&&(U.suffix.slice(0,1)!==H&&(U.suffix=H+U.suffix),B.suffix=B.suffix.slice(0,-1))}U.delimiter&&R>0&&W[U.delimiter.slice(-1)]&&U.delimiter.slice(-1)===B.prefix.slice(0,1)&&(B.prefix=B.prefix.slice(1))}},this.leftward=function leftward(I){if("object"===$()(I)&&"object"===$()(I.blobs)&&I.blobs.length)for(var N=I.blobs.length-1;N>-1;N--)if(this.leftward(I.blobs[N]),N<I.blobs.length-1&&!I.strings.delimiter){var R=I.blobs[N],U=R.strings.suffix.slice(-1),B=I.blobs[N+1],H=B.strings.prefix.slice(0,1),W="number"==typeof U||"number"==typeof H;if(!(blobHasDecorations(R)||blobHasDecorations(B))&&!W&&V[H]&&!W){var z=H===R.strings.suffix.slice(-1),X=!R.strings.suffix&&"string"==typeof R.blobs&&R.blobs.slice(-1)===H;z||X?B.strings.prefix=B.strings.prefix.slice(1):mergeChars(R,"suffix",B,"prefix")}}},this.downward=function downward(N){if(N.blobs&&"string"==typeof N.blobs)V[N.strings.suffix.slice(0,1)]&&N.strings.suffix.slice(0,1)===N.blobs.slice(-1)&&(N.strings.suffix=N.strings.suffix.slice(1));else if("object"===$()(N)&&"object"===$()(N.blobs)&&N.blobs.length){for(var R=N.strings,U=0,B=N.blobs.length;U<B;U++)if(blobIsNumber(N.blobs[U])){!0;break}if(R.delimiter&&V[R.delimiter.slice(0,1)]){var H=R.delimiter.slice(0,1);for(U=N.blobs.length-2;U>-1;U--){(X=N.blobs[U].strings).suffix.slice(-1)!==H&&(X.suffix+=H)}R.delimiter=R.delimiter.slice(1)}for(U=N.blobs.length-1;U>-1;U--){var z=N.blobs[U],X=N.blobs[U].strings,Q=blobHasDecorations(z,!0),J=blobIsNumber(z);if(U===N.blobs.length-1){var Z=R.suffix.slice(0,1),tt=!1;V[Z]&&!(tt=blobHasDescendantMergingPunctuation(Z,z))&&I&&(tt=blobHasDescendantQuotes(z)),tt&&V[Z]&&(blobEndsInNumber(z)||("string"==typeof z.blobs?mergeChars(z,"blobs",N,"suffix"):mergeChars(z,"suffix",N,"suffix"),"."===R.suffix.slice(0,1)&&(X.suffix+=R.suffix.slice(0,1),R.suffix=R.suffix.slice(1))))," "===X.suffix.slice(-1)&&" "===R.suffix.slice(0,1)&&(R.suffix=R.suffix.slice(1)),W[X.suffix.slice(0,1)]&&("string"==typeof z.blobs&&z.blobs.slice(-1)===X.suffix.slice(0,1)&&(X.suffix=X.suffix.slice(1)),X.suffix.slice(-1)===R.suffix.slice(0,1)&&(R.suffix=R.suffix.slice(0,-1))),matchLastChar(N,N.strings.suffix.slice(0,1))&&(N.strings.suffix=N.strings.suffix.slice(1))}else if(R.delimiter)W[R.delimiter.slice(0,1)]&&R.delimiter.slice(0,1)===X.suffix.slice(-1)&&(N.blobs[U].strings.suffix=N.blobs[U].strings.suffix.slice(0,-1));else{var et=N.blobs[U+1].strings;blobIsNumber(z)||Q||!W[X.suffix.slice(-1)]||X.suffix.slice(-1)!==et.prefix.slice(0,1)||(et.prefix=et.prefix.slice(1))}J||Q||!V[X.suffix.slice(0,1)]||"string"!=typeof z.blobs||mergeChars(z,"blobs",z,"suffix"),this.downward(N.blobs[U])}}},this.fix=function fix(N){if("object"===$()(N)&&"object"===$()(N.blobs)&&N.blobs.length){for(var R,U=0,B=N.blobs.length;U<B;U++){for(var H=N.blobs[U],V=!1,W=0,z=H.decorations.length;W<z;W++){var X=H.decorations[W];"@quotes"===X[0]&&"false"!==X[1]&&(V=!0)}V&&(I?swapToTheLeft(H):swapToTheRight(H)),R=this.fix(N.blobs[U]),H.blobs&&"string"==typeof H.blobs&&(R=H.blobs.slice(-1))}return R}}},et.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=et.NONE,this.bib_mode=et.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},et.Engine.Tmp=function(){this.names_max=new et.Stack,this.names_base=new et.Stack,this.givens_base=new et.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new et.Stack(0,et.LITERAL),this.element_rendered_ok=!1,this.element_trace=new et.Stack("style"),this.nameset_counter=0,this.group_context=new et.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new et.Stack(0,et.LITERAL),this.decorations=new et.Stack,this.tokenstore_stack=new et.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new et.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new et.AmbigConfig,this.bib_sort_keys=[],this.prefix=new et.Stack("",et.LITERAL),this.suffix=new et.Stack("",et.LITERAL),this.delimiter=new et.Stack("",et.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},et.Engine.Fun=function(I){this.match=new et.Util.Match,this.suffixator=new et.Util.Suffixator(et.SUFFIX_CHARS),this.romanizer=new et.Util.Romanizer,this.ordinalizer=new et.Util.Ordinalizer(I),this.long_ordinalizer=new et.Util.LongOrdinalizer},et.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new et.Stack(0,et.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},et.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},et.Engine.Citation=function(I){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new et.Registry.Comparifier(I,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},et.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},et.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=et.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},et.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},et.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},et.Engine.prototype.previewCitationCluster=function(I,N,R,U){var $=this.opt.mode;this.setOutputFormat(U),I.citationID&&delete I.citationID;var B=this.processCitationCluster(I,N,R,et.PREVIEW);return this.setOutputFormat($),B[1]},et.Engine.prototype.appendCitationCluster=function(I){for(var N=[],R=this.registry.citationreg.citationByIndex.length,U=0;U<R;U+=1){var $=this.registry.citationreg.citationByIndex[U];N.push([""+$.citationID,$.properties.noteIndex])}return this.processCitationCluster(I,N,[])[1]},et.Engine.prototype.processCitationCluster=function(I,N,R,U){var $,B,H,V,W,z,X,Q,J,Z,tt,it,nt,st,rt,at,ot;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(I),U===et.PREVIEW){this.debug&&et.debug("****** start state save *********"),rt=this.registry.citationreg.citationByIndex.slice(),at=this.registry.reflist.slice();for(var lt=N.concat(R),ct={},ut=[],ht=0,pt=lt.length;ht<pt;ht+=1)for(V=0,W=($=this.registry.citationreg.citationById[lt[ht][0]]).citationItems.length;V<W;V+=1)ct[$.citationItems[V].id]=!0,ut.push(""+$.citationItems[V].id);for(V=0,W=I.citationItems.length;V<W;V+=1)ct[I.citationItems[V].id]=!0,ut.push(""+I.citationItems[V].id);ot={};for(ht=0,pt=at.length;ht<pt;ht+=1)if(!ct[at[ht].id]){var dt=this.registry.registry[at[ht].id].ambig,ft=this.registry.ambigcites[dt];if(ft)for(V=0,W=ft.length;V<W;V+=1)ot[ft[V]]=et.cloneAmbigConfig(this.registry.registry[ft[V]].disambig)}this.debug&&et.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var mt=[],gt={};for(ht=0,pt=I.citationItems.length;ht<pt;ht+=1){for(var vt in tt={},I.citationItems[ht])tt[vt]=I.citationItems[ht][vt];var bt;if((Z=this.retrieveItem(""+tt.id)).id&&this.transform.loadAbbreviation("default","hereinafter",Z.id,Z.language),tt=et.parseLocator.call(this,tt),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[Z,tt]]),this.opt.development_extensions.locator_label_parse)if(tt.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(Z.type)&&(!tt.label||"page"===tt.label))if(bt=et.LOCATOR_LABELS_REGEXP.exec(tt.locator)){var _t=et.LOCATOR_LABELS_MAP[bt[2]];this.getTerm(_t)&&(tt.label=_t,tt.locator=bt[3])}var yt=[Z,tt];mt.push(yt),I.citationItems[ht].item=Z}I.sortedItems=mt;var xt,wt=[],Tt={};for(ht=0,pt=N.length;ht<pt;ht+=1)B=N[ht],this.opt.development_extensions.strict_inputs&&(Tt[B[0]]&&et.error("Previously referenced citationID "+B[0]+" encountered in citationsPre"),B[1]&&(xt>B[1]&&et.debug("Note index sequence is not sane at citationsPre["+ht+"]"),xt=B[1])),this.registry.citationreg.citationById[B[0]].properties.noteIndex=B[1],wt.push(this.registry.citationreg.citationById[B[0]]),Tt[B[0]]=this.registry.citationreg.citationById[B[0]];for(I.properties||(I.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(Tt[I.citationID]&&et.error("Citation with previously referenced citationID "+I.citationID),I.properties.noteIndex&&(xt>I.properties.noteIndex&&et.debug("Note index sequence is not sane for citation "+I.citationID),xt=I.properties.noteIndex)),wt.push(I),Tt[I.citationID]=I,ht=0,pt=R.length;ht<pt;ht+=1)H=R[ht],this.opt.development_extensions.strict_inputs&&(Tt[H[0]]&&et.error("Previously referenced citationID "+H[0]+" encountered in citationsPost"),H[1]&&(xt>H[1]&&et.debug("Note index sequence is not sane at postCitation["+ht+"]"),xt=H[1])),this.registry.citationreg.citationById[H[0]].properties.noteIndex=H[1],wt.push(this.registry.citationreg.citationById[H[0]]),Tt[H[0]]=this.registry.citationreg.citationById[H[0]];this.registry.citationreg.citationByIndex=wt,this.registry.citationreg.citationById=Tt,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===et.POSITION&&(nt=[],it=[],st={});var Et,St=[];for(ht=0,pt=wt.length;ht<pt;ht+=1){for(wt[ht].properties.index=ht,V=0,W=wt[ht].sortedItems.length;V<W;V+=1)tt=wt[ht].sortedItems[V],this.registry.citationreg.citationsByItemId[tt[1].id]||(this.registry.citationreg.citationsByItemId[tt[1].id]=[],St.push(""+tt[1].id)),-1===this.registry.citationreg.citationsByItemId[tt[1].id].indexOf(wt[ht])&&this.registry.citationreg.citationsByItemId[tt[1].id].push(wt[ht]);this.opt.update_mode===et.POSITION&&(wt[ht].properties.noteIndex?it.push(wt[ht]):(wt[ht].properties.noteIndex=0,nt.push(wt[ht])))}if(U!==et.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&et.debug("****** start update items *********"),this.updateItems(St,null,null,!0),this.debug&&et.debug("****** endo update items *********")),!this.opt.citation_number_sort&&mt&&mt.length>1&&this.citation_sort.tokens.length>0){for(ht=0,pt=mt.length;ht<pt;ht+=1)mt[ht][1].sortkeys=et.getSortKeys.call(this,mt[ht][0],"citation_sort");if(this.opt.grouped_sort&&!I.properties.unsorted){for(ht=0,pt=mt.length;ht<pt;ht+=1){var kt=mt[ht][1].sortkeys;this.tmp.authorstring_request=!0;var Ct=this.registry.registry[mt[ht][0].id].disambig;this.tmp.authorstring_request=!0,et.getAmbiguousCite.call(this,mt[ht][0],Ct);var Ot=this.registry.authorstrings[mt[ht][0].id];this.tmp.authorstring_request=!1,mt[ht][1].sortkeys=[Ot].concat(kt)}mt.sort(this.citation.srt.compareCompositeKeys);var At=!1,It=!1,Nt=!1;for(ht=0,pt=mt.length;ht<pt;ht+=1)mt[ht][1].sortkeys[0]!==At&&(Nt=mt[ht][1].sortkeys[0],It=mt[ht][1].sortkeys[1]),mt[ht][1].sortkeys[0]=""+It+ht,At=Nt}I.properties.unsorted||mt.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(I.sortedItems),this.opt.update_mode===et.POSITION)for(ht=0;ht<2;ht+=1){var Dt={},Rt={},Lt={};for(V=0,W=(Et=[nt,it][ht]).length;V<W;V+=1){var Pt=Et[V];for(Et[V].properties.noteIndex||(Et[V].properties.noteIndex=0),Et[V].properties.noteIndex=parseInt(Et[V].properties.noteIndex,10),V>0&&Pt.properties.noteIndex&&Et[V-1].properties.noteIndex>Pt.properties.noteIndex&&(st={},Dt={},Rt={},Lt={}),z=0,X=Pt.sortedItems.length;z<X;z+=1)Pt.sortedItems[z][1].parallel&&"first"!==Pt.sortedItems[z][1].parallel||(st[Pt.properties.noteIndex]?st[Pt.properties.noteIndex]+=1:st[Pt.properties.noteIndex]=1);for(z=0,X=Et[V].sortedItems.length;z<X;z+=1){var Mt,jt,Ft=(tt=Et[V].sortedItems[z])[0].id,Ut=tt[0].legislation_id?tt[0].legislation_id:tt[0].id,$t=tt[0].legislation_id?tt[0].legislation_id:tt[0].container_id?tt[0].container_id:tt[0].id,qt=tt[1]["locator-extra"],Bt=tt[1].locator,Ht=tt[1].label;if(z>0)if(Pt.sortedItems[z-1][0].legislation_id)Mt=Pt.sortedItems[z-1][0].legislation_id;else{Mt=Pt.sortedItems[z-1][1].id,jt=Pt.sortedItems[z-1][1]["locator-extra"];for(var Vt=z-2;Vt>-1;Vt--)"first"===Pt.sortedItems[Vt][1].parallel&&(Mt=Pt.sortedItems[Vt][1].id,jt=Pt.sortedItems[Vt][1]["locator-extra"])}if(U!==et.PREVIEW||Pt.citationID==I.citationID){var Wt,zt,Gt={};if(Gt.position=tt[1].position,Gt["first-reference-note-number"]=tt[1]["first-reference-note-number"],Gt["first-container-reference-note-number"]=tt[1]["first-container-reference-note-number"],Gt["near-note"]=tt[1]["near-note"],tt[1]["first-reference-note-number"]=0,tt[1]["first-container-reference-note-number"]=0,tt[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Ft]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var Xt=this.registry.registry[tt[0].id]["citation-count"],Kt=this.registry.citationreg.citationsByItemId[Ft].length;if(this.registry.registry[tt[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Ft].length,"number"==typeof Xt){if(Xt<2!==Kt<2){Vt=0;for(var Yt=this.registry.citationreg.citationsByItemId[Ft].length;Vt<Yt;Vt++)gt[this.registry.registry[tt[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Ft][Vt].citationID]=!0}}else for(Vt=0,Yt=this.registry.citationreg.citationsByItemId[Ft].length;Vt<Yt;Vt++)gt[this.registry.registry[tt[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Ft][Vt].citationID]=!0}if(void 0===Rt[$t]&&"author-only"!==Pt.properties.mode)Dt[Ut]=Pt.properties.noteIndex,Rt[$t]=Pt.properties.noteIndex,Lt[$t]=Pt.properties.noteIndex,tt[1].position=et.POSITION_FIRST;else{var Qt=!1,Jt=!1,Zt=null;if(V>0)Zt=Et[V-1];var te,ee,ie,ne,se=Et[V];if(V>0){var re=1;"author-only"===Zt.properties.mode&&V>1&&(re=2);var ae=V-re;Et[ae].sortedItems.length&&(Wt=Et[ae].sortedItems.slice(-1)[0][1].id,zt=Et[V-re].sortedItems.slice(-1)[0][1]["locator-extra"]),Zt.sortedItems.length&&Zt.sortedItems[0].slice(-1)[0].legislation_id&&(Wt=Zt.sortedItems[0].slice(-1)[0].legislation_id)}if(V>0&&0===z&&Zt.properties.noteIndex!==se.properties.noteIndex){var oe=!1,le=Zt.sortedItems[0][0].id;if(Zt.sortedItems[0][0].legislation_id&&(le=Zt.sortedItems[0][0].legislation_id),le==Ut&&Zt.properties.noteIndex>=se.properties.noteIndex-1){var ce=Zt.sortedItems[0][1]["locator-extra"],ue=se.sortedItems[0][1]["locator-extra"];1!==st[Zt.properties.noteIndex]&&0!==Zt.properties.noteIndex||ce!==ue||(oe=!0)}oe?Qt=!0:Jt=!0}else z>0&&Mt==Ut&&jt==qt||0===z&&V>0&&Zt.properties.noteIndex==se.properties.noteIndex&&Zt.sortedItems.length&&Wt==Ut&&zt==qt?Qt=!0:Jt=!0;Qt&&((te=z>0?Pt.sortedItems[z-1][1]:Et[V-1].sortedItems[0][1]).locator?(ie=te.label?te.label:"",ee=""+te.locator+ie):ee=te.locator,ne=Bt?""+Bt+(Ht||""):Bt),Qt&&ee&&!ne&&(Qt=!1,Jt=!0),Qt&&(!ee&&ne?tt[1].position=et.POSITION_IBID_WITH_LOCATOR:ee||ne?ee&&ne===ee?tt[1].position=et.POSITION_IBID:ee&&ne&&ne!==ee?tt[1].position=et.POSITION_IBID_WITH_LOCATOR:(Qt=!1,Jt=!0):tt[1].position=et.POSITION_IBID),Jt&&(tt[1].position=et.POSITION_CONTAINER_SUBSEQUENT,void 0===Dt[Ut]?Dt[Ut]=Pt.properties.noteIndex:tt[1].position=et.POSITION_SUBSEQUENT),(Jt||Qt)&&("author-only"===Pt.properties.mode&&(tt[1].position=et.POSITION_FIRST),Lt[$t]!=Pt.properties.noteIndex&&(tt[1]["first-container-reference-note-number"]=Lt[$t],this.registry.registry[tt[0].id]&&(this.registry.registry[tt[0].id]["first-container-reference-note-number"]=Lt[$t])),Dt[Ut]!=Pt.properties.noteIndex&&(tt[1]["first-reference-note-number"]=Dt[Ut],this.registry.registry[tt[0].id]&&(this.registry.registry[tt[0].id]["first-reference-note-number"]=Dt[Ut])))}if(Pt.properties.noteIndex){var he=parseInt(Pt.properties.noteIndex,10)-parseInt(Rt[$t],10);tt[1].position!==et.POSITION_FIRST&&he<=this.citation.opt["near-note-distance"]&&(tt[1]["near-note"]=!0),Rt[$t]=Pt.properties.noteIndex}else tt[1].position!==et.POSITION_FIRST&&(tt[1]["near-note"]=!0);if(Pt.citationID!=I.citationID)for(Q=0,J=et.POSITION_TEST_VARS.length;Q<J;Q+=1){var pe=et.POSITION_TEST_VARS[Q];tt[1][pe]!==Gt[pe]&&(this.registry.registry[tt[0].id]&&"first-reference-note-number"===pe&&(gt[this.registry.registry[tt[0].id].ambig]=!0,this.tmp.taintedItemIDs[tt[0].id]=!0),this.tmp.taintedCitationIDs[Pt.citationID]=!0)}this.sys.variableWrapper&&(tt[1].index=Pt.properties.index,tt[1].noteIndex=Pt.properties.noteIndex)}else void 0===Dt[tt[1].id]?(Dt[Ut]=Pt.properties.noteIndex,Rt[$t]=Pt.properties.noteIndex):Rt[$t]=Pt.properties.noteIndex}}}if(this.opt.citation_number_sort&&mt&&mt.length>1&&this.citation_sort.tokens.length>0&&!I.properties.unsorted){for(ht=0,pt=mt.length;ht<pt;ht+=1)mt[ht][1].sortkeys=et.getSortKeys.call(this,mt[ht][0],"citation_sort");mt.sort(this.citation.srt.compareCompositeKeys)}for(var vt in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(vt)&&(Et=this.registry.citationreg.citationsByItemId[vt]))for(ht=0,pt=Et.length;ht<pt;ht+=1)this.tmp.taintedCitationIDs[Et[ht].citationID]=!0;var de=[];if(U===et.PREVIEW){this.debug&&et.debug("****** start run processor *********");try{de=this.process_CitationCluster.call(this,I.sortedItems,I)}catch(I){et.error("Error running CSL processor for preview: "+I)}this.debug&&(et.debug("****** end run processor *********"),et.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=rt,this.registry.citationreg.citationById={};for(ht=0,pt=rt.length;ht<pt;ht+=1)this.registry.citationreg.citationById[rt[ht].citationID]=rt[ht];this.debug&&et.debug("****** start final update *********");var fe=[];for(ht=0,pt=at.length;ht<pt;ht+=1)fe.push(""+at[ht].id);for(var vt in this.updateItems(fe,null,null,!0),this.debug&&et.debug("****** end final update *********"),ot)ot.hasOwnProperty(vt)&&(this.registry.registry[vt].disambig=ot[vt]);this.debug&&et.debug("****** end state restore *********")}else{for(var me in gt)this.disambiguate.run(me,I);var ge;for(var vt in this.tmp.taintedCitationIDs)if(vt!=I.citationID){var ve=this.registry.citationreg.citationById[vt];if(!ve.properties.unsorted){for(ht=0,pt=ve.sortedItems.length;ht<pt;ht+=1)ve.sortedItems[ht][1].sortkeys=et.getSortKeys.call(this,ve.sortedItems[ht][0],"citation_sort");ve.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=ve.properties.index,this.tmp.citation_note_index=ve.properties.noteIndex,this.tmp.citation_id=""+ve.citationID,(ge=[]).push(ve.properties.index),ge.push(this.process_CitationCluster.call(this,ve.sortedItems,ve)),ge.push(ve.citationID),de.push(ge)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=I.properties.index,this.tmp.citation_note_index=I.properties.noteIndex,this.tmp.citation_id=""+I.citationID,(ge=[]).push(N.length),ge.push(this.process_CitationCluster.call(this,mt,I)),ge.push(I.citationID),de.push(ge),de.sort((function(I,N){return I[0]>N[0]?1:I[0]<N[0]?-1:0}))}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,de]},et.Engine.prototype.process_CitationCluster=function(I,N){var R="";if(N&&N.properties&&"composite"===N.properties.mode){N.properties.mode="author-only";var U=et.getCitationCluster.call(this,I,N);N.properties.mode="suppress-author";var B="";N.properties.infix&&(this.output.append(N.properties.infix),B=this.output.string(this,this.output.queue),"object"===$()(B)&&(B=B.join("")));var H=et.getCitationCluster.call(this,I,N);N.properties.mode="composite",U&&B&&et.SWAPPING_PUNCTUATION.concat(["’","'"]).indexOf(B[0])>-1&&(U+=B,B=!1),R=[U,B,H].filter((function(I){return I})).join(" ")}else R=et.getCitationCluster.call(this,I,N);return R},et.Engine.prototype.makeCitationCluster=function(I){var N,R,U,$,B,H;for(N=[],$=I.length,U=0;U<$;U+=1){for(var V in B={},I[U])B[V]=I[U][V];if(H=this.retrieveItem(""+B.id),this.opt.development_extensions.locator_label_parse&&B.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(H.type)&&(!B.label||"page"===B.label)){var W=et.LOCATOR_LABELS_REGEXP.exec(B.locator);if(W){var z=et.LOCATOR_LABELS_MAP[W[2]];this.getTerm(z)&&(B.label=z,B.locator=W[3])}}B.locator&&(B.locator=(""+B.locator).replace(/\s+$/,"")),R=[H,B],N.push(R)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(N),N&&N.length>1&&this.citation_sort.tokens.length>0){for($=N.length,U=0;U<$;U+=1)N[U][1].sortkeys=et.getSortKeys.call(this,N[U][0],"citation_sort");N.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],et.getCitationCluster.call(this,N)},et.getAmbiguousCite=function(I,N,R,U){var $=this.tmp.group_context.tip,B={term_intended:$.term_intended,variable_attempt:$.variable_attempt,variable_success:$.variable_success,output_tip:$.output_tip,label_form:$.label_form,non_parallel:$.non_parallel,parallel_last:$.parallel_last,parallel_first:$.parallel_first,parallel_last_override:$.parallel_last_override,parallel_delimiter_override:$.parallel_delimiter_override,parallel_delimiter_override_on_suppress:$.parallel_delimiter_override_on_suppress,condition:$.condition,force_suppress:$.force_suppress,done_vars:$.done_vars.slice()};this.tmp.disambig_request=N||!1;var H={position:et.POSITION_SUBSEQUENT,"near-note":!0};U&&(H.locator=U.locator,H.label=U.label),this.registry.registry[I.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[I.id]&&this.registry.citationreg.citationsByItemId[I.id].length&&R&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(H["first-reference-note-number"]=this.registry.registry[I.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var V=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,et.getCite.call(this,I,H,null,!1);for(var W=0,z=this.output.queue.length;W<z;W+=1)et.Output.Queue.purgeEmptyBlobs(this.output.queue[W]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var X=0,Q=this.output.queue.length;X<Q;X+=1)this.output.adjust.upward(this.output.queue[X]),this.output.adjust.leftward(this.output.queue[X]),this.output.adjust.downward(this.output.queue[X]),this.output.adjust.fix(this.output.queue[X]);var J=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=V,this.tmp.group_context.replace(B),J},et.getSpliceDelimiter=function(I,N,R){if(void 0!==this.citation.opt["after-collapse-delimiter"])I||N&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:N||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==et.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[R-1]){var U=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[R-1]];U&&U.delimiter&&(this.tmp.splice_delimiter=U.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},et.getCitationCluster=function(I,N){var R,U,B,H,V,W,z,X,Q,J,Z,tt,it,nt,st,rt,at,ot,lt,ct,ut,ht="";this.output.checkNestedBrace=new et.checkNestedBrace(this),N&&(lt=N.citationID,ct="author-only"===N.properties.mode&&!!N.properties.mode,"note"!==this.opt.xclass&&(ut="suppress-author"===N.properties.mode&&!!N.properties.mode),N.properties.prefix&&(ht=et.checkPrefixSpaceAppend(this,N.properties.prefix))),I=I||[],this.tmp.last_primary_names_string=!1,at=et.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",R="",U=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var pt=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+ht),dt=!1;if(this.citation.opt.suppressTrailingPunctuation&&(dt=!0),lt&&this.registry.citationreg.citationById[lt].properties["suppress-trailing-punctuation"]&&(dt=!0),"note"===this.opt.xclass){for(var ft=[],mt=!1,gt=!1,vt=[],bt=0,_t=I.length;bt<_t;bt+=1){var yt=I[bt][0].type,xt=I[bt][0].title,wt=I[bt][1].position,Tt=I[bt][0].id;xt&&"legal_case"===yt&&Tt!==gt&&wt&&(xt===mt&&0!==ft.length||(vt=[],ft.push(vt)),vt.push(I[bt][1])),mt=xt,wt,gt=Tt}for(bt=0,_t=ft.length;bt<_t;bt+=1)if(!((vt=ft[bt]).length<2)){var Et=vt.slice(-1)[0].locator;if(Et)for(var St=0,kt=vt.length-1;St<kt;St+=1)vt[St].locator&&(Et=!1);Et&&(vt[0].locator=Et,delete vt.slice(-1)[0].locator,vt[0].label=vt.slice(-1)[0].label,vt.slice(-1)[0].label&&delete vt.slice(-1)[0].label)}}for(B=[],H=I.length,I[0]&&I[0][1]&&(ct?(delete I[0][1]["suppress-author"],I[0][1]["author-only"]=!0):ut&&(delete I[0][1]["author-only"],I[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(I),V=0;V<H;V+=1){this.tmp.cite_index=V,tt=I[V][0],W=I[V][1],W=et.parseLocator.call(this,W),z=this.tmp.have_collapsed;var Ct=!1;if(V>0&&I[V-1][1]&&(Ct=!!I[V-1][1].locator),X={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var Ot=this.output;this.output=new et.Output.Queue(this),this.output.adjust=new et.Output.Queue.adjust,et.getAmbiguousCite.call(this,tt,null,!1,W),this.output=Ot}if(this.tmp.in_cite_predecessor=!1,V>0?et.getCite.call(this,tt,W,""+I[V-1][0].id,!0):(this.tmp.term_predecessor=!1,et.getCite.call(this,tt,W,null,!0)),this.tmp.cite_renders_content||(ot={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+tt.id,citationItems_pos:V,error_code:et.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(ot)),X.splice_delimiter=et.getSpliceDelimiter.call(this,Ct,z,V),W&&W["author-only"]&&(this.tmp.suppress_decorations=!0),V>0){var At=(rt=I[V-1][1]).suffix&&[";",".",","].indexOf(rt.suffix.slice(-1))>-1,It=!rt.suffix&&W.prefix&&[";",".",","].indexOf(W.prefix.slice(0,1))>-1;if(At||It){var Nt=X.splice_delimiter.indexOf(" ");X.splice_delimiter=Nt>-1&&!It?X.splice_delimiter.slice(Nt):""}}if(X.suppress_decorations=this.tmp.suppress_decorations,X.have_collapsed=this.tmp.have_collapsed,B.push(X),W["author-only"])break}Z=this.output.queue.slice();var Dt="";N&&(Dt=et.checkSuffixSpacePrepend(this,N.properties.suffix));var Rt=this.citation.opt.layout_suffix,Lt=this.tmp.cite_locales[this.tmp.cite_locales.length-1];Lt&&this.tmp.cite_affixes[this.tmp.area][Lt]&&this.tmp.cite_affixes[this.tmp.area][Lt].suffix&&(Rt=this.tmp.cite_affixes[this.tmp.area][Lt].suffix),et.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(Rt.slice(0,1))>-1&&(Rt=Rt.slice(0,1)),Rt=this.output.checkNestedBrace.update(Dt+Rt);for(bt=0,_t=this.output.queue.length;bt<_t;bt+=1)et.Output.Queue.purgeEmptyBlobs(this.output.queue[bt]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(dt||(this.output.queue[this.output.queue.length-1].strings.suffix=Rt),this.output.queue[0].strings.prefix=pt)),this.opt.development_extensions.clean_up_csl_flaws)for(St=0,kt=this.output.queue.length;St<kt;St+=1)this.output.adjust.upward(this.output.queue[St]),this.output.adjust.leftward(this.output.queue[St]),this.output.adjust.downward(this.output.queue[St]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[St]);for(V=0,H=Z.length;V<H;V+=1){var Pt=[];if(this.output.queue=[Z[V]],this.tmp.suppress_decorations=B[V].suppress_decorations,this.tmp.splice_delimiter=B[V].splice_delimiter,Z[V].parallel_delimiter&&(this.tmp.splice_delimiter=Z[V].parallel_delimiter),this.tmp.have_collapsed=B[V].have_collapsed,Q=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof Q)return this.tmp.suppress_decorations=!1,Q||(this.opt.development_extensions.throw_on_empty?et.error("Citation would render no content"):Q="[NO_PRINTED_FORM]"),Q;if("object"===$()(Q)&&0===Q.length&&!W["suppress-author"])if(0===V){var Mt=0===V?at(this.citation.opt.layout_prefix):"",jt=V===Z.length-1?at(this.citation.opt.layout_suffix):"";Q.push(Mt+"[CSL STYLE ERROR: reference with no printed form.]"+jt)}else if(V===Z.length-1){var Ft=U[U.length-1];"string"==typeof Ft?U[U.length-1]+=at(this.citation.opt.layout_suffix):"object"===$()(Ft)&&(Ft.strings.suffix+=at(this.citation.opt.layout_suffix))}if(Pt.length&&"string"==typeof Q[0]){Q.reverse();var Ut=Q.pop();Ut&&","===Ut.slice(0,1)?Pt.push(Ut):"string"==typeof Pt.slice(-1)[0]&&","===Pt.slice(-1)[0].slice(-1)?Pt.push(" "+Ut):Ut&&Pt.push(at(this.tmp.splice_delimiter)+Ut)}else Q.reverse(),void 0!==(J=Q.pop())&&(Pt.length&&"string"==typeof Pt[Pt.length-1]&&(Pt[Pt.length-1]+=J.successor_prefix),Pt.push(J));for(it=Q.length,nt=0;nt<it;nt+=1)"string"!=typeof(st=Q[nt])?void 0!==(J=Q.pop())&&Pt.push(J):Pt.push(at(this.tmp.splice_delimiter)+st);0!==Pt.length||I[V][1]["suppress-author"]||1,Pt.length>1&&"string"!=typeof Pt[0]&&(Pt=[this.output.renderBlobs(Pt)]),Pt.length&&("string"==typeof Pt[0]?V>0&&(Pt[0]=at(this.tmp.splice_delimiter)+Pt[0]):Pt[0].splice_prefix=V>0?this.tmp.splice_delimiter:""),U=U.concat(Pt)}if((R+=this.output.renderBlobs(U))&&!this.tmp.suppress_decorations)for(H=this.citation.opt.layout_decorations.length,V=0;V<H;V+=1)"normal"!==(X=this.citation.opt.layout_decorations[V])[1]&&(W&&W["author-only"]||(R=this.fun.decorate[X[0]][X[1]](this,R)));return this.tmp.suppress_decorations=!1,R||(this.opt.development_extensions.throw_on_empty?et.error("Citation would render no content"):R="[NO_PRINTED_FORM]"),R},et.getCite=function(I,N,R,U){var $,B,H=this.tmp.area;for(N&&N["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=R,et.citeStart.call(this,I,N,U),$=0,this.tmp.name_node={},this.nameOutput=new et.NameOutput(this,I,N);$<this[this.tmp.area].tokens.length;)$=et.tokenExec.call(this,this[this.tmp.area].tokens[$],I,N);return et.citeEnd.call(this,I,N),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(B={index:this.tmp.bibliography_pos,itemID:""+I.id,error_code:et.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(B)),this.tmp.area=H,""+I.id},et.citeStart=function(I,N,R){if(this.tmp.lang_array=[],I.language){var U=I.language.match(/^([a-zA-Z]+).*/);U&&this.tmp.lang_array.push(U[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),R||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[I.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[I.id].disambig,this.tmp.disambig_settings=this.registry.registry[I.id].disambig):this.tmp.disambig_settings=new et.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[I.id]){if(this.tmp.disambig_restore=et.cloneAmbigConfig(this.registry.registry[I.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[I.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[I.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[I.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[I.id].disambig.givens.slice();for(var $=0,B=this.tmp.disambig_settings.givens.length;$<B;$+=1)this.tmp.disambig_settings.givens[$]=this.registry.registry[I.id].disambig.givens[$].slice();for($=0,B=this.tmp.disambig_request.givens.length;$<B;$+=1)this.tmp.disambig_request.givens[$]=this.registry.registry[I.id].disambig.givens[$].slice()}}else this.tmp.disambig_restore=new et.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||N&&"first"!==N.parallel&&N.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&N&&!N.position&&this.registry.registry[I.id]&&(this.tmp.disambig_restore=et.cloneAmbigConfig(this.registry.registry[I.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},et.citeEnd=function(I,N){if(this.tmp.disambig_restore&&this.registry.registry[I.id]){this.registry.registry[I.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[I.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var R=0,U=this.registry.registry[I.id].disambig.givens.length;R<U;R+=1)this.registry.registry[I.id].disambig.givens[R]=this.tmp.disambig_restore.givens[R].slice()}if(this.tmp.disambig_restore=!1,N&&N.suffix?this.tmp.last_suffix_used=N.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var $=[];for(R=this.tmp.issued_date.list.length-1;R>this.tmp.issued_date.pos;R+=-1)$.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),R=$.length-1;R>-1;R+=-1)this.tmp.issued_date.list.push($.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},et.Engine.prototype.makeBibliography=function(I){var N,R,U,$,B,H,V;if(!1,!I&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(I={exclude:[]},this.bibliography.opt.exclude_types)for(var W in this.bibliography.opt.exclude_types){var z=this.bibliography.opt.exclude_types[W];I.exclude.push({field:"type",value:z})}if(this.bibliography.opt.exclude_with_fields)for(var W in this.bibliography.opt.exclude_with_fields){var X=this.bibliography.opt.exclude_with_fields[W];I.exclude.push({field:X,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"==typeof I&&(this.opt.citation_number_slug=I,I=!1),H=(N=et.getBibliographyEntries.call(this,I))[0],V=N[1];var Q=N[2];for(R={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:H,bibliography_errors:this.tmp.bibliography_errors.slice(),done:Q},this.bibliography.opt["second-field-align"]&&(R["second-field-align"]=this.bibliography.opt["second-field-align"]),0,$=this.registry.reflist.length,B=0;B<$;B+=1)(U=this.registry.reflist[B]).offset>R.maxoffset&&(R.maxoffset=U.offset);return this.bibliography.opt.hangingindent&&(R.hangingindent=this.bibliography.opt.hangingindent),R.bibstart=this.fun.decorate.bibstart,R.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[R,V]},et.getBibliographyEntries=function(I){var N,R,U,$,B,H,V,W,z,X,Q,J,Z,tt,it,nt,st,rt,at,ot,lt=this;function eval_string(I,N){return I===N}function eval_spec(I,N){return"boolean"!=typeof I&&I?"string"==typeof N?eval_string(I,N):!!N&&function eval_list(I,N){for(X=N.length,Q=0;Q<X;Q+=1)if(eval_string(I,N[Q]))return!0;return!1}(I,N):I?!!N:!N}if(N=[],at=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,R=I&&I.page_start&&I.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,st={},I&&I.page_start&&I.page_length&&(ot=0,!0!==I.page_start))for(tt=0,it=R.length;tt<it&&(st[R[tt]]=!0,I.page_start!=R[tt]);tt+=1);var ct=[],ut={};for(this.tmp.container_item_count={},R=R.filter((function(I){var N=I;return I.legislation_id?ut[I.legislation_id]?N=!1:ut[I.legislation_id]=!0:I.container_id&&(lt.tmp.container_item_count[I.container_id]||(lt.tmp.container_item_count[I.container_id]=0),lt.tmp.container_item_count[I.container_id]++,lt.bibliography.opt.consolidate_containers.indexOf(I.type)>-1&&(ut[I.container_id]?N=!1:ut[I.container_id]=!0)),N})),this.tmp.container_item_pos={},tt=0,it=R.length;tt<it;tt+=1){if(I&&I.page_start&&I.page_length){if(st[R[tt]])continue;if(W=this.refetchItem(R[tt]),ot===I.page_length)break}else if(st[(W=R[tt]).id])continue;if(I){if(U=!0,I.include){for(U=!1,ht=0,pt=I.include.length;ht<pt;ht+=1)if(eval_spec((z=I.include[ht]).value,W[z.field])){U=!0;break}}else if(I.exclude){for($=!1,ht=0,pt=I.exclude.length;ht<pt;ht+=1)if(eval_spec((z=I.exclude[ht]).value,W[z.field])){$=!0;break}$&&(U=!1)}else if(I.select){for(U=!1,B=!0,ht=0,pt=I.select.length;ht<pt;ht+=1)eval_spec((z=I.select[ht]).value,W[z.field])||(B=!1);B&&(U=!0)}if(I.quash){for(B=!0,ht=0,pt=I.quash.length;ht<pt;ht+=1)eval_spec((z=I.quash[ht]).value,W[z.field])||(B=!1);B&&(U=!1)}if(!U)continue}if(W.container_id&&(this.tmp.container_item_pos[W.container_id]||(this.tmp.container_item_pos[W.container_id]=0),this.tmp.container_item_pos[W.container_id]++),(H=new et.Token("group",et.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",H),W.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=W.system_id:this.output.current.value().system_id=W.id,Z=[],!this.registry.registry[W.id].master||I&&I.page_start&&I.page_length)this.registry.registry[W.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,Z.push(""+et.getCite.call(this,W)),I&&I.page_start&&I.page_length&&(ot+=1));else{rt=[[W,{id:W.id}]];for(var ht=0,pt=(nt=this.registry.registry[W.id].siblings).length;ht<pt;ht++)rt.push([this.refetchItem(nt[ht]),{id:nt[ht]}]);for(this.parallel.StartCitation(rt),this.registry.registry[W.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[W.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,ht=0,pt=rt.length;ht<pt;ht+=1)ht<rt.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,Z.push(""+et.getCite.call(this,rt[ht][0],rt[ht][1])),this.tmp.cite_index++,st[rt[ht][0].id]=!0}for(at.push(""),this.tmp.bibliography_pos+=1,ct.push(Z),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&((J=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs)[0].strings.prefix=this.bibliography.opt.layout_prefix+J[0].strings.prefix),ht=0,pt=this.output.queue.length;ht<pt;ht+=1)et.Output.Queue.purgeEmptyBlobs(this.output.queue[ht]);for(ht=0,pt=this.output.queue.length;ht<pt;ht+=1)this.output.adjust.upward(this.output.queue[ht]),this.output.adjust.leftward(this.output.queue[ht]),this.output.adjust.downward(this.output.queue[ht],!0),this.output.adjust.fix(this.output.queue[ht]);if(!(V=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===et.NUMERIC){var dt=N.length+1+". [CSL STYLE ERROR: reference with no printed form.]";V=et.Output.Formats[this.opt.mode]["@bibliography/entry"](this,dt)}V&&N.push(V)}var ft=!1;if(I&&I.page_start&&I.page_length){var mt=R.slice(-1)[0],gt=ct.slice(-1)[0];mt&&gt&&mt!=gt||(ft=!0)}return this.tmp.disambig_override=!1,[ct,N,ft]},et.Engine.prototype.setCitationId=function(I,N){var R,U,$;if(R=!1,!I.citationID||N){for(U=Math.floor(1e14*Math.random());;){if($=0,!this.registry.citationreg.citationById[U]){I.citationID="a"+U.toString(32);break}U+=1===($=!$&&U<5e13?1:-1)?1:-1}R=""+U}return this.registry.citationreg.citationById[I.citationID]=I,R},et.Engine.prototype.rebuildProcessorState=function(I,N,R){I||(I=[]),N||(N="html");for(var U={},$=[],B=0,H=I.length;B<H;B+=1)for(var V=0,W=I[B].citationItems.length;V<W;V+=1){var z=""+I[B].citationItems[V].id;U[z]||$.push(z),U[z]=!0}this.updateItems($);var X=[],Q=[],J=[],Z=this.opt.mode;this.setOutputFormat(N);for(B=0,H=I.length;B<H;B+=1){var tt=this.processCitationCluster(I[B],X,Q,et.ASSUME_ALL_ITEMS_REGISTERED);X.push([I[B].citationID,I[B].properties.noteIndex]);for(V=0,W=tt[1].length;V<W;V+=1){var it=tt[1][V][0];J[it]=[X[it][0],X[it][1],tt[1][V][1]]}}return this.updateUncitedItems(R),this.setOutputFormat(Z),J},et.Engine.prototype.restoreProcessorState=function(I){var N,R,U,$,B,H,V,W,z,X;W=[],z=[],I||(I=[]);var Q=[],J={};for(N=0,R=I.length;N<R;N+=1)J[I[N].citationID]&&this.setCitationId(I[N],!0),J[I[N].citationID]=!0,Q.push(I[N].properties.index);var Z=I.slice();for(Z.sort((function(I,N){return I.properties.index<N.properties.index?-1:I.properties.index>N.properties.index?1:0})),N=0,R=Z.length;N<R;N+=1)Z[N].properties.index=N;for(N=0,R=Z.length;N<R;N+=1){for(X=[],U=0,$=Z[N].citationItems.length;U<$;U+=1)void 0===(B=Z[N].citationItems[U]).sortkeys&&(B.sortkeys=[]),V=[H=this.retrieveItem(""+B.id),B],X.push(V),Z[N].citationItems[U].item=H,z.push(""+B.id);Z[N].properties.unsorted||X.sort(this.citation.srt.compareCompositeKeys),Z[N].sortedItems=X,this.registry.citationreg.citationById[Z[N].citationID]=Z[N]}for(this.updateItems(z),N=0,R=I.length;N<R;N+=1)W.push([""+I[N].citationID,I[N].properties.noteIndex]);var tt=[];return I&&I.length?tt=this.processCitationCluster(I[0],[],W.slice(1)):(this.registry=new et.Registry(this),this.tmp=new et.Engine.Tmp,this.disambiguate=new et.Disambiguation(this)),tt},et.Engine.prototype.updateItems=function(I,N,R,U){var $=this.tmp.area,B=this.tmp.root,H=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(N=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",U||(this.tmp.loadedItemIDs={}),this.registry.init(I),R)for(var V in this.registry.ambigcites)this.registry.ambigsTouched[V]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(N),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(N),this.registry.renumber(),this.tmp.extension=H,this.tmp.area=$,this.tmp.root=B,this.registry.getSortedIds()},et.Engine.prototype.updateUncitedItems=function(I,N){var R,U=this.tmp.area,B=this.tmp.root,H=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(N=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},I||(I=[]),"object"==$()(I))if(void 0===I.length)for(var V in R=I,I=[],R)I.push(V);else if("number"==typeof I.length){R={};for(var W=0,z=I.length;W<z;W+=1)R[I[W]]=!0}return this.registry.init(I,!0),this.registry.dopurge(R),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(N),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(N),this.registry.renumber(),this.tmp.extension=H,this.tmp.area=U,this.tmp.root=B,this.registry.getSortedIds()},et.localeResolve=function(I,N){var R,U;return N||(N="en-US"),I||(I=N),R={},U=I.split(/[\-_]/),R.base=et.LANG_BASES[U[0]],void 0===R.base?{base:N,best:I,bare:U[0]}:(1===U.length&&(R.generic=!0),1===U.length||"x"===U[1]?R.best=R.base.replace("_","-"):R.best=U.slice(0,2).join("-"),R.base=R.base.replace("_","-"),R.bare=U[0],R)},et.Engine.prototype.localeConfigure=function(I,N){var R;if((!N||!this.locale[I.best])&&("en-US"===I.best?(R=et.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(R,"en-US",I.best)):"en-US"!==I.best&&(I.base!==I.best&&(R=et.setupXml(this.sys.retrieveLocale(I.base)),this.localeSet(R,I.base,I.best)),R=et.setupXml(this.sys.retrieveLocale(I.best)),this.localeSet(R,I.best,I.best)),this.localeSet(this.cslXml,"",I.best),this.localeSet(this.cslXml,I.bare,I.best),I.base!==I.best&&this.localeSet(this.cslXml,I.base,I.best),this.localeSet(this.cslXml,I.best,I.best),void 0===this.locale[I.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(I.best.slice(0,2).toLowerCase())>-1?this.locale[I.best].terms["page-range-delimiter"]="-":this.locale[I.best].terms["page-range-delimiter"]="–"),void 0===this.locale[I.best].terms["year-range-delimiter"]&&(this.locale[I.best].terms["year-range-delimiter"]="–"),void 0===this.locale[I.best].terms["citation-range-delimiter"]&&(this.locale[I.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var U=["default-locale","locale-sort","locale-translit","locale-translat"],$=0,B=U.length;$<B;$+=1)for(var H=0,V=this.opt[U[$]].length;H<V;H+=1)this.opt[U[$]][H]=this.opt[U[$]][H].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},et.Engine.prototype.localeSet=function(I,N,R){var U,$,B,H,V,W,z,X,Q,J,Z,tt;if(N=N.replace("_","-"),R=R.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(N=N.toLowerCase(),R=R.toLowerCase()),this.locale[R]||(this.locale[R]={},this.locale[R].terms={},this.locale[R].opts={},this.locale[R].opts["skip-words"]=et.SKIP_WORDS,this.locale[R].opts["leading-noise-words"]||(this.locale[R].opts["leading-noise-words"]=[]),this.locale[R].dates={},this.locale[R].ord={"1.0.1":!1,keys:{}},this.locale[R]["noun-genders"]={}),$=I.makeXml(),I.nodeNameIs(I.dataObj,"locale"))$=I.dataObj;else{B=I.getNodesByName(I.dataObj,"locale");var it=!1;for(V=0,Z=I.numberofnodes(B);V<Z;V+=1)if(U=B[V],it||I.getAttributeValue(U,"lang","xml")!==N){var nt=I.getAttributeValue(U,"lang","xml"),st=I.getNodesByName(U,"style-options");if(nt&&st&&st.length){var rt=I.getAttributeValue(st[0],"jurisdiction-preference");rt&&(this.locale[nt]||(this.locale[nt]={opts:{}}),this.locale[nt].opts["jurisdiction-preference"]=rt.split(/\s+/))}}else $=U,it=!0}for(B=I.getNodesByName($,"type"),Tt=0,Et=I.numberofnodes(B);Tt<Et;Tt+=1){var at=B[Tt],ot=I.getAttributeValue(at,"name"),lt=I.getAttributeValue(at,"gender");this.opt.gender[ot]=lt}if(I.getNodesByName($,"term","ordinal").length){for(var ct in this.locale[R].ord.keys)delete this.locale[R].terms[ct];this.locale[R].ord={"1.0.1":!1,keys:{}}}B=I.getNodesByName($,"term");var ut={"last-digit":{},"last-two-digits":{},"whole-number":{}},ht=!1,pt={};for(V=0,Z=I.numberofnodes(B);V<Z;V+=1){if(W=B[V],"sub verbo"===(X=I.getAttributeValue(W,"name"))&&(X="sub-verbo"),"ordinal"===X.slice(0,7)){if("ordinal"===X)ht=!0;else{var dt,ft=I.getAttributeValue(W,"match"),mt=X.slice(8);(dt=I.getAttributeValue(W,"gender-form"))||(dt="neuter"),ft||(ft="last-two-digits","0"===mt.slice(0,1)&&(ft="last-digit")),"0"===mt.slice(0,1)&&(mt=mt.slice(1)),ut[ft][mt]||(ut[ft][mt]={}),ut[ft][mt][dt]=X}this.locale[R].ord.keys[X]=!0}void 0===this.locale[R].terms[X]&&(this.locale[R].terms[X]={}),z="long",dt=!1,I.getAttributeValue(W,"form")&&(z=I.getAttributeValue(W,"form")),I.getAttributeValue(W,"gender-form")&&(dt=I.getAttributeValue(W,"gender-form")),I.getAttributeValue(W,"gender")&&(this.locale[R]["noun-genders"][X]=I.getAttributeValue(W,"gender")),dt?(this.locale[R].terms[X][dt]={},this.locale[R].terms[X][dt][z]=[],tt=this.locale[R].terms[X][dt],pt[X]=!0):(this.locale[R].terms[X][z]=[],tt=this.locale[R].terms[X]),I.numberofnodes(I.getNodesByName(W,"multiple"))?(tt[z][0]=I.getNodeValue(W,"single"),tt[z][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),tt[z][1]=I.getNodeValue(W,"multiple"),tt[z][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(tt[z]=I.getNodeValue(W),tt[z].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[R].terms.supplement||(this.locale[R].terms.supplement={}),this.locale[R].terms.supplement.long||(this.locale[R].terms.supplement.long=["supplement","supplements"]),ht){for(var gt in pt){var vt={},bt=0;for(var _t in this.locale[R].terms[gt])["masculine","feminine"].indexOf(_t)>-1?vt[_t]=this.locale[R].terms[gt][_t]:bt+=1;if(!bt)if(vt.feminine)for(var _t in vt.feminine)this.locale[R].terms[gt][_t]=vt.feminine[_t];else if(vt.masculine)for(var _t in vt.masculine)this.locale[R].terms[gt][_t]=vt.masculine[_t]}this.locale[R].ord["1.0.1"]=ut}for(X in this.locale[R].terms)for(Tt=0,Et=2;Tt<Et;Tt+=1)if(dt=et.GENDERS[Tt],this.locale[R].terms[X][dt])for(z in this.locale[R].terms[X])this.locale[R].terms[X][dt][z]||(this.locale[R].terms[X][dt][z]=this.locale[R].terms[X][z]);for(B=I.getNodesByName($,"style-options"),V=0,Z=I.numberofnodes(B);V<Z;V+=1)for(J in Q=B[V],H=I.attributes(Q))if(H.hasOwnProperty(J))if("@punctuation-in-quote"===J||"@limit-day-ordinals-to-day-1"===J)"true"===H[J]?this.locale[R].opts[J.slice(1)]=!0:this.locale[R].opts[J.slice(1)]=!1;else if("@jurisdiction-preference"===J){var yt=H[J].split(/\s+/);this.locale[R].opts[J.slice(1)]=yt}else if("@skip-words"===J){var xt=H[J].split(/\s*,\s*/);this.locale[R].opts[J.slice(1)]=xt}else if("@leading-noise-words"===J){var wt=H[J].split(/\s*,\s*/);this.locale[R].opts["leading-noise-words"]=wt}else if("@name-as-sort-order"===J){this.locale[R].opts["name-as-sort-order"]={};for(var Tt=0,Et=(St=H[J].split(/\s+/)).length;Tt<Et;Tt+=1)this.locale[R].opts["name-as-sort-order"][St[Tt]]=!0}else if("@name-as-reverse-order"===J){this.locale[R].opts["name-as-reverse-order"]={};for(Tt=0,Et=(St=H[J].split(/\s+/)).length;Tt<Et;Tt+=1)this.locale[R].opts["name-as-reverse-order"][St[Tt]]=!0}else if("@name-never-short"===J){this.locale[R].opts["name-never-short"]={};var St;for(Tt=0,Et=(St=H[J].split(/\s+/)).length;Tt<Et;Tt+=1)this.locale[R].opts["name-never-short"][St[Tt]]=!0}for(B=I.getNodesByName($,"date"),V=0,Z=I.numberofnodes(B);V<Z;V+=1){var kt=B[V];this.locale[R].dates[I.getAttributeValue(kt,"form")]=kt}et.SET_COURT_CLASSES(this,R,I,$)},et.getLocaleNames=function(I,N){var R=et.setupXml(I);function extendLocaleList(I,N){var R=["base","best"];if(N)for(var U=et.localeResolve(N),$=0,B=R.length;$<B;$++)U[R[$]]&&-1===I.indexOf(U[R[$]])&&I.push(U[R[$]])}var U=["en-US"];function sniffLocaleOnOneNodeName(I){for(var N=R.getNodesByName(R.dataObj,I),$=0,B=N.length;$<B;$++){var H=R.getAttributeValue(N[$],"locale");if(H)for(var V=0,W=(H=H.split(/ +/)).length;V<W;V++)this.extendLocaleList(U,H[V])}}extendLocaleList(U,N);var $=R.getNodesByName(R.dataObj,"style")[0],B=R.getAttributeValue($,"default-locale");extendLocaleList(U,B);for(var H=["layout","if","else-if","condition"],V=0,W=H.length;V<W;V++)sniffLocaleOnOneNodeName(R);return U},et.Node={},et.Node.bibliography={build:function build(I,N){if(this.tokentype===et.START){I.build.area="bibliography",I.build.root="bibliography",I.build.extension="";this.execs.push((function func(I){I.tmp.area="bibliography",I.tmp.root="bibliography",I.tmp.extension=""}))}N.push(this)}},et.Node.choose={build:function build(I,N){var R;this.tokentype===et.START&&(R=function func(I){I.tmp.jump.push(void 0,et.LITERAL)}),this.tokentype===et.END&&(R=function func(I){I.tmp.jump.pop()}),this.execs.push(R),N.push(this)},configure:function configure(I,N){this.tokentype===et.END?(I.configure.fail.push(N),I.configure.succeed.push(N)):(I.configure.fail.pop(),I.configure.succeed.pop())}},et.Node.citation={build:function build(I,N){if(this.tokentype===et.START){I.build.area="citation",I.build.root="citation",I.build.extension="";this.execs.push((function func(I){I.tmp.area="citation",I.tmp.root="citation",I.tmp.extension=""}))}if(this.tokentype===et.END){if(I.opt.grouped_sort="in-text"===I.opt.xclass&&I.citation.opt.collapse&&I.citation.opt.collapse.length||I.citation.opt.cite_group_delimiter&&I.citation.opt.cite_group_delimiter.length&&I.opt.update_mode!==et.POSITION&&I.opt.update_mode!==et.NUMERIC,I.opt.grouped_sort&&I.citation_sort.opt.sort_directions.length){var R=I.citation_sort.opt.sort_directions[0].slice();I.citation_sort.opt.sort_directions=[R].concat(I.citation_sort.opt.sort_directions)}I.citation.srt=new et.Registry.Comparifier(I,"citation_sort")}N.push(this)}},et.Node["#comment"]={build:function build(){}},et.Node.date={build:function build(I,N){var R,U,$,B,H,V,W,z,X,Q;this.tokentype!==et.START&&this.tokentype!==et.SINGLETON||(I.dateput.string(I,I.dateput.queue),I.tmp.date_token=et.Util.cloneToken(this),I.tmp.date_token.strings.prefix="",I.tmp.date_token.strings.suffix="",I.dateput.openLevel(this),I.build.date_parts=[],I.build.date_variables=this.variables,I.build.extension||et.Util.substituteStart.call(this,I,N),R=I.build.extension?et.dateMacroAsSortKey:function func(I,N,R){var J;if(I.tmp.element_rendered_ok=!1,I.tmp.donesies=[],I.tmp.dateparts=[],J=[],!this.variables.length||I.tmp.just_looking&&"accessed"===this.variables[0])I.tmp.date_object=!1;else{for(void 0===(U=N[this.variables[0]])&&(U={"date-parts":[[0]]},I.opt.development_extensions.locator_date_and_revision&&R&&"locator-date"===this.variables[0]&&R["locator-date"]&&(U=R["locator-date"])),I.tmp.date_object=U,$=this.dateparts.length,B=0;B<$;B+=1)H=this.dateparts[B],(void 0!==I.tmp.date_object[H+"_end"]||"month"===H&&void 0!==I.tmp.date_object.season_end)&&J.push(H);for(V=[],$=(W=["year","month","day"]).length,B=0;B<$;B+=1)J.indexOf(W[B])>-1&&V.push(W[B]);for(J=V.slice(),z=2,$=J.length,B=0;B<$;B+=1)if(H=J[B],X=I.tmp.date_object[H],Q=I.tmp.date_object[H+"_end"],X!==Q){z=B;break}I.tmp.date_collapse_at=J.slice(z)}},this.execs.push(R),R=function func(I,N){if(N[this.variables[0]]&&(I.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===N.type||"legislation"===N.type)&&-1===I.opt.disable_duplicate_year_suppression.indexOf(N.country)&&!I.tmp.extension&&""+N["collection-number"]==""+I.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var R in I.tmp.date_object)if(I.tmp.date_object.hasOwnProperty(R)&&"year"===R.slice(0,4)){I.tmp.issued_date={};var U=I.output.current.mystack.slice(-2)[0].blobs;I.tmp.issued_date.list=U,I.tmp.issued_date.pos=U.length-1}},this.execs.push(R)),I.build.extension||this.tokentype!==et.END&&this.tokentype!==et.SINGLETON||(R=function func(I,N){N[this.variables[0]]&&I.output.endTag()},this.execs.push(R)),N.push(this),this.tokentype!==et.END&&this.tokentype!==et.SINGLETON||I.build.extension||et.Util.substituteEnd.call(this,I,N)}},et.Node["date-part"]={build:function build(I,N){var R,U,$,B,H,V,W,z,X,Q,J,Z,tt,it,nt,st,rt,at,ot;this.strings.form||(this.strings.form="long"),I.build.date_parts.push(this.strings.name);var lt=I.build.date_variables[0];function formatAndStrip(N,R,U){if(!U)return U;if(U=""+et.Util.Dates[this.strings.name][N](I,U,R,this.default_locale),"month"===this.strings.name)if(I.tmp.strip_periods)U=U.replace(/\./g,"");else for(var $=0,B=this.decorations.length;$<B;$+=1)if("@strip-periods"===this.decorations[$][0]&&"true"===this.decorations[$][1]){U=U.replace(/\./g,"");break}return U}R=function func(I,N){if(I.tmp.date_object){I.tmp.probably_rendered_something=!0;var R="";if(B=!0,H="",V="",I.tmp.donesies.push(this.strings.name),I.tmp.date_object.literal&&"year"===this.strings.name&&(R=I.tmp.date_object.literal,I.output.append(I.tmp.date_object.literal,this)),I.tmp.date_object&&(H=I.tmp.date_object[this.strings.name],V=I.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==H||I.tmp.suppress_decorations||(H=!1),W=!I.tmp.suppress_decorations,z=I.tmp.have_collapsed,X="year-suffix"===I[I.tmp.area].opt.collapse||"year-suffix-ranged"===I[I.tmp.area].opt.collapse,Q=I.opt["disambiguate-add-year-suffix"],W&&Q&&X&&(I.tmp.years_used.push(H),I.tmp.last_years_used.length>=I.tmp.years_used.length&&z&&I.tmp.last_years_used[I.tmp.years_used.length-1]===H&&(H=!1)),void 0!==H){J=!1,Z=!1,!1,!1,"year"===this.strings.name&&(parseInt(H,10)<500&&parseInt(H,10)>0&&(Z=I.getTerm("ad")),parseInt(H,10)<0&&(J=I.getTerm("bc"),H=-1*parseInt(H,10)),V&&(parseInt(V,10)<500&&parseInt(V,10)>0&&I.getTerm("ad"),parseInt(V,10)<0&&(I.getTerm("bc"),V=-1*parseInt(V,10))));for(var ct=""+I.tmp.date_object.month;ct.length<2;)ct="0"+ct;ct="month-"+ct;var ut=I.locale[I.opt.lang]["noun-genders"][ct];if(this.strings.form){var ht=this.strings.form,pt=this.strings.form;"day"===this.strings.name&&"ordinal"===ht&&I.locale[I.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=H&&(ht="numeric"),1!=V&&(pt="numeric")),H=formatAndStrip.call(this,ht,ut,H),V=formatAndStrip.call(this,pt,ut,V)}if(I.output.openLevel("empty"),I.tmp.date_collapse_at.length){for(tt=!0,$=I.tmp.date_collapse_at.length,U=0;U<$;U+=1)if(ot=I.tmp.date_collapse_at[U],-1===I.tmp.donesies.indexOf(ot)){tt=!1;break}if(tt){if(""+V!="0"){if(0===I.dateput.queue.length&&(B=!0),I.opt["year-range-format"]&&"expanded"!==I.opt["year-range-format"]&&!I.tmp.date_object.day&&!I.tmp.date_object.month&&!I.tmp.date_object.season&&"year"===this.strings.name&&H&&V){V=I.fun.year_mangler(H+"-"+V,!0);var dt=I.getTerm("year-range-delimiter");V=V.slice(V.indexOf(dt)+1)}R=V,I.dateput.append(V,this),B&&(I.dateput.current.value().blobs[0].strings.prefix="")}R=H,I.output.append(H,this),(it=I.output.current.value()).blobs[it.blobs.length-1].strings.suffix="",this.strings["range-delimiter"]?I.output.append(this.strings["range-delimiter"]):I.output.append(I.getTerm("year-range-delimiter"),"empty"),I.dateput.closeLevel(),nt=I.dateput.current.value(),it.blobs=it.blobs.concat(nt),I.dateput.string(I,I.dateput.queue),I.dateput.openLevel(I.tmp.date_token),I.tmp.date_collapse_at=[]}else R=H,I.output.append(H,this),I.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+V!="0"&&(0===I.dateput.queue.length&&(B=!0),I.dateput.openLevel("empty"),R=V,I.dateput.append(V,this),B&&(I.dateput.current.value().blobs[0].strings.prefix=""),J&&(R=J,I.dateput.append(J)),Z&&(R=Z,I.dateput.append(Z)),I.dateput.closeLevel())}else R=H,I.output.append(H,this);J&&(R=J,I.output.append(J)),Z&&(R=Z,I.output.append(Z)),I.output.closeLevel()}else"month"===this.strings.name&&I.tmp.date_object.season&&((H=""+I.tmp.date_object.season)&&H.match(/^[1-4]$/)?(I.tmp.group_context.tip.variable_success=!0,R="winter",I.output.append(I.getTerm("season-0"+H),this)):H&&(R=H,I.output.append(H,this)));I.tmp.value=[],!N[lt]||!H&&!I.tmp.have_collapsed||I.opt.has_year_suffix||"year"!==this.strings.name||I.tmp.just_looking||I.registry.registry[N.id]&&!1!==I.registry.registry[N.id].disambig.year_suffix&&!I.tmp.has_done_year_suffix&&(I.tmp.has_done_year_suffix=!0,R="x",rt=parseInt(I.registry.registry[N.id].disambig.year_suffix,10),st=new et.NumericBlob(I,!1,rt,this,N.id),this.successor_prefix=I[I.build.area].opt.layout_delimiter,this.splice_prefix=I[I.build.area].opt.layout_delimiter,at=new et.Util.Suffixator(et.SUFFIX_CHARS),st.setFormatter(at),"year-suffix-ranged"===I[I.tmp.area].opt.collapse&&(st.range_prefix=I.getTerm("citation-range-delimiter")),I[I.tmp.area].opt.cite_group_delimiter?st.successor_prefix=I[I.tmp.area].opt.cite_group_delimiter:I[I.tmp.area].opt["year-suffix-delimiter"]?st.successor_prefix=I[I.tmp.area].opt["year-suffix-delimiter"]:st.successor_prefix=I[I.tmp.area].opt.layout_delimiter,st.UGLY_DELIMITER_SUPPRESS_HACK=!0,I.output.append(st,"literal")),R&&!I.tmp.group_context.tip.condition&&(I.tmp.just_did_number=R.match(/[0-9]$/),I.output.current.tip.strings.suffix&&(I.tmp.just_did_number=!1))}},this.execs.push(R),N.push(this)}},et.Node["else-if"]={build:function build(I,N){et.Conditions.TopNode.call(this,I,N),N.push(this)},configure:function configure(I,N){et.Conditions.Configure.call(this,I,N)}},et.Node.else={build:function build(I,N){N.push(this)},configure:function configure(I,N){this.tokentype===et.START&&(I.configure.fail[I.configure.fail.length-1]=N)}},et.Node["et-al"]={build:function build(I,N){if("citation"===I.build.area||"bibliography"===I.build.area){this.execs.push((function func(I){I.tmp.etal_node=this,"string"==typeof this.strings.term&&(I.tmp.etal_term=this.strings.term)}))}N.push(this)}},et.Node.group={build:function build(I,N,R){var U,$,B;if(this.realGroup=R,this.tokentype===et.START&&(et.Util.substituteStart.call(this,I,N),I.build.substitute_level.value()&&I.build.substitute_level.replace(I.build.substitute_level.value()+1),this.juris||N.push(this),($=[]).push(U=function func(I){if(I.output.startTag("group",this),this.strings.label_form_override&&(I.tmp.group_context.tip.label_form||(I.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(I.tmp.group_context.tip.label_capitalize_if_first||(I.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){I.tmp.group_context.tip.condition&&et.UPDATE_GROUP_CONTEXT_CONDITION(I,this.strings.prefix,null,this);var N=!1,R=!1;I.tmp.group_context.mystack.length&&(I.output.current.value().parent=I.tmp.group_context.tip.output_tip);var U=I.tmp.group_context.tip.label_form;U||(U=this.strings.label_form_override);var $=I.tmp.group_context.tip.label_capitalize_if_first;$||($=this.strings.label_capitalize_if_first),I.tmp.group_context.tip.condition?(N=I.tmp.group_context.tip.condition,R=I.tmp.group_context.tip.force_suppress):this.strings.reject?N={test:this.strings.reject,not:!0}:this.strings.require&&(N={test:this.strings.require,not:!1});var B={old_term_predecessor:I.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:I.tmp.group_context.tip.variable_success,output_tip:I.output.current.tip,label_form:U,label_static:I.tmp.group_context.tip.label_static,label_capitalize_if_first:$,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:N,force_suppress:R,done_vars:I.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var H=I.tmp.group_context.tip.non_parallel;H||(H={}),Object.assign(H,this.non_parallel),B.non_parallel=H}if(this.parallel_first){var V=I.tmp.group_context.tip.parallel_first;V||(V={}),Object.assign(V,this.parallel_first),B.parallel_first=V}if(this.parallel_last){var W=I.tmp.group_context.tip.parallel_last;W||(W={}),Object.assign(W,this.parallel_last),B.parallel_last=W}if(I.tmp.abbrev_trimmer&&I.tmp.abbrev_trimmer.LAST_TO_FIRST&&B.parallel_last)for(var z in B.parallel_first||(B.parallel_first={}),I.tmp.abbrev_trimmer.LAST_TO_FIRST)B.parallel_last[z]&&(B.parallel_first[z]=!0,delete B.parallel_last[z]);if(I.tmp.group_context.push(B),I.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var z in I.tmp.abbrev_trimmer.LAST_TO_FIRST||(I.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)I.tmp.abbrev_trimmer.LAST_TO_FIRST[z]=!0}}),this.execs=$.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(I.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(U=function func(I,N){if(N.publisher&&N["publisher-place"]){var R=N.publisher.split(/;\s*/),U=N["publisher-place"].split(/;\s*/);R.length>1&&R.length===U.length&&(I.publisherOutput=new et.PublisherOutput(I,this),I.publisherOutput["publisher-list"]=R,I.publisherOutput["publisher-place-list"]=U)}},this.execs.push(U))),this.juris)){var H=new et.Token("choose",et.START);et.Node.choose.build.call(H,I,N);var V=new et.Token("if",et.START);B=this.juris,U=function(N,R){return et.INIT_JURISDICTION_MACROS(I,N,R,B)},V.tests||(V.tests=[]),V.tests.push(U),V.test=I.fun.match.any(V,I,V.tests),N.push(V);var W=new et.Token("text",et.SINGLETON);U=function func(I,N,R){var U=N;R&&R["best-jurisdiction"]&&"juris-locator"===this.juris&&(U=R);var $=0;if(I.juris[U["best-jurisdiction"]][this.juris])for(;$<I.juris[U["best-jurisdiction"]][this.juris].length;)$=et.tokenExec.call(I,I.juris[U["best-jurisdiction"]][this.juris][$],N,R)},W.juris=this.juris,W.execs.push(U),N.push(W);var z=new et.Token("if",et.END);et.Node.if.build.call(z,I,N);var X=new et.Token("else",et.START);et.Node.else.build.call(X,I,N)}if(this.tokentype===et.END&&(I.build["publisher-special"]&&(I.build["publisher-special"]=!1,U=function func(I){I.publisherOutput&&(I.publisherOutput.render(),I.publisherOutput=!1)},this.execs.push(U)),U=function func(I,N,R){if(I.tmp.group_context.tip.condition||I.output.current.tip.strings.suffix&&(I.tmp.just_did_number=!1),I.output.endTag(),this.realGroup){var U=I.tmp.group_context.pop();if(U.parallel_delimiter_override&&(I.tmp.group_context.tip.parallel_delimiter_override=U.parallel_delimiter_override,!I.tmp.just_looking&&I.registry.registry[N.id].master&&(I.registry.registry[N.id].parallel_delimiter_override=U.parallel_delimiter_override)),U.parallel_delimiter_override_on_suppress&&(I.tmp.group_context.tip.parallel_delimiter_override_on_suppress=U.parallel_delimiter_override_on_suppress),"bibliography_sort"===I.tmp.area){var $=U.done_vars.indexOf("citation-number");this.strings.sort_direction&&$>-1&&1==I.tmp.group_context.length()&&(this.strings.sort_direction===et.DESCENDING?I.bibliography_sort.opt.citation_number_sort_direction=et.DESCENDING:I.bibliography_sort.opt.citation_number_sort_direction=et.ASCENDING,U.done_vars=U.done_vars.slice(0,$).concat(U.done_vars.slice($+1)))}if(U.condition&&(U.force_suppress=et.EVALUATE_GROUP_CONDITION(I,U)),I.tmp.group_context.tip.condition&&(I.tmp.group_context.tip.force_suppress=U.force_suppress),!U.force_suppress&&(U.variable_success||U.term_intended&&!U.variable_attempt)){this.isJurisLocatorLabel||(I.tmp.group_context.tip.variable_success=!0);var B=I.output.current.value().blobs;I.output.current.value().blobs.length;if(!I.tmp.just_looking&&(U.non_parallel||U.parallel_last||U.parallel_first||U.parallel_delimiter_override||U.parallel_delimiter_override_on_suppress)){var H=I.parallel.checkRepeats(U);if(H&&B&&B.pop(),I.tmp.cite_index>0&&(H||!U.parallel_first&&!U.parallel_last&&!U.non_parallel)){var V=I.tmp.suppress_repeats[I.tmp.cite_index-1];H&&U.parallel_delimiter_override_on_suppress&&(V.SIBLING||V.ORPHAN)?I.output.queue.slice(-1)[0].parallel_delimiter=U.parallel_delimiter_override_on_suppress:U.parallel_delimiter_override&&V.SIBLING&&(I.output.queue.slice(-1)[0].parallel_delimiter=U.parallel_delimiter_override)}}}else{if(I.tmp.term_predecessor=U.old_term_predecessor,I.tmp.group_context.tip.variable_attempt=U.variable_attempt,U.force_suppress&&!I.tmp.group_context.tip.condition&&(I.tmp.group_context.tip.variable_attempt=!0,I.tmp.group_context.tip.variable_success=U.variable_success_parent),U.force_suppress)for(var W=0,z=U.done_vars.length;W<z;W++)for(var X=U.done_vars[W],Q=0,J=I.tmp.done_vars.length;Q<J;Q++)I.tmp.done_vars[Q]===X&&(I.tmp.done_vars=I.tmp.done_vars.slice(0,Q).concat(I.tmp.done_vars.slice(Q+1)));I.output.current.value().blobs&&I.output.current.value().blobs.pop()}}},this.execs.push(U),this.juris)){var Q=new et.Token("else",et.END);et.Node.else.build.call(Q,I,N);var J=new et.Token("choose",et.END);et.Node.choose.build.call(J,I,N)}this.tokentype===et.END&&(this.juris||N.push(this),I.build.substitute_level.value()&&I.build.substitute_level.replace(I.build.substitute_level.value()-1),et.Util.substituteEnd.call(this,I,N))}},et.Node.if={build:function build(I,N){et.Conditions.TopNode.call(this,I,N),N.push(this)},configure:function configure(I,N){et.Conditions.Configure.call(this,I,N)}},et.Node.conditions={build:function build(I){this.tokentype===et.START&&I.tmp.conditions.addMatch(this.match),this.tokentype===et.END&&I.tmp.conditions.matchCombine()}},et.Node.condition={build:function build(I){if(this.tokentype===et.SINGLETON){var N=I.fun.match[this.match](this,I,this.tests);I.tmp.conditions.addTest(N)}}},et.Conditions={},et.Conditions.TopNode=function(I){var N;this.tokentype!==et.START&&this.tokentype!==et.SINGLETON||(this.locale&&(I.opt.lang=this.locale),this.tests&&this.tests.length?this.test=I.fun.match[this.match](this,I,this.tests):I.tmp.conditions=new et.Conditions.Engine(I,this),0===I.build.substitute_level.value()&&(N=function func(I){I.tmp.condition_counter++},this.execs.push(N))),this.tokentype!==et.END&&this.tokentype!==et.SINGLETON||(0===I.build.substitute_level.value()&&(N=function func(I){(I.tmp.condition_counter--,I.tmp.condition_lang_counter_arr.length>0)&&(I.tmp.condition_lang_counter_arr.slice(-1)[0]===I.tmp.condition_counter&&(I.opt.lang=I.tmp.condition_lang_val_arr.pop(),I.tmp.condition_lang_counter_arr.pop()));this.locale_default&&(I.output.current.value().old_locale=this.locale_default,I.output.closeLevel("empty"),I.opt.lang=this.locale_default)},this.execs.push(N)),N=function func(I){return this[I.tmp.jump.value()]},this.execs.push(N),this.locale_default&&(I.opt.lang=this.locale_default))},et.Conditions.Configure=function(I,N){this.tokentype===et.START?(this.fail=I.configure.fail.slice(-1)[0],this.succeed=this.next,I.configure.fail[I.configure.fail.length-1]=N):this.tokentype===et.SINGLETON?(this.fail=this.next,this.succeed=I.configure.succeed.slice(-1)[0],I.configure.fail[I.configure.fail.length-1]=N):(this.succeed=I.configure.succeed.slice(-1)[0],this.fail=this.next)},et.Conditions.Engine=function(I,N){this.token=N,this.state=I},et.Conditions.Engine.prototype.addTest=function(I){this.token.tests||(this.token.tests=[]),this.token.tests.push(I)},et.Conditions.Engine.prototype.addMatch=function(I){this.token.match=I},et.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},et.Node.info={build:function build(I){this.tokentype===et.START?I.build.skip="info":I.build.skip=!1}},et.Node.institution={build:function build(I,N){if([et.SINGLETON,et.START].indexOf(this.tokentype)>-1){this.execs.push((function func(I){"string"==typeof this.strings.delimiter?I.tmp.institution_delimiter=this.strings.delimiter:I.tmp.institution_delimiter=I.tmp.name_delimiter,"text"===I.inheritOpt(this,"and")?this.and_term=I.getTerm("and","long",0):"symbol"===I.inheritOpt(this,"and")?I.opt.development_extensions.expect_and_symbol_form?this.and_term=I.getTerm("and","symbol",0):this.and_term="&":"none"===I.inheritOpt(this,"and")&&(this.and_term=I.tmp.institution_delimiter),void 0===this.and_term&&I.tmp.and_term&&(this.and_term=I.tmp.and_term),et.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof I.tmp.institution_delimiter&&(this.and_prefix_multiple=I.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===I.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=I.tmp.institution_delimiter:"never"===I.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(I.output.append(this.and_term,"empty",!0),this.and.single=I.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,I.output.append(this.and_term,"empty",!0),this.and.multiple=I.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new et.Blob(I.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new et.Blob(I.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),I.nameOutput.institution=this}))}N.push(this)},configure:function configure(I){[et.SINGLETON,et.START].indexOf(this.tokentype)>-1&&(I.build.has_institution=!0)}},et.Node["institution-part"]={build:function build(I,N){var R;"long"===this.strings.name?R=this.strings["if-short"]?function func(I){I.nameOutput.institutionpart["long-with-short"]=this}:function func(I){I.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(R=function func(I){I.nameOutput.institutionpart.short=this}),this.execs.push(R),N.push(this)}},et.Node.key={build:function build(I,N){var R;N=I[I.build.root+"_sort"].tokens;var U=new et.Token("key",et.START);I.tmp.root=I.build.root,U.strings["et-al-min"]=I.inheritOpt(this,"et-al-min"),U.strings["et-al-use-first"]=I.inheritOpt(this,"et-al-use-first"),U.strings["et-al-use-last"]=I.inheritOpt(this,"et-al-use-last"),R=function func(I){I.tmp.done_vars=[]},U.execs.push(R),R=function func(I){I.output.openLevel("empty")},U.execs.push(R);var $=[];if(this.strings.sort_direction===et.DESCENDING?($.push(1),$.push(-1)):($.push(-1),$.push(1)),I[I.build.area].opt.sort_directions.push($),et.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(I.build.date_key=!0),R=function func(I){I.tmp.sort_key_flag=!0,I.inheritOpt(this,"et-al-min")&&(I.tmp["et-al-min"]=I.inheritOpt(this,"et-al-min")),I.inheritOpt(this,"et-al-use-first")&&(I.tmp["et-al-use-first"]=I.inheritOpt(this,"et-al-use-first")),"boolean"==typeof I.inheritOpt(this,"et-al-use-last")&&(I.tmp["et-al-use-last"]=I.inheritOpt(this,"et-al-use-last"))},U.execs.push(R),N.push(U),this.variables.length){var B=this.variables[0];if(et.NAME_VARIABLES.indexOf(B)>-1){var H=new et.Token("names",et.START);H.tokentype=et.START,H.variables=this.variables,et.Node.names.build.call(H,I,N);var V=new et.Token("name",et.SINGLETON);V.tokentype=et.SINGLETON,V.strings["name-as-sort-order"]="all",V.strings["sort-separator"]=" ",V.strings["et-al-use-last"]=I.inheritOpt(this,"et-al-use-last"),V.strings["et-al-min"]=I.inheritOpt(this,"et-al-min"),V.strings["et-al-use-first"]=I.inheritOpt(this,"et-al-use-first"),et.Node.name.build.call(V,I,N);var W=new et.Token("institution",et.SINGLETON);W.tokentype=et.SINGLETON,et.Node.institution.build.call(W,I,N);var z=new et.Token("names",et.END);z.tokentype=et.END,et.Node.names.build.call(z,I,N)}else{var X=new et.Token("text",et.SINGLETON);if(X.strings.sort_direction=this.strings.sort_direction,X.dateparts=this.dateparts,et.NUMERIC_VARIABLES.indexOf(B)>-1)R="citation-number"===B?function func(I,N){if("bibliography_sort"===I.tmp.area&&(this.strings.sort_direction===et.DESCENDING?I.bibliography_sort.opt.citation_number_sort_direction=et.DESCENDING:I.bibliography_sort.opt.citation_number_sort_direction=et.ASCENDING),"citation_sort"===I.tmp.area&&I.bibliography_sort.tmp.citation_number_map)var R=I.bibliography_sort.tmp.citation_number_map[I.registry.registry[N.id].seq];else R=I.registry.registry[N.id].seq;R&&(R=et.Util.padding(""+R)),I.output.append(R,this)}:function func(I,N){var R=!1;(R=N[B])&&(R=et.Util.padding(R)),I.output.append(R,this)};else if("citation-label"===B)R=function func(I,N){var R=I.getCitationLabel(N);I.output.append(R,this)};else if(et.DATE_VARIABLES.indexOf(B)>-1)R=et.dateAsSortKey,X.variables=this.variables;else if("title"===B){R=I.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else R="court-class"===B?function func(I,N,R){et.INIT_JURISDICTION_MACROS(I,N,R,"juris-main");var U=et.GET_COURT_CLASS(I,N,!0);I.output.append(U,"empty")}:function func(I,N){var R=N[B];I.output.append(R,"empty")};X.execs.push(R),N.push(X)}}else{var Q=new et.Token("text",et.SINGLETON);Q.strings.sort_direction=this.strings.sort_direction,Q.postponed_macro=this.postponed_macro,et.expandMacro.call(I,Q,N)}var J=new et.Token("key",et.END);R=function func(I){var N=I.output.string(I,I.output.queue);I.sys.normalizeUnicode&&(N=I.sys.normalizeUnicode(N)),""===(N=N?N.split(" ").join(I.opt.sort_sep)+I.opt.sort_sep:"")&&(N=void 0),"string"!=typeof N&&(N=void 0),I[I[I.tmp.area].root+"_sort"].keys.push(N),I.tmp.value=[]},J.execs.push(R),I.build.date_key&&("citation"===I.build.area&&"_sort"===I.build.extension&&(I[I.build.area].opt.sort_directions.push([-1,1]),R=function func(I,N){var R=I.registry.registry[N.id].disambig.year_suffix;R||(R=0);var U=et.Util.padding(""+R);I[I.tmp.area].keys.push(U)},J.execs.push(R)),I.build.date_key=!1),R=function func(I){I.tmp["et-al-min"]=void 0,I.tmp["et-al-use-first"]=void 0,I.tmp["et-al-use-last"]=void 0,I.tmp.sort_key_flag=!1},J.execs.push(R),N.push(J)}},et.Node.label={build:function build(I,N){if(this.strings.term){this.execs.push((function func(I,N,R){var U=et.evaluateLabel(this,I,N,R);R&&"locator"===this.strings.term&&(R.section_form_override=this.strings.form),U&&(I.tmp.group_context.tip.term_intended=!0),et.UPDATE_GROUP_CONTEXT_CONDITION(I,U,null,this),-1===U.indexOf("%s")&&(this.strings.capitalize_if_first&&(I.tmp.term_predecessor||"in-text"===I.opt.class&&"citation"===I.tmp.area||(U=et.Output.Formatters["capitalize-first"](I,U))),I.output.append(U,this))}))}else{this.strings.form||(this.strings.form="long");for(var R=I.build.names_variables[I.build.names_variables.length-1],U=I.build.name_label[I.build.name_label.length-1],$=0,B=R.length;$<B;$+=1)U[R[$]]||(U[R[$]]={});if(I.build.name_flag)for($=0,B=R.length;$<B;$+=1)U[R[$]].after=this;else for(var $=0,B=R.length;$<B;$+=1)U[R[$]].before=this}N.push(this)}},et.Node.layout={build:function build(I,N){var R,U,$,B,H;function setSuffix(){"bibliography"===I.build.area&&($=new et.Token("text",et.SINGLETON),R=function func(I){if(!I.tmp.parallel_and_not_last){var N;N=I.tmp.cite_affixes[I.tmp.area][I.tmp.last_cite_locale]?I.tmp.cite_affixes[I.tmp.area][I.tmp.last_cite_locale].suffix:I.bibliography.opt.layout_suffix;var R=I.output.current.value();I.opt.using_display?R.blobs[R.blobs.length-1].strings.suffix=N:R.strings.suffix=N}I.bibliography.opt["second-field-align"]&&I.output.endTag("bib_other")},$.execs.push(R),N.push($))}if(this.tokentype===et.START&&(this.locale_raw?I.build.current_default_locale=this.locale_raw:I.build.current_default_locale=I.opt["default-locale"],R=function func(I,N,R){if(I.opt.development_extensions.apply_citation_wrapper&&I.sys.wrapCitationEntry&&!I.tmp.just_looking&&N.system_id&&"citation"===I.tmp.area){var U=new et.Token("group",et.START);U.decorations=[["@cite","entry"]],I.output.startTag("cite_entry",U),I.output.current.value().item_id=N.system_id,R&&(I.output.current.value().locator_txt=R.locator_txt,I.output.current.value().suffix_txt=R.suffix_txt)}},this.execs.push(R)),this.tokentype!==et.START||I.tmp.cite_affixes[I.build.area]||(R=function func(I,N,R){if(I.tmp.done_vars=[],R&&R["author-only"]&&I.tmp.done_vars.push("locator"),I.opt.suppressedJurisdictions[N.country]&&N.country&&-1===["treaty","patent"].indexOf(N.type)&&I.tmp.done_vars.push("country"),!I.tmp.just_looking&&I.registry.registry[N.id]&&I.registry.registry[N.id].parallel&&I.tmp.done_vars.push("first-reference-note-number"),!I.tmp.just_looking&&I.tmp.abbrev_trimmer&&N.jurisdiction)for(var U in I.tmp.abbrev_trimmer.QUASHES[N.jurisdiction])I.tmp.done_vars.push(U);I.tmp.rendered_name=!1},this.execs.push(R),R=function func(I){I.tmp.sort_key_flag=!1},this.execs.push(R),R=function func(I){I.tmp.nameset_counter=0},this.execs.push(R),R=function func(I,N){var R=new et.Token;I.output.openLevel(R)},this.execs.push(R),N.push(this),"citation"===I.build.area&&(U=new et.Token("text",et.SINGLETON),R=function func(I,N,R){if(R&&R.prefix){var U=et.checkPrefixSpaceAppend(I,R.prefix);I.tmp.just_looking||(U=I.output.checkNestedBrace.update(U));var $=et.checkIgnorePredecessor(I,U);I.output.append(U,this,!1,$)}},U.execs.push(R),N.push(U))),this.locale_raw&&((H=new et.Token("dummy",et.START)).locale=this.locale_raw,H.strings.delimiter=this.strings.delimiter,H.strings.suffix=this.strings.suffix,I.tmp.cite_affixes[I.build.area]||(I.tmp.cite_affixes[I.build.area]={})),this.tokentype===et.START&&(I.build.layout_flag=!0,this.locale_raw||(I[I.tmp.area].opt.topdecor=[this.decorations],I[I.tmp.area+"_sort"].opt.topdecor=[this.decorations],I[I.build.area].opt.layout_prefix=this.strings.prefix,I[I.build.area].opt.layout_suffix=this.strings.suffix,I[I.build.area].opt.layout_delimiter=this.strings.delimiter,I[I.build.area].opt.layout_decorations=this.decorations,I.tmp.cite_affixes[I.build.area]&&(B=new et.Token("else",et.START),et.Node.else.build.call(B,I,N))),this.locale_raw)){if(I.build.layout_locale_flag)H.name="else-if",et.Attributes["@locale-internal"].call(H,I,this.locale_raw),et.Node["else-if"].build.call(H,I,N);else{var V=new et.Token("choose",et.START);et.Node.choose.build.call(V,I,N),H.name="if",et.Attributes["@locale-internal"].call(H,I,this.locale_raw),et.Node.if.build.call(H,I,N)}I.tmp.cite_affixes[I.build.area][H.locale]={},I.tmp.cite_affixes[I.build.area][H.locale].delimiter=this.strings.delimiter,I.tmp.cite_affixes[I.build.area][H.locale].suffix=this.strings.suffix}this.tokentype===et.END&&(this.locale_raw&&(setSuffix(),I.build.layout_locale_flag?(H.name="else-if",H.tokentype=et.END,et.Attributes["@locale-internal"].call(H,I,this.locale_raw),et.Node["else-if"].build.call(H,I,N)):(H.name="if",H.tokentype=et.END,et.Attributes["@locale-internal"].call(H,I,this.locale_raw),et.Node.if.build.call(H,I,N),I.build.layout_locale_flag=!0)),this.locale_raw||(setSuffix(),I.tmp.cite_affixes[I.build.area]&&I.build.layout_locale_flag&&(B=new et.Token("else",et.END),et.Node.else.build.call(B,I,N),B=new et.Token("choose",et.END),et.Node.choose.build.call(B,I,N)),I.build_layout_locale_flag=!0,"citation"===I.build.area&&($=new et.Token("text",et.SINGLETON),R=function func(I,N,R){if(R&&R.suffix){var U=et.checkSuffixSpacePrepend(I,R.suffix);I.tmp.just_looking||(U=I.output.checkNestedBrace.update(U)),I.output.append(U,this)}},$.execs.push(R),N.push($)),R=function func(I){I.output.closeLevel()},this.execs.push(R),R=function func(I,N){I.opt.development_extensions.apply_citation_wrapper&&I.sys.wrapCitationEntry&&!I.tmp.just_looking&&N.system_id&&"citation"===I.tmp.area&&I.output.endTag()},this.execs.push(R),N.push(this),I.build.layout_flag=!1,I.build.layout_locale_flag=!1))}},et.Node.macro={build:function build(){}},et.Node.alternative={build:function build(I,N){if(this.tokentype===et.START){var R=new et.Token("choose",et.START);et.Node.choose.build.call(R,I,N);var U=new et.Token("if",et.START);et.Attributes["@alternative-node-internal"].call(U,I),et.Node.if.build.call(U,I,N);var $=function func(I,N){if(I.tmp.oldItem=N,I.tmp.oldLang=I.opt.lang,I.tmp.abort_alternative=!0,N["language-name"]&&N["language-name-original"]){var R=JSON.parse(JSON.stringify(N));R.language=R["language-name"];var U=et.localeResolve(R.language,I.opt["default-locale"][0]);if(I.opt.multi_layout)for(var $ in I.opt.multi_layout){var B=I.opt.multi_layout[$],H=!1;for(var V in B){var W=B[V];if(U.best===W.best||U.base===W.base||U.bare===W.bare){H=B[0].best;break}}H||(H=I.opt["default-locale"][0]),I.opt.lang=H}for(var z in R)if(-1===["id","type","language","multi"].indexOf(z)&&"alt-"!==z.slice(0,4))if(R.multi&&R.multi._keys[z]){var X=!0;for(var Q in R.multi._keys[z])if(U.bare===Q.replace(/^([a-zA-Z]+).*/,"$1")){X=!1;break}X&&delete R[z]}else delete R[z];for(var z in R)"alt-"===z.slice(0,4)?(R[z.slice(4)]=R[z],I.tmp.abort_alternative=!1):R.multi&&R.multi._keys&&!R["alt-"+z]&&R.multi._keys[z]&&(R.multi._keys[z][U.best]?(R[z]=R.multi._keys[z][U.best],I.tmp.abort_alternative=!1):R.multi._keys[z][U.base]?(R[z]=R.multi._keys[z][U.base],I.tmp.abort_alternative=!1):R.multi._keys[z][U.bare]&&(R[z]=R.multi._keys[z][U.bare],I.tmp.abort_alternative=!1))}I.output.openLevel(this),I.registry.refhash[N.id]=R,I.nameOutput=new et.NameOutput(I,R)};this.execs.push($),N.push(this);R=new et.Token("choose",et.START);et.Node.choose.build.call(R,I,N);U=new et.Token("if",et.START);et.Attributes["@alternative-node-internal"].call(U,I);$=function func(I){I.tmp.abort_alternative=!0};U.execs.push($),et.Node.if.build.call(U,I,N)}else if(this.tokentype===et.END){U=new et.Token("if",et.END);et.Node.if.build.call(U,I,N);R=new et.Token("choose",et.END);et.Node.choose.build.call(R,I,N);$=function func(I,N){I.output.closeLevel(),I.registry.refhash[N.id]=I.tmp.oldItem,I.opt.lang=I.tmp.oldLang,I.nameOutput=new et.NameOutput(I,I.tmp.oldItem),I.tmp.abort_alternative=!1};this.execs.push($),N.push(this);U=new et.Token("if",et.END);et.Node.if.build.call(U,I,N);R=new et.Token("choose",et.END);et.Node.choose.build.call(R,I,N)}}},et.Node["alternative-text"]={build:function build(I,N){if(this.tokentype===et.SINGLETON){this.execs.push((function func(I,N){N=I.refetchItem(N.id);et.getCite.call(I,N)}))}N.push(this)}},et.NameOutput=function(I,N,R){this.debug=!1,this.debug&&print("(1)"),this.state=I,this.Item=N,this.item=R,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},et.NameOutput.prototype.init=function(I){this.requireMatch=I.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=I,this.variables=I.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var N=0,R=this.variables.length;N<R;N+=1)this.Item[this.variables[N]]&&this.Item[this.variables[N]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[N]]));if((this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var N in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var U=this.state.tmp.done_vars.indexOf(this.variables[N]);U>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,U).concat(this.state.tmp.done_vars.slice(N+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},et.NameOutput.prototype.reinit=function(I,N){if(this.requireMatch=I.requireMatch,this.labelVariable=N,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=I.variables;var R=this.state.tmp.value.slice();this.state.tmp.value=[];for(var U=0,$=this.variables.length;U<$;U+=1)this.Item[this.variables[U]]&&this.Item[this.variables[U]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[U]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,et.LITERAL),this.state.tmp.value=R}if(this.checkCommonAuthor(this.requireMatch)){for(var U in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var B=this.state.tmp.done_vars.indexOf(this.variables[U]);B>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,B).concat(this.state.tmp.done_vars.slice(U+1)))}this.variables=[]}},et.NameOutput.prototype.outputNames=function(){var I=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=et.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",Z=0,tt=this.family.execs.length;Z<tt;Z+=1)this.family.execs[Z].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=et.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",Z=0,tt=this.given.execs.length;Z<tt;Z+=1)this.given.execs[Z].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&print("(2)"),this.getEtAlConfig(),this.debug&&print("(3)"),this.divideAndTransliterateNames(),this.debug&&print("(4)"),this.truncatePersonalNameLists(),this.debug&&print("(5)"),this.debug&&print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&print("(7)"),"count"!==this.name.strings.form){this.debug&&print("(8)"),this.setEtAlParameters(),this.debug&&print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&print("(10)"),this.renderAllNames(),this.debug&&print("(11)");var N=[];for(Z=0,tt=I.length;Z<tt;Z+=1){var R=I[Z],U=[],$=!1,B=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&print("(11a)");for(var H=0,V=this.institutions[R].length;H<V;H+=1)U.push(this.joinPersonsAndInstitutions([this.persons[R][H],this.institutions[R][H]]));if(this.debug&&print("(11b)"),this.institutions[R].length){var W=this.nameset_base+this.variable_offset[R];this.freeters[R].length&&(W+=1),$=this.joinInstitutionSets(U,W)}this.debug&&print("(11c)");B=this.joinFreetersAndInstitutionSets([this.freeters[R],$]);this.debug&&print("(11d)")}else B=this._join([this.freeters[R]],"");if(B&&(this.state.tmp.extension||(B=this._applyLabels(B,R)),N.push(B)),this.debug&&print("(11e)"),this.common_term)break}for(this.debug&&print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&print("(13)"),Z=0,tt=N.length;Z<tt;Z+=1)this.state.output.append(N[Z],"literal",!0);!this.state.tmp.just_looking&&N.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&print("(14)"),this.state.output.closeLevel("empty"),this.debug&&print("(15)");var z=this.state.output.pop();this.state.tmp.name_node.top=z,this.debug&&print("(16)");var X=et.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&et.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(z,X),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&print("(17)"),this.debug&&print("(18)"),"authority"!==I[0]){var Q=[],J=this.Item[I[0]];if(J)for(var Z=0,tt=J.length;Z<tt;Z+=1){var it=et.Util.Names.getRawName(J[Z]);it&&Q.push(it)}(Q=Q.join(", "))&&(this.state.tmp.name_node.string=Q)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var nt=[];nt.push(this.state.tmp.first_name_string),this.Item.title&&nt.push(this.Item.title),(nt=nt.join(", "))&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(nt=this.state.sys.normalizeAbbrevsKey("classic",nt)),this.state.transform.loadAbbreviation("default","classic",nt,this.Item.language),this.state.transform.abbrevs.default.classic[nt]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[nt],"empty",!0),z=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(z)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},et.NameOutput.prototype._applyLabels=function(I,N){var R;if(!this.label||!this.label[this.labelVariable])return I;var U=0,$=this.freeters_count[N]+this.institutions_count[N];if($>1)U=1;else{for(var B=0,H=this.persons[N].length;B<H;B+=1)$+=this.persons_count[N][B];$>1&&(U=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(U=this.label[this.labelVariable].before.strings.plural),R=this._buildLabel(N,U,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(R,this.label[this.labelVariable].before,!0),this.state.output.append(I,"literal",!0),this.state.output.closeLevel("empty"),I=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(U=this.label[this.labelVariable].after.strings.plural),R=this._buildLabel(N,U,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(I,"literal",!0),this.state.output.append(R,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),I=this.state.output.pop()),I},et.NameOutput.prototype._buildLabel=function(I,N,R,U){this.common_term&&(I=this.common_term);var $=!1,B=this.label[U][R];return B&&($=et.castLabel(this.state,B,I,N,et.TOLERANT)),$},et.NameOutput.prototype._collapseAuthor=function(){var I,N,R;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(N="",I=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,R=this.state.tmp.offset_characters,I&&(N=this.state.output.string(this.state,I,!1)),this.state.tmp.offset_characters=R,this.state.registry.authorstrings[this.Item.id]=N):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(N="",I=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,R=this.state.tmp.offset_characters,I&&(N=this.state.output.string(this.state,I,!1)),N===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=R),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=N,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=R,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},et.NameOutput.prototype.isPerson=function(I){return!(I.literal||!I.given&&I.family&&I.isInstitution)},et.NameOutput.prototype.truncatePersonalNameLists=function(){var I,N,R,U;for(I in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(I)&&(this.freeters_count[I]=this.freeters[I].length,this.freeters[I]=this._truncateNameList(this.freeters,I));for(I in this.persons)if(this.persons.hasOwnProperty(I))for(this.institutions_count[I]=this.institutions[I].length,this._truncateNameList(this.institutions,I),this.persons[I]=this.persons[I].slice(0,this.institutions[I].length),this.persons_count[I]=[],$=0,B=this.persons[I].length;$<B;$+=1)this.persons_count[I][$]=this.persons[I][$].length,this.persons[I][$]=this._truncateNameList(this.persons,I,$);if((U=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&I)||this._please_chop)for(N=0,R=this.variables.length;N<R;N+=1){I=this.variables[N],this.freeters[I].length&&(this._please_chop===I?(this.freeters[I]=this.freeters[I].slice(1),this.freeters_count[I]+=-1,this._please_chop=!1):U&&!this._please_chop&&(this.freeters[I]=this.freeters[I].slice(0,1),this.freeters_count[I]=1,this.institutions[I]=[],this.persons[I]=[],this._please_chop=U));for(var $=0,B=this.persons[I].length;$<B;$++)if(this.persons[I][$].length){if(this._please_chop===I){this.persons[I][$]=this.persons[I][$].slice(1),this.persons_count[I][$]+=-1,this._please_chop=!1;break}if(U&&!this._please_chop){this.freeters[I]=this.persons[I][$].slice(0,1),this.freeters_count[I]=1,this.institutions[I]=[],this.persons[I]=[],[],this._please_chop=U;break}}this.institutions[I].length&&(this._please_chop===I?(this.institutions[I]=this.institutions[I].slice(1),this.institutions_count[I]+=-1,this._please_chop=!1):U&&!this._please_chop&&(this.institutions[I]=this.institutions[I].slice(0,1),this.institutions_count[I]=1,[],this._please_chop=U))}for(N=0,R=this.variables.length;N<R;N+=1){this.institutions[I].length&&(this.nameset_offset+=1);for($=0,B=this.persons[I].length;$<B;$++)this.persons[I][$].length&&(this.nameset_offset+=1)}},et.NameOutput.prototype._truncateNameList=function(I,N,R){var U;if(U=void 0===R?I[N]:I[N][R],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&U.length>50&&U.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var $=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;U=U.slice(0,$+1).concat(U.slice(-1))}return U},et.NameOutput.prototype.divideAndTransliterateNames=function(){var I,N,R,U,$=this.Item,B=this.variables;for(this.varnames=B.slice(),this.freeters={},this.persons={},this.institutions={},I=0,N=B.length;I<N;I+=1){var H=B[I];this.variable_offset[H]=this.nameset_offset;var V=this._normalizeVariableValue($,H);if(this.name.strings["suppress-min"]&&V.length>=this.name.strings["suppress-min"]&&(V=[]),this.name.strings["suppress-max"]&&V.length<=this.name.strings["suppress-max"]&&(V=[]),this._getFreeters(H,V),this._getPersonsAndInstitutions(H,V),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[H]=[],R=0,U=this.persons[H].length;R<U;R+=1)this.persons[H][R]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[H]=[],this.freeters[H]=this.freeters[H].concat(this.persons[H]),R=0,U=this.persons[H].length;R<U;R+=1)for(var W=0,z=this.persons[H][R].length;W<z;W+=1)this.freeters[H].push(this.persons[H][R][W]);this.persons[H]=[]}}},et.NameOutput.prototype._normalizeVariableValue=function(I,N){var R;return"string"==typeof I[N]||"number"==typeof I[N]?(et.debug('name variable "'+N+'" is string or number, not array. Attempting to fix.'),R=[{literal:I[N]+""}]):I[N]?"number"!=typeof I[N].length?(et.debug('name variable "'+N+'" is object, not array. Attempting to fix.'),I[N]=[I[N]],R=I[N].slice()):R=I[N].slice():R=[],R},et.NameOutput.prototype._getFreeters=function(I,N){if(this.freeters[I]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var R=N.length-1;R>-1&&this.isPerson(N[R]);R--){(U=this._checkNickname(N.pop()))&&this.freeters[I].push(U)}else for(R=N.length-1;R>-1;R--){var U=N.pop();if(this.isPerson(U))U=this._checkNickname(U);this.freeters[I].push(U)}this.freeters[I].reverse(),this.freeters[I].length&&(this.nameset_offset+=1)},et.NameOutput.prototype._getPersonsAndInstitutions=function(I,N){if(this.persons[I]=[],this.institutions[I]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var R=[],U=!1,$=!0,B=N.length-1;B>-1;B+=-1)if(this.isPerson(N[B])){var H=this._checkNickname(N[B]);H&&R.push(H)}else U=!0,this.institutions[I].push(N[B]),$||(R.reverse(),this.persons[I].push(R),R=[]),$=!1;U&&(R.reverse(),this.persons[I].push(R),this.persons[I].reverse(),this.institutions[I].reverse())}},et.NameOutput.prototype._clearValues=function(I){for(var N=I.length-1;N>-1;N+=-1)I.pop()},et.NameOutput.prototype._checkNickname=function(I){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var N;if((N=et.Util.Names.getRawName(I))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var R=N;this.state.sys.normalizeAbbrevsKey&&(R=this.state.sys.normalizeAbbrevsKey("author",N)),this.state.transform.loadAbbreviation("default","nickname",R,this.Item.language);var U=this.state.transform.abbrevs.default.nickname[R];U&&(I="!here>>>"!==U&&{family:U,given:""})}}return I},et.NameOutput.prototype._purgeEmptyBlobs=function(I){for(var N=I.length-1;N>-1;N+=-1)I[N]&&0!==I[N].length&&I[N].blobs.length||(I=I.slice(0,N).concat(I.slice(N+1)));return I},et.NameOutput.prototype.joinPersons=function(I,N,R,U){return I=this._purgeEmptyBlobs(I),U||(U="name"),void 0===R?1===this.etal_spec[N].freeters?this._joinEtAl(I):2===this.etal_spec[N].freeters?this._joinEllipsis(I):this.state.tmp.sort_key_flag?this._join(I,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(I):1===this.etal_spec[N].persons[R]?this._joinEtAl(I):2===this.etal_spec[N].persons[R]?this._joinEllipsis(I):this.state.tmp.sort_key_flag?this._join(I,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(I)},et.NameOutput.prototype.joinInstitutionSets=function(I,N){return I=this._purgeEmptyBlobs(I),1===this.etal_spec[N].institutions?this._joinEtAl(I,"institution"):2===this.etal_spec[N].institutions?this._joinEllipsis(I,"institution"):this._joinAnd(I)},et.NameOutput.prototype.joinPersonsAndInstitutions=function(I){I=this._purgeEmptyBlobs(I);var N=this._join(I,this.state.tmp.name_delimiter);return N.isInstitution=!0,N},et.NameOutput.prototype.joinFreetersAndInstitutionSets=function(I){return I=this._purgeEmptyBlobs(I),this._join(I,"[never here]",this.with.single,this.with.multiple)},et.NameOutput.prototype._getAfterInvertedName=function(I,N,R){if(R&&I.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var U=I[I.length-2];U.blobs.length>0&&U.blobs[0].isInverted&&(R.strings.prefix=N)}return R},et.NameOutput.prototype._getAndJoin=function(I,N){var R=!1;if(I.length>1){var U="single";I.length>2&&(U="multiple"),R=I[I.length-1].isInstitution?this.institution.and[U]:this.name.and[U],R=JSON.parse(JSON.stringify(R)),R=this._getAfterInvertedName(I,N,R)}return R},et.NameOutput.prototype._joinEtAl=function(I){var N=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),R=this._join(I,N);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(R,"literal",!0),I.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===I.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},et.NameOutput.prototype._joinEllipsis=function(I){var N=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),R=!1;if(I.length>1){var U="single";I.length>2&&(U="multiple"),R=JSON.parse(JSON.stringify(this.name.ellipsis[U])),R=this._getAfterInvertedName(I,N,R)}return this._join(I,N,R)},et.NameOutput.prototype._joinAnd=function(I){var N=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),R=this._getAndJoin(I,N);return this._join(I,N,R)},et.NameOutput.prototype._join=function(I,N,R){if(!I)return!1;if(!(I=this._purgeEmptyBlobs(I)).length)return!1;if(I.length>1)if(2===I.length)R?I=[I[0],R,I[1]]:I[0].strings.suffix+=N;else{var U;U=R?1:0;for(var $=I.pop(),B=0,H=I.length-U;B<H;B++)I[B].strings.suffix+=N;I.push(R),I.push($)}for(this.state.output.openLevel(),B=0,H=I.length;B<H;B+=1)this.state.output.append(I[B],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},et.NameOutput.prototype._getToken=function(I){var N=this[I];return"institution"===I?new et.Token:N},et.NameOutput.prototype.checkCommonAuthor=function(I){if(!I)return!1;var N=!1;if(2===this.variables.length){var R=this.variables.slice();R.sort(),N=R.join("")}if(!N)return!1;var U=!1;if(this.state.locale[this.state.opt.lang].terms[N]&&(U=!0),!U)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var $=this.Item[this.variables[0]],B=this.Item[this.variables[1]],H=this._compareNamesets($,B);return!0===H&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!H},et.NameOutput.prototype.setCommonTerm=function(){var I=this.variables.slice();if(I.sort(),this.common_term=I.join(""),this.common_term){var N=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?N=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(N=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!N||this.variables.length<2)this.common_term=!1;else for(var R=0,U=this.variables.length-1;R<U;R+=1){var $=this.variables[R],B=this.variables[R+1];if(this.freeters[$].length||this.freeters[B].length){if(this.etal_spec[$].freeters!==this.etal_spec[B].freeters||!this._compareNamesets(this.freeters[$],this.freeters[B]))return void(this.common_term=!1);1}if(this.persons[$].length!==this.persons[B].length)return void(this.common_term=!1);for(var H=0,V=this.persons[$].length;H<V;H+=1)if(this.etal_spec[$].persons[H]!==this.etal_spec[B].persons[H]||!this._compareNamesets(this.persons[$][H],this.persons[B][H]))return void(this.common_term=!1)}}},et.NameOutput.prototype._compareNamesets=function(I,N){if(!I||!N||I.length!==N.length)return!1;for(var R=0,U=N.length;R<U;R+=1)for(var $=0,B=et.NAME_PARTS.length;$<B;$+=1){var H=et.NAME_PARTS[$];if(!I[R]||I[R][H]!=N[R][H])return!1}return!0},et.NameOutput.prototype.constrainNames=function(){var I;this.names_count=0;for(var N=0,R=this.variables.length;N<R;N+=1){var U=this.variables[N];I=this.nameset_base+N,this.freeters[U].length&&(this.state.tmp.names_max.push(this.freeters[U].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,U,I),this.names_count+=this.freeters[U].length),this.institutions[U].length&&(this.state.tmp.names_max.push(this.institutions[U].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,U,I),this.persons[U]=this.persons[U].slice(0,this.institutions[U].length),this.names_count+=this.institutions[U].length);for(var $=0,B=this.persons[U].length;$<B;$+=1)this.persons[U][$].length&&(this.state.tmp.names_max.push(this.persons[U][$].length,"literal"),this._imposeNameConstraints(this.persons[U],this.persons_count[U],$,I),this.names_count+=this.persons[U][$].length)}},et.NameOutput.prototype._imposeNameConstraints=function(I,N,R,U){var $=I[R],B=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[U]?B=this.state.tmp.disambig_request.names[U]:N[R]>=this.etal_min&&(B=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[U]>this.etal_use_first?B=N[R]<this.etal_min?N[R]:this.state.tmp.disambig_request.names[U]:N[R]>=this.etal_min&&(B=this.etal_use_first),this.etal_use_last&&B>this.etal_min-2&&(B=this.etal_min-2));var H=this.etal_min>=this.etal_use_first,V=N[R]>B;B>N[R]&&(B=$.length),H&&V&&(this.etal_use_last?I[R]=$.slice(0,B).concat($.slice(-1)):I[R]=$.slice(0,B)),this.state.tmp.disambig_settings.names[U]=I[R].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},et.NameOutput.prototype.disambigNames=function(){for(var I,N=0,R=this.variables.length;N<R;N+=1){var U=this.variables[N];if(I=this.nameset_base+N,this.freeters[U].length&&this._runDisambigNames(this.freeters[U],I),this.institutions[U].length){void 0===this.state.tmp.disambig_settings.givens[I]&&(this.state.tmp.disambig_settings.givens[I]=[]);for(var $=0,B=this.institutions[U].length;$<B;$+=1)void 0===this.state.tmp.disambig_settings.givens[I][$]&&this.state.tmp.disambig_settings.givens[I].push(2)}for($=0,B=this.persons[U].length;$<B;$+=1)this.persons[U][$].length&&this._runDisambigNames(this.persons[U][$],I)}},et.NameOutput.prototype._runDisambigNames=function(I,N){var R,U,$,B,H,V;for(B=0,H=I.length;B<H;B+=1)if(I[B].given||I[B].family){if(U=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,I[B],B),void 0===this.state.tmp.disambig_settings.givens[N])for(var W=0,z=N+1;W<z;W+=1)this.state.tmp.disambig_settings.givens[W]||(this.state.tmp.disambig_settings.givens[W]=[]);if(void 0===this.state.tmp.disambig_settings.givens[N][B]&&(R=this.state.inheritOpt(this.name,"form","name-form","long"),$=this.state.registry.namereg.evalname(""+this.Item.id,I[B],B,0,R,U),this.state.tmp.disambig_settings.givens[N].push($)),R=this.state.inheritOpt(this.name,"form","name-form","long"),V=this.state.registry.namereg.evalname(""+this.Item.id,I[B],B,0,R,U),this.state.tmp.disambig_request){var X=this.state.tmp.disambig_settings.givens[N][B];1!==X||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==I[B].given||(X=2),$=X,this.state.opt["disambiguate-add-givenname"]&&I[B].given&&($=this.state.registry.namereg.evalname(""+this.Item.id,I[B],B,$,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else $=V;!this.state.tmp.just_looking&&this.item&&this.item.position===et.POSITION_FIRST&&V>$&&($=V),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[N][B]=$,"string"!=typeof U||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},et.NameOutput.prototype.getEtAlConfig=function(){var I=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===I&&(I={}),I.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},et.NameOutput.prototype.setEtAlParameters=function(){var I,N,R,U;for(I=0,N=this.variables.length;I<N;I+=1){var $=this.variables[I];for(void 0===this.etal_spec[$]&&(this.etal_spec[$]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+I]=this.etal_spec[$],this.freeters[$].length&&this._setEtAlParameter("freeters",$),R=0,U=this.persons[$].length;R<U;R+=1)void 0===this.etal_spec[$][R]&&(this.etal_spec[$].persons[R]=0),this._setEtAlParameter("persons",$,R);this.institutions[$].length&&this._setEtAlParameter("institutions",$)}},et.NameOutput.prototype._setEtAlParameter=function(I,N,R){var U,$;"persons"===I?(U=this.persons[N][R],$=this.persons_count[N][R]):(U=this[I][N],$=this[I+"_count"][N]),U.length<$&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===I?this.etal_spec[N].persons[R]=2:this.etal_spec[N][I]=2:"persons"===I?this.etal_spec[N].persons[R]=1:this.etal_spec[N][I]=1:"persons"===I?this.etal_spec[N].persons[R]=0:this.etal_spec[N][I]=0},et.NameOutput.prototype.renderAllNames=function(){for(var I,N=0,R=this.variables.length;N<R;N+=1){var U=this.variables[N];(this.freeters[U].length||this.institutions[U].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),I=this.nameset_base+N,this.freeters[U].length&&(this.freeters[U]=this._renderNames(U,this.freeters[U],I));for(var $=0,B=this.institutions[U].length;$<B;$+=1)this.persons[U][$]=this._renderNames(U,this.persons[U][$],I,$)}this.renderInstitutionNames()},et.NameOutput.prototype.renderInstitutionNames=function(){for(var I=0,N=this.variables.length;I<N;I+=1)for(var R=this.variables[I],U=0,$=this.institutions[R].length;U<$;U+=1){var B,H=this.institutions[R][U],V={primary:"locale-orig",secondary:!1,tertiary:!1};if(B=this.state.tmp.extension?["sort"]:H.isInstitution||H.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var W=["primary","secondary","tertiary"],z=0,X=W.length;z<X&&!(B.length-1<z);z+=1)B[z]&&(V[W[z]]="locale-"+B[z]);else V.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(V.secondary=!1,V.tertiary=!1),this.setRenderedName(H);var Q=this._renderInstitutionName(R,H,V,U);this.institutions[R][U]=Q}},et.NameOutput.prototype._renderInstitutionName=function(I,N,R,U){var $,B,H,V,W,z=this.getName(N,R.primary,!0),X=z.name,Q=z.usedOrig;if(X&&(X=this.fixupInstitution(X,I,U)),J=!1,R.secondary){var J=(z=this.getName(N,R.secondary,!1,Q)).name;Q=z.usedOrig,J&&(J=this.fixupInstitution(J,I,U))}$=!1,R.tertiary&&($=(z=this.getName(N,R.tertiary,!1,Q)).name)&&($=this.fixupInstitution($,I,U));var Z={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(X&&(Z.l.pri=X.long,Z.s.pri=X.short.length?X.short:X.long),J&&(Z.l.sec=J.long,Z.s.sec=J.short.length?J.short:J.long),$&&(Z.l.ter=$.long,Z.s.ter=$.short.length?$.short:$.long),this.institution.strings["institution-parts"]){case"short":X.short.length?(H=this._getShortStyle(),V=[this._composeOneInstitutionPart([Z.s.pri,Z.s.sec,Z.s.ter],R,H,I)]):(B=this._getLongStyle(X,I,U),V=[this._composeOneInstitutionPart([Z.l.pri,Z.l.sec,Z.l.ter],R,B,I)]);break;case"short-long":B=this._getLongStyle(X,I,U),H=this._getShortStyle(),V=[W=this._renderOneInstitutionPart(X.short,H),this._composeOneInstitutionPart([Z.l.pri,Z.l.sec,Z.l.ter],R,B,I)];break;case"long-short":B=this._getLongStyle(X,I,U),H=this._getShortStyle(),W=this._renderOneInstitutionPart(X.short,H),V=[this._composeOneInstitutionPart([Z.l.pri,Z.l.sec,Z.l.ter],R,B,I),W];break;default:B=this._getLongStyle(X,I,U),V=[this._composeOneInstitutionPart([Z.l.pri,Z.l.sec,Z.l.ter],R,B,I)]}var tt=this._join(V," ");return tt&&(tt.isInstitution=!0),this.state.tmp.name_node.children.push(tt),tt},et.NameOutput.prototype._composeOneInstitutionPart=function(I,N,R){var U,$,B,H,V=!1,W=!1,z=!1;if(I[0]){if(U=et.Util.cloneToken(R),this.state.opt.citeAffixes[N.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[N.primary].prefix){for(var X=!1,Q=0,J=U.decorations.length;Q<J;Q+=1)"@font-style"===R.decorations[Q][0]&&"italic"===U.decorations[Q][1]&&(X=!0);X||U.decorations.push(["@font-style","italic"])}V=this._renderOneInstitutionPart(I[0],U)}if(I[1]&&(W=this._renderOneInstitutionPart(I[1],R)),I[2]&&(z=this._renderOneInstitutionPart(I[2],R)),W||z){this.state.output.openLevel("empty"),this.state.output.append(V),$=et.Util.cloneToken(R),N.secondary&&($.strings.prefix=this.state.opt.citeAffixes.institutions[N.secondary].prefix,$.strings.suffix=this.state.opt.citeAffixes.institutions[N.secondary].suffix,$.strings.prefix||($.strings.prefix=" "));var Z=new et.Token;Z.decorations.push(["@font-style","normal"]),Z.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(Z),this.state.output.append(W,$),this.state.output.closeLevel(),B=et.Util.cloneToken(R),N.tertiary&&(B.strings.prefix=this.state.opt.citeAffixes.institutions[N.tertiary].prefix,B.strings.suffix=this.state.opt.citeAffixes.institutions[N.tertiary].suffix,B.strings.prefix||(B.strings.prefix=" "));var tt=new et.Token;tt.decorations.push(["@font-style","normal"]),tt.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(tt),this.state.output.append(z,B),this.state.output.closeLevel(),this.state.output.closeLevel(),H=this.state.output.pop()}else H=V;return H},et.NameOutput.prototype._renderOneInstitutionPart=function(I,N){for(var R=0,U=I.length;R<U;R+=1)if(I[R]){var $=I[R];if(this.state.tmp.strip_periods)$=$.replace(/\./g,"");else for(var B=0,H=N.decorations.length;B<H;B+=1)if("@strip-periods"===N.decorations[B][0]&&"true"===N.decorations[B][1]){$=$.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,et.LITERAL),"!here>>>"===$?I[R]=!1:(this.state.output.append($,N,!0),I[R]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(I,this.institution.strings["part-separator"])},et.NameOutput.prototype._renderNames=function(I,N,R,U){var $=!1;if(N.length){for(var B=[],H=0,V=N.length;H<V;H+=1){var W,z=N[H],X={primary:"locale-orig",secondary:!1,tertiary:!1};if(W=this.state.tmp.extension?["sort"]:z.isInstitution||z.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var Q=["primary","secondary","tertiary"],J=0,Z=Q.length;J<Z&&!(W.length-1<J);J+=1)X[Q[J]]="locale-"+W[J];else X.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(X.secondary=!1,X.tertiary=!1),this.setRenderedName(z),z.literal||z.isInstitution)B.push(this._renderInstitutionName(I,z,X,U));else{var tt=this._renderPersonalName(I,z,X,R,H,U),it=et.Util.cloneToken(this.name);this.state.output.append(tt,it,!0),B.push(this.state.output.pop())}}$=this.joinPersons(B,R,U)}return $},et.NameOutput.prototype._renderPersonalName=function(I,N,R,U,$,B){var H=this.getName(N,R.primary,!0),V=this._renderOnePersonalName(H.name,U,$,B),W=!1;R.secondary&&(H=this.getName(N,R.secondary,!1,H.usedOrig)).name&&(W=this._renderOnePersonalName(H.name,U,$,B));var z,X=!1;if(R.tertiary&&(H=this.getName(N,R.tertiary,!1,H.usedOrig)).name&&(X=this._renderOnePersonalName(H.name,U,$,B)),W||X){this.state.output.openLevel("empty"),this.state.output.append(V);var Q=new et.Token;R.secondary&&(Q.strings.prefix=this.state.opt.citeAffixes.persons[R.secondary].prefix,Q.strings.suffix=this.state.opt.citeAffixes.persons[R.secondary].suffix,Q.strings.prefix||(Q.strings.prefix=" ")),this.state.output.append(W,Q);var J=new et.Token;R.tertiary&&(J.strings.prefix=this.state.opt.citeAffixes.persons[R.tertiary].prefix,J.strings.suffix=this.state.opt.citeAffixes.persons[R.tertiary].suffix,J.strings.prefix||(J.strings.prefix=" ")),this.state.output.append(X,J),this.state.output.closeLevel(),z=this.state.output.pop()}else z=V;return z},et.NameOutput.prototype._isRomanesque=function(I){var N,R=2;return I.family.replace(/\"/g,"").match(et.ROMANESQUE_REGEXP)||(R=0),!R&&I.given&&I.given.match(et.STARTSWITH_ROMANESQUE_REGEXP)&&(R=1),2==R&&(I.multi&&I.multi.main?N=I.multi.main.slice(0,2):this.Item.language&&(N=this.Item.language.slice(0,2)),["ja","zh"].indexOf(N)>-1&&(R=1)),R},et.NameOutput.prototype._renderOnePersonalName=function(I,N,R,U){var $=I,B=this._droppingParticle($,N,U),H=this._familyName($),V=this._nonDroppingParticle($),W=this._givenName($,N,R),z=W.blob,X=this._nameSuffix($);!1===z&&(B=!1,X=!1);var Q,J=this.state.inheritOpt(this.name,"sort-separator");J||(J=""),Q=$["comma-suffix"]?", ":" ";var Z=this._isRomanesque($);var tt,it,nt,st,rt,at=function hasJoiningPunctuation(I){return!!I&&("string"==typeof I.blobs?["’","'","-"," "].indexOf(I.blobs.slice(-1))>-1:hasJoiningPunctuation(I.blobs[I.blobs.length-1]))}(V);if(tt=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?" ":" ",0===Z)it=this._join([V,H,z],"");else if(1===Z||$["static-ordering"])nt=this._join([V,H],tt),it=this._join([nt,z]," ");else if($["reverse-ordering"])nt=this._join([V,H],tt),it=this._join([z,nt]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(nt=this._join([V,H],tt),nt=this._join([nt,B]," "),nt=this._join([nt,z],this.state.opt.sort_sep),it=this._join([nt,X]," ")):(rt=this._join([z,B,V]," "),nt=this._join([H,rt],this.state.opt.sort_sep),it=this._join([nt,X]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===R&&(0===U||void 0===U))["Lord","Lady"].indexOf($.given)>-1&&(J=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(rt=this._join([z,B],$["comma-dropping-particle"]+" "),(rt=this._join([rt,V]," "))&&this.given&&(rt.strings.prefix=this.given.strings.prefix,rt.strings.suffix=this.given.strings.suffix),H&&this.family&&(H.strings.prefix=this.family.strings.prefix,H.strings.suffix=this.family.strings.suffix),nt=this._join([H,rt],J),it=this._join([nt,X],J)):((st=at?this._join([V,H],""):this._join([V,H],tt))&&this.family&&(st.strings.prefix=this.family.strings.prefix,st.strings.suffix=this.family.strings.suffix),(rt=this._join([z,B],$["comma-dropping-particle"]+" "))&&this.given&&(rt.strings.prefix=this.given.strings.prefix,rt.strings.suffix=this.given.strings.suffix),nt=this._join([st,rt],J),it=this._join([nt,X],J)),it.isInverted=!0;else{if($["dropping-particle"]&&$.family&&!$["non-dropping-particle"]){var ot=$["dropping-particle"];["'","ʼ","’","-"].indexOf(ot.slice(-1))>-1&&"de"!==ot.slice(0,-1)&&(H=this._join([B,H],""),B=!1)}var lt;at?(rt=this._join([V,H],""),rt=this._join([B,rt],tt)):rt=this._join([B,V,H],tt),(rt=this._join([rt,X],Q))&&this.family&&(rt.strings.prefix=this.family.strings.prefix,rt.strings.suffix=this.family.strings.suffix),z&&this.given&&(z.strings.prefix=this.given.strings.prefix,z.strings.suffix=this.given.strings.suffix),rt.strings.prefix&&($["comma-dropping-particle"]=""),lt=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===W.initializationLevel?tt:" ",it=this._join([z,rt],$["comma-dropping-particle"]+lt)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,et.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(it),it},et.NameOutput.prototype._normalizeNameInput=function(I){var N={literal:I.literal,family:I.family,isInstitution:I.isInstitution,given:I.given,suffix:I.suffix,"comma-suffix":I["comma-suffix"],"non-dropping-particle":I["non-dropping-particle"],"dropping-particle":I["dropping-particle"],"static-ordering":I["static-ordering"],"static-particles":I["static-particles"],"reverse-ordering":I["reverse-ordering"],"full-form-always":I["full-form-always"],"parse-names":I["parse-names"],"comma-dropping-particle":"",block_initialize:I.block_initialize,multi:I.multi};return this._parseName(N),N},et.NameOutput.prototype._stripPeriods=function(I,N){var R=this[I+"_decor"];if(N)if(this.state.tmp.strip_periods)N=N.replace(/\./g,"");else if(R)for(var U=0,$=R.decorations.length;U<$;U+=1)if("@strip-periods"===R.decorations[U][0]&&"true"===R.decorations[U][1]){N=N.replace(/\./g,"");break}return N},et.NameOutput.prototype._nonDroppingParticle=function(I){var N=I["non-dropping-particle"];N&&this.state.tmp.sort_key_flag&&(N=N.replace(/[\'\u2019]/,""));var R=this._stripPeriods("family",N);return!!this.state.output.append(R,this.family_decor,!0)&&this.state.output.pop()},et.NameOutput.prototype._droppingParticle=function(I,N,R){var U=I["dropping-particle"];U&&this.state.tmp.sort_key_flag&&(U=U.replace(/[\'\u2019]/,""));var $=this._stripPeriods("given",U);if(I["dropping-particle"]&&I["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===R?this.etal_spec[N].freeters=2:this.etal_spec[N].persons=2:void 0===R?this.etal_spec[N].freeters=1:this.etal_spec[N].persons=1,I["comma-dropping-particle"]="";else if(this.state.output.append($,this.given_decor,!0))return this.state.output.pop();return!1},et.NameOutput.prototype._familyName=function(I){var N=this._stripPeriods("family",I.family);return!!this.state.output.append(N,this.family_decor,!0)&&this.state.output.pop()},et.NameOutput.prototype._givenName=function(I,N,R){var U,$,B="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),H=!1!==this.state.inheritOpt(this.name,"initialize"),V="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!I.block_initialize;if(I["full-form-always"])$=2;else{U=B?0:V?1:2;var W=this.state.tmp.disambig_settings.givens[N][R];$=W>U?W:U}var z=this.state.citation.opt["givenname-disambiguation-rule"];if(z&&"-with-initials"===z.slice(-14)&&(V=!0),I.family&&1===$)if(V){var X=this.state.inheritOpt(this.name,"initialize-with",!1,"");I.given=et.Util.Names.initializeWith(this.state,I.given,X,!H)}else I.given=et.Util.Names.unInitialize(this.state,I.given);else{if(0===$)return{blob:!1};2===$&&(I.given=et.Util.Names.unInitialize(this.state,I.given))}var Q=this._stripPeriods("given",I.given);return this.state.output.append(Q,this.given_decor,!0)?{blob:this.state.output.pop(),initializationLevel:$}:{blob:!1}},et.NameOutput.prototype._nameSuffix=function(I){var N,R=I.suffix;R&&"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(R=et.Util.Names.initializeWith(this.state,R,this.state.inheritOpt(this.name,"initialize-with"),!0));var U="";return(R=this._stripPeriods("family",R))&&"."===R.slice(-1)&&(R=R.slice(0,-1),U="."),!!this.state.output.append(R,"empty",!0)&&((N=this.state.output.pop()).strings.suffix=U+N.strings.suffix,N)},et.NameOutput.prototype._getLongStyle=function(I){var N;return(N=I.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(N=new et.Token),N},et.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new et.Token},et.NameOutput.prototype._parseName=function(I){if(!I["parse-names"]&&void 0!==I["parse-names"])return I;var N;I.family&&!I.given&&I.isInstitution&&(I.literal=I.family,I.family=void 0,I.isInstitution=void 0),I.family&&'"'===I.family.slice(0,1)&&'"'===I.family.slice(-1)||!I["parse-names"]&&void 0!==I["parse-names"]?(I.family=I.family.slice(1,-1),N=!0,I["parse-names"]=0):N=!1,this.state.opt.development_extensions.parse_names&&!I["non-dropping-particle"]&&I.family&&!N&&I.given&&(I["static-particles"]||et.parseParticles(I,!0))},et.NameOutput.prototype.getName=function(I,N,R,U){if(U&&"locale-orig"===N)return{name:!1,usedOrig:U};I.family||(I.family=""),I.given||(I.given="");var $={};$["static-ordering"]=this.getStaticOrder(I);var B,H=!0;if("locale-orig"!==N&&(H=!1,I.multi))for(var V=this.state.opt[N],W=0,z=V.length;W<z;W+=1)if(B=V[W],I.multi._key[B]){H=!0;var X=I.isInstitution;(I=I.multi._key[B]).isInstitution=X,($=this.getNameParams(B)).transliterated=!0;break}return H||(B=!1,I.multi&&I.multi.main?B=I.multi.main:this.Item.language&&(B=this.Item.language),B&&($=this.getNameParams(B))),R||H?(I.family||(I.family=""),I.given||(I.given=""),I.literal&&(delete I.family,delete I.given),!(I={family:I.family,given:I.given,"non-dropping-particle":I["non-dropping-particle"],"dropping-particle":I["dropping-particle"],suffix:I.suffix,"static-ordering":$["static-ordering"],"static-particles":I["static-particles"],"reverse-ordering":$["reverse-ordering"],"full-form-always":$["full-form-always"],"parse-names":I["parse-names"],"comma-suffix":I["comma-suffix"],"comma-dropping-particle":I["comma-dropping-particle"],transliterated:$.transliterated,block_initialize:$["block-initialize"],literal:I.literal,isInstitution:I.isInstitution,multi:I.multi}).literal&&!I.given&&I.family&&I.isInstitution&&(I.literal=I.family),I.literal&&(delete I.family,delete I.given),{name:I=this._normalizeNameInput(I),usedOrig:U||!H}):{name:!1,usedOrig:U}},et.NameOutput.prototype.getNameParams=function(I){var N={},R=et.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),U=this.state.locale[R.best]?R.best:this.state.opt["default-locale"][0],$=this.state.locale[U].opts["name-as-sort-order"],B=this.state.locale[U].opts["name-as-reverse-order"],H=this.state.locale[U].opts["name-never-short"],V=I.split("-")[0];return $&&$[V]&&(N["static-ordering"]=!0,N["reverse-ordering"]=!1),B&&B[V]&&(N["reverse-ordering"]=!0,N["static-ordering"]=!1),H&&H[V]&&(N["full-form-always"]=!0),N["static-ordering"]&&(N["block-initialize"]=!0),N},et.NameOutput.prototype.setRenderedName=function(I){if("bibliography"===this.state.tmp.area){for(var N="",R=0,U=et.NAME_PARTS.length;R<U;R+=1)I[et.NAME_PARTS[R]]&&(N+=I[et.NAME_PARTS[R]]);this.state.tmp.rendered_name.push(N)}},et.NameOutput.prototype.fixupInstitution=function(I,N,R){!I.literal&&I.family&&(I.literal=I.family,delete I.family);var U=I.literal,$=U,B={long:U.split(/\s*\|\s*/),short:$.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){var H=this.Item.jurisdiction;H=this.state.transform.loadAbbreviation(H,"institution-entire",U,this.Item.language),this.state.transform.abbrevs[H]["institution-entire"][U]?U=this.state.transform.abbrevs[H]["institution-entire"][U]:(H=this.Item.jurisdiction,H=this.state.transform.loadAbbreviation(H,"institution-part",U,this.Item.language),this.state.transform.abbrevs[H]["institution-part"][U]&&(U=this.state.transform.abbrevs[H]["institution-part"][U])),U=this._quashChecks(H,U)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){var V=this.Item.jurisdiction;V=this.state.transform.loadAbbreviation(V,"institution-part",$,this.Item.language),this.state.transform.abbrevs[V]["institution-part"][$]&&($=this.state.transform.abbrevs[V]["institution-part"][$]),$=this._quashChecks(V,$),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&$===U&&($="")}if(B.long=U.split(/\s*\|\s*/),B.short=$.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var W=B.short.length-1;W>-1;W--){var z=this.Item.jurisdiction,X=B.short[W];if(z=this.state.transform.loadAbbreviation(z,"institution-part",X,this.Item.language),this.state.transform.abbrevs[z]["institution-part"][X]&&(B.short[W]=this.state.transform.abbrevs[z]["institution-part"][X]),B.short[W].indexOf("|")>-1){var Q=B.short,J=Q[W].split(/\s*\|\s*/);B.short=Q.slice(0,W).concat(J).concat(Q.slice(W+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&B.short.reverse(),B.short=this._trimInstitution(B.short),this.institution.strings["reverse-order"]&&B.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){var Z=this.Item.jurisdiction,tt=this.state.tmp.abbrev_trimmer;if(tt&&tt[Z]&&tt[Z][N])for(var et=0,it=B.short.length;et<it;et++){var nt=B.short[et];B.short[et]=nt.replace(tt[Z][N],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&B.long.reverse(),B.long=this._trimInstitution(B.long),this.institution.strings["reverse-order"]&&B.long.reverse(),B},et.NameOutput.prototype.getStaticOrder=function(I,N){var R=!1;return(!N&&I["static-ordering"]||0===this._isRomanesque(I)||(!I.multi||!I.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||I.multi&&I.multi.main&&["vi","hu"].indexOf(I.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&et.VIETNAMESE_NAMES.exec(I.family+" "+I.given)&&et.VIETNAMESE_SPECIALS.exec(I.family+I.given))&&(R=!0),R},et.NameOutput.prototype._quashChecks=function(I,N){var R=(N=this.state.transform.quashCheck(I,N)).split(/>>[0-9]{4}>>/),U=N.match(/>>([0-9]{4})>>/);N=R.pop();var $=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if($&&($=parseInt($.year,10),$=!isNaN($)&&$),$){if(R.length>0)for(var B=U.length-1;B>0&&!($>=parseInt(U[B],10));B--)N=R.pop();N=N.replace(/\s*\|\s*/g,"|")}return N},et.NameOutput.prototype._trimInstitution=function(I){var N=!1,R=!1,U=!1,$=!1,B=I.slice();if(this.institution){if(void 0!==this.institution.strings["use-first"]&&(N=this.institution.strings["use-first"]),void 0!==this.institution.strings["use-last"]&&(U=this.institution.strings["use-last"]),void 0!==this.institution.strings["stop-first"]&&($=this.institution.strings["stop-first"]),void 0!==this.institution.strings["stop-last"]&&(R=this.institution.strings["stop-last"]),N&&(R&&(B=B.slice(0,-1*R)),B=B.slice(0,N)),U){var H=I.slice();N?$=N:B=[],$&&(H=H.slice($)),H=H.slice(-1*U),B=B.concat(H)}I=B}return I},et.PublisherOutput=function(I,N){this.state=I,this.group_tok=N,this.varlist=[]},et.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},et.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var I=!1;"text"===this.group_tok.strings.and?I=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(I="&");var N=new et.Token;N.strings.suffix=" ",N.strings.prefix=" ",this.state.output.append(I,N,!0);var R=this.state.output.pop();N.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(I,N,!0);var U=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,I&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=U:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=R,this.and_blob.multiple=R):(this.and_blob.single=R,this.and_blob.multiple=U))},et.PublisherOutput.prototype.composeElements=function(){for(var I=0;I<2;I+=1)for(var N=["publisher","publisher-place"][I],R=0,U=this["publisher-list"].length;R<U;R+=1){var $=this[N+"-list"][R],B=this[N+"-token"];this.state.output.append($,B,!0),this[N+"-list"][R]=this.state.output.pop()}},et.PublisherOutput.prototype.composePublishers=function(){for(var I,N=0,R=this["publisher-list"].length;N<R;N+=1)I=[this[this.varlist[0]+"-list"][N],this[this.varlist[1]+"-list"][N]],this["publisher-list"][N]=this._join(I,this.group_tok.strings.delimiter)},et.PublisherOutput.prototype.joinPublishers=function(){var I=this["publisher-list"],N=this._join(I,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(N,"literal")},et.PublisherOutput.prototype._join=et.NameOutput.prototype._join,et.PublisherOutput.prototype._getToken=et.NameOutput.prototype._getToken,et.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},et.evaluateLabel=function(I,N,R,U){var $;"locator"===I.strings.term?(U&&U.label&&($="sub verbo"===U.label?"sub-verbo":U.label),$||($="page")):$=I.strings.term;var B=I.strings.plural;if("number"!=typeof B){var H=U&&"locator"===I.strings.term?U:R;H[I.strings.term]&&(N.processNumber(!1,H,I.strings.term,R.type),B=N.tmp.shadow_numbers[I.strings.term].plural,N.tmp.shadow_numbers[I.strings.term].labelForm||N.tmp.shadow_numbers[I.strings.term].labelDecorations||(I.strings.form?N.tmp.shadow_numbers[I.strings.term].labelForm=I.strings.form:N.tmp.group_context.tip.label_form&&(N.tmp.shadow_numbers[I.strings.term].labelForm=N.tmp.group_context.tip.label_form),N.tmp.shadow_numbers[I.strings.term].labelCapitalizeIfFirst=I.strings.capitalize_if_first,N.tmp.shadow_numbers[I.strings.term].labelDecorations=I.decorations.slice()),["locator","number","page"].indexOf(I.strings.term)>-1&&N.tmp.shadow_numbers[I.strings.term].label&&($=N.tmp.shadow_numbers[I.strings.term].label),I.decorations&&N.opt.development_extensions.csl_reverse_lookup_support&&(I.decorations.reverse(),I.decorations.push(["@showid","true",I.cslid]),I.decorations.reverse()))}return et.castLabel(N,I,$,B,et.TOLERANT)},et.castLabel=function(I,N,R,U,$){var B=N.strings.form,H=N.strings.capitalize_if_first;I.tmp.group_context.tip.label_form&&("static"===B?I.tmp.group_context.tip.label_static=!0:B=I.tmp.group_context.tip.label_form),I.tmp.group_context.tip.label_capitalize_if_first&&(H=I.tmp.group_context.tip.label_capitalize_if_first);var V=I.getTerm(R,B,U,!1,$,N.default_locale);if(H&&(V=et.Output.Formatters["capitalize-first"](I,V)),I.tmp.strip_periods)V=V.replace(/\./g,"");else for(var W=0,z=N.decorations.length;W<z;W+=1)if("@strip-periods"===N.decorations[W][0]&&"true"===N.decorations[W][1]){V=V.replace(/\./g,"");break}return V},et.Node.name={build:function build(I,N){var R,U;[et.SINGLETON,et.START].indexOf(this.tokentype)>-1&&(void 0===I.tmp.root?(U=void 0,I.tmp.root="citation"):U=I.tmp.root,I.inheritOpt(this,"et-al-subsequent-min")&&I.inheritOpt(this,"et-al-subsequent-min")!==I.inheritOpt(this,"et-al-min")&&(I.opt.update_mode=et.POSITION),I.inheritOpt(this,"et-al-subsequent-use-first")&&I.inheritOpt(this,"et-al-subsequent-use-first")!==I.inheritOpt(this,"et-al-use-first")&&(I.opt.update_mode=et.POSITION),I.tmp.root=U,R=function func(I){I.tmp.etal_term="et-al",I.tmp.name_delimiter=I.inheritOpt(this,"delimiter","name-delimiter",", "),I.tmp["delimiter-precedes-et-al"]=I.inheritOpt(this,"delimiter-precedes-et-al"),"text"===I.inheritOpt(this,"and")?this.and_term=I.getTerm("and","long",0):"symbol"===I.inheritOpt(this,"and")&&(I.opt.development_extensions.expect_and_symbol_form?this.and_term=I.getTerm("and","symbol",0):this.and_term="&"),I.tmp.and_term=this.and_term,et.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof I.tmp.name_delimiter&&(this.and_prefix_multiple=I.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===I.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=I.tmp.name_delimiter:"never"===I.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===I.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=I.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},I.inheritOpt(this,"and")?(I.output.append(this.and_term,"empty",!0),this.and.single=I.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,I.output.append(this.and_term,"empty",!0),this.and.multiple=I.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):I.tmp.name_delimiter&&(this.and.single=new et.Blob(I.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new et.Blob(I.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},I.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=I.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new et.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new et.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===I.tmp["et-al-min"]&&(I.tmp["et-al-min"]=I.inheritOpt(this,"et-al-min")),void 0===I.tmp["et-al-use-first"]&&(I.tmp["et-al-use-first"]=I.inheritOpt(this,"et-al-use-first")),void 0===I.tmp["et-al-use-last"]&&(I.tmp["et-al-use-last"]=I.inheritOpt(this,"et-al-use-last")),I.nameOutput.name=this},I.build.name_flag=!0,this.execs.push(R));N.push(this)}},et.Node["name-part"]={build:function build(I){I.build[this.strings.name]=this}},et.Node.names={build:function build(I,N){var R;if(this.tokentype!==et.START&&this.tokentype!==et.SINGLETON||(et.Util.substituteStart.call(this,I,N),I.build.substitute_level.push(1)),this.tokentype===et.SINGLETON){for(var U in I.build.names_variables[I.build.names_variables.length-1].concat(this.variables),this.variables){var $=this.variables[U],B=I.build.name_label[I.build.name_label.length-1];Object.keys(B).length&&(B[$]=B[Object.keys(B)[0]])}R=function func(I){I.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(R)}if(this.tokentype===et.START&&(I.build.names_flag=!0,I.build.name_flag=!1,I.build.names_level+=1,I.build.names_variables.push(this.variables),I.build.name_label.push({}),R=function func(I){I.tmp.can_substitute.push(!0),I.tmp.name_node={},I.tmp.name_node.children=[],I.nameOutput.init(this)},this.execs.push(R)),this.tokentype===et.END){for(U=0;U<3;U+=1){var H=["family","given","et-al"][U];this[H]=I.build[H],1===I.build.names_level&&(I.build[H]=void 0)}this.label=I.build.name_label[I.build.name_label.length-1],I.build.names_level+=-1,I.build.names_variables.pop(),I.build.name_label.pop(),R=function func(I){I.tmp.etal_node?this.etal_style=I.tmp.etal_node:this.etal_style="empty",this.etal_term=I.getTerm(I.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=I.tmp.name_delimiter,"always"===I.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=I.tmp.name_delimiter:"never"===I.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===I.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=I.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",et.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var N=0;N<3;N+=1){var R=["family","given"][N];I.nameOutput[R]=this[R]}I.nameOutput.with=this.with;var U="",$="";et.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(U=" ",$=" ");var B={};B.single=new et.Blob("with"),B.single.strings.suffix=$,B.multiple=new et.Blob("with"),B.multiple.strings.suffix=$,"always"===I.inheritOpt(I.nameOutput.name,"delimiter-precedes-last")?(B.single.strings.prefix=I.inheritOpt(this,"delimiter","names-delimiter"),B.multiple.strings.prefix=I.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===I.inheritOpt(I.nameOutput.name,"delimiter-precedes-last")?(B.single.strings.prefix=U,B.multiple.strings.prefix=I.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===I.inheritOpt(I.nameOutput.name,"delimiter-precedes-last")?(B.single.strings.prefix=I.inheritOpt(this,"delimiter","names-delimiter"),B.multiple.strings.prefix=U):(B.single.strings.prefix=U,B.multiple.strings.prefix=U),I.nameOutput.with=B,I.nameOutput.label=this.label,I.nameOutput.etal_style=this.etal_style,I.nameOutput.etal_term=this.etal_term,I.nameOutput.etal_prefix_single=this.etal_prefix_single,I.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,I.nameOutput.etal_suffix=this.etal_suffix,I.nameOutput.outputNames(),I.tmp["et-al-use-first"]=void 0,I.tmp["et-al-min"]=void 0,I.tmp["et-al-use-last"]=void 0},this.execs.push(R),R=function func(I){I.tmp.can_substitute.pop()||I.tmp.can_substitute.replace(!1,et.LITERAL),1===I.tmp.can_substitute.mystack.length&&(I.tmp.can_block_substitute=!1)},this.execs.push(R),I.build.name_flag=!1}N.push(this),this.tokentype!==et.END&&this.tokentype!==et.SINGLETON||(I.build.substitute_level.pop(),et.Util.substituteEnd.call(this,I,N))}},et.Node.number={build:function build(I,N){var R;et.Util.substituteStart.call(this,I,N),"roman"===this.strings.form?this.formatter=I.fun.romanizer:"ordinal"===this.strings.form?this.formatter=I.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=I.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=I[I.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=I[I.build.area].opt.layout_delimiter),R=function func(I,N,R){if(0!==this.variables.length){var U;if(U=this.variables[0],void 0===R)R={};if(["locator","locator-extra"].indexOf(U)>-1){if(I.tmp.just_looking)return;if(!R[U])return}else if(!N[U])return;"collection-number"===U&&"legal_case"===N.type&&(I.tmp.renders_collection_number=!0);if(I.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(U)>-1?I.processNumber.call(I,this,R,U,N.type):(!I.tmp.group_context.tip.condition&&N[U]&&(I.tmp.just_did_number=(""+N[U]).match(/[0-9]$/)),I.processNumber.call(I,this,N,U,N.type)),this.substring){var $=N[U].slice(this.substring);I.output.append($,this)}else et.Util.outputNumericField(I,U,N.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!I.tmp.just_looking&&(I.tmp.done_vars.push(this.variables_real[0]),I.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(R),N.push(this),et.Util.substituteEnd.call(this,I,N)}},et.Node.sort={build:function build(I,N){if(N=I[I.build.root+"_sort"].tokens,this.tokentype===et.START){"citation"===I.build.area&&(I.opt.sort_citations=!0),I.build.area=I.build.root+"_sort",I.build.extension="_sort";var R=function func(I,N){if(I.opt.has_layout_locale){for(var R,U=et.localeResolve(N.language,I.opt["default-locale"][0]),$=I[I.tmp.area.slice(0,-5)].opt.sort_locales,B=0,H=$.length;B<H&&((R=$[B][U.bare])||(R=$[B][U.best]),!R);B+=1);R||(R=I.opt["default-locale"][0]),I.tmp.lang_sort_hold=I.opt.lang,I.opt.lang=R}};this.execs.push(R)}if(this.tokentype===et.END){I.build.area=I.build.root,I.build.extension="";R=function func(I){I.opt.has_layout_locale&&(I.opt.lang=I.tmp.lang_sort_hold,delete I.tmp.lang_sort_hold)};this.execs.push(R)}N.push(this)}},et.Node.substitute={build:function build(I,N){var R;if(this.tokentype===et.START){var U=new et.Token("choose",et.START);et.Node.choose.build.call(U,I,N);var $=new et.Token("if",et.SINGLETON);R=function func(){return!(!I.tmp.value.length||I.tmp.common_term_match_fail)},$.tests=[R],$.test=I.fun.match.any($,I,$.tests),N.push($),R=function func(I){I.tmp.can_block_substitute=!0,I.tmp.value.length&&!I.tmp.common_term_match_fail&&I.tmp.can_substitute.replace(!1,et.LITERAL),I.tmp.common_term_match_fail=!1},this.execs.push(R),N.push(this)}if(this.tokentype===et.END){N.push(this);var B=new et.Token("choose",et.END);et.Node.choose.build.call(B,I,N)}}},et.Node.text={build:function build(I,N){var R,U,$,B,H,V,W,z,X,Q,J;if(this.postponed_macro){var Z=et.Util.cloneToken(this);Z.name="group",Z.tokentype=et.START,et.Node.group.build.call(Z,I,N),et.expandMacro.call(I,this,N);var tt=et.Util.cloneToken(this);tt.name="group",tt.tokentype=et.END,"juris-locator-label"===this.postponed_macro&&(tt.isJurisLocatorLabel=!0),et.Node.group.build.call(tt,I,N)}else{if(et.Util.substituteStart.call(this,I,N),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),U="long",$=0,this.strings.form&&(U=this.strings.form),this.strings.plural&&($=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===I.build.root&&(I.opt.update_mode=et.NUMERIC),"bibliography"===I.build.root&&(I.opt.bib_mode=et.NUMERIC),"citation-number"===I[I.tmp.area].opt.collapse&&(this.range_prefix=I.getTerm("citation-range-delimiter")),this.successor_prefix=I[I.build.area].opt.layout_delimiter,this.splice_prefix=I[I.build.area].opt.layout_delimiter,R=function func(I,N,R){if(B=""+N.id,!I.tmp.just_looking){if("_sort"===I.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===I.tmp.area&&I.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===I.tmp.area&&I.bibliography_sort.tmp.citation_number_map)var U=I.bibliography_sort.tmp.citation_number_map[I.registry.registry[N.id].seq];else U=I.registry.registry[N.id].seq;return U&&(U=et.Util.padding(""+U)),void I.output.append(U,this)}R&&R["author-only"]&&I.tmp.element_trace.replace("suppress-me"),U="bibliography_sort"!==I.tmp.area&&I.bibliography_sort.tmp.citation_number_map&&I.bibliography_sort.opt.citation_number_sort_direction===et.DESCENDING?I.bibliography_sort.tmp.citation_number_map[I.registry.registry[B].seq]:I.registry.registry[B].seq,I.opt.citation_number_slug?I.output.append(I.opt.citation_number_slug,this):(V=new et.NumericBlob(I,!1,U,this,N.id),I.tmp.in_cite_predecessor&&(V.suppress_splice_prefix=!0),I.output.append(V,"literal"))}},this.execs.push(R)):"year-suffix"===this.variables_real[0]?(I.opt.has_year_suffix=!0,"year-suffix-ranged"===I[I.tmp.area].opt.collapse&&(this.range_prefix=I.getTerm("citation-range-delimiter")),this.successor_prefix=I[I.build.area].opt.layout_delimiter,I[I.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=I[I.build.area].opt["year-suffix-delimiter"]),R=function func(I,N){if(I.registry.registry[N.id]&&!1!==I.registry.registry[N.id].disambig.year_suffix&&!I.tmp.just_looking){H=parseInt(I.registry.registry[N.id].disambig.year_suffix,10),I[I.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=I[I.tmp.area].opt.cite_group_delimiter),V=new et.NumericBlob(I,!1,H,this,N.id),W=new et.Util.Suffixator(et.SUFFIX_CHARS),V.setFormatter(W),I.output.append(V,"literal"),z=!1;for(var R=0,U=I.tmp.group_context.mystack.length;R<U;R++){var $=I.tmp.group_context.mystack[R];if(!$.variable_success&&($.variable_attempt||!$.variable_attempt&&!$.term_intended)){z=!0;break}}X=I[I.tmp.area].opt["year-suffix-delimiter"],z&&X&&!I.tmp.sort_key_flag&&(I.tmp.splice_delimiter=I[I.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(R)):"citation-label"===this.variables_real[0]&&("bibliography"===I.build.root&&(I.opt.bib_mode=et.TRIGRAPH),I.opt.has_year_suffix=!0,R=function func(I,N){(Q=N["citation-label"])||(Q=I.getCitationLabel(N)),I.tmp.just_looking||(J="",I.registry.registry[N.id]&&!1!==I.registry.registry[N.id].disambig.year_suffix&&(H=parseInt(I.registry.registry[N.id].disambig.year_suffix,10),J=I.fun.suffixator.format(H)),Q+=J),I.output.append(Q,this)},this.execs.push(R));else if(this.strings.term)R=function func(I,N){var R,B=I.opt.gender[N.type],H=this.strings.term;if(""!==(H=I.getTerm(H,U,$,B,et.TOLERANT,this.default_locale))&&(I.tmp.group_context.tip.term_intended=!0),et.UPDATE_GROUP_CONTEXT_CONDITION(I,H,null,this),R=I.tmp.term_predecessor||"in-text"===I.opt.class&&"citation"===I.tmp.area?H:et.Output.Formatters["capitalize-first"](I,H),I.tmp.strip_periods)R=R.replace(/\./g,"");else for(var V=0,W=this.decorations.length;V<W;V+=1)if("@strip-periods"===this.decorations[V][0]&&"true"===this.decorations[V][1]){R=R.replace(/\./g,"");break}I.output.append(R,this),I.tmp.can_block_substitute&&I.tmp.can_substitute.replace(!1,et.LITERAL)},this.execs.push(R),I.build.term=!1,I.build.form=!1,I.build.plural=!1;else if(this.variables_real.length){if(R=function func(I,N){"locator"!==this.variables_real[0]&&(I.tmp.have_collapsed=!1),!I.tmp.group_context.tip.condition&&N[this.variables[0]]&&(I.tmp.just_did_number=!1);var R=N[this.variables[0]];R&&!I.tmp.group_context.tip.condition&&((""+R).slice(-1).match(/[0-9]/)?I.tmp.just_did_number=!0:I.tmp.just_did_number=!1)},this.execs.push(R),et.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var it=this.variables[0],nt=!1,st=!1,rt=!1;"short"===U?"-short"!==this.variables_real[0].slice(-6)&&(st=this.variables_real[0]+"-short"):it=!1,I.build.extension?rt=!0:(rt=!0,nt=!0),R=I.transform.getOutputFunction(this.variables,it,nt,st,rt)}else R=et.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function func(I,N,R){R&&R[this.variables[0]]&&(I.processNumber(this,R,this.variables[0],N.type),et.Util.outputNumericField(I,this.variables[0],N.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!I.tmp.just_looking&&I.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function func(I,N){I.processNumber(this,N,this.variables[0],N.type),et.Util.outputNumericField(I,this.variables[0],N.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function func(I,N){var R;if(this.variables[0]&&(R=I.getVariable(N,this.variables[0],U)))if("URL"===this.variables[0]&&"short"===U&&(R=R.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(R=R.replace(/https?:\/\//,"")),I.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])I.output.append(R,this,!1,!1,!0);else{var $=et.Util.cloneToken(this),B=new et.Blob(null,null,"url-wrapper");if(B.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var H;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(H=(R=R.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",$.strings.prefix=this.strings.prefix.slice(0,$.strings.prefix.length-16));var V=new et.Blob(H),W=new et.Blob(R);B.push(V),B.push(W),I.output.append(B,$,!1,!1,!0)}else{W=new et.Blob(R);B.push(W),I.output.append(B,$,!1,!1,!0)}}else{if(this.decorations.length)for(var z=this.decorations.length-1;z>-1;z--)this.decorations[z][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,z).concat(this.decorations.slice(z+1)));I.output.append(R,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function func(I,N){var R;(R=I.getVariable(N,this.variables[0],U))&&I.output.append(R,this)}:"hereinafter"===this.variables_real[0]?function func(I,N){var R=I.transform.abbrevs.default.hereinafter[N.id];R&&(I.output.append(R,this),I.tmp.group_context.tip.variable_success=!0)}:function func(I,N){var R;this.variables[0]&&(R=I.getVariable(N,this.variables[0],U))&&(R=(R=""+R).split("\\").join(""),I.output.append(R,this))};this.execs.push(R)}else this.strings.value&&(R=function func(I){I.tmp.group_context.tip.term_intended=!0,et.UPDATE_GROUP_CONTEXT_CONDITION(I,this.strings.value,!0,this),I.output.append(this.strings.value,this),I.tmp.can_block_substitute&&I.tmp.can_substitute.replace(!1,et.LITERAL)},this.execs.push(R));N.push(this),et.Util.substituteEnd.call(this,I,N)}}},et.Node.intext={build:function build(I,N){if(this.tokentype===et.START){I.build.area="intext",I.build.root="intext",I.build.extension="";this.execs.push((function func(I,N){I.tmp.area="intext",I.tmp.root="intext",I.tmp.extension=""}))}this.tokentype===et.END&&(I.intext_sort={opt:{sort_directions:I.citation_sort.opt.sort_directions}},I.intext.srt=I.citation.srt),N.push(this)}},et.Attributes={},et.Attributes["@disambiguate"]=function(I,N){if(this.tests||(this.tests=[]),"true"===N){I.opt.has_disambiguate=!0;var R=function func(N){if("bibliography"===I.tmp.area){if(I.tmp.disambiguate_count<I.registry.registry[N.id].disambig.disambiguate)return I.tmp.disambiguate_count+=1,!0}else if(I.tmp.disambiguate_maxMax+=1,I.tmp.disambig_settings.disambiguate&&I.tmp.disambiguate_count<I.tmp.disambig_settings.disambiguate)return I.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(R)}else if("check-ambiguity-and-backreference"===N){R=function func(N){return!!(I.registry.registry[N.id].disambig.disambiguate&&I.registry.registry[N.id]["citation-count"]>1)};this.tests.push(R)}},et.Attributes["@is-numeric"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(N){return function(R,U){var $=R;if(U&&["locator","locator-extra"].indexOf(N)>-1&&($=U),!$[N])return!1;if(et.NUMERIC_VARIABLES.indexOf(N)>-1){if(I.tmp.shadow_numbers[N]||I.processNumber(!1,$,N,R.type),I.tmp.shadow_numbers[N].numeric)return!0}else if(["title","version"].indexOf(N)>-1&&$[N].slice(-1)===""+parseInt($[N].slice(-1),10))return!0;return!1}},$=0;$<R.length;$+=1)this.tests.push(U(R[$]))},et.Attributes["@is-uncertain-date"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(I){return function(N){return!(!N[I]||!N[I].circa)}},$=0,B=R.length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@locator"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.replace("sub verbo","sub-verbo"),U=function maketest(N){return function(R,U){var $;return I.processNumber(!1,U,"locator"),!(!($=I.tmp.shadow_numbers.locator.label)||N!==$)}},$=0,B=(R=R.split(/\s+/)).length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@position"]=function(I,N){this.tests||(this.tests=[]),I.opt.update_mode=et.POSITION;for(var R=N.split(/\s+/),U=function testSubsequentNear(I,N){return!!(N&&et.POSITION_MAP[N.position]>=et.POSITION_MAP[et.POSITION_SUBSEQUENT]&&N["near-note"])},$=function testSubsequentNotNear(I,N){return!(!N||et.POSITION_MAP[N.position]!=et.POSITION_MAP[et.POSITION_SUBSEQUENT]||N["near-note"])},B=function maketest(N){return function(R,U){if("bibliography"===I.tmp.area)return!1;if(U&&void 0===U.position&&(U.position=0),U&&"number"==typeof U.position){if(0===U.position&&0===N)return!0;if(N>0&&et.POSITION_MAP[U.position]>=et.POSITION_MAP[N])return!0}else if(0===N)return!0;return!1}},H=0,V=R.length;H<V;H+=1){var W;"first"===(W=R[H])?W=et.POSITION_FIRST:"container-subsequent"===W?W=et.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===W?W=et.POSITION_SUBSEQUENT:"ibid"===W?W=et.POSITION_IBID:"ibid-with-locator"===W&&(W=et.POSITION_IBID_WITH_LOCATOR),"near-note"===W?this.tests.push(U):"far-note"===W?this.tests.push($):this.tests.push(B(W))}},et.Attributes["@type"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(I){return function(N){return!!(N.type===I)}},$=[],B=0,H=R.length;B<H;B+=1)$.push(U(R[B]));this.tests.push(I.fun.match.any(this,I,$))},et.Attributes["@variable"]=function(I,N){var R;if(this.tests||(this.tests=[]),this.variables=N.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)R=function func(I,N,R){for(var U=this.variables.length-1;U>-1;U+=-1)this.variables.pop();U=0;for(var $=this.variables_real.length;U<$;U++)-1===I.tmp.done_vars.indexOf(this.variables_real[U])&&this.variables.push(this.variables_real[U]),I.tmp.can_block_substitute&&I.tmp.done_vars.push(this.variables_real[U])},this.execs.push(R),R=function func(I,N,R){for(var U=!1,B=0,H=this.variables.length;B<H;B++){var V=this.variables[B];if(["authority","committee"].indexOf(V)>-1&&"string"==typeof N[V]&&"names"===this.name){var W=!0,z=N[V].split(/\s*;\s*/),X={};if(N.multi&&N.multi._keys[V])for(var Q in N.multi._keys[V])if(X[Q]=N.multi._keys[V][Q].split(/\s*;\s*/),X[Q].length!==z.length){W=!1;break}W||(z=[N[V]],X=N.multi._keys[V]);for(var J=0,Z=z.length;J<Z;J++){var tt={literal:z[J],multi:{_key:{}}};for(var Q in X){var it={literal:X[Q][J]};tt.multi._key[Q]=it}z[J]=tt}N[V]=z}if("short"!==this.strings.form||N[V]||("title"===V?V="title-short":"container-title"===V&&(V="container-title-short")),"year-suffix"===V){U=!0;break}if(et.DATE_VARIABLES.indexOf(V)>-1){if(I.opt.development_extensions.locator_date_and_revision&&"locator-date"===V){U=!0;break}if(N[V]){for(var nt in N[V])if((-1!==this.dateparts.indexOf(nt)||"literal"===nt)&&N[V][nt]){U=!0;break}if(U)break}}else{if("locator"===V){R&&R.locator&&(U=!0);break}if("locator-extra"===V){R&&R["locator-extra"]&&(U=!0);break}if(["citation-number","citation-label"].indexOf(V)>-1){U=!0;break}if("first-reference-note-number"===V){R&&R["first-reference-note-number"]&&(U=!0);break}if("first-container-reference-note-number"===V){R&&R["first-container-reference-note-number"]&&(U=!0);break}if("hereinafter"===V){I.transform.abbrevs.default.hereinafter[N.id]&&I.sys.getAbbreviation&&N.id&&(U=!0);break}if("object"===$()(N[V]))break;if("string"==typeof N[V]&&N[V]){U=!0;break}if("number"==typeof N[V]){U=!0;break}}if(U)break}if(U){for(B=0,H=this.variables_real.length;B<H;B++){"citation-number"===(V=this.variables_real[B])&&"bibliography"===I.tmp.area||(I.tmp.cite_renders_content=!0),I.tmp.group_context.tip.variable_success=!0,I.tmp.can_substitute.value()&&"bibliography"===I.tmp.area&&"string"==typeof N[V]&&(I.tmp.name_node.top=I.output.current.value(),I.tmp.rendered_name.push(N[V]))}I.tmp.can_substitute.replace(!1,et.LITERAL)}else I.tmp.group_context.tip.variable_attempt=!0},this.execs.push(R);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var U=function maketest(N){return function(R,U){var B=R;if(U&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(N)>-1&&(B=U),"hereinafter"===N&&I.sys.getAbbreviation&&B.id){if(I.transform.abbrevs.default.hereinafter[B.id])return!0}else if(B[N]){if("number"==typeof B[N]||"string"==typeof B[N])return!0;if("object"===$()(B[N]))for(var H in B[N])if(B[N][H])return!0}return!1}},B=0,H=this.variables.length;B<H;B+=1)this.tests.push(U(this.variables[B]))},et.Attributes["@page"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.replace("sub verbo","sub-verbo"),U=function maketest(N){return function(R){var U;return I.processNumber(!1,R,"page",R.type),U=I.tmp.shadow_numbers.page.label?"sub verbo"===I.tmp.shadow_numbers.page.label?"sub-verbo":I.tmp.shadow_numbers.page.label:"page",I.tmp.shadow_numbers.page.values.length>0&&I.tmp.shadow_numbers.page.values[0].gotosleepability&&(I.tmp.shadow_numbers.page.values[0].labelVisibility=!1),N===U}},$=0,B=(R=R.split(/\s+/)).length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@number"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(N){return function(R){var U;return I.processNumber(!1,R,"number",R.type),U=I.tmp.shadow_numbers.number.label?I.tmp.shadow_numbers.number.label:"number",N===U}},$=0,B=R.length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@jurisdiction"]=function(I,N){this.tests||(this.tests=[]);var R=N.split(/\s+/);this.tests.push(function maketests(I){return function(N){if(!N.jurisdiction)return!1;for(var R=N.jurisdiction,U=0,$=I.length;U<$;U++)if(R===I[U])return!0;return!1}}(R))},et.Attributes["@country"]=function(I,N){this.tests||(this.tests=[]);var R=N.split(/\s+/);this.tests.push(function maketests(I){return function(N){if(!N.country)return!1;for(var R=N.country,U=0,$=I.length;U<$;U++)if(R===I[U])return!0;return!1}}(R))},et.Attributes["@context"]=function(I,N){this.tests||(this.tests=[]);this.tests.push((function func(){return["bibliography","citation"].indexOf(N)>-1?I.tmp.area.slice(0,N.length)===N:"alternative"===N?!!I.tmp.abort_alternative:void 0}))},et.Attributes["@has-year-only"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(I){return function(N){var R=N[I];return!(!R||R.month||R.season)}},$=0,B=R.length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@has-to-month-or-season"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(I){return function(N){var R=N[I];return!(!R||!R.month&&!R.season||R.day)}},$=0,B=R.length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@has-day"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(I){return function(N){var R=N[I];return!(!R||!R.day)}},$=0,B=R.length;$<B;$+=1)this.tests.push(U(R[$]))},et.Attributes["@is-plural"]=function(I,N){this.tests||(this.tests=[]);this.tests.push((function func(R){var U=R[N];if(U&&U.length){for(var $=0,B=0,H=!1,V=0,W=U.length;V<W;V+=1)I.opt.development_extensions.spoof_institutional_affiliations&&(U[V].literal||U[V].isInstitution&&U[V].family&&!U[V].given)?(B+=1,H=!1):($+=1,H=!0);if($>1)return!0;if(B>1)return!0;if(B&&H)return!0}return!1}))},et.Attributes["@is-multiple"]=function(I,N){this.tests||(this.tests=[]);this.tests.push((function func(I){return(""+I[N]).split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/).length>1}))},et.Attributes["@locale"]=function(I,N){var R,U,$;this.tests||(this.tests=[]);var B=I.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=N,this.tokentype===et.START){I.opt.multi_layout||(I.opt.multi_layout=[]);var H=[],V=N.split(/\s+/),W={},z=et.localeResolve(V[0],B);H.push(z),z.generic?W[z.generic]=z.best:W[z.best]=z.best;for(var X=1,Q=V.length;X<Q;X+=1){var J=et.localeResolve(V[X],B);H.push(J),J.generic?W[J.generic]=z.best:W[J.best]=z.best}I[I.build.area].opt.sort_locales.push(W),I.opt.multi_layout.push(H)}I.opt.has_layout_locale=!0}else{$=N.split(/\s+/);var Z=[];for(X=0,Q=$.length;X<Q;X+=1)U=$[X],R=et.localeResolve(U,B),2===$[X].length&&Z.push(R.bare),I.localeConfigure(R,!0),$[X]=R;var tt=$.slice();this.tests.push(function maketest(N,R,U){return function($){var B;[],B=!1;var H,V;for(V=$.language?$.language:R,H=et.localeResolve(V,R),X=0,Q=N.length;X<Q;X+=1)if(H.best===N[X].best){I.tmp.condition_lang_counter_arr.push(I.tmp.condition_counter),I.tmp.condition_lang_val_arr.push(I.opt.lang),I.opt.lang=N[0].best,B=!0;break}return!B&&U.indexOf(H.bare)>-1&&(I.tmp.condition_lang_counter_arr.push(I.tmp.condition_counter),I.tmp.condition_lang_val_arr.push(I.opt.lang),I.opt.lang=N[0].best,B=!0),B}}(tt,B,Z))}},et.Attributes["@alternative-node-internal"]=function(I){this.tests||(this.tests=[]);this.tests.push(function maketest(){return function(){return!I.tmp.abort_alternative}}())},et.Attributes["@locale-internal"]=function(I,N){var R,U,$,B,H;for(this.tests||(this.tests=[]),$=N.split(/\s+/),this.locale_bares=[],B=0,H=$.length;B<H;B+=1)U=$[B],R=et.localeResolve(U,I.opt["default-locale"][0]),2===$[B].length&&this.locale_bares.push(R.bare),I.localeConfigure(R),$[B]=R;this.locale_default=I.opt["default-locale"][0],this.locale=$[0].best,this.locale_list=$.slice();this.tests.push(function maketest(N){return function(R){var $;$=!1;var V=!1;if(R.language&&(U=R.language,(V=et.localeResolve(U,I.opt["default-locale"][0])).best===I.opt["default-locale"][0]&&(V=!1)),V){for(B=0,H=N.locale_list.length;B<H;B+=1)if(V.best===N.locale_list[B].best){I.opt.lang=N.locale,I.tmp.last_cite_locale=N.locale,I.output.openLevel("empty"),I.output.current.value().new_locale=N.locale,$=!0;break}!$&&N.locale_bares.indexOf(V.bare)>-1&&(I.opt.lang=N.locale,I.tmp.last_cite_locale=N.locale,I.output.openLevel("empty"),I.output.current.value().new_locale=N.locale,$=!0)}return $}}(this))},et.Attributes["@court-class"]=function(I,N){this.tests||(this.tests=[]);for(var R=N.split(/\s+/),U=function maketest(N){return function(R){return et.GET_COURT_CLASS(I,R)===N}},$=0,B=R.length;$<B;$++)this.tests.push(U(R[$]))},et.Attributes["@container-multiple"]=function(I,N){this.tests||(this.tests=[]);var R="true"===N;this.tests.push(function maketest(N){return function(R){return I.tmp.container_item_count[R.container_id]&&I.tmp.container_item_count[R.container_id]>1?N:!N}}(R))},et.Attributes["@container-subsequent"]=function(I,N){this.tests||(this.tests=[]);var R="true"===N;this.tests.push(function maketest(N){return function(R){return I.tmp.container_item_pos[R.container_id]>1?N:!N}}(R))},et.Attributes["@has-subunit"]=function(I,N){this.tests||(this.tests=[]);this.tests.push(function maketest(I){return function(N){var R=0;for(var U in N[I]){var $=N[I][U];if(!$.given){var B=($.literal?$.literal:$.family).split("|").length;(0===R||B<R)&&(R=B)}}return R>1}}(N))},et.Attributes["@cite-form"]=function(I,N){this.tests||(this.tests=[]);this.tests.push(function maketest(I){return function(N){return N["cite-form"]===I}}(N))},et.Attributes["@disable-duplicate-year-suppression"]=function(I,N){I.opt.disable_duplicate_year_suppression=N.split(/\s+/)},et.Attributes["@consolidate-containers"]=function(I,N){et.Attributes["@track-containers"](I,N);var R=N.split(/\s+/);I.bibliography.opt.consolidate_containers=R},et.Attributes["@track-containers"]=function(I,N){var R=N.split(/\s+/);I.bibliography.opt.track_container_items||(I.bibliography.opt.track_container_items=[]),I.bibliography.opt.consolidate_containers||(I.bibliography.opt.consolidate_containers=[]),I.bibliography.opt.track_container_items=I.bibliography.opt.track_container_items.concat(R)},et.Attributes["@parallel-first"]=function(I,N){I.opt.parallel.enable=!0;var R=N.split(/\s+/);for(var U in I.opt.track_repeat||(I.opt.track_repeat={}),this.parallel_first={},R){var $=R[U];this.parallel_first[$]=!0,I.opt.track_repeat[$]=!0}},et.Attributes["@parallel-last"]=function(I,N){I.opt.parallel.enable=!0;var R=N.split(/\s+/);for(var U in I.opt.track_repeat||(I.opt.track_repeat={}),this.parallel_last={},R){var $=R[U];this.parallel_last[$]=!0,I.opt.track_repeat[$]=!0}},et.Attributes["@parallel-last-to-first"]=function(I,N){I.opt.parallel.enable=!0;var R=N.split(/\s+/);this.parallel_last_to_first={};for(var U=0,$=R.length;U<$;U++)this.parallel_last_to_first[R[U]]=!0},et.Attributes["@parallel-delimiter-override"]=function(I,N){I.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=N},et.Attributes["@parallel-delimiter-override-on-suppress"]=function(I,N){I.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=N},et.Attributes["@no-repeat"]=function(I,N){I.opt.parallel.enable=!0;var R=N.split(/\s+/);for(var U in I.opt.track_repeat||(I.opt.track_repeat={}),this.non_parallel={},R){var $=R[U];this.non_parallel[$]=!0,I.opt.track_repeat[$]=!0}},et.Attributes["@require"]=function(I,N){I.opt.use_context_condition=!0,this.strings.require=N},et.Attributes["@reject"]=function(I,N){I.opt.use_context_condition=!0,this.strings.reject=N},et.Attributes["@require-comma-on-symbol"]=function(I,N){I.opt.require_comma_on_symbol=N},et.Attributes["@gender"]=function(I,N){this.gender=N},et.Attributes["@cslid"]=function(I,N){this.cslid=parseInt(N,10)},et.Attributes["@capitalize-if-first"]=function(I,N){this.strings.capitalize_if_first_override=N},et.Attributes["@label-capitalize-if-first"]=function(I,N){this.strings.label_capitalize_if_first_override=N},et.Attributes["@label-form"]=function(I,N){this.strings.label_form_override=N},et.Attributes["@part-separator"]=function(I,N){this.strings["part-separator"]=N},et.Attributes["@leading-noise-words"]=function(I,N){this["leading-noise-words"]=N},et.Attributes["@name-never-short"]=function(I,N){this["name-never-short"]=N},et.Attributes["@class"]=function(I,N){I.opt.class=N},et.Attributes["@version"]=function(I,N){I.opt.version=N},et.Attributes["@value"]=function(I,N){this.strings.value=N},et.Attributes["@name"]=function(I,N){this.strings.name=N},et.Attributes["@form"]=function(I,N){this.strings.form=N},et.Attributes["@date-parts"]=function(I,N){this.strings["date-parts"]=N},et.Attributes["@range-delimiter"]=function(I,N){this.strings["range-delimiter"]=N},et.Attributes["@macro"]=function(I,N){this.postponed_macro=N},et.Attributes["@term"]=function(I,N){this.strings.term="sub verbo"===N?"sub-verbo":N},et.Attributes["@xmlns"]=function(){},et.Attributes["@lang"]=function(I,N){N&&(I.build.lang=N)},et.Attributes["@lingo"]=function(){},et.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},et.Attributes["@suffix"]=function(I,N){this.strings.suffix=N},et.Attributes["@prefix"]=function(I,N){this.strings.prefix=N},et.Attributes["@delimiter"]=function(I,N){this.strings.delimiter=N},et.Attributes["@match"]=function(I,N){this.match=N},et.Attributes["@names-min"]=function(I,N){var R=parseInt(N,10);I[I.build.area].opt.max_number_of_names<R&&(I[I.build.area].opt.max_number_of_names=R),this.strings["et-al-min"]=R},et.Attributes["@names-use-first"]=function(I,N){this.strings["et-al-use-first"]=parseInt(N,10)},et.Attributes["@names-use-last"]=function(I,N){this.strings["et-al-use-last"]="true"===N},et.Attributes["@sort"]=function(I,N){"descending"===N&&(this.strings.sort_direction=et.DESCENDING)},et.Attributes["@plural"]=function(I,N){"always"===N||"true"===N?this.strings.plural=1:"never"===N||"false"===N?this.strings.plural=0:"contextual"===N&&(this.strings.plural=!1)},et.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},et.Attributes["@publisher-delimiter-precedes-last"]=function(I,N){this.strings["publisher-delimiter-precedes-last"]=N},et.Attributes["@publisher-delimiter"]=function(I,N){this.strings["publisher-delimiter"]=N},et.Attributes["@publisher-and"]=function(I,N){this.strings["publisher-and"]=N},et.Attributes["@givenname-disambiguation-rule"]=function(I,N){et.GIVENNAME_DISAMBIGUATION_RULES.indexOf(N)>-1&&(I.citation.opt["givenname-disambiguation-rule"]=N)},et.Attributes["@collapse"]=function(I,N){N&&(I[this.name].opt.collapse=N)},et.Attributes["@cite-group-delimiter"]=function(I,N){N&&(I[I.tmp.area].opt.cite_group_delimiter=N)},et.Attributes["@names-delimiter"]=function(I,N){I.setOpt(this,"names-delimiter",N)},et.Attributes["@name-form"]=function(I,N){I.setOpt(this,"name-form",N)},et.Attributes["@subgroup-delimiter"]=function(I,N){this.strings["subgroup-delimiter"]=N},et.Attributes["@subgroup-delimiter-precedes-last"]=function(I,N){this.strings["subgroup-delimiter-precedes-last"]=N},et.Attributes["@name-delimiter"]=function(I,N){I.setOpt(this,"name-delimiter",N)},et.Attributes["@et-al-min"]=function(I,N){var R=parseInt(N,10);I[I.build.area].opt.max_number_of_names<R&&(I[I.build.area].opt.max_number_of_names=R),I.setOpt(this,"et-al-min",R)},et.Attributes["@et-al-use-first"]=function(I,N){I.setOpt(this,"et-al-use-first",parseInt(N,10))},et.Attributes["@et-al-use-last"]=function(I,N){"true"===N?I.setOpt(this,"et-al-use-last",!0):I.setOpt(this,"et-al-use-last",!1)},et.Attributes["@et-al-subsequent-min"]=function(I,N){var R=parseInt(N,10);I[I.build.area].opt.max_number_of_names<R&&(I[I.build.area].opt.max_number_of_names=R),I.setOpt(this,"et-al-subsequent-min",R)},et.Attributes["@et-al-subsequent-use-first"]=function(I,N){I.setOpt(this,"et-al-subsequent-use-first",parseInt(N,10))},et.Attributes["@suppress-min"]=function(I,N){this.strings["suppress-min"]=parseInt(N,10)},et.Attributes["@suppress-max"]=function(I,N){this.strings["suppress-max"]=parseInt(N,10)},et.Attributes["@and"]=function(I,N){I.setOpt(this,"and",N)},et.Attributes["@delimiter-precedes-last"]=function(I,N){I.setOpt(this,"delimiter-precedes-last",N)},et.Attributes["@delimiter-precedes-et-al"]=function(I,N){I.setOpt(this,"delimiter-precedes-et-al",N)},et.Attributes["@initialize-with"]=function(I,N){I.setOpt(this,"initialize-with",N)},et.Attributes["@initialize"]=function(I,N){"false"===N&&I.setOpt(this,"initialize",!1)},et.Attributes["@name-as-reverse-order"]=function(I,N){this["name-as-reverse-order"]=N},et.Attributes["@name-as-sort-order"]=function(I,N){"style-options"===this.name?this["name-as-sort-order"]=N:I.setOpt(this,"name-as-sort-order",N)},et.Attributes["@sort-separator"]=function(I,N){I.setOpt(this,"sort-separator",N)},et.Attributes["@require-match"]=function(I,N){"true"===N&&(this.requireMatch=!0)},et.Attributes["@exclude-types"]=function(I,N){I.bibliography.opt.exclude_types=N.split(/\s+/)},et.Attributes["@exclude-with-fields"]=function(I,N){I.bibliography.opt.exclude_with_fields=N.split(/\s+/)},et.Attributes["@year-suffix-delimiter"]=function(I,N){I[this.name].opt["year-suffix-delimiter"]=N},et.Attributes["@after-collapse-delimiter"]=function(I,N){I[this.name].opt["after-collapse-delimiter"]=N},et.Attributes["@subsequent-author-substitute"]=function(I,N){I[this.name].opt["subsequent-author-substitute"]=N},et.Attributes["@subsequent-author-substitute-rule"]=function(I,N){I[this.name].opt["subsequent-author-substitute-rule"]=N},et.Attributes["@disambiguate-add-names"]=function(I,N){"true"===N&&(I.opt["disambiguate-add-names"]=!0)},et.Attributes["@disambiguate-add-givenname"]=function(I,N){"true"===N&&(I.opt["disambiguate-add-givenname"]=!0)},et.Attributes["@disambiguate-add-year-suffix"]=function(I,N){"true"===N&&"numeric"!==I.opt.xclass&&(I.opt["disambiguate-add-year-suffix"]=!0)},et.Attributes["@second-field-align"]=function(I,N){"flush"!==N&&"margin"!==N||(I[this.name].opt["second-field-align"]=N)},et.Attributes["@hanging-indent"]=function(I,N){"true"===N&&(I.opt.development_extensions.hanging_indent_legacy_number?I[this.name].opt.hangingindent=2:I[this.name].opt.hangingindent=!0)},et.Attributes["@line-spacing"]=function(I,N){N&&N.match(/^[.0-9]+$/)&&(I[this.name].opt["line-spacing"]=parseFloat(N,10))},et.Attributes["@entry-spacing"]=function(I,N){N&&N.match(/^[.0-9]+$/)&&(I[this.name].opt["entry-spacing"]=parseFloat(N,10))},et.Attributes["@near-note-distance"]=function(I,N){I[this.name].opt["near-note-distance"]=parseInt(N,10)},et.Attributes["@substring"]=function(I,N){this.substring=parseInt(N,10)},et.Attributes["@text-case"]=function(I,N){this.execs.push((function func(I,R){"normal"===N?this.text_case_normal=!0:(this.strings["text-case"]=N,"title"===N&&R.jurisdiction&&(this.strings["text-case"]="passthrough"))}))},et.Attributes["@page-range-format"]=function(I,N){I.opt["page-range-format"]=N},et.Attributes["@year-range-format"]=function(I,N){I.opt["year-range-format"]=N},et.Attributes["@default-locale"]=function(I,N){if("style"===this.name){var R,U,$,B,H;if(H=N.match(/-x-(sort|translit|translat)-/g))for($=0,U=H.length;$<U;$+=1)H[$]=H[$].replace(/^-x-/,"").replace(/-$/,"");for(B=[(R=N.split(/-x-(?:sort|translit|translat)-/))[0]],$=1,U=R.length;$<U;$+=1)B.push(H[$-1]),B.push(R[$]);for(U=(R=B.slice()).length,$=1;$<U;$+=2)I.opt["locale-"+R[$]].push(R[$+1].replace(/^\s*/g,"").replace(/\s*$/g,""));R.length?I.opt["default-locale"]=R.slice(0,1):I.opt["default-locale"]=["en"]}else"true"===N&&(this.default_locale=!0)},et.Attributes["@default-locale-sort"]=function(I,N){I.opt["default-locale-sort"]=N},et.Attributes["@demote-non-dropping-particle"]=function(I,N){I.opt["demote-non-dropping-particle"]=N},et.Attributes["@initialize-with-hyphen"]=function(I,N){"false"===N&&(I.opt["initialize-with-hyphen"]=!1)},et.Attributes["@institution-parts"]=function(I,N){this.strings["institution-parts"]=N},et.Attributes["@if-short"]=function(I,N){"true"===N&&(this.strings["if-short"]=!0)},et.Attributes["@substitute-use-first"]=function(I,N){this.strings["substitute-use-first"]=parseInt(N,10)},et.Attributes["@use-first"]=function(I,N){this.strings["use-first"]=parseInt(N,10)},et.Attributes["@use-last"]=function(I,N){this.strings["use-last"]=parseInt(N,10)},et.Attributes["@stop-first"]=function(I,N){this.strings["stop-first"]=parseInt(N,10)},et.Attributes["@stop-last"]=function(I,N){this.strings["stop-last"]=-1*parseInt(N,10)},et.Attributes["@reverse-order"]=function(I,N){"true"===N&&(this.strings["reverse-order"]=!0)},et.Attributes["@display"]=function(I,N){2===I.bibliography.tokens.length&&(I.opt.using_display=!0),this.strings.cls=N},et.Stack=function(I,N){this.mystack=[],(N||I)&&this.mystack.push(I),this.tip=this.mystack[0]},et.Stack.prototype.push=function(I,N){N||I?this.mystack.push(I):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},et.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},et.Stack.prototype.replace=function(I,N){0===this.mystack.length&&et.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+I),this.mystack[this.mystack.length-1]=N||I?I:"",this.tip=this.mystack[this.mystack.length-1]},et.Stack.prototype.pop=function(){var I=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},I},et.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},et.Stack.prototype.length=function(){return this.mystack.length},et.Parallel=function(I){this.state=I},et.Parallel.prototype.StartCitation=function(I,N){if(this.state.tmp.suppress_repeats=[],!(I.length<2)){for(var R=0,U=!1,$=[],B=0,H=I.length-1;B<H;B++){var V=I[B][0],W=I[B+1][0],z=!1,X={};if(I[B][0].seeAlso&&I[B][0].seeAlso.length>0&&!U){z=!0;var Q=(U=[I[B][0].id].concat(I[B][0].seeAlso)).slice(),J=I.slice(B);J[0][1].parallel="first";for(var Z=0,tt=J.length;Z<tt;Z++){var et=J[Z][0].id,it=Q.indexOf(et);if(R=!1,-1===it?R=B+Z-1:B+Z===I.length-1&&(R=B+Z),R){$.push([B,R]);break}Q=Q.slice(0,it).concat(Q.slice(it+1))}}for(var nt in B>0&&z&&(this.state.tmp.suppress_repeats[B-1].START=!0,z=!1),this.state.opt.track_repeat)if(V[nt]&&W[nt])if("string"==typeof W[nt]||"number"==typeof W[nt]){if("title"===nt&&V["title-short"]&&W["title-short"])var st=V["title-short"],rt=W["title-short"];else st=V[nt],rt=W[nt];X[nt]=st==rt}else if(void 0===V[nt].length){X[nt]=!1;var at=V[nt].year,ot=W[nt].year;at&&ot&&at==ot&&(X[nt]=!0)}else{st=JSON.stringify(V[nt]),rt=JSON.stringify(W[nt]);X[nt]=st===rt}else X[nt]=!1;U||(X.ORPHAN=!0),R===B&&(X.END=!0,U=!1),this.state.tmp.suppress_repeats.push(X)}for(Z=0,tt=$.length;Z<tt;Z++){var lt=I[$[Z][0]][0].id;this.state.registry.registry[lt].master=!0,this.state.registry.registry[lt].siblings=[];for(var ct=$[Z][0],ut=$[Z][1],ht=ct;ht<ut;ht++){this.state.tmp.suppress_repeats[ht].SIBLING=!0;var pt=I[ht+1][0].id;I[ht+1][1].parallel="other",this.state.registry.registry[lt].siblings.push(pt)}}}},et.Parallel.prototype.checkRepeats=function(I){var N=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(I.parallel_first&&Object.keys(I.parallel_first).length>0){var R=[{}].concat(this.state.tmp.suppress_repeats),U=!0;for(var $ in I.parallel_first)R[N][$]&&!R[N].START||(U=!1);return U}if(I.parallel_last&&Object.keys(I.parallel_last).length>0){R=this.state.tmp.suppress_repeats.concat([{}]),U=Object.keys(I.parallel_last).length>0;for(var $ in I.parallel_last)R[N][$]&&!R[N].END||(U=!1);return U}if(I.non_parallel&&Object.keys(I.non_parallel).length>0){R=[{}].concat(this.state.tmp.suppress_repeats),U=!0;for(var $ in I.non_parallel)R[N][$]||(U=!1);return U}}return!1},et.Util={},et.Util.Match=function(){this.any=function(I,N,R){return function(I,N){for(var U=0,$=R.length;U<$;U+=1){if(R[U](I,N))return!0}return!1}},this.none=function(I,N,R){return function(I,N){for(var U=0,$=R.length;U<$;U+=1){if(R[U](I,N))return!1}return!0}},this.all=function(I,N,R){return function(I,N){for(var U=0,$=R.length;U<$;U+=1){if(!R[U](I,N))return!1}return!0}},this[void 0]=this.all,this.nand=function(I,N,R){return function(I,N){for(var U=0,$=R.length;U<$;U+=1){if(!R[U](I,N))return!0}return!1}}},et.Transform=function(I){function getCountryOrJurisdiction(N,R,U){var $="";return I.sys.getHumanForm&&("country"===N?$=($=I.sys.getHumanForm(R.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===N&&($=I.sys.getHumanForm(R.toLowerCase(),!1,!0),$=U?"":$.split("|").slice(1).join(", "))),$}function abbreviate(I,N,R,U,$,B,H){var V,W="",z=et.FIELD_CATEGORY_REMAP[B];if(!z)return $;var X=B,Q=$;I.sys.normalizeAbbrevsKey&&(Q=I.sys.normalizeAbbrevsKey(B,$));var J=!1;if("jurisdiction"===X&&Q&&(J=-1===Q.indexOf(":")),["jurisdiction","country"].indexOf(B)>-1&&$===$.toLowerCase()&&(Q=$.toUpperCase()),I.sys.getAbbreviation){V=["jurisdiction","country","language-name","language-name-original"].indexOf(X)>-1?"default":R.jurisdiction?R.jurisdiction:"default";var Z=I.transform.loadAbbreviation(V,z,Q,R.language);if(I.transform.abbrevs[Z][z]&&Q){var tt=I.transform.abbrevs[Z][z][Q];W="short"===N.strings.form&&tt?J?"":tt:getCountryOrJurisdiction(X,Q,J)}}return W||I.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===R.type||!U||!R[U]||!H||(W=R[U]),W||I.sys.getAbbreviation||!I.sys.getHumanForm||(W=getCountryOrJurisdiction(X,Q,J)),W||J||I.sys.getHumanForm&&"jurisdiction"===X||(W=$),I.opt.development_extensions.force_title_abbrev_fallback&&"title"===X&&W===$&&R["title-short"]&&(W=R["title-short"]),W}function getFieldLocale(N,R){var U,$=I.opt["default-locale"][0].slice(0,2);if(U=I.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),N.language){var B=(""+N.language).match(U);$=B?B[1]:"tlh"}return N.multi&&N.multi&&N.multi.main&&N.multi.main[R]&&($=N.multi.main[R]),I.opt.development_extensions.strict_text_case_locales&&!I.opt.development_extensions.normalize_lang_keys_to_lowercase||($=$.toLowerCase()),$}function getTextSubField(N,R,U,$,B,H){var V,W,z,X,Q=B,J=!1;if(!N[R])return{name:"",usedOrig:B,token:et.Util.cloneToken(this)};var Z=!1;et.VARIABLES_WITH_SHORT_FORM.indexOf(R)>-1&&H&&(R+="-short",Z=!0);var tt=!1,it=null,nt=[];"-short"===R.slice(-6)?(nt.push(R),nt.push(R.slice(0,-6))):nt.push(R);for(var st=0,rt=nt.length;st<rt;st++){var at=!1;z={name:"",usedOrig:B,locale:getFieldLocale(N,R=nt[st])},X=I.opt[U]?I.opt[U].slice():[];var ot=!1;if("locale-orig"===U?(B||(z.name=N[R],z.usedOrig=!1),ot=!0,J=!0):!$||void 0!==X&&0!==X.length||(z.name=N[R],z.usedOrig=!0,ot=!0,J=!0),!ot){for(var lt=0,ct=X.length;lt<ct;lt+=1){if(W=(V=X[lt]).split(/[\-_]/)[0],V&&N.multi&&N.multi._keys[R]&&N.multi._keys[R][V]){z.name=N.multi._keys[R][V],z.locale=V,ot=!0,at=!0,J=!1;break}if(W&&N.multi&&N.multi._keys[R]&&N.multi._keys[R][W]){z.name=N.multi._keys[R][W],z.locale=W,ot=!0,at=!0,J=!1;break}}!z.name&&$&&(z={name:N[R],usedOrig:!0,locale:getFieldLocale(N,R)},J=!0)}if(z.token=et.Util.cloneToken(this),0===st?(at&&(z.found_variant_ok=!0),it=z,Z||void 0!==X&&0!==X.length||(tt=!0),at&&(tt=!0)):Z||at||!it?at&&(z.found_variant_ok=!0):(z=it,R=nt[0]),["title","container-title"].indexOf(R)>-1&&!(Q||z.token.strings["text-case"]&&"sentence"!==z.token.strings["text-case"]&&"normal"!==z.token.strings["text-case"])){var ut;I.opt.lang;ut=!J&&z.locale;var ht=R.slice(0,-5),pt="sentence"===z.token.strings["text-case"];z.name=et.titlecaseSentenceOrNormal(I,N,ht,ut,pt),delete z.token.strings["text-case"]}if(tt)break}return z}function publisherCheck(N,R,U,$){var B=N.variables[0];if(I.publisherOutput&&U){if(-1===["publisher","publisher-place"].indexOf(B))return!1;I.publisherOutput[B+"-token"]=N,I.publisherOutput.varlist.push(B);var H=U.split(/;\s*/);H.length===I.publisherOutput[B+"-list"].length&&(I.publisherOutput[B+"-list"]=H);for(var V=0,W=H.length;V<W;V+=1)H[V]=abbreviate(I,N,R,!1,H[V],$,!0);return I.tmp[B+"-token"]=N,!0}return!1}function quashCheck(N,R){var U=R.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(U&&(R=R.slice(U[0].length),U[1]))for(var $=U[1].split(","),B=0,H=$.length;B<H;B+=1){var V=$[B].match(/^([-_a-z]+)(?:\:(.*))*$/),W=V[1],z=I.tmp.abbrev_trimmer;V[2]?z&&N&&(z[N]||(z[N]={}),z[N][W]=V[2]):-1===I.tmp.done_vars.indexOf(W)&&(z&&N&&(z.QUASHES[N]||(z.QUASHES[N]={}),z.QUASHES[N][W]=!0),I.tmp.done_vars.push(W))}return R}this.abbrevs={},this.abbrevs.default=new I.sys.AbbreviationSegments,this.getTextSubField=getTextSubField,this.loadAbbreviation=function loadAbbreviation(N,R,U,$){N||(N="default");var B=N.split(":")[0],H=et.getAbbrevsDomain(I,B,$);return H&&(N+="@"+H),U?(I.sys.getAbbreviation&&((N=I.sys.getAbbreviation(I.opt.styleID,I.transform.abbrevs,N,R,U))||(N="default",H&&(N+="@"+H))),N):(I.transform.abbrevs[N]||(I.transform.abbrevs[N]=new I.sys.AbbreviationSegments),I.transform.abbrevs[N][R]||(I.transform.abbrevs[N][R]={}),N)},this.quashCheck=quashCheck,this.getOutputFunction=function getOutputFunction(N,R,U,$){var B,H=et.LangPrefsMap[N[0]];return B=!!H&&I.opt["cite-lang-prefs"][H],function(I,U,V){var W,z,X,Q,J,Z;if(!N[0]||!U[N[0]]&&!U[$])return null;if(!I.tmp.just_looking&&V&&V["suppress-author"]&&!I.tmp.probably_rendered_something&&I.tmp.can_substitute.length()>1)return null;var tt={primary:!1,secondary:!1,tertiary:!1};if("_sort"===I.tmp.area.slice(-5))tt.primary="locale-sort";else if(B&&1===B.length&&"locale-orig"===B[0])tt.primary="locale-orig",B=!1;else if(B&&!I.tmp.multi_layout)for(var it=["primary","secondary","tertiary"],nt=0,st=it.length;nt<st&&!(B.length-1<nt);nt+=1)B[nt]&&(tt[it[nt]]="locale-"+B[nt]);else tt.primary="locale-orig";if("title-short"!==N[0]&&("bibliography"===I.tmp.area||"citation"===I.tmp.area&&"note"===I.opt.xclass&&V&&!V.position)||(tt.secondary=!1,tt.tertiary=!1),I.tmp.multi_layout&&(tt.secondary=!1,tt.tertiary=!1),I.tmp["publisher-list"])return"publisher"===N[0]?I.tmp["publisher-token"]=this:"publisher-place"===N[0]&&(I.tmp["publisher-place-token"]=this),null;var rt=I.tmp.lang_array.slice(),at=getTextSubField.call(this,U,N[0],tt.primary,!0,null,R);W=at.name,z=at.locale;var ot,lt,ct,ut=at.token,ht=at.usedOrig;if(R&&!at.found_variant_ok&&(W=abbreviate(I,ut,U,$,W,R,!0))&&(!function citeFormCheck(I,N){var R=N.match(/^#([0-9]+).*>>>/);R&&R[1]&&(I["cite-form"]=R[1])}(U,W),I.tmp.just_looking||(W=quashCheck(U.jurisdiction,W))),publisherCheck(this,U,W,R))return I.tmp.lang_array=rt,null;if(X=!1,J=!1,tt.secondary&&(X=(at=getTextSubField.call(this,U,N[0],tt.secondary,!1,at.usedOrig,null,R)).name,Q=at.locale,ot=at.token,R&&!at.found_variant_ok&&X&&(X=abbreviate(I,ot,U,!1,X,R,!0))),tt.tertiary&&(J=(at=getTextSubField.call(this,U,N[0],tt.tertiary,!1,at.usedOrig,null,R)).name,Z=at.locale,lt=at.token,R&&!at.found_variant_ok&&J&&(J=abbreviate(I,lt,U,!1,J,R,!0))),"locale-translit"===tt.primary&&(ct=I.opt.citeAffixes[H][tt.primary].prefix),"<i>"===ct&&"title"===N[0]&&!ht){var pt=!1;for(nt=0,st=ut.decorations.length;nt<st;nt+=1)"@font-style"===ut.decorations[nt][0]&&"italic"===ut.decorations[nt][1]&&(pt=!0);pt||ut.decorations.push(["@font-style","italic"])}if("en"!==z&&"title"===ut.strings["text-case"]&&(ut.strings["text-case"]="passthrough"),"title"===N[0]&&(W=et.demoteNoiseWords(I,W,this["leading-noise-words"])),X||J){if(I.output.openLevel("empty"),ut.strings.suffix=ut.strings.suffix.replace(/[ .,]+$/,""),z&&(I.tmp.lang_array=[z].concat(rt)),et.UPDATE_GROUP_CONTEXT_CONDITION(I,null,null,ut,ut.strings.prefix+W),I.output.append(W,ut),I.tmp.probably_rendered_something=!0,W===X&&(X=!1),X){ot.strings.prefix=I.opt.citeAffixes[H][tt.secondary].prefix,ot.strings.suffix=I.opt.citeAffixes[H][tt.secondary].suffix,ot.strings.prefix||(ot.strings.prefix=" ");for(nt=ot.decorations.length-1;nt>-1;nt+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(ot.decorations[nt].join("/"))>-1&&(ot.decorations=ot.decorations.slice(0,nt).concat(ot.decorations.slice(nt+1)));"en"!==Q&&"title"===ot.strings["text-case"]&&(ot.strings["text-case"]="passthrough"),Q&&(I.tmp.lang_array=[Q].concat(rt));var dt=new et.Token;dt.decorations.push(["@font-style","normal"]),dt.decorations.push(["@font-weight","normal"]),I.output.openLevel(dt),I.output.append(X,ot),I.output.closeLevel();I.output.current.value(),I.output.current.value().blobs.length}if(W===J&&(J=!1),J){lt.strings.prefix=I.opt.citeAffixes[H][tt.tertiary].prefix,lt.strings.suffix=I.opt.citeAffixes[H][tt.tertiary].suffix,lt.strings.prefix||(lt.strings.prefix=" ");for(nt=lt.decorations.length-1;nt>-1;nt+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(lt.decorations[nt].join("/"))>-1&&(lt.decorations=lt.decorations.slice(0,nt).concat(lt.decorations.slice(nt+1)));"en"!==Z&&"title"===lt.strings["text-case"]&&(lt.strings["text-case"]="passthrough"),Z&&(I.tmp.lang_array=[Z].concat(rt));var ft=new et.Token;ft.decorations.push(["@font-style","normal"]),ft.decorations.push(["@font-weight","normal"]),I.output.openLevel(ft),I.output.append(J,lt),I.output.closeLevel();I.output.current.value(),I.output.current.value().blobs.length}I.output.closeLevel()}else z&&(I.tmp.lang_array=[z].concat(rt)),et.UPDATE_GROUP_CONTEXT_CONDITION(I,null,null,ut,ut.strings.prefix+W),I.output.append(W,ut),I.tmp.probably_rendered_something=!0;return I.tmp.lang_array=rt,I.tmp.can_block_substitute&&I.tmp.name_node.children.push(I.output.current.value()),null}}},et.Token=function(I,N,R){this.name=I,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=N},et.Util.cloneToken=function(I){var N,R,U;if("string"==typeof I)return I;for(var $ in N=new et.Token(I.name,I.tokentype),I.strings)I.strings.hasOwnProperty($)&&(N.strings[$]=I.strings[$]);if(I.decorations)for(N.decorations=[],R=0,U=I.decorations.length;R<U;R+=1)N.decorations.push(I.decorations[R].slice());return I.variables&&(N.variables=I.variables.slice()),I.execs&&(N.execs=I.execs.slice(),I.tests&&(N.tests=I.tests.slice())),N},et.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},et.Blob=function(I,N,R){var U,$;if(this.levelname=R,N){for(var B in this.strings={prefix:"",suffix:""},N.strings)N.strings.hasOwnProperty(B)&&(this.strings[B]=N.strings[B]);for(this.decorations=[],U=void 0===N.decorations?0:N.decorations.length,$=0;$<U;$+=1)this.decorations.push(N.decorations[$].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof I?I:I?[I]:[],this.alldecor=[this.decorations]},et.Blob.prototype.push=function(I){"string"==typeof this.blobs?et.error("Attempt to push blob onto string object"):!1!==I&&(I.alldecor=I.alldecor.concat(this.alldecor),this.blobs.push(I))},et.NumericBlob=function(I,N,R,U,$){if(this.id=$,this.alldecor=[],this.num=R,this.particle=N,this.blobs=R.toString(),this.status=et.START,this.strings={},U){if(U.strings["text-case"]){var B=U.strings["text-case"];this.particle=et.Output.Formatters[B](I,this.particle),this.blobs=et.Output.Formatters[B](I,this.blobs)}this.gender=U.gender,this.decorations=U.decorations,this.strings.prefix=U.strings.prefix,this.strings.suffix=U.strings.suffix,this.strings["text-case"]=U.strings["text-case"],this.successor_prefix=U.successor_prefix,this.range_prefix=U.range_prefix,this.splice_prefix=U.splice_prefix,this.formatter=U.formatter,this.formatter||(this.formatter=new et.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new et.Output.DefaultFormatter},et.NumericBlob.prototype.setFormatter=function(I){this.formatter=I,this.type=this.formatter.format(1)},et.Output.DefaultFormatter=function(){},et.Output.DefaultFormatter.prototype.format=function(I){return I.toString()},et.NumericBlob.prototype.checkNext=function(I,N){N?(this.status=et.START,"object"===$()(I)&&(I.num===this.num+1?I.status=et.SUCCESSOR:I.status=et.SEEN)):I&&I.num&&this.type===I.type&&I.num===this.num+1?this.status===et.START||this.status===et.SEEN?I.status=et.SUCCESSOR:this.status!==et.SUCCESSOR&&this.status!==et.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(I.status=et.SUCCESSOR_OF_SUCCESSOR,this.status=et.SUPPRESS):I.status=et.SUCCESSOR):(this.status===et.SUCCESSOR_OF_SUCCESSOR&&(this.status=et.END),"object"===$()(I)&&(I.status=et.SEEN))},et.NumericBlob.prototype.checkLast=function(I){return(this.status===et.SEEN||I.num!==this.num-1&&this.status===et.SUCCESSOR)&&(this.status=et.SUCCESSOR,!0)},et.Util.fixDateNode=function(I,N,R){var U,$,B,H,V,W,z,X,Q,J,Z,tt,et,it=this.cslXml.getAttributeValue(R,"lingo"),nt=this.cslXml.getAttributeValue(R,"default-locale");if(this.build.date_key=!0,U=this.cslXml.getAttributeValue(R,"form"),it=nt?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(R,"lingo"),!this.getDate(U,nt))return I;var st=this.cslXml.getAttributeValue(R,"date-parts");for(var rt in $=this.cslXml.getAttributeValue(R,"variable"),X=this.cslXml.getAttributeValue(R,"prefix"),Q=this.cslXml.getAttributeValue(R,"suffix"),tt=this.cslXml.getAttributeValue(R,"display"),et=this.cslXml.getAttributeValue(R,"cslid"),B=this.cslXml.nodeCopy(this.getDate(U,nt)),this.cslXml.setAttribute(B,"lingo",this.opt.lang),this.cslXml.setAttribute(B,"form",U),this.cslXml.setAttribute(B,"date-parts",st),this.cslXml.setAttribute(B,"cslid",et),this.cslXml.setAttribute(B,"variable",$),this.cslXml.setAttribute(B,"default-locale",nt),X&&this.cslXml.setAttribute(B,"prefix",X),Q&&this.cslXml.setAttribute(B,"suffix",Q),tt&&this.cslXml.setAttribute(B,"display",tt),J=this.cslXml.children(B))H=J[rt],"date-part"===this.cslXml.nodename(H)&&(V=this.cslXml.getAttributeValue(H,"name"),nt&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(B,"date-part",V,"@default-locale","true"));for(var rt in J=this.cslXml.children(R))if(H=J[rt],"date-part"===this.cslXml.nodename(H))for(W in V=this.cslXml.getAttributeValue(H,"name"),Z=this.cslXml.attributes(H))"@name"!==W&&(it&&it!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(W)>-1||(z=Z[W],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(B,"date-part",V,W,z)));if("year"===this.cslXml.getAttributeValue(R,"date-parts"))this.cslXml.deleteNodeByNameAttribute(B,"month"),this.cslXml.deleteNodeByNameAttribute(B,"day");else if("year-month"===this.cslXml.getAttributeValue(R,"date-parts"))this.cslXml.deleteNodeByNameAttribute(B,"day");else if("month-day"===this.cslXml.getAttributeValue(R,"date-parts")){for(var at=this.cslXml.children(B),ot=1,lt=this.cslXml.numberofnodes(at);ot<lt;ot++)if("year"===this.cslXml.getAttributeValue(at[ot],"name")){this.cslXml.setAttribute(at[ot-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(B,"year")}return this.cslXml.insertChildNodeAfter(I,R,N,B)},et.dateMacroAsSortKey=function(I,N){et.dateAsSortKey.call(this,I,N,!0)},et.dateAsSortKey=function(I,N,R){var U,$,B,H,V,W,z,X=this.variables[0],Q="empty";if(R&&I.tmp.extension&&(Q="macro-with-date"),void 0===(U=N[X])&&(U={"date-parts":[[0]]}),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),U.raw?U=I.fun.dateparser.parseDateToArray(U.raw):U["date-parts"]&&(U=I.dateParseArray(U)),void 0===U&&(U={}),U.year)for(W=0,z=et.DATE_PARTS_INTERNAL.length;W<z;W+=1)if(B=0,"_end"===(H=$=et.DATE_PARTS_INTERNAL[W]).slice(-4)&&(H=H.slice(0,-4)),U[$]&&this.dateparts.indexOf(H)>-1&&(B=U[$]),"year"===$.slice(0,4)){var J="1";"-"===(V=et.Util.Dates[H].numeric(I,B))[0]&&(J="0",V=V.slice(1),V=9999-parseInt(V,10)),I.output.append(et.Util.Dates[$.slice(0,4)].numeric(I,J+V),Q)}else(B=et.Util.Dates[H]["numeric-leading-zeros"](I,B))||(B="00"),I.output.append(B,Q)},et.Engine.prototype.dateParseArray=function(I){var N,R,U,B;for(R in N={},I)if("date-parts"===R){(U=I["date-parts"]).length>1&&U[0].length!==U[1].length&&et.error("CSL data error: element mismatch in date range input."),B=["","_end"];for(var H=0,V=U.length;H<V;H+=1)for(var W=0,z=et.DATE_PARTS.length;W<z;W+=1)isNaN(parseInt(U[H][W],10))?N[et.DATE_PARTS[W]+B[H]]=void 0:N[et.DATE_PARTS[W]+B[H]]=parseInt(U[H][W],10)}else I.hasOwnProperty(R)&&("literal"===R&&"object"===$()(I.literal)&&"string"==typeof I.literal.part?(et.debug("Warning: fixing up weird literal date value"),N.literal=I.literal.part):N[R]=I[R]);return N},et.Util.Names={},et.Util.Names.compareNamesets=et.NameOutput.prototype._compareNamesets,et.Util.Names.unInitialize=function(I,N){var R,U,$,B,H;if(!N)return"";for($=N.split(/(?:\-|\s+)/),B=N.match(/(\-|\s+)/g),H="",R=0,U=$.length;R<U;R+=1)H+=$[R],R<U-1&&(H+=B[R]);return H},et.Util.Names.initializeWith=function(I,N,R,U){var $;if(!N)return"";if(R||(R=""),["Lord","Lady"].indexOf(N)>-1||!N.replace(/^(?:<[^>]+>)*/,"").match(et.STARTSWITH_ROMANESQUE_REGEXP)&&!R.match("%s"))return N;!1===I.opt["initialize-with-hyphen"]&&(N=N.replace(/\-/g," "));for(var B=(N=(N=N.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"–$1")).length-2;B>-1;B+=-1)"."===N.slice(B,B+1)&&" "!==N.slice(B+1,B+2)&&(N=N.slice(0,B)+". "+N.slice(B+1));var H=et.Output.Formatters.nameDoppel.split(N),V=[];if(V=[H.strings[0]],0===H.tags.length){var W=V[0].match(/[^\.]+$/);W&&1===W[0].length&&W[0]!==W[0].toLowerCase()&&(V[0]+=".")}for(B=1,$=H.strings.length;B<$;B+=1)V.push(H.tags[B-1]),V.push(H.strings[B]);return(U?this.doNormalize(I,V,R):this.doInitialize(I,V,R)).replace(/\u2013([a-z])/g,"-$1")},et.Util.Names.notag=function(I){return I.replace(/^(?:<[^>]+>)*/,"")},et.Util.Names.mergetag=function(I,N,R){var U=N.match(/(?:-*<[^>]+>-*)/g);return U?(N=U.join(""),(U=R.match(/^(.*[^\s])*(\s+)$/))?(U[1]=U[1]?U[1]:"",R=U[1]+N+U[2]):R+=N,R):R},et.Util.Names.tagonly=function(I,N){var R=N.match(/(?:<[^>]+>)+/);return R?R.join(""):N},et.Util.Names.doNormalize=function(I,N,R){var U,$;R=R||"";var B=[];for(U=0,$=N.length;U<$;U+=1)this.notag(N[U]).length>1&&"."===this.notag(N[U]).slice(-1)?(N[U]=N[U].replace(/^(.*)\.(.*)$/,"$1$2"),B.push(!0)):1===N[U].length&&N[U].toUpperCase()===N[U]?B.push(!0):B.push(!1);for(U=0,$=N.length;U<$;U+=2)B[U]&&(U<N.length-2&&(N[U+1]=this.tagonly(I,N[U+1]),B[U+2]||(N[U+1]=this.tagonly(I,N[U+1])+" "),N[U+2].length>1?N[U+1]=R.replace(/\ufeff$/,"")+N[U+1]:N[U+1]=this.mergetag(I,N[U+1],R)),U===N.length-1&&(N[U]=N[U]+R));return N.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},et.Util.Names.doInitialize=function(I,N,R){var U,$,B,H,V,W,z;for(U=0,$=N.length;U<$;U+=2)if(z=N[U])if(!(B=z.match(et.NAME_INITIAL_REGEXP))&&!z.match(et.STARTSWITH_ROMANESQUE_REGEXP)&&z.length>1&&R.match("%s")&&(B=z.match(/(.)(.*)/)),B&&B[2]&&B[3]&&(B[1]=B[1]+B[2],B[2]=""),B&&B[1].slice(0,1)===B[1].slice(0,1).toUpperCase()){var X="";if(B[2]){var Q="";for(H=0,V=(W=B[2].split("")).length;H<V;H+=1){var J=W[H];if(J!==J.toUpperCase())break;Q+=J}Q.length<B[2].length&&(X=et.toLocaleLowerCase.call(I,Q))}N[U]=B[1]+X,U<$-1?R.match("%s")?N[U]=R.replace("%s",N[U]):N[U+1].indexOf("-")>-1?N[U+1]=this.mergetag(I,N[U+1].replace("-",""),R)+"-":N[U+1]=this.mergetag(I,N[U+1],R):R.match("%s")?N[U]=R.replace("%s",N[U]):N.push(R)}else!z.match(et.ROMANESQUE_REGEXP)||B&&B[3]||(N[U]=" "+z);var Z=N.join("");return Z=Z.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},et.Util.Names.getRawName=function(I){var N=[];return I.literal?N.push(I.literal):(I.given&&N.push(I.given),I.family&&N.push(I.family)),N.join(" ")},et.Util.Dates={},et.Util.Dates.year={},et.Util.Dates.year.long=function(I,N){return N||(N="boolean"==typeof N?"":0),N.toString()},et.Util.Dates.year.imperial=function(I,N,R){var U="";N||(N="boolean"==typeof N?"":0),R=R?"_end":"";var $=I.tmp.date_object["month"+R];for($=$?""+$:"1";$.length<2;)$="0"+$;var B=I.tmp.date_object["day"+R];for(B=B?""+B:"1";B.length<2;)B="0"+B;var H,V,W=parseInt(N+$+B,10);if(W>=18680908&&W<19120730?(H="明治",V=1867):W>=19120730&&W<19261225?(H="大正",V=1911):W>=19261225&&W<19890108?(H="昭和",V=1925):W>=19890108&&(H="平成",V=1988),H&&V){var z=H;I.sys.normalizeAbbrevsKey&&(z=I.sys.normalizeAbbrevsKey("number",H)),I.transform.abbrevs.default.number[z]||I.transform.loadAbbreviation("default","number",z,null),I.transform.abbrevs.default.number[z]&&(H=I.transform.abbrevs.default.number[z]),U=H+(N-V)}return U},et.Util.Dates.year.short=function(I,N){if((N=N.toString())&&4===N.length)return N.substr(2)},et.Util.Dates.year.numeric=function(I,N){var R,U;for((U=(N=""+N).match(/([0-9]*)$/))?(R=N.slice(0,-1*U[1].length),N=U[1]):(R=N,N="");N.length<4;)N="0"+N;return R+N},et.Util.Dates.normalizeMonth=function(I,N){var R;if(I||(I=0),(I=""+I).match(/^[0-9]+$/)||(I=0),I=parseInt(I,10),N){var U={stub:"month-",num:I};if(U.num<1||U.num>24)U.num=0;else{for(;U.num>16;)U.num=U.num-4;U.num>12&&(U.stub="season-",U.num=U.num-12)}R=U}else(I<1||I>12)&&(I=0),R=I;return R},et.Util.Dates.month={},et.Util.Dates.month.numeric=function(I,N){return(N=et.Util.Dates.normalizeMonth(N))||(N=""),N},et.Util.Dates.month["numeric-leading-zeros"]=function(I,N){if(N=et.Util.Dates.normalizeMonth(N))for(N=""+N;N.length<2;)N="0"+N;else N="";return N},et.Util.Dates.month.long=function(I,N,R,U){var $=et.Util.Dates.normalizeMonth(N,!0);if(N=$.num){for(N=""+N;N.length<2;)N="0"+N;N=I.getTerm($.stub+N,"long",0,0,!1,U)}else N="";return N},et.Util.Dates.month.short=function(I,N,R,U){var $=et.Util.Dates.normalizeMonth(N,!0);if(N=$.num){for(N=""+N;N.length<2;)N="0"+N;N=I.getTerm($.stub+N,"short",0,0,!1,U)}else N="";return N},et.Util.Dates.day={},et.Util.Dates.day.numeric=function(I,N){return N.toString()},et.Util.Dates.day.long=et.Util.Dates.day.numeric,et.Util.Dates.day["numeric-leading-zeros"]=function(I,N){for(N||(N=0),N=N.toString();N.length<2;)N="0"+N;return N.toString()},et.Util.Dates.day.ordinal=function(I,N,R){return I.fun.ordinalizer.format(N,R)},et.Util.Sort={},et.Util.Sort.strip_prepositions=function(I){var N;return"string"==typeof I&&(N=I.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),N&&(I=I.substr(N[1].length)),I},et.Util.substituteStart=function(I,N){var R,U,$,B,H,V,W;B=function func(I,N,R){for(var U=0,$=this.decorations.length;U<$;U+=1)if("@strip-periods"===this.decorations[U][0]&&"true"===this.decorations[U][1]){I.tmp.strip_periods+=1;break}},this.execs.push(B),this.decorations&&I.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),W=["number","date","names"],("text"===this.name&&!this.postponed_macro||W.indexOf(this.name)>-1)&&(R=function element_trace(I,N,R){"author"===I.tmp.element_trace.value()||"names"===this.name?(!I.tmp.just_looking&&R&&R["author-only"]&&"intext"!==I.tmp.area&&I.tmp.probably_rendered_something&&I.tmp.element_trace.push("suppress-me"),!I.tmp.just_looking&&R&&R["suppress-author"]&&(I.tmp.probably_rendered_something||I.tmp.element_trace.push("suppress-me"))):"date"===this.name?!I.tmp.just_looking&&R&&R["author-only"]&&"intext"!==I.tmp.area&&I.tmp.probably_rendered_something&&I.tmp.element_trace.push("suppress-me"):!I.tmp.just_looking&&R&&R["author-only"]&&"intext"!==I.tmp.area?!I.tmp.probably_rendered_something&&I.tmp.can_block_substitute||I.tmp.element_trace.push("suppress-me"):R&&R["suppress-author"]&&I.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(R)),U=this.strings.cls,this.strings.cls=!1,0===I.build.render_nesting_level&&("bibliography"===I.build.area&&I.bibliography.opt["second-field-align"]?(($=new et.Token("group",et.START)).decorations=[["@display","left-margin"]],B=function func(I,N){I.tmp.render_seen||($.strings.first_blob=N.id,I.output.startTag("bib_first",$))},$.execs.push(B),N.push($)):et.DISPLAY_CLASSES.indexOf(U)>-1&&(($=new et.Token("group",et.START)).decorations=[["@display",U]],B=function func(I,N){$.strings.first_blob=N.id,I.output.startTag("bib_first",$)},$.execs.push(B),N.push($)),I.build.cls=U),I.build.render_nesting_level+=1,1===I.build.substitute_level.value()&&(H=new et.Token("choose",et.START),et.Node.choose.build.call(H,I,N),B=function func(){return!!I.tmp.can_substitute.value()},(V=new et.Token("if",et.START)).tests||(V.tests=[]),V.tests.push(B),V.test=I.fun.match.any(this,I,V.tests),N.push(V)),I.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(B=function func(I,N,R){if(!I.tmp.just_looking&&!I.tmp.suppress_decorations){var U=new et.Token("text",et.START);U.decorations=[["@showid","true"]],I.output.startTag("variable_entry",U);var $=null;R&&($=R.position),$||($=0);var B=0;R&&R.noteIndex&&(B=R.noteIndex);var H=0;R&&R["first-reference-note-number"]&&(H=R["first-reference-note-number"]);var V=0;R&&R["first-container-reference-note-number"]&&(V=R["first-container-reference-note-number"]);var W=0;R&&R["citation-number"]&&(W=R["citation-number"]);var z=0;R&&R.index&&(z=R.index);var X={itemData:N,variableNames:this.variables,context:I.tmp.area,xclass:I.opt.xclass,position:["first","container-subsequent","subsequent","ibid","ibid-with-locator"][$],"note-number":B,"first-reference-note-number":H,"first-container-reference-note-number":V,"citation-number":W,index:z,mode:I.opt.mode};I.output.current.value().params=X}},this.execs.push(B))},et.Util.substituteEnd=function(I,N){var R,U,$,B,H,V;if(I.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(R=function func(I){I.tmp.just_looking||I.tmp.suppress_decorations||I.output.endTag("variable_entry")},this.execs.push(R)),R=function func(I){for(var N=0,R=this.decorations.length;N<R;N+=1)if("@strip-periods"===this.decorations[N][0]&&"true"===this.decorations[N][1]){I.tmp.strip_periods+=-1;break}},this.execs.push(R),I.build.render_nesting_level+=-1,0===I.build.render_nesting_level&&(I.build.cls?(R=function func(I){I.output.endTag("bib_first")},this.execs.push(R),I.build.cls=!1):"bibliography"===I.build.area&&I.bibliography.opt["second-field-align"]&&(R=function func(I){I.tmp.render_seen||I.output.endTag("bib_first")},(U=new et.Token("group",et.END)).execs.push(R),N.push(U),($=new et.Token("group",et.START)).decorations=[["@display","right-inline"]],R=function func(I){I.tmp.render_seen||(I.tmp.render_seen=!0,I.output.startTag("bib_other",$))},$.execs.push(R),N.push($))),1===I.build.substitute_level.value()&&(B=new et.Token("if",et.END),N.push(B),H=new et.Token("choose",et.END),et.Node.choose.build.call(H,I,N)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new et.Token("text",et.SINGLETON);var W=this.name;R=function func(I,N){if("bibliography"===I.tmp.area&&"string"==typeof I.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||N[this.variables_real])&&(!this.variables_real||"names"!==W)){var R,U,$=I.bibliography.opt["subsequent-author-substitute-rule"];if(!I.tmp.suppress_decorations&&I.tmp.subsequent_author_substitute_ok&&I.tmp.rendered_name){if("partial-each"===$||"partial-first"===$){var B=!0,H=[];for(R=0,U=I.tmp.name_node.children.length;R<U;R+=1){var z=I.tmp.rendered_name[R];B&&I.tmp.last_rendered_name&&I.tmp.last_rendered_name.length>R-1&&z&&!z.localeCompare(I.tmp.last_rendered_name[R])?(V=new et.Blob(I[I.tmp.area].opt["subsequent-author-substitute"]),I.tmp.name_node.children[R].blobs=[V],"partial-first"===$&&(B=!1)):B=!1,H.push(z)}I.tmp.last_rendered_name=H}else if("complete-each"===$){if(H=I.tmp.rendered_name.join(",")){if(I.tmp.last_rendered_name&&!H.localeCompare(I.tmp.last_rendered_name))for(R=0,U=I.tmp.name_node.children.length;R<U;R+=1)V=new et.Blob(I[I.tmp.area].opt["subsequent-author-substitute"]),I.tmp.name_node.children[R].blobs=[V];I.tmp.last_rendered_name=H}}else{(H=I.tmp.rendered_name.join(","))&&(I.tmp.last_rendered_name&&!H.localeCompare(I.tmp.last_rendered_name)&&(V=new et.Blob(I[I.tmp.area].opt["subsequent-author-substitute"]),I.tmp.label_blob?I.tmp.name_node.top.blobs=[V,I.tmp.label_blob]:I.tmp.name_node.top.blobs.length?I.tmp.name_node.top.blobs[0].blobs=[V]:I.tmp.name_node.top.blobs=[V],I.tmp.substituted_variable=W),I.tmp.last_rendered_name=H)}I.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(R)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(R=function func(I,N){I.tmp.element_trace.mystack.length>1&&I.tmp.element_trace.pop()},this.execs.push(R))},et.Util.padding=function(I){var N=I.match(/\s*(-{0,1}[0-9]+)/);if(N)for((I=parseInt(N[1],10))<0&&(I=1e20+I),I=""+I;I.length<20;)I="0"+I;return I},et.Util.LongOrdinalizer=function(){},et.Util.LongOrdinalizer.prototype.init=function(I){this.state=I},et.Util.LongOrdinalizer.prototype.format=function(I,N){I<10&&(I="0"+I);var R=et.Engine.getField(et.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+I,"long",0,N);return R||(R=this.state.fun.ordinalizer.format(I,N)),this.state.tmp.cite_renders_content=!0,R},et.Util.Ordinalizer=function(I){this.state=I,this.suffixes={}},et.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var I=0;I<3;I+=1){var N=[void 0,"masculine","feminine"][I];this.suffixes[this.state.opt.lang][N]=[];for(var R=1;R<5;R+=1){var U=this.state.getTerm("ordinal-0"+R,"long",!1,N);if(void 0===U){delete this.suffixes[this.state.opt.lang][N];break}this.suffixes[this.state.opt.lang][N].push(U)}}}},et.Util.Ordinalizer.prototype.format=function(I,N){var R;R=""+(I=parseInt(I,10));var U="",$=[];if(N&&$.push(N),$.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var B;U=this.state.getTerm("ordinal",!1,0,N);for(var H=0,V=$.length;H<V;H+=1){B=$[H];var W=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(W["whole-number"][R]&&W["whole-number"][R][B]?U=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][R][B],!1,0,N):W["last-two-digits"][R.slice(R.length-2)]&&W["last-two-digits"][R.slice(R.length-2)][B]?U=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][R.slice(R.length-2)][B],!1,0,N):W["last-digit"][R.slice(R.length-1)]&&W["last-digit"][R.slice(R.length-1)][B]&&(U=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][R.slice(R.length-1)][B],!1,0,N)),U)break}}else N||(N=void 0),this.state.fun.ordinalizer.init(),U=I/10%10==1||I>10&&I<20?this.suffixes[this.state.opt.lang][N][3]:I%10==1&&I%100!=11?this.suffixes[this.state.opt.lang][N][0]:I%10==2&&I%100!=12?this.suffixes[this.state.opt.lang][N][1]:I%10==3&&I%100!=13?this.suffixes[this.state.opt.lang][N][2]:this.suffixes[this.state.opt.lang][N][3];return R=R+=U},et.Util.Romanizer=function(){},et.Util.Romanizer.prototype.format=function(I){var N,R,U,$,B;if(N="",I<6e3)for(($=I.toString().split("")).reverse(),R=0,U=0,B=$.length,R=0;R<B;R+=1)U=parseInt($[R],10),N=et.ROMAN_NUMERALS[R][U]+N;return N},et.Util.Suffixator=function(I){I||(I=et.SUFFIX_CHARS),this.slist=I.split(",")},et.Util.Suffixator.prototype.format=function(I){var N;I+=1;var R="";do{N=I%26==0?26:I%26;R=this.slist[N-1]+R;I=(I-N)/26}while(0!==I);return R},et.Engine.prototype.processNumber=function(I,N,R){var U,$=this,B=R;R="page-first"===R?"page":R;var H=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(H+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var V=new RegExp("^\\s*&\\s*$"),W=new RegExp("(\\s*&\\s*|"+H+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),z=new RegExp("(?:\\s*&\\s*|"+H+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),X=this.getTerm("and"),Q=this.getTerm("and","symbol");function composeNumberInfo(I,N,U,$,H){$=$||"";var V={};if(N||et.STATUTE_SUBDIV_STRINGS_REVERSE[R]||(N="var:"+R),N){var W=N.match(/(\s*)([^\s]+)(\s*)/);"page"===B&&0===H&&-1===["p.","pp."].indexOf(W[2])?(V.gotosleepability=!0,V.labelVisibility=!0):V.labelVisibility=!1,V.label=W[2],V.origLabel=I,V.labelSuffix=W[3]?W[3]:"",V.plural=0}return(W=U.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(V.particle=W[1]?W[1]:"",V.value=W[2]):(V.particle="",V.value=U),V.joiningSuffix=$.replace(/\s*-\s*/,"-"),V}function fixNumericAndCount(I,N,R){var U=I[R.pos],$=I[N].value,B="\\-"===U.joiningSuffix;$.particle&&$.particle!==U.particle&&(R.collapsible=!1);var H=$.match(/^[0-9]+([-,:a-zA-Z]*)$/),V=U.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if($&&H&&V&&!B||(R.collapsible=!1,$&&V||(R.numeric=!1),B&&R.count--),(H&&H[1]||V&&V[1])&&(R.collapsible=!1),void 0===I[N].collapsible){for(var W=N,z=N+R.count;W<z;W++)isNaN(parseInt(I[W].value))&&!I[W].value.match(/^[ivxlcmIVXLCM]+$/)?I[W].collapsible=!1:I[W].collapsible=!0;R.collapsible=I[N].collapsible}var X=R.collapsible;for(W=R.pos,z=R.pos+R.count;W<z;W++)R.count>1&&X&&(I[W].plural=1),I[W].numeric=R.numeric,I[W].collapsible=R.collapsible}function fixLabelVisibility(I,N,U){"var:"!==U.label.slice(0,4)&&(0===U.pos?(["locator","number","locator-extra","page"].indexOf(R)>-1&&void 0===$.getTerm(et.STATUTE_SUBDIV_STRINGS[U.label])&&(I[U.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(R)&&et.STATUTE_SUBDIV_STRINGS[U.label]!==R&&(I[0].labelVisibility=!0)):I[U.pos].labelVisibility=!0)}function stripHyphenBackslash(I){return I.replace("\\-","-")}function setStyling(N){var R=et.Util.cloneToken(I),U=new et.Token;$.tmp.just_looking||(U.decorations=R.decorations,R.decorations=[],U.strings.prefix=R.strings.prefix,R.strings.prefix="",U.strings.suffix=R.strings.suffix,R.strings.suffix="");var B=N.length?N[0].label:null;if(N.length){for(var H=0,V=N.length;H<V;H++){var W=N[H],z=et.Util.cloneToken(R);z.gender=I.gender,B===W.label&&(z.formatter=I.formatter),W.numeric&&(z.successor_prefix=W.successor_prefix),z.strings.suffix=z.strings.suffix+stripHyphenBackslash(W.joiningSuffix),W.styling=z}$.tmp.just_looking||'"'===N[0].value.slice(0,1)&&'"'===N[N.length-1].value.slice(-1)&&(N[0].value=N[0].value.slice(1),N[N.length-1].value=N[N.length-1].value.slice(0,-1),U.decorations.push(["@quotes",!0]))}return U}function checkPage(I,N){return"page"===I||["locator","locator-extra"].indexOf(I)>-1&&(["p."].indexOf(N.label)>-1||["p."].indexOf(N.origLabel)>-1)}function fixupRangeDelimiter(I,N,R,U){var B=checkPage(I,N);return function checkTerm(I,N){var R,U=!0;return["locator","locator-extra","page"].indexOf(I)>-1&&(R=N.origLabel?N.origLabel:N.label,U=!!$.getTerm(et.STATUTE_SUBDIV_STRINGS[R])),U}(I,N)&&"-"===R&&U&&((B||["locator","locator-extra","issue","volume","edition","number"].indexOf(I)>-1)&&((R=$.getTerm("page-range-delimiter"))||(R="–")),"collection-number"===I&&((R=$.getTerm("year-range-delimiter"))||(R="–"))),R}function manglePageNumbers(I,N,U){if(!(N<1)&&2===U.count&&I[N-1].particle===I[N].particle)if("-"===I[N-1].joiningSuffix)if(!$.opt["page-range-format"]&&parseInt(I[N-1].value,10)>parseInt(I[N].value,10))I[N-1].joiningSuffix=fixupRangeDelimiter(R,I[N],I[N-1].joiningSuffix,!0);else{var B,H=I[N];!checkPage(R,H)||isNaN(parseInt(I[N-1].value))||isNaN(parseInt(I[N].value))?((""+I[N-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+I[N].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(I[N-1].joiningSuffix=$.getTerm("page-range-delimiter")),B=I[N-1].value+stripHyphenBackslash(I[N-1].joiningSuffix)+I[N].value):(B=I[N-1].particle+I[N-1].value+" - "+I[N].particle+I[N].value,B=$.fun.page_mangler(B));var V=B.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(V){var W=V[3];W=fixupRangeDelimiter(R,H,W,I[N].numeric),I[N-1].particle=V[1],I[N-1].value=V[2],I[N-1].joiningSuffix=W,I[N].particle=V[4],I[N].value=V[5]}U.count=0}else U.count=1}function fixRanges(N){if(I&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(R)){for(var U={count:0,label:null,lastHadRangeDelimiter:!1},$=0,B=N.length;$<B;$++){var H=N[$];if(H.collapsible)U.label===H.label&&"-"===H.joiningSuffix?U.count=1:U.label===H.label&&"-"!==H.joiningSuffix?(U.count++,2===U.count&&manglePageNumbers(N,$,U)):U.label!==H.label?(U.label=H.label,U.count=1):(U.count=1,U.label=H.label);else{U.count=0,U.label=null;var V=H.numeric;H.joiningSuffix=fixupRangeDelimiter(R,H,H.joiningSuffix,V)}}2===U.count&&manglePageNumbers(N,N.length-1,U)}}if(X===Q&&(Q="&"),I&&this.tmp.shadow_numbers[B]&&this.tmp.shadow_numbers[B].values.length)return fixRanges(st=this.tmp.shadow_numbers[B].values),void(this.tmp.shadow_numbers[B].masterStyling=setStyling(st));if(this.tmp.shadow_numbers[B]||(this.tmp.shadow_numbers[B]={values:[]}),N){var J=et.LangPrefsMap[R];if(J){var Z=this.opt["cite-lang-prefs"][J][0];U=(U=this.transform.getTextSubField(N,B,"locale-"+Z,!0)).name}else U=N[B];if(U&&"number"===B&&"legal_case"===N.type&&(U=U.replace(/[\\]*-/g,"\\-")),U&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var tt=this.sys.normalizeAbbrevsKey(B,U);else tt=U;var it=this.transform.loadAbbreviation(N.jurisdiction,"number",tt,N.language);this.transform.abbrevs[it].number&&(this.transform.abbrevs[it].number[tt]?U=this.transform.abbrevs[it].number[tt]:void 0!==this.transform.abbrevs[it].number[tt]&&delete this.transform.abbrevs[it].number[tt])}if(void 0!==U&&("string"==typeof U||"number"==typeof U)){"number"==typeof U&&(U=""+U);var nt=et.STATUTE_SUBDIV_STRINGS_REVERSE[R];if(0===this.tmp.shadow_numbers[B].values.length){var st;!function setSpaces(I){for(var N=0,R=I.length-1;N<R;N++)!I[N].joiningSuffix&&I[N+1].label&&(I[N].joiningSuffix=" ")}(st=function parseString(I,U){var B,H,X;if(U=U||"",I=function normalizeFieldValue(I){var U=(I=I.trim()).match(/^([^ ]+)/);if(U&&!et.STATUTE_SUBDIV_STRINGS[U[1]]){var $=null;($=["locator","locator-extra","page"].indexOf(R)>-1?N.label?et.STATUTE_SUBDIV_STRINGS_REVERSE[N.label]:"p.":et.STATUTE_SUBDIV_STRINGS_REVERSE[R])&&(I=$+" "+I)}return I}(I),"page"===R&&I.indexOf("–")>-1&&(I=I.replace(/\u2013/g,"-")),I.indexOf("\\-")>-1){B=new RegExp(W.source.replace("\\-","")),H=new RegExp(z.source.replace("\\-",""));for(var J=0,Z=(it=I.split("\\-")).length;J<Z;J++)it[J]=it[J].replace(/\-/g,"–");X=(X=it.join("\\-")).replace(/\\/g,"")}else B=W,H=z,X=I;var tt=[];if(at=X.match(B)){var it=X.split(H);for(J=0,Z=at.length;J<Z;J++)at[J].match(V)&&(it[J].match(/[a-zA-Z]$/)&&it[J].match(/^[a-zA-Z]/)?at[J]=Q:at[J]=" "+Q+" ");for(var J in it)if((""+it[J]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(J=0,Z=it.length-1;J<Z;J++)tt.push(it[J]),tt.push(at[J]);tt.push(it[it.length-1]),tt=function fixupSubsections(I){for(var N=I.length-2;N>-1;N-=2)"-"===I[N]&&I[N-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&I[N+1].match(/^[,a-zA-Z]+$/)&&(I[N-1]=I.slice(N-1,N+2).join(""),I=I.slice(0,N).concat(I.slice(N+2)));return I}(tt)}else tt=[X];var nt=[],st=U,rt="";for(J=0,Z=tt.length;J<Z;J+=2){var at;if(at=tt[J].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g)){for(var ot=(it=tt[J].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/)).length-1;ot>0;ot--)!it[ot-1]||it[ot].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&it[ot-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(it[ot-1]=it[ot-1]+at[ot-1]+it[ot],it=it.slice(0,ot).concat(it.slice(ot+1)),at=at.slice(0,ot-1).concat(at.slice(ot)));if(at.length>0){var lt=at[0].trim();!et.STATUTE_SUBDIV_STRINGS[lt]||void 0===$.getTerm(et.STATUTE_SUBDIV_STRINGS[lt])||-1===["locator","number","locator-extra","page"].indexOf(R)&&et.STATUTE_SUBDIV_STRINGS[lt]!==R?0===J&&(at=at.slice(1),it[0]=it[0]+" "+lt+" "+it[1],it=it.slice(0,1).concat(it.slice(2))):rt=lt}ot=0;for(var ct=it.length;ot<ct;ot++){if(it[ot]||ot===it.length-1)ut=rt===(st=at[ot-1]?at[ot-1]:st).trim()?"":rt,X=it[ot]?it[ot].trim():"",ot===it.length-1?nt.push(composeNumberInfo(ut,st,X,tt[J+1],J)):nt.push(composeNumberInfo(ut,st,X,null,J))}}else{var ut;ut=rt===st.trim()?"":rt,nt.push(composeNumberInfo(ut,st,tt[J],tt[J+1]))}}return nt}(U,nt)),function setPluralsAndNumerics(I){if(0!==I.length){for(var U=0,$=1,H=1,V=I.length;H<V;H++){var W=I[H-1],z=I[H];if(W.label===z.label&&W.particle==W.particle)$++;else(X=JSON.parse(JSON.stringify(I[U]))).pos=U,X.count=$,X.numeric=!0,fixNumericAndCount(I,U,X),W.label!==z.label&&fixLabelVisibility(I,0,X),U=H,$=1}var X;(X=JSON.parse(JSON.stringify(I[U]))).pos=U,X.count=$,X.numeric=!0,fixNumericAndCount(I,U,X),fixLabelVisibility(I,0,X),I.length&&I[0].numeric&&"number-of-"===R.slice(0,10)&&parseInt(N[B],10)>1&&(I[0].plural=1)}}(st);var rt,at=_createForOfIteratorHelper(st);try{for(at.s();!(rt=at.n()).done;){var ot=rt.value;ot.numeric||(ot.plural=0)}}catch(I){at.e(I)}finally{at.f()}this.tmp.shadow_numbers[B].values=st,I&&(fixRanges(st),this.tmp.shadow_numbers[B].masterStyling=setStyling(st)),function setVariableParams(I,N,U){var B=I[N];U.length&&(B.numeric=U[0].numeric,B.collapsible=U[0].collapsible,B.plural=U[0].plural,B.label=et.STATUTE_SUBDIV_STRINGS[U[0].label],"number"===R&&"issue"===B.label&&$.getTerm("number")&&(B.label="number"))}(this.tmp.shadow_numbers,B,st)}var lt=this.tmp.shadow_numbers[B];"number"===R&&1===lt.values.length&&lt.values[0].value.indexOf("|")>-1&&(lt.values[0].value=lt.values[0].value.replace(/\|/g,", "),lt.values[0].numeric=!0,lt.values[0].plural=1,lt.values[0].collapsible=!1,lt.numeric=!0,lt.plural=1,lt.collapsible=!1),1===lt.values.length&&lt.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(lt.values[0].numeric=!0,lt.values[0].plural=0,lt.values[0].collapsible=!1,lt.numeric=!0,lt.plural=0,lt.collapsible=!1),"page"===R&&lt.values.length>0&&lt.values[0].gotosleepability&&(lt.labelForm="short")}}},et.Util.outputNumericField=function(I,N,R){I.output.openLevel(I.tmp.shadow_numbers[N].masterStyling);var U,$=I.tmp.shadow_numbers[N].masterStyling,B=I.tmp.shadow_numbers[N].values,H=B.length?B[0].label:null,V=I.tmp.shadow_numbers[N].labelForm,W=I.tmp.group_context.tip.label_static;U=V||"short";for(var z=I.tmp.shadow_numbers[N].labelCapitalizeIfFirst,X=I.tmp.shadow_numbers[N].labelDecorations,Q=null,J=0,Z=B.length;J<Z;J++){var tt,it=B[J],nt="";it.label&&(tt="var:"===it.label.slice(0,4)?it.label.slice(4):et.STATUTE_SUBDIV_STRINGS[it.label])&&(it.label===H?(W&&-1===(nt=I.getTerm(tt,"static",it.plural)).indexOf("%s")&&(nt=""),nt||(nt=I.getTerm(tt,V,it.plural))):(W&&-1===(nt=I.getTerm(tt,"static",it.plural)).indexOf("%s")&&(nt=""),nt||(nt=I.getTerm(tt,U,it.plural))),z&&(nt=et.Output.Formatters["capitalize-first"](I,nt)));var st=-1;nt&&(st=nt.indexOf("%s"));var rt,at=et.Util.cloneToken(it.styling);if(at.formatter=it.styling.formatter,at.type=it.styling.type,at.num=it.styling.num,at.gender=it.styling.gender,st>0&&st<nt.length-2)at.strings.prefix+=nt.slice(0,st),at.strings.suffix=nt.slice(st+2)+at.strings.suffix;else if(it.labelVisibility)if(nt||(nt=it.label,tt=it.label),st>0){var ot=new et.Token;ot.decorations=X,I.output.append(nt.slice(0,st),ot)}else st!==nt.length-2&&-1!==st||I.output.append(nt+it.labelSuffix,"empty");if(et.UPDATE_GROUP_CONTEXT_CONDITION(I,$.strings.prefix,null,$,"".concat(it.particle).concat(it.value)),it.collapsible)void 0===(rt=it.value.match(/^[1-9][0-9]*$/)?new et.NumericBlob(I,it.particle,parseInt(it.value,10),at,R):new et.NumericBlob(I,it.particle,it.value,at,R)).gender&&(rt.gender=I.locale[I.opt.lang]["noun-genders"][N]),I.output.append(rt,"literal");else I.output.append(it.particle+it.value,at);if(0===st&&st<nt.length-2&&(null===Q&&(Q=tt),tt!==Q||J===B.length-1)){var lt=new et.Token;lt.decorations=X,I.output.append(nt.slice(st+2),lt)}Q=tt,I.tmp.term_predecessor=!0}I.output.closeLevel()},et.Util.PageRangeMangler={},et.Util.PageRangeMangler.getFunction=function(I,N){var R,U,B,H,V,W,z,X,Q,J,Z,tt,et,it,nt,st,rt,at=I.getTerm(N+"-range-delimiter");R=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,H=function stringify(R){for(B=R.length,U=1;U<B;U+=2)"object"===$()(R[U])&&(R[U]=R[U].join(""));var H=R.join("");return H=H.replace(/([^\\])\-/g,"$1"+I.getTerm(N+"-range-delimiter"))},V=function listify(I){var N,R,$,H=new RegExp("([^\\\\])[-"+("-"===at?"":at)+"\\u2013]","g");I=I.replace(H,"$1 - ").replace(/\s+-\s+/g," - ");var V=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),W=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(N=I.match(V),0===(R=I.split(W)).length)$=N;else for($=[R[0]],U=1,B=R.length;U<B;U+=1)$.push(N[U-1].replace(/\s*\-\s*/g,"-")),$.push(R[U]);return $},W=function expand(I){for(J=V(I=""+I),B=J.length,U=1;U<B;U+=2)(Z=J[U].match(R))&&(Z[3]&&Z[1]!==Z[3]||(Z[4].length<Z[2].length&&(Z[4]=Z[2].slice(0,Z[2].length-Z[4].length)+Z[4]),parseInt(Z[2],10)<parseInt(Z[4],10)&&(Z[3]=at+(Z[1]?Z[1]:""),J[U]=Z.slice(1)))),"string"==typeof J[U]&&(J[U]=J[U].replace(/\-/g,at));return J},z=function minimize(I,N,R){B=I.length;for(var U=1,V=I.length;U<V;U+=2)"object"===$()(I[U])&&(I[U][3]=X(I[U][1],I[U][3],N,R),I[U][2].slice(1)===I[U][0]&&(I[U][2]=at));return H(I)},X=function minimize_internal(I,N,R,U){if(R||(R=0),tt=(""+I).split(""),et=(""+N).split(""),(it=et.slice()).reverse(),tt.length===et.length)for(var $=0,B=tt.length;$<B;$+=1){if(!(tt[$]===et[$]&&it.length>R)){if(R&&U&&3===it.length){var H=tt.slice(0,$);H.reverse(),it=it.concat(H)}break}it.pop()}return it.reverse(),it.join("")},Q=function chicago(I){for(B=I.length,U=1;U<B;U+=2)"object"===$()(I[U])&&(Z=I[U],nt=parseInt(Z[1],10),st=parseInt(Z[3],10),nt>100&&nt%100&&parseInt(nt/100,10)===parseInt(st/100,10)?Z[3]=""+st%100:nt>=1e4&&(Z[3]=""+st%1e3)),Z[2].slice(1)===Z[0]&&(Z[2]=at);return H(I)};var ot=function sniff(I,N,R,U){return N(W(I=""+I),R,U)};return I.opt[N+"-range-format"]?"expanded"===I.opt[N+"-range-format"]?rt=function ret_func(I){return ot(I,H)}:"minimal"===I.opt[N+"-range-format"]?rt=function ret_func(I){return ot(I,z)}:"minimal-two"===I.opt[N+"-range-format"]?rt=function ret_func(I,N){return ot(I,z,2,N)}:"chicago"===I.opt[N+"-range-format"]&&(rt=function ret_func(I){return ot(I,Q)}):rt=function ret_func(I){return ot(I,H)},rt},et.Util.FlipFlopper=function(I){var N=[],R={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};R['("']=R[' "'],R["('"]=R[" '"];var U=I.getTerm("open-quote"),$=I.getTerm("close-quote"),B=I.getTerm("open-inner-quote"),H=I.getTerm("close-inner-quote");function _getNestingOpenerParams(I){for(var N=[],U=Object.keys(R),$=0,B=U.length;$<B;$++){var H=U[$];"quote"===R[I].type&&R[I]||N.push(H)}var V=R[I];return V.opener=new RegExp("^(?:"+N.map((function(I){return I.replace("(","\\(")})).join("|")+")"),V}U&&$&&-1===[' "'," '",'"',"'"].indexOf(U)&&(R[U]=JSON.parse(JSON.stringify(R[' "'])),R[U].opener=U,R[U].closer=$),B&&H&&-1===[' "'," '",'"',"'"].indexOf(B)&&(R[B]=JSON.parse(JSON.stringify(R[" '"])),R[B].opener=B,R[B].closer=H);var V=function(){for(var I={},N=Object.keys(R),U=0,$=N.length;U<$;U++){var B=N[U];I[B]=_getNestingOpenerParams(B)}return I}(),W=function(){var I=[],N=[],R={};for(var U in V)I.push(U),R[V[U].closer]=!0;for(var $=Object.keys(R),B=0,H=$.length;B<H;B++){var W=$[B];N.push(W)}var z=I.concat(N).map((function(I){return I.replace("(","\\(")})).join("|");return{matchAll:new RegExp("((?:"+z+"))","g"),splitAll:new RegExp("(?:"+z+")","g"),open:new RegExp("(^(?:"+I.map((function(I){return I.replace("(","\\(")})).join("|")+")$)"),close:new RegExp("(^(?:"+N.join("|")+")$)")}}();function _pushNestingState(I,R){return I.match(W.open)?function _tryOpen(I,R){var U=N[N.length-1];return!U||I.match(U.opener)?(N.push({type:V[I].type,opener:V[I].opener,closer:V[I].closer,pos:R}),!1):(N.pop(),N.push({type:V[I].type,opener:V[I].opener,closer:V[I].closer,pos:R}),{fixtag:U.pos})}(I,R):function _tryClose(I,R){var U=N[N.length-1];return U&&I===U.closer?(N.pop(),"nocase"===U.type&&{nocase:{open:U.pos,close:R}}):U?{fixtag:U.pos}:{fixtag:R}}(I,R)}var z=function TagReg(N){var U=[];this.set=function($){for(var B=R[$].attr,H=null,V=U.length-1;V>-1;V--){if((Q=U[V])[0]===B){H=Q;break}}if(!H){var W=[I[I.tmp.area].opt.layout_decorations].concat(N.alldecor);t:for(V=W.length-1;V>-1;V--){var z=W[V];if(z)for(var X=z.length-1;X>-1;X--){var Q;if((Q=z[X])[0]===B){H=Q;break t}}}}H=H?[B,R[$].flipflop[H[1]]]:[B,R[$].outer],U.push(H)},this.pair=function(){return U[U.length-1]},this.pop=function(){U.pop()}};function _apostropheForce(I,N){if("'"===I){if(N&&N.match(/^[^\,\.\?\:\;\ ]/))return"’"}else if(" '"===I&&N&&N.match(/^[\ ]/))return" ’";return!1}this.processTags=function(U){var $=!1;" "!==(Z=U.blobs).slice(0,1)||Z.match(/^\s+[\'\"]/)||($=!0);var B=new RegExp("("+et.ROMANESQUE_REGEXP.source+")’("+et.ROMANESQUE_REGEXP.source+")","g"),H=function _doppelString(I){var N=[],U=(I=(I=I.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(W.matchAll);if(!U)return{tags:[],strings:[I],forcedSpaces:[]};for(var $=I.split(W.splitAll),B=0,H=U.length-1;B<H;B++)R[U[B]]&&(""===$[B+1]&&['"',"'"].indexOf(U[B+1])>-1?(U[B+1]=" "+U[B+1],N.push(!0)):N.push(!1));return{tags:U,strings:$,forcedSpaces:N}}(Z=" "+Z.replace(B,"$1'$2"));if(0!==H.tags.length){for(var V,X=!1,Q=0,J=H.tags.length;Q<J;Q++){var Z,tt=_apostropheForce(rt=H.tags[Q],Z=H.strings[Q+1]);if(tt)H.strings[Q+1]=tt+H.strings[Q+1],H.tags[Q]="";else{for(var it;it=_pushNestingState(rt,Q);){if(!(Object.keys(it).indexOf("fixtag")>-1)){if(it.nocase){H.tags[it.nocase.open]="",H.tags[it.nocase.close]="";break}break}if(rt.match(W.close)&&"'"===rt)H.strings[Q+1]="’"+H.strings[Q+1],H.tags[Q]="";else{var nt=H.tags[it.fixtag];H.forcedSpaces[it.fixtag-1]&&(nt=nt.slice(1)),H.strings[it.fixtag+1]=nt+H.strings[it.fixtag+1],H.tags[it.fixtag]=""}if(!(N.length>0))break;if("'"===rt)break;N.pop()}it&&(it.fixtag||0===it.fixtag)&&(H.strings[Q+1]=H.tags[Q]+H.strings[Q+1],H.tags[Q]="")}}for(Q=N.length-1;Q>-1;Q--){var st=N[Q].pos,rt=H.tags[st];H.strings[st+1]=" '"===rt||"'"===rt?" ’"+H.strings[st+1]:H.tags[st]+H.strings[st+1],H.tags[st]="",N.pop()}for(Q=H.tags.length-1;Q>-1;Q--)H.tags[Q]||(H.tags=H.tags.slice(0,Q).concat(H.tags.slice(Q+1)),H.strings[Q]=H.strings[Q]+H.strings[Q+1],H.strings=H.strings.slice(0,Q+1).concat(H.strings.slice(Q+2)));for(Q=0,J=H.tags.length;Q<J;Q++){rt=H.tags[Q];var at=H.forcedSpaces[Q-1];[' "'," '",'("',"('"].indexOf(rt)>-1&&(X||(R[V=rt].outer="true",R[{" '":' "',' "':" '",'("':"('","('":'("'}[V]].outer="inner",X=!0),at||(H.strings[Q]+=rt.slice(0,1)))}!function _undoppelToQueue(N,R,U){var $=!0,B=new z(N);N.blobs=[];var H=new function Stack(N){this.stack=[N],this.latest=N,this.addStyling=function(N,R){if($&&(" "===N.slice(0,1)&&(N=N.slice(1))," "===N.slice(0,1)&&(N=N.slice(1)),$=!1),this.latest=this.stack[this.stack.length-1],R){if("string"==typeof this.latest.blobs)(Z=new et.Blob).blobs=this.latest.blobs,Z.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[Z];var U=new et.Token;if((J=new et.Blob(null,U)).alldecor=this.latest.alldecor.slice(),"@class"===R[0]&&"nodecor"===R[1]){for(var B=[],H={},V=[I[I.tmp.area].opt.layout_decorations].concat(J.alldecor),W=V.length-1;W>-1;W--){var z=V[W];if(z)for(var X=z.length-1;X>-1;X--){var Q=z[X];["@font-weight","@font-style","@font-variant"].indexOf(Q[0])>-1&&!H[Q[0]]&&("normal"!==R[1]&&(J.decorations.push([Q[0],"normal"]),B.push([Q[0],"normal"])),H[Q[0]]=!0)}}J.alldecor.push(B)}else J.decorations.push(R),J.alldecor.push([R]);if(this.latest.blobs.push(J),this.stack.push(J),this.latest=J,N){var J;U=new et.Token;(J=new et.Blob(null,U)).blobs=N,J.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(J)}}else{var Z;if(N)(Z=new et.Blob).blobs=N,Z.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(Z)}},this.popStyling=function(){this.stack.pop()}}(N);if(R.strings.length){var V=R.strings[0];U&&(V=" "+V),H.addStyling(V)}for(var X=0,Q=R.tags.length;X<Q;X++){var J=R.tags[X];V=R.strings[X+1];J.match(W.open)?(B.set(J),H.addStyling(V,B.pair())):(B.pop(),H.popStyling(),H.addStyling(V))}}(U,H,$)}}},et.Output.Formatters=function(){var I=new et.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',(function(I){return I.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")})),N=new et.Doppeler('(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)'),R=new et.Doppeler("(?:[   -​ 　]+)"),U={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function _capitalise(I){var N=I.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!N||N[2].match(/^[\u0370-\u03FF]$/)&&!N[3]?I:N[1]+et.toLocaleUpperCase.call(this,N[2])+N[3]}function _textcaseEngine(N,$){if(!$)return"";N.doppel=I.split($);var B={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function pushQuoteState(I,R){return["“","‘",' "'," '"].indexOf(I)>-1?function tryOpen(I,R){if(0===N.quoteState.length||I===N.quoteState[N.quoteState.length-1].opener)return N.quoteState.push({opener:B[I].opener,closer:B[I].closer,pos:R}),!1;var U=N.quoteState[N.quoteState.length-1].pos;return N.quoteState.pop(),N.quoteState.push({opener:B[I].opener,closer:B[I].closer,positions:R}),U}(I,R):function tryClose(I,R){if(!(N.quoteState.length>0&&I===N.quoteState[N.quoteState.length-1].closer))return R;N.quoteState.pop()}(I,R)}function quoteFix(I,N){var R=I.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(R)return pushQuoteState(R[1],N)}N.doppel.strings.length&&N.doppel.strings[0].trim()&&(N.doppel.strings[0]=N.capitaliseWords(N.doppel.strings[0],0,N.doppel.tags[0]));for(var H=0,V=N.doppel.tags.length;H<V;H++){var W=N.doppel.tags[H],z=N.doppel.strings[H+1];if(null!==N.tagState&&(U[W]?N.tagState.push(U[W]):N.tagState.length&&W===N.tagState[N.tagState.length-1]&&N.tagState.pop()),null!==N.afterPunct&&W.match(/[\!\?\:]$/)&&(N.afterPunct=!0),0===N.tagState.length?N.doppel.strings[H+1]=N.capitaliseWords(z,H+1,N.doppel,N.doppel.tags[H+1]):N.doppel.strings[H+1].trim()&&(N.lastWordPos=null),null!==N.quoteState)if((Q=quoteFix(W,H))||0===Q){var X=N.doppel.origStrings[Q+1].slice(0,1);N.doppel.strings[Q+1]=X+N.doppel.strings[Q+1].slice(1),N.lastWordPos=null}N.isFirst&&z.trim()&&(N.isFirst=!1),N.afterPunct&&z.trim()&&(N.afterPunct=!1)}if(N.quoteState)for(H=0,V=N.quoteState.length;H<V;H++){var Q;if(void 0!==(Q=N.quoteState[H].pos)){X=N.doppel.origStrings[Q+1].slice(0,1);N.doppel.strings[Q+1]=X+N.doppel.strings[Q+1].slice(1)}}if(N.lastWordPos){var J=R.split(N.doppel.strings[N.lastWordPos.strings]),Z=J.strings[N.lastWordPos.words];Z.length>1&&et.toLocaleLowerCase.call(this,Z).match(N.skipWordsRex)&&(Z=_capitalise.call(this,Z),J.strings[N.lastWordPos.words]=Z),N.doppel.strings[N.lastWordPos.strings]=R.join(J)}return I.join(N.doppel)}return{nameDoppel:N,passthrough:function passthrough(I,N){return N},lowercase:function lowercase(I,N){var R={quoteState:null,capitaliseWords:function capitaliseWords(N){for(var R=N.split(" "),U=0,$=R.length;U<$;U++){var B=R[U];B&&(R[U]=et.toLocaleLowerCase.call(I,B))}return R.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return _textcaseEngine.call(I,R,N)},uppercase:function uppercase(I,N){var R={quoteState:null,capitaliseWords:function capitaliseWords(N){for(var R=N.split(" "),U=0,$=R.length;U<$;U++){var B=R[U];B&&(R[U]=et.toLocaleUpperCase.call(I,B))}return R.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return _textcaseEngine.call(I,R,N)},sentence:function sentence(I,N){var R={quoteState:[],capitaliseWords:function capitaliseWords(N){for(var U=N.split(" "),$=0,B=U.length;$<B;$++){var H=U[$];H&&(R.isFirst?(U[$]=_capitalise.call(I,H),R.isFirst=!1):U[$]=et.toLocaleLowerCase.call(I,H))}return U.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return _textcaseEngine.call(I,R,N)},title:function title(I,N){var U={quoteState:[],capitaliseWords:function capitaliseWords(N,$,B){if(N.trim()){for(var H=N.split(/[ \u00A0]+/),V=R.split(N),W=0,z=(H=V.strings).length;W<z;W++){var X=H[W];X&&((X.length>1&&!et.toLocaleLowerCase.call(I,X).match(U.skipWordsRex)||W===H.length-1&&"-"===B||U.isFirst||U.afterPunct)&&(H[W]=_capitalise.call(I,H[W])),U.afterPunct=!1,U.isFirst=!1,U.lastWordPos={strings:$,words:W})}N=R.join(V)}return N},skipWordsRex:I.locale[I.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return _textcaseEngine.call(I,U,N)},"capitalize-first":function capitalizeFirst(I,N){var R={quoteState:[],capitaliseWords:function capitaliseWords(N){for(var U=N.split(" "),$=0,B=U.length;$<B;$++){var H=U[$];if(H&&R.isFirst){U[$]=_capitalise.call(I,H),R.isFirst=!1;break}}return U.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return _textcaseEngine.call(I,R,N)},"capitalize-all":function capitalizeAll(I,N){var R={quoteState:[],capitaliseWords:function capitaliseWords(N){for(var R=N.split(" "),U=0,$=R.length;U<$;U++){var B=R[U];B&&(R[U]=_capitalise.call(I,B))}return R.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return _textcaseEngine.call(I,R,N)}}}(),et.Output.Formats=function(){},et.Output.Formats.prototype.html={text_escape:function text_escape(I){return I||(I=""),I.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(et.SUPERSCRIPTS_REGEXP,(function(I){return"<sup>"+et.SUPERSCRIPTS[I]+"</sup>"}))},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":et.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?I.getTerm("open-quote"):I.getTerm("open-quote")+N+I.getTerm("close-quote")},"@quotes/inner":function quotesInner(I,N){return void 0===N?"’":I.getTerm("open-inner-quote")+N+I.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){var R="";return I.sys.embedBibliographyEntry&&(R=I.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+N+"</div>\n"+R},"@display/block":function displayBlock(I,N){return'\n\n    <div class="csl-block">'+N+"</div>\n"},"@display/left-margin":function displayLeftMargin(I,N){return'\n    <div class="csl-left-margin">'+N+"</div>"},"@display/right-inline":function displayRightInline(I,N){return'<div class="csl-right-inline">'+N+"</div>\n  "},"@display/indent":function displayIndent(I,N){return'<div class="csl-indent">'+N+"</div>\n  "},"@showid/true":function showidTrue(I,N,R){if(I.tmp.just_looking||I.tmp.suppress_decorations)return N;if(R)return'<span class="'+I.opt.nodenames[R]+'" cslid="'+R+'">'+N+"</span>";if(this.params&&"string"==typeof N){var U="";if(N){var $=N.match(et.VARIABLE_WRAPPER_PREPUNCT_REX);U=$[1],N=$[2]}var B="";return N&&et.SWAPPING_PUNCTUATION.indexOf(N.slice(-1))>-1&&(B=N.slice(-1),N=N.slice(0,-1)),I.sys.variableWrapper(this.params,U,N,B)}return N},"@URL/true":function URLTrue(I,N){return'<a href="'+N+'">'+N+"</a>"},"@DOI/true":function DOITrue(I,N){var R=N;return N.match(/^https?:\/\//)||(R="https://doi.org/"+N),'<a href="'+R+'">'+N+"</a>"}},et.Output.Formats.prototype.text={text_escape:function text_escape(I){return I||(I=""),I},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":et.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?I.getTerm("open-quote"):I.getTerm("open-quote")+N+I.getTerm("close-quote")},"@quotes/inner":function quotesInner(I,N){return void 0===N?"’":I.getTerm("open-inner-quote")+N+I.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){return N+"\n"},"@display/block":function displayBlock(I,N){return"\n"+N},"@display/left-margin":function displayLeftMargin(I,N){return N},"@display/right-inline":function displayRightInline(I,N){return N},"@display/indent":function displayIndent(I,N){return"\n    "+N},"@showid/true":function showidTrue(I,N){return N},"@URL/true":function URLTrue(I,N){return N},"@DOI/true":function DOITrue(I,N){return N}},et.Output.Formats.prototype.rtf={text_escape:function text_escape(I){return I||(I=""),I.replace(/([\\{}])/g,"\\$1").replace(et.SUPERSCRIPTS_REGEXP,(function(I){return"\\super "+et.SUPERSCRIPTS[I]+"\\nosupersub{}"})).replace(/[\u007F-\uFFFF]/g,(function(I){return"\\uc0\\u"+I.charCodeAt(0).toString()+"{}"})).split("\t").join("\\tab{}")},"@passthrough/true":et.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?et.Output.Formats.rtf.text_escape(I.getTerm("open-quote")):et.Output.Formats.rtf.text_escape(I.getTerm("open-quote"))+N+et.Output.Formats.rtf.text_escape(I.getTerm("close-quote"))},"@quotes/inner":function quotesInner(I,N){return void 0===N?et.Output.Formats.rtf.text_escape("’"):et.Output.Formats.rtf.text_escape(I.getTerm("open-inner-quote"))+N+et.Output.Formats.rtf.text_escape(I.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){return N},"@display/left-margin":function displayLeftMargin(I,N){return N+"\\tab "},"@display/right-inline":function displayRightInline(I,N){return N+"\r\n"},"@display/indent":function displayIndent(I,N){return"\n\\tab "+N+"\\line\r\n"},"@showid/true":function showidTrue(I,N){if(I.tmp.just_looking||I.tmp.suppress_decorations)return N;var R="";if(N){var U=N.match(et.VARIABLE_WRAPPER_PREPUNCT_REX);R=U[1],N=U[2]}var $="";return N&&et.SWAPPING_PUNCTUATION.indexOf(N.slice(-1))>-1&&($=N.slice(-1),N=N.slice(0,-1)),I.sys.variableWrapper(this.params,R,N,$)},"@URL/true":function URLTrue(I,N){return N},"@DOI/true":function DOITrue(I,N){return N}},et.Output.Formats.prototype.asciidoc={text_escape:function text_escape(I){return I||(I=""),I.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(et.SUPERSCRIPTS_REGEXP,(function(I){return"^"+et.SUPERSCRIPTS[I]+"^"}))},bibstart:"",bibend:"","@passthrough/true":et.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?"``":"``"+N+"''"},"@quotes/inner":function quotesInner(I,N){return void 0===N?"`":"`"+N+"'"},"@quotes/false":!1,"@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){return N+"\n"},"@display/block":function displayBlock(I,N){return N},"@display/left-margin":function displayLeftMargin(I,N){return N},"@display/right-inline":function displayRightInline(I,N){return" "+N},"@display/indent":function displayIndent(I,N){return" "+N},"@showid/true":function showidTrue(I,N){if(I.tmp.just_looking||I.tmp.suppress_decorations||!this.params||"string"!=typeof N)return N;var R="";if(N){var U=N.match(et.VARIABLE_WRAPPER_PREPUNCT_REX);R=U[1],N=U[2]}var $="";return N&&et.SWAPPING_PUNCTUATION.indexOf(N.slice(-1))>-1&&($=N.slice(-1),N=N.slice(0,-1)),I.sys.variableWrapper(this.params,R,N,$)},"@URL/true":function URLTrue(I,N){return N},"@DOI/true":function DOITrue(I,N){var R=N;return N.match(/^https?:\/\//)||(R="https://doi.org/"+N),R+"["+N+"]"}},et.Output.Formats.prototype.fo={text_escape:function text_escape(I){return I||(I=""),I.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(et.SUPERSCRIPTS_REGEXP,(function(I){return'<fo:inline vertical-align="super">'+et.SUPERSCRIPTS[I]+"</fo:inline>"}))},bibstart:"",bibend:"","@passthrough/true":et.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?I.getTerm("open-quote"):I.getTerm("open-quote")+N+I.getTerm("close-quote")},"@quotes/inner":function quotesInner(I,N){return void 0===N?"’":I.getTerm("open-inner-quote")+N+I.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){var R="";if(I.bibliography&&I.bibliography.opt&&I.bibliography.opt.hangingindent){var U=I.bibliography.opt.hangingindent;R=' start-indent="'+U+'em" text-indent="-'+U+'em"'}var $="";return I.sys.embedBibliographyEntry&&($=I.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+R+">"+N+"</fo:block>\n"+$},"@display/block":function displayBlock(I,N){return"\n  <fo:block>"+N+"</fo:block>\n"},"@display/left-margin":function displayLeftMargin(I,N){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+N+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function displayRightInline(I,N){return"<fo:table-cell>\n          <fo:block>"+N+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function displayIndent(I,N){return'<fo:block margin-left="2em">'+N+"</fo:block>\n"},"@showid/true":function showidTrue(I,N){if(I.tmp.just_looking||I.tmp.suppress_decorations||!this.params||"string"!=typeof N)return N;var R="";if(N){var U=N.match(et.VARIABLE_WRAPPER_PREPUNCT_REX);R=U[1],N=U[2]}var $="";return N&&et.SWAPPING_PUNCTUATION.indexOf(N.slice(-1))>-1&&($=N.slice(-1),N=N.slice(0,-1)),I.sys.variableWrapper(this.params,R,N,$)},"@URL/true":function URLTrue(I,N){return"<fo:basic-link external-destination=\"url('"+N+"')\">"+N+"</fo:basic-link>"},"@DOI/true":function DOITrue(I,N){var R=N;return N.match(/^https?:\/\//)||(R="https://doi.org/"+N),"<fo:basic-link external-destination=\"url('"+R+"')\">"+N+"</fo:basic-link>"}},et.Output.Formats.prototype.latex={text_escape:function text_escape(I){return I||(I=""),I},bibstart:"\\begin{thebibliography}{4}",bibend:"end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":et.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":et.Output.Formatters.passthrough,"@strip-periods/false":et.Output.Formatters.passthrough,"@quotes/true":function quotesTrue(I,N){return void 0===N?I.getTerm("open-quote"):I.getTerm("open-quote")+N+I.getTerm("close-quote")},"@quotes/inner":function quotesInner(I,N){return void 0===N?"’":I.getTerm("open-inner-quote")+N+I.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function citeEntry(I,N){return I.sys.wrapCitationEntry(N,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function bibliographyEntry(I,N){return"\\bibitem{"+I.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function displayBlock(I,N){return"\n"+N},"@display/left-margin":function displayLeftMargin(I,N){return N},"@display/right-inline":function displayRightInline(I,N){return N},"@display/indent":function displayIndent(I,N){return"\n    "+N},"@showid/true":function showidTrue(I,N,R){return N},"@URL/true":function URLTrue(I,N){return N},"@DOI/true":function DOITrue(I,N){return N}},et.Output.Formats=new et.Output.Formats,et.Registry=function(I){this.debug=!1,this.state=I,this.registry={},this.reflist=[],this.refhash={},this.namereg=new et.Registry.NameReg(I),this.citationreg=new et.Registry.CitationReg(I),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new et.Registry.Comparifier(I,"bibliography_sort"),this.getSortedIds=function(){for(var I=[],N=0,R=this.reflist.length;N<R;N+=1)I.push(""+this.reflist[N].id);return I},this.getSortedRegistryItems=function(){for(var I=[],N=0,R=this.reflist.length;N<R;N+=1)I.push(this.reflist[N]);return I}},et.Registry.prototype.init=function(I,N){if(this.oldseq={},N){this.uncited={};for(var R=0,U=I.length;R<U;R+=1)this.myhash[I[R]]||this.mylist.push(""+I[R]),this.uncited[I[R]]=!0,this.myhash[I[R]]=!0}else{for(var $ in this.uncited)I.push($);var B={};for(R=I.length-1;R>-1;R+=-1)B[I[R]]?I=I.slice(0,R).concat(I.slice(R+1)):B[I[R]]=!0;this.mylist=I,this.myhash=B}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},et.Registry.prototype.dopurge=function(I){for(var N=this.mylist.length-1;N>-1;N+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[N]]||I[this.mylist[N]]||(delete this.myhash[this.mylist[N]],delete this.uncited[this.mylist[N]],this.mylist=this.mylist.slice(0,N).concat(this.mylist.slice(N+1))));this.dodeletes(this.myhash)},et.Registry.prototype.dodeletes=function(I){var N,R,U,$,B,H,V;if("string"==typeof I){var W=I;(I={})[W]=!0}for(var W in this.registry)if(!I[W]){if(this.uncited[W])continue;for(B in this.namereg.delitems(W))this.refreshes[B]=!0;for(N=this.registry[W].ambig,(H=this.ambigcites[N].indexOf(W))>-1&&($=this.ambigcites[N].slice(),this.ambigcites[N]=$.slice(0,H).concat($.slice(H+1,$.length)),this.ambigresets[N]=this.ambigcites[N].length),U=this.ambigcites[N].length,R=0;R<U;R+=1)V=""+this.ambigcites[N][R],this.refreshes[V]=!0;if(this.registry[W].siblings)if(1==this.registry[W].siblings.length){var z=this.registry[W].siblings[0];this.registry[z].siblings&&(this.registry[z].siblings.pop(),this.registry[z].master=!0)}else if(this.registry[W].siblings.length>1){var X=[W];if(this.registry[W].master){var Q=this.registry[W].siblings[0];this.registry[Q].master=!0,X.push(Q)}for(var J=[],Z=this.registry[W].siblings.length-1;Z>-1;Z+=-1){var tt=this.registry[W].siblings.pop();-1===X.indexOf(tt)&&J.push(tt)}for(Z=J.length-1;Z>-1;Z+=-1)this.registry[W].siblings.push(J[Z])}for(var et=this.reflist.length-1;et>-1;et--)this.reflist[et].id===W&&(this.reflist=this.reflist.slice(0,et).concat(this.reflist.slice(et+1)));delete this.registry[W],delete this.refhash[W],this.return_data.bibchange=!0}},et.Registry.prototype.doinserts=function(I){var N,R,U,$,B;"string"==typeof I&&(I=[I]);for(var H=0,V=I.length;H<V;H+=1)N=I[H],this.registry[N]||(R=this.state.retrieveItem(N),U=et.getAmbiguousCite.call(this.state,R),this.ambigsTouched[U]=!0,R.legislation_id||(this.akeys[U]=!0),$={id:""+N,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:R,newItem:!0},this.registry[N]=$,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[N]&&(this.registry[N]["first-reference-note-number"]=this.citationreg.citationsByItemId[N][0].properties.noteIndex),B=et.getAmbigConfig.call(this.state),this.registerAmbigToken(U,N,B),this.touched[N]=!0,this.return_data.bibchange=!0)},et.Registry.prototype.rebuildlist=function(I){var N,R,U,$;if(I)for(this.reflist=[],N=this.mylist.length,R=0;R<N;R+=1)U=this.mylist[R],$=this.registry[U],this.reflist.push($),this.oldseq[U]=this.registry[U].seq,this.registry[U].seq=R+1;else for(this.reflist_inserts=[],N=this.mylist.length,R=0;R<N;R+=1)U=this.mylist[R],($=this.registry[U]).newItem&&this.reflist_inserts.push($),this.oldseq[U]=this.registry[U].seq,this.registry[U].seq=R+1},et.Registry.prototype.dorefreshes=function(){var I;for(var N in this.refreshes)if(I=this.registry[N]){I.sortkeys=void 0,B=this.state.refetchItem(N);var R=I.ambig;for(var U in void 0===R&&(this.state.tmp.disambig_settings=!1,R=et.getAmbiguousCite.call(this.state,B),H=et.getAmbigConfig.call(this.state),this.registerAmbigToken(R,N,H)),this.ambigresets)if(1===this.ambigresets[U]){var $=this.ambigcites[R][0],B=this.state.refetchItem($);this.registry[$].disambig=new et.AmbigConfig,this.state.tmp.disambig_settings=!1;R=et.getAmbiguousCite.call(this.state,B);var H=et.getAmbigConfig.call(this.state);this.registerAmbigToken(R,$,H)}this.state.tmp.taintedItemIDs[N]=!0,this.ambigsTouched[R]=!0,B.legislation_id||(this.akeys[R]=!0),this.touched[N]=!0}},et.Registry.prototype.setdisambigs=function(){for(var I in this.ambigsTouched)this.state.disambiguate.run(I);this.ambigsTouched={},this.akeys={}},et.Registry.prototype.renumber=function(){var I,N,R;for(this.state.bibliography_sort.opt.citation_number_sort_direction===et.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),I=this.reflist.length,N=0;N<I;N+=1)(R=this.reflist[N]).seq=N+1,this.state.bibliography_sort.opt.citation_number_sort_direction===et.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[R.seq]=this.reflist.length-R.seq+1),this.state.opt.update_mode===et.NUMERIC&&R.seq!=this.oldseq[R.id]&&(this.state.tmp.taintedItemIDs[R.id]=!0),R.seq!=this.oldseq[R.id]&&(this.return_data.bibchange=!0)},et.Registry.prototype.setsortkeys=function(){for(var I=0,N=this.mylist.length;I<N;I+=1){var R=this.mylist[I];(this.touched[R]||this.state.tmp.taintedItemIDs[R]||!this.registry[R].sortkeys)&&(this.registry[R].sortkeys=et.getSortKeys.call(this.state,this.state.retrieveItem(R),"bibliography_sort"))}},et.Registry.prototype._insertItem=function(I,N){return N.splice(this._locationOf(I,N)+1,0,I),N},et.Registry.prototype._locationOf=function(I,N,R,U){if(0===N.length)return-1;var $=(R=R||0)+(U=U||N.length)>>1,B=this.sorter.compareKeys(I,N[$]);if(U-R<=1)return-1==B?$-1:$;switch(B){case-1:return this._locationOf(I,N,R,$);case 0:return $;case 1:return this._locationOf(I,N,$,U)}},et.Registry.prototype.sorttokens=function(I){var N,R,U;if(!I){for(this.reflist_inserts=[],N=this.mylist.length,U=0;U<N;U+=1)R=this.mylist[U],(V=this.registry[R]).newItem&&this.reflist_inserts.push(V);for(var $ in this.state.tmp.taintedItemIDs)if(this.registry[$]&&!this.registry[$].newItem)for(var B=this.reflist.length-1;B>-1;B--)this.reflist[B].id===$&&(this.reflist_inserts.push(this.reflist[B]),this.reflist=this.reflist.slice(0,B).concat(this.reflist.slice(B+1)));B=0;for(var H=this.reflist_inserts.length;B<H;B++){var V;delete(V=this.reflist_inserts[B]).newItem,this.reflist=this._insertItem(V,this.reflist)}for(U=0;U<N;U+=1)R=this.mylist[U],V=this.registry[R],this.registry[R].seq=U+1}},et.Registry.Comparifier=function(I,N){var R,U,$,B,H=et.getSortCompare.call(I,I.opt["default-locale-sort"]);R=I[N].opt.sort_directions,this.compareKeys=function(I,N){for(U=I.sortkeys?I.sortkeys.length:0,$=0;$<U;$+=1){var B=0;if(0<(B=I.sortkeys[$]===N.sortkeys[$]?0:void 0===I.sortkeys[$]?R[$][1]:void 0===N.sortkeys[$]?R[$][0]:H(I.sortkeys[$],N.sortkeys[$])))return R[$][1];if(0>B)return R[$][0]}return I.seq>N.seq?1:I.seq<N.seq?-1:0},B=this.compareKeys,this.compareCompositeKeys=function(I,N){return B(I[1],N[1])}},et.Registry.prototype.compareRegistryTokens=function(I,N){return I.seq>N.seq?1:I.seq<N.seq?-1:0},et.Registry.prototype.registerAmbigToken=function(I,N,R){if(this.registry[N]||et.debug("Warning: unregistered item: itemID=("+N+"), akey=("+I+")"),this.registry[N]&&this.registry[N].disambig&&this.registry[N].disambig.names)for(var U=0,$=R.names.length;U<$;U+=1){if(R.names[U]!==this.registry[N].disambig.names[U])this.state.tmp.taintedItemIDs[N]=!0;else if(R.givens[U])for(var B=0,H=R.givens[U].length;B<H;B+=1){R.givens[U][B]!==this.registry[N].disambig.givens[U][B]&&(this.state.tmp.taintedItemIDs[N]=!0)}}this.ambigcites[I]||(this.ambigcites[I]=[]),-1===this.ambigcites[I].indexOf(""+N)&&this.ambigcites[I].push(""+N),this.registry[N].ambig=I,this.registry[N].disambig=et.cloneAmbigConfig(R)},et.getSortKeys=function(I,N){var R,U,$,B,H,V;for(R=this.tmp.area,U=this.tmp.root,$=this.tmp.extension,B=et.Util.Sort.strip_prepositions,this.tmp.area=N,this.tmp.root=N.indexOf("_")>-1?N.slice(0,-5):N,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,et.getCite.call(this,I),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,H=this[N].keys.length,V=0;V<H;V+=1)this[N].keys[V]=B(this[N].keys[V]);return this.tmp.area=R,this.tmp.root=U,this.tmp.extension=$,this[N].keys},et.Registry.NameReg=function(I){var N,R,U,$,B,H,V,W,z,X,Q,J;this.state=I,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},V=function strip_periods(I){return I||(I=""),I.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},W=function set_keys(I,$,B){N=V(B.family);var H=(U=V(B.given)).match(/[,\!]* ([^,]+)$/);H&&H[1]===H[1].toLowerCase()&&(U=U.replace(/[,\!]* [^,]+$/,"")),R=et.Util.Names.initializeWith(I,U,"%s"),"by-cite"===I.citation.opt["givenname-disambiguation-rule"]&&(N=""+$+N)},z=function evalname(U,H,V,z,X,Q){var J;if("bibliography"===I.tmp.area.slice(0,12)&&!X)return"string"==typeof Q?1:2;H=I.nameOutput.getName(H,"locale-translit",!0).name,W(this.state,""+U,H),J=2,$=I.opt["disambiguate-add-givenname"];var Z=B=I.citation.opt["givenname-disambiguation-rule"];return"by-cite"===B&&(B="all-names"),"short"===X?J=0:"string"==typeof Q&&(J=1),void 0===this.namereg[N]||void 0===this.namereg[N].ikey[R]?J:"by-cite"===Z&&J<=z?z:$?"string"==typeof B&&"primary-name"===B.slice(0,12)&&V>0?J:(B&&"all-names"!==B&&"primary-name"!==B?"all-names-with-initials"!==B&&"primary-name-with-initials"!==B||(J=this.namereg[N].count>1?1:0):(this.namereg[N].count>1&&(J=1),(this.namereg[N].ikey&&this.namereg[N].ikey[R].count>1||this.namereg[N].count>1&&"string"!=typeof Q)&&(J=2)),I.registry.registry[U]?J:"short"==X?0:"string"==typeof Q?1:void 0):J},X=function delitems($){var B,V,W,z,X;"string"!=typeof $&&"number"!=typeof $||($=[""+$]);for(V=$.length,B=0;B<V;B+=1)if(z=""+$[B],this.nameind[z]){for(X in this.nameind[z])if(this.nameind[z].hasOwnProperty(X)){var Q=X.split("::");if(N=Q[0],R=Q[1],U=Q[2],void 0===this.namereg[N])continue;if(H=this.namereg[N].items,U&&this.namereg[N].ikey[R]&&this.namereg[N].ikey[R].skey[U]&&((W=(J=this.namereg[N].ikey[R].skey[U].items).indexOf(""+z))>-1&&(this.namereg[N].ikey[R].skey[U].items=J.slice(0,W).concat(J.slice([W+1]))),0===this.namereg[N].ikey[R].skey[U].items.length&&(delete this.namereg[N].ikey[R].skey[U],this.namereg[N].ikey[R].count+=-1,this.namereg[N].ikey[R].count<2)))for(var Z=0,tt=this.namereg[N].ikey[R].items.length;Z<tt;Z+=1)I.tmp.taintedItemIDs[this.namereg[N].ikey[R].items[Z]]=!0;if(R&&this.namereg[N].ikey[R]&&((W=this.namereg[N].ikey[R].items.indexOf(""+z))>-1&&(H=this.namereg[N].ikey[R].items.slice(),this.namereg[N].ikey[R].items=H.slice(0,W).concat(H.slice([W+1]))),0===this.namereg[N].ikey[R].items.length&&(delete this.namereg[N].ikey[R],this.namereg[N].count+=-1,this.namereg[N].count<2)))for(Z=0,tt=this.namereg[N].items.length;Z<tt;Z+=1)I.tmp.taintedItemIDs[this.namereg[N].items[Z]]=!0;N&&((W=this.namereg[N].items.indexOf(""+z))>-1&&(H=this.namereg[N].items.slice(),this.namereg[N].items=H.slice(0,W).concat(H.slice([W+1],H.length))),this.namereg[N].items.length<2&&delete this.namereg[N]),delete this.nameind[z][X]}delete this.nameind[z],delete this.nameindpkeys[z]}return{}},Q=function addname($,B,H){if(B=I.nameOutput.getName(B,"locale-translit",!0).name,!I.citation.opt["givenname-disambiguation-rule"]||"primary-"!==I.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===H){if("never"===I.opt["demote-non-dropping-particle"]&&B["non-dropping-particle"]&&B.family&&(B.family=B["non-dropping-particle"]+" "+B.family),W(this.state,""+$,B),N&&(void 0===this.namereg[N]?(this.namereg[N]={},this.namereg[N].count=0,this.namereg[N].ikey={},this.namereg[N].items=[$]):-1===this.namereg[N].items.indexOf($)&&this.namereg[N].items.push($)),N&&R)if(void 0===this.namereg[N].ikey[R]){if(this.namereg[N].ikey[R]={},this.namereg[N].ikey[R].count=0,this.namereg[N].ikey[R].skey={},this.namereg[N].ikey[R].items=[$],this.namereg[N].count+=1,2===this.namereg[N].count)for(var V=0,z=this.namereg[N].items.length;V<z;V+=1)I.tmp.taintedItemIDs[this.namereg[N].items[V]]=!0}else-1===this.namereg[N].ikey[R].items.indexOf($)&&this.namereg[N].ikey[R].items.push($);if(N&&R&&U)if(void 0===this.namereg[N].ikey[R].skey[U]){if(this.namereg[N].ikey[R].skey[U]={},this.namereg[N].ikey[R].skey[U].items=[$],this.namereg[N].ikey[R].count+=1,2===this.namereg[N].ikey[R].count)for(V=0,z=this.namereg[N].ikey[R].items.length;V<z;V+=1)I.tmp.taintedItemIDs[this.namereg[N].ikey[R].items[V]]=!0}else-1===this.namereg[N].ikey[R].skey[U].items.indexOf($)&&this.namereg[N].ikey[R].skey[U].items.push($);void 0===this.nameind[$]&&(this.nameind[$]={},this.nameindpkeys[$]={}),N&&(this.nameind[$][N+"::"+R+"::"+U]=!0,this.nameindpkeys[$][N]=this.namereg[N])}},this.addname=Q,this.delitems=X,this.evalname=z},et.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},et.Disambiguation=function(I){this.state=I,this.sys=this.state.sys,this.registry=I.registry.registry,this.ambigcites=I.registry.ambigcites,this.configModes(),this.debug=!1},et.Disambiguation.prototype.run=function(I){this.modes.length&&(this.debug&&print("[A] === RUN ==="),this.akey=I,this.initVars(I)&&this.runDisambig())},et.Disambiguation.prototype.runDisambig=function(){var I;for(this.debug&&print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),I=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(I);this.lists=this.lists.slice(1)}},et.Disambiguation.prototype.scanItems=function(I){var N;this.debug&&print("[2] === scanItems() ==="),this.Item=I[1][0],this.ItemCite=et.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=I[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var R=0,U=1,$=I[1].length;U<$;U+=1){N=I[1][U];var B=et.getAmbiguousCite.call(this.state,N,this.base,!0);this.debug&&U>1&&print("  -----------"),this.ItemCite===B?(this.debug&&(print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+N.id+": "+B)),R+=1,this.partners.push(N)):(this.debug&&(print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+N.id+": "+B)),this.nonpartners.push(N))}this.clashes[0]=this.clashes[1],this.clashes[1]=R},et.Disambiguation.prototype.evalScan=function(I){this[this.modes[this.modeindex]](I),I&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},et.Disambiguation.prototype.disNames=function(I){if(this.debug&&print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [a]: lone partner, one nonpartner"),print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&print("  ** RESOLUTION [e]: no improvement, and clashes remain"),I&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&print("     (registering clashing entries because we've run out of options)");for(var N=0,R=this.partners.length;N<R;N+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[N].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},et.Disambiguation.prototype.disExtraText=function(){this.debug&&print("[3] === disExtraText ==");var I=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(I=!0),I||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(I||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(I||this.modeindex===this.modes.length-1){var N=this.lists[this.listpos][0];for(R=0,U=this.lists[this.listpos][1].length;R<U;R+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][R].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][R].id,N);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(N=this.lists[this.listpos][0]).disambiguate=!0;for(R=0,U=this.lists[this.listpos][1].length;R<U;R+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][R].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][R].id,N)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var R=0,U=this.lists[this.listpos][1].length;R<U;R+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][R].id]=!0}},et.Disambiguation.prototype.disYears=function(){var I;this.debug&&print("[3] === disYears =="),I=[];var N=this.lists[this.listpos][0];if(this.clashes[1])for(var R=0,U=this.state.registry.mylist.length;R<U;R+=1)for(var $=this.state.registry.mylist[R],B=0,H=this.lists[this.listpos][1].length;B<H;B+=1){var V;if((V=this.lists[this.listpos][1][B]).id==$){I.push(this.registry[V.id]);break}}I.sort(this.state.registry.sorter.compareKeys);for(var W=0,z=I.length;W<z;W+=1){N.year_suffix=""+W;var X=this.state.registry.registry[I[W].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+I[W].id,N),et.ambigConfigDiff(X,N)&&(this.state.tmp.taintedItemIDs[I[W].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},et.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var I=!1,N=!0;if("disNames"===this.modes[this.modeindex]){N=!1,"number"!=typeof this.givensMax&&(N=!0);var R=!1;"number"!=typeof this.namesMax&&(R=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:N=!0),"number"==typeof this.namesMax&&N&&(this.state.opt["disambiguate-add-names"]?(R=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):R=!0):R=!0),"number"==typeof this.namesetsMax&&R&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(print("    ------------------"),print("    incremented values"),print("    ------------------"),print("    | gnameset: "+this.gnameset),print("    | gname: "+this.gname),print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):print("    | givens value: nil"),print("    | namesetsMax: "+this.namesetsMax),print("    | namesMax: "+this.namesMax),print("    | givensMax: "+this.givensMax)),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(I=!0,this.debug&&print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return I},et.Disambiguation.prototype.initVars=function(I){var N,R,U;if(this.debug&&print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=I,this.maxNamesByItemId={},R=[],!(N=this.ambigcites[I])||!N.length)return!1;var $=this.state.refetchItem(""+N[0]);if(this.getCiteData($),this.base=et.getAmbigConfig.call(this.state),N&&N.length>1){R.push([this.maxNamesByItemId[$.id],$]);for(var B=1,H=N.length;B<H;B+=1)$=this.state.refetchItem(""+N[B]),this.getCiteData($,this.base),R.push([this.maxNamesByItemId[$.id],$]);R.sort((function(I,N){return I[0]>N[0]?1:I[0]<N[0]?-1:I[1].id>N[1].id?1:I[1].id<N[1].id?-1:0})),U=[];for(var B=0,H=R.length;B<H;B+=1)U.push(R[B][1]);this.lists.push([this.base,U]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+N[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},et.Disambiguation.prototype.padBase=function(I){for(var N=0,R=I.names.length;N<R;N+=1){I.givens[N]||(I.givens[N]=[]);for(var U=0,$=I.names[N];U<$;U+=1)I.givens[N][U]||(I.givens[N][U]=0)}},et.Disambiguation.prototype.configModes=function(){var I,N;this.modes=[],I=this.state.opt["disambiguate-add-givenname"],N=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||I&&"by-cite"===N)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},et.Disambiguation.prototype.getCiteData=function(I,N){if(!this.maxNamesByItemId[I.id]){et.getAmbiguousCite.call(this.state,I,N),N=et.getAmbigConfig.call(this.state),this.maxNamesByItemId[I.id]=et.getMaxVals.call(this.state),this.state.registry.registry[I.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var R=0,U=this.state.registry.registry[I.id].disambig.givens.length;R<U;R+=1)this.state.registry.registry[I.id].disambig.givens[R]=this.state.tmp.disambig_settings.givens[R].slice();this.namesetsMax=this.state.registry.registry[I.id].disambig.names.length-1,this.base||(this.base=N,this.betterbase=et.cloneAmbigConfig(N)),N.names.length<this.base.names.length&&(this.base=N);for(R=0,U=N.names.length;R<U;R+=1)N.names[R]>this.base.names[R]&&(this.base.givens[R]=N.givens[R].slice(),this.base.names[R]=N.names[R],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var $=0,B=this.base.givens.length;$<B;$+=1)this.betterbase.givens[$]=this.base.givens[$].slice()}},et.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},et.Engine.prototype.getJurisdictionList=function(I){for(var N=[],R=I.split(":"),U=R.length;U>0;U--){var $=R.slice(0,U).join(":");if(N.push($),this.opt.jurisdiction_fallbacks[$]){var B=this.opt.jurisdiction_fallbacks[$];N.push(B)}}return-1===N.indexOf("us")&&N.push("us"),N},et.Engine.prototype.loadStyleModule=function(I,N,R){var U=null;this.juris[I]={};var $=et.setupXml(N);$.addMissingNameNodes($.dataObj),$.addInstitutionNodes($.dataObj),$.insertPublisherAndPlace($.dataObj),$.flagDateMacros($.dataObj);for(var B=0,H=(Q=$.getNodesByName($.dataObj,"law-module")).length;B<H;B++){var V=$.getAttributeValue(Q[B],"types");if(V){this.juris[I].types={};for(var W=0,z=(V=V.split(/\s+/)).length;W<z;W++)this.juris[I].types[V[W]]=!0}R||(U=$.getAttributeValue(Q[B],"fallback"))&&"us"!==I&&(this.opt.jurisdiction_fallbacks[I]=U)}var X=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];et.SET_COURT_CLASSES(this,X,$,$.dataObj),this.juris[I].types||(this.juris[I].types=et.MODULE_TYPES);var Q;for(B=0,H=(Q=$.getNodesByName($.dataObj,"macro")).length;B<H;B++){var J=$.getAttributeValue(Q[B],"name");et.MODULE_MACROS[J]?(this.juris[I][J]=[],this.buildTokenLists(Q[B],this.juris[I][J]),this.configureTokenList(this.juris[I][J])):et.debug('CSL: skipping non-modular macro name "'+J+'" in module context')}return U},et.Engine.prototype.retrieveAllStyleModules=function(I){for(var N={},R=this.locale[this.opt.lang].opts["jurisdiction-preference"],U=(R=[""].concat(R=R||[])).length-1;U>-1;U--)for(var $=R[U],B=0,H=I.length;B<H;B++){var V=I[B];if(!this.opt.jurisdictions_seen[V]){var W=this.sys.retrieveStyleModule(V,$);(!W&&!$||W)&&(this.opt.jurisdictions_seen[V]=!0),W&&(N[V]=W)}}return N},et.ParticleList=[["'s",V=[[null,[0,1]]]],["'s-",V],["'t",V],["a",V],["aan 't",W=[[null,[0,2]]]],["aan de",W],["aan den",W],["aan der",W],["aan het",W],["aan t",W],["aan",V],["ad-",X=[[null,[0,1]],[[0,1],null]]],["adh-",X],["af",X],["al",X],["al-",X],["am de",W],["am",V],["an-",X],["ar-",X],["as-",X],["ash-",X],["at-",X],["ath-",X],["auf dem",Z=[[[0,2],null],[null,[0,2]]]],["auf den",Z],["auf der",Z],["auf ter",W],["auf",J=[[[0,1],null],[null,[0,1]]]],["aus 'm",Z],["aus dem",Z],["aus den",Z],["aus der",Z],["aus m",Z],["aus",J],["aus'm",Z],["az-",X],["aš-",X],["aḍ-",X],["aḏ-",X],["aṣ-",X],["aṭ-",X],["aṯ-",X],["aẓ-",X],["ben",V],["bij 't",W],["bij de",W],["bij den",W],["bij het",W],["bij t",W],["bij",V],["bin",V],["boven d",W],["boven d'",W],["d",V],["d'",X],["da",X],["dal",V],["dal'",V],["dall'",V],["dalla",V],["das",X],["de die le",z=[[null,[0,3]]]],["de die",W],["de l",W],["de l'",W],["de la",tt=[[null,[0,2]],[[0,1],[1,2]]]],["de las",tt],["de le",W],["de li",Q=[[null,[0,2]],[[0,2],null]]],["de van der",z],["de",X],["de'",X],["deca",V],["degli",X],["dei",X],["del",X],["dela",H=[[[0,1],null]]],["dell'",X],["della",X],["delle",X],["dello",X],["den",X],["der",X],["des",X],["di",X],["die le",W],["do",V],["don",V],["dos",X],["du",X],["ed-",X],["edh-",X],["el",X],["el-",X],["en-",X],["er-",X],["es-",X],["esh-",X],["et-",X],["eth-",X],["ez-",X],["eš-",X],["eḍ-",X],["eḏ-",X],["eṣ-",X],["eṭ-",X],["eṯ-",X],["eẓ-",X],["het",V],["i",V],["il",H],["im",V],["in 't",W],["in de",W],["in den",W],["in der",Q],["in het",W],["in t",W],["in",V],["l",V],["l'",V],["la",V],["las",V],["le",V],["les",X],["lo",X],["los",V],["lou",V],["of",V],["onder 't",W],["onder de",W],["onder den",W],["onder het",W],["onder t",W],["onder",V],["op 't",W],["op de",Q],["op den",W],["op der",W],["op gen",W],["op het",W],["op t",W],["op ten",W],["op",V],["over 't",W],["over de",W],["over den",W],["over het",W],["over t",W],["over",V],["s",V],["s'",V],["sen",H],["t",V],["te",V],["ten",V],["ter",V],["tho",V],["thoe",V],["thor",V],["to",V],["toe",V],["tot",V],["uijt 't",W],["uijt de",W],["uijt den",W],["uijt te de",z],["uijt ten",W],["uijt",V],["uit 't",W],["uit de",W],["uit den",W],["uit het",W],["uit t",W],["uit te de",z],["uit ten",W],["uit",V],["unter",V],["v",V],["v.",V],["v.d.",V],["van 't",W],["van de l",z],["van de l'",z],["van de",W],["van de",W],["van den",W],["van der",W],["van gen",W],["van het",W],["van la",W],["van t",W],["van ter",W],["van van de",z],["van",X],["vander",V],["vd",V],["ver",V],["vom und zum",[[[0,3],null]]],["vom",X],["von 't",W],["von dem",Z],["von den",Z],["von der",Z],["von t",W],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",Z],["von",J],["voor 't",W],["voor de",W],["voor den",W],["voor in 't",z],["voor in t",z],["voor",V],["vor der",Z],["vor",J],["z",H],["ze",H],["zu",J],["zum",X],["zur",X]],et.parseParticles=function(){function splitParticles(I,N,R){var U=I;I=R?I.toLowerCase():I;var $,B,H=[];N?(I=I.split("").reverse().join(""),$=et.PARTICLE_GIVEN_REGEXP):$=et.PARTICLE_FAMILY_REGEXP;for(var V=I.match($);V;){var W,z=N?V[1].split("").reverse().join(""):V[1];if(!(B=!!(W=!!(W=!!V&&z)&&z.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&W.toUpperCase()!==W))break;N?(H.push(U.slice(-1*z.length)),U=U.slice(0,-1*z.length)):(H.push(U.slice(0,z.length)),U=U.slice(z.length)),V=(I=V[2]).match($)}if(N){I=I.split("").reverse().join(""),H.reverse();for(var X=1,Q=H.length;X<Q;X++)" "==H[X].slice(0,1)&&(H[X-1]+=" ");for(X=0,Q=H.length;X<Q;X++)" "==H[X].slice(0,1)&&(H[X]=H[X].slice(1));I=U.slice(0,I.length)}else I=U.slice(-1*I.length);return[B,I,H]}return function(I){var N=($=splitParticles(I.family))[1],R=$[2];I.family=N;var U=function trimLast(I){var N=I.slice(-1);return I=I.trim()," "===N&&["'","’"].indexOf(I.slice(-1))>-1&&(I+=" "),I}(R.join(""));U&&(I["non-dropping-particle"]=U),function parseSuffix(I){if(!I.suffix&&I.given){var N=I.given.match(/(\s*,!*\s*)/);if(N){var R=I.given.indexOf(N[1]),U=I.given.slice(R+N[1].length),$=I.given.slice(R,R+N[1].length).replace(/\s*/g,"");"et al"!==U.replace(/\./g,"")||I["dropping-particle"]?(2===$.length&&(I["comma-suffix"]=!0),I.suffix=U):(I["dropping-particle"]=U,I["comma-dropping-particle"]=","),I.given=I.given.slice(0,R)}}}(I);var $,B=($=splitParticles(I.given,!0))[1],H=$[2];I.given=B;var V=H.join("").trim();V&&(I["dropping-particle"]=V)}}(),UX.CSL=et},function(I,N,R){var U=R(32);I.exports=function _unsupportedIterableToArray(I,N){if(I){if("string"==typeof I)return U(I,N);var R=Object.prototype.toString.call(I).slice(8,-1);return"Object"===R&&I.constructor&&(R=I.constructor.name),"Map"===R||"Set"===R?Array.from(I):"Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?U(I,N):void 0}},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R.d(N,"a",(function(){return U})),function(I){I.test=I.test||{},I.test.inputDate=function(){var I=!1;return function checkInput(I){var N=document.createElement("input");return N.setAttribute("type",I),N.type===I}("date")&&function checkDateInput(){var I=document.createElement("input");return I.setAttribute("type","date"),I.setAttribute("value","not-a-date"),"not-a-date"!==I.value}()&&(I=!0),I},I.test.isIE=function isIE(){var I=window.navigator.userAgent,N=I.indexOf("MSIE ");if(N>0)return parseInt(I.substring(N+5,I.indexOf(".",N)),10);if(I.indexOf("Trident/")>0){var R=I.indexOf("rv:");return parseInt(I.substring(R+3,I.indexOf(".",R)),10)}var U=I.indexOf("Edge/");return U>0&&parseInt(I.substring(U+5,I.indexOf(".",U)),10)}}(UX);var U=UX.test.isIE()},function(I,N,R){var U=R(1).default,$=R(53);I.exports=function toPropertyKey(I){var N=$(I,"string");return"symbol"==U(N)?N:String(N)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("body").addClass("iOS")},function(I,N,R){"use strict";R.d(N,"a",(function(){return V}));var U=R(3),$=R.n(U),B=R(4),H=R.n(B),V=function(){function Alphanumeric(){$()(this,Alphanumeric),this.selectors={titleLetter:".alphanumeric__content .alphanumeric__title",allTitle:".alphanumeric__block .alphanumeric__title"},this.elements={titleLetters:null,allTitle:null},this.setElements(),this.init()}return H()(Alphanumeric,[{key:"setElements",value:function setElements(){this.elements.titleLetters=document.querySelectorAll(this.selectors.titleLetter),this.elements.allTitle=document.querySelector(this.selectors.allTitle)}},{key:"init",value:function init(){var I=this;this.elements.titleLetters.forEach((function(N){N.addEventListener("keydown",I.addListener.bind(I)),N.addEventListener("click",I.addListener.bind(I))}))}},{key:"addListener",value:function addListener(I){13===I.keyCode||32===I.keyCode?(I.preventDefault(),I.target.classList.contains("is--selected")?this.elements.allTitle.click():I.target.click()):"click"===I.type&&(I.preventDefault(),I.target.classList.contains("is--selected")&&this.elements.allTitle.click())}}]),Alphanumeric}()},function(I,N){I.exports=function _arrayLikeToArray(I,N){(null==N||N>I.length)&&(N=I.length);for(var R=0,U=new Array(N);R<N;R++)U[R]=I[R];return U},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},function(I,N){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(I){var N=this;do{if(N.matches(I))return N;N=N.parentElement||N.parentNode}while(null!==N&&1===N.nodeType);return null}))},function(I,N){!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(I,N){N=N||{bubbles:!1,cancelable:!1,detail:void 0};var R=document.createEvent("CustomEvent");return R.initCustomEvent(I,N.bubbles,N.cancelable,N.detail),R}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}()},function(I,N){I.exports=function(I){return I.webpackPolyfill||(I.deprecate=function(){},I.paths=[],I.children||(I.children=[]),Object.defineProperty(I,"loaded",{enumerable:!0,get:function get(){return I.l}}),Object.defineProperty(I,"id",{enumerable:!0,get:function get(){return I.i}}),I.webpackPolyfill=1),I}},function(I,N,R){"use strict";R.d(N,"a",(function(){return B}));var U=R(28);R(33),R(34);!function(I){I.utils=I.utils||{},I.utils.generateId=function(){return"_"+Math.random().toString(36).substr(2,9)},I.utils.capitalizeFirstLetter=function(I){return"string"==typeof I?I.charAt(0).toUpperCase()+I.slice(1):""},I.utils.fixedHeaderHeight=function(I){I||(I=".header");var N=document.querySelector(I);if(!N)return 0;if(N.querySelector(".scrollThenFix"))return N.querySelector(".scrollThenFix").getBoundingClientRect().height;if(N.classList.contains("auto-hide-bar")||N.querySelectorAll(".auto-hide-bar").length){var R=N.querySelectorAll(".fixed-element"),$=0;return R.forEach((function(I){$+=I.getBoundingClientRect().height})),$}var B,H=N.parentElement;if(U.a)B=N.classList.contains("fixed")||H.classList.contains("fixed");else{var V={header:window.getComputedStyle(N).position,parents:window.getComputedStyle(H).position};B=-1!==["fixed","sticky"].indexOf(V.header)||-1!==["fixed","sticky"].indexOf(V.parents)}return B?N.getBoundingClientRect().height:0},I.utils.flattenAndFlip=function(I){var N={},R=function _loop(R){if(!Object.prototype.hasOwnProperty.call(I,R))return 1;I[R].forEach((function(I){return N[I]=R}))};for(var U in I)R(U);return N},I.utils.getUrlParameter=function(I){var N,R,U=window.location.search.substring(1).split("&");for(R=0;R<U.length;R++)if((N=U[R].split("="))[0]===I)return void 0===N[1]||decodeURIComponent(N[1])},I.utils.removeUrlParam=function(I,N){if(void 0!==N){var R=N.split("?")[0],U=[],$=-1!==N.indexOf("?")?N.split("?")[1]:"";if(""!==$){for(var B=(U=$.split("&")).length-1;B>=0;B-=1)U[B].split("=")[0]===I&&U.splice(B,1);R=R+"?"+U.join("&")}return R}},I.utils.escapeHtml=function(I){var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(I).replace(/[&<>"'`=\/]/g,(function(I){return N[I]}))},I.utils.isRTL=function(){return"rtl"===document.querySelector("html").getAttribute("dir")},I.utils.convertToArray=function(I){return Array.prototype.slice.call(I)},I.utils.focusCycle=function(N){if(N){var R=I.utils.convertToArray(N.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')),U=function _focusCycle(I){var N=I.target.dataset.focusOrder;if(I.relatedTarget&&!I.relatedTarget.closest(".js--focusCycle"))switch(N){case"0":R[R.length-1].focus();break;case"".concat(R.length-1):R[0].focus()}};N.classList.add("js--focusCycle"),R.length&&R.forEach((function(I,N){I.dataset.focusOrder="".concat(N),I.addEventListener("focusout",U)}))}}}(UX);UX.utils;var $=UX.utils,B=($.generateId,$.capitalizeFirstLetter,$.fixedHeaderHeight);$.flattenAndFlip,$.convertToArray,$.focusCycle},function(I,N,R){var U=R(2);I.exports=function _superPropBase(I,N){for(;!Object.prototype.hasOwnProperty.call(I,N)&&null!==(I=U(I)););return I},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";var U=R(10),B=R.n(U);R(55);function ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function _objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?ownKeys(Object(R),!0).forEach((function(N){B()(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}!function(I,N){var R=N.issueItem,U=R.truncateOptions;R.elements=R.elements||{},R.selectors=R.selectors||{},R.selectors=_objectSpread(_objectSpread({},R.selectors),{},{AUTHORS:".issue-item__authors .loa",DATA_ID_MORE_AUTHORS:"[data-data-id-more-authors]",MORE_AUTHORS:".read-more",viewMoreBtn:".bs-accordion__content .show-more",collapsedItemsList:".publication-list .collapse",unselectedTabPanes:".tab__content .tab__pane",teaserContribes:".teaser__contribs"}),R.elements=_objectSpread(_objectSpread({},R.elements),{},{viewMoreBtn:document.querySelector(R.selectors.viewMoreBtn),collapsedItemsList:document.querySelector(R.selectors.collapsedItemsList),unselectedTabPanes:document.querySelectorAll(R.selectors.unselectedTabPanes)}),R.seeMoreText="View all",R.seeLessText="Hide all",R.controls=function(){I(window).on("resized orientationchange",R.onChangedHandler),I(document).on("accordion:expandedSingle",R.onChangedHandler),I(document).on("accordion:expandedAll",R.onChangedHandler),I(".accordion-tabbed__control, .expand-all").on("click",R.onChangedHandler),this.setObservers()},R.onChangedHandler=function(){setTimeout((function(){R.truncate()}),250)},R.afterTruncated=function(I){var N=I[0];if(N){var U,$=null===(U=N.closest(R.selectors.DATA_ID_MORE_AUTHORS))||void 0===U?void 0:U.dataset.dataIdMoreAuthors,B=N.querySelector(R.selectors.MORE_AUTHORS);B&&(B.dataset.id=$)}};var $={lines:1,lessLinkEllipsis:!1,vPort:"screen-sm",seeLessIcon:"icon-arrow_up",seeMoreIcon:"icon-arrow_down",seeMoreIconMobile:"icon-arrow_down",seeMoreHtml:'<span class="ellipsis">[...]</span> <span class="read-more__label">'.concat(R.seeMoreText,' <i class="icon-arrow_down" aria-hidden="true"></i></span>'),onComplete:R.afterTruncated};R.setObservers=function(){var I=this;this.observeForChange(this.elements.collapsedItemsList,this.truncate),this.elements.unselectedTabPanes.forEach((function(N){return I.observeForChange(N,I.truncate)}))},R.observeForChange=function(I,N){var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{attributes:!0},U=null==I?void 0:I.querySelector(this.selectors.teaserContribes),$=I&&"none"===window.getComputedStyle(I).display;if(N&&U){var B=new MutationObserver((function(){$&&N()}));B.observe(I,R)}},R.truncateOptions=_objectSpread(_objectSpread({},U),$),R.setCaptions=new Function,N.issueItem=R}($,UX)},function(I,N){I.exports=function _iterableToArray(I){if("undefined"!=typeof Symbol&&null!=I[Symbol.iterator]||null!=I["@@iterator"])return Array.from(I)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){I.exports=function _arrayWithHoles(I){if(Array.isArray(I))return I},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){I.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){"use strict";R(79)},function(I,N,R){R(45),R(46),I.exports=R(108)},function(I,N){},function(I,N){},function(I,N,R){(function(I,N){var U,$=R(1);/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(R){!function(U){var B="object"===(void 0===N?"undefined":$(N))?N:"object"===("undefined"==typeof self?"undefined":$(self))?self:"object"===$(this)?this:Function("return this;")(),H=makeExporter(R);function makeExporter(I,N){return function(R,U){"function"!=typeof I[R]&&Object.defineProperty(I,R,{configurable:!0,writable:!0,value:U}),N&&N(R,U)}}void 0===B.Reflect?B.Reflect=R:H=makeExporter(B.Reflect,H),function(N){var R=Object.prototype.hasOwnProperty,U="function"==typeof Symbol,B=U&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",H=U&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",V="function"==typeof Object.create,W={__proto__:[]}instanceof Array,z=!V&&!W,X={create:V?function(){return MakeDictionary(Object.create(null))}:W?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},has:z?function(I,N){return R.call(I,N)}:function(I,N){return N in I},get:z?function(I,N){return R.call(I,N)?I[N]:void 0}:function(I,N){return I[N]}},Q=Object.getPrototypeOf(Function),J="object"===(void 0===I?"undefined":$(I))&&I.env&&"true"===I.env.REFLECT_METADATA_USE_MAP_POLYFILL,Z=J||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function CreateMapPolyfill(){var I={},N=[],R=function(){function MapIterator(I,N,R){this._index=0,this._keys=I,this._values=N,this._selector=R}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[H]=function(){return this},MapIterator.prototype.next=function(){var I=this._index;if(I>=0&&I<this._keys.length){var R=this._selector(this._keys[I],this._values[I]);return I+1>=this._keys.length?(this._index=-1,this._keys=N,this._values=N):this._index++,{value:R,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(I){throw this._index>=0&&(this._index=-1,this._keys=N,this._values=N),I},MapIterator.prototype.return=function(I){return this._index>=0&&(this._index=-1,this._keys=N,this._values=N),{value:I,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=I,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function get(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(I){return this._find(I,!1)>=0},Map.prototype.get=function(I){var N=this._find(I,!1);return N>=0?this._values[N]:void 0},Map.prototype.set=function(I,N){var R=this._find(I,!0);return this._values[R]=N,this},Map.prototype.delete=function(N){var R=this._find(N,!1);if(R>=0){for(var U=this._keys.length,$=R+1;$<U;$++)this._keys[$-1]=this._keys[$],this._values[$-1]=this._values[$];return this._keys.length--,this._values.length--,N===this._cacheKey&&(this._cacheKey=I,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=I,this._cacheIndex=-2},Map.prototype.keys=function(){return new R(this._keys,this._values,getKey)},Map.prototype.values=function(){return new R(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new R(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[H]=function(){return this.entries()},Map.prototype._find=function(I,N){return this._cacheKey!==I&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=I)),this._cacheIndex<0&&N&&(this._cacheIndex=this._keys.length,this._keys.push(I),this._values.push(void 0)),this._cacheIndex},Map}();function getKey(I,N){return I}function getValue(I,N){return N}function getEntry(I,N){return[I,N]}}():Map,tt=J||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function CreateSetPolyfill(){return function(){function Set(){this._map=new Z}return Object.defineProperty(Set.prototype,"size",{get:function get(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(I){return this._map.has(I)},Set.prototype.add=function(I){return this._map.set(I,I),this},Set.prototype.delete=function(I){return this._map.delete(I)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[H]=function(){return this.keys()},Set}()}():Set,et=new(J||"function"!=typeof WeakMap?function CreateWeakMapPolyfill(){var I=X.create(),N=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(I){var N=GetOrCreateWeakMapTable(I,!1);return void 0!==N&&X.has(N,this._key)},WeakMap.prototype.get=function(I){var N=GetOrCreateWeakMapTable(I,!1);return void 0!==N?X.get(N,this._key):void 0},WeakMap.prototype.set=function(I,N){return GetOrCreateWeakMapTable(I,!0)[this._key]=N,this},WeakMap.prototype.delete=function(I){var N=GetOrCreateWeakMapTable(I,!1);return void 0!==N&&delete N[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}();function CreateUniqueKey(){var N;do{N="@@WeakMap@@"+CreateUUID()}while(X.has(I,N));return I[N]=!0,N}function GetOrCreateWeakMapTable(I,U){if(!R.call(I,N)){if(!U)return;Object.defineProperty(I,N,{value:X.create()})}return I[N]}function FillRandomBytes(I,N){for(var R=0;R<N;++R)I[R]=255*Math.random()|0;return I}function CreateUUID(){var I=function GenRandomBytes(I){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(I)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(I)):FillRandomBytes(new Uint8Array(I),I):FillRandomBytes(new Array(I),I)}(16);I[6]=79&I[6]|64,I[8]=191&I[8]|128;for(var N="",R=0;R<16;++R){var U=I[R];4!==R&&6!==R&&8!==R||(N+="-"),U<16&&(N+="0"),N+=U.toString(16).toLowerCase()}return N}}():WeakMap);function GetOrCreateMetadataMap(I,N,R){var U=et.get(I);if(IsUndefined(U)){if(!R)return;U=new Z,et.set(I,U)}var $=U.get(N);if(IsUndefined($)){if(!R)return;$=new Z,U.set(N,$)}return $}function OrdinaryHasOwnMetadata(I,N,R){var U=GetOrCreateMetadataMap(N,R,!1);return!IsUndefined(U)&&function ToBoolean(I){return!!I}(U.has(I))}function OrdinaryGetOwnMetadata(I,N,R){var U=GetOrCreateMetadataMap(N,R,!1);if(!IsUndefined(U))return U.get(I)}function OrdinaryDefineOwnMetadata(I,N,R,U){GetOrCreateMetadataMap(R,U,!0).set(I,N)}function OrdinaryOwnMetadataKeys(I,N){var R=[],U=GetOrCreateMetadataMap(I,N,!1);if(IsUndefined(U))return R;for(var $=function GetIterator(I){var N=GetMethod(I,H);if(!IsCallable(N))throw new TypeError;var R=N.call(I);if(!IsObject(R))throw new TypeError;return R}(U.keys()),B=0;;){var V=IteratorStep($);if(!V)return R.length=B,R;var W=V.value;try{R[B]=W}catch(I){try{IteratorClose($)}finally{throw I}}B++}}function Type(I){if(null===I)return 1;switch($(I)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===I?1:6;default:return 6}}function IsUndefined(I){return void 0===I}function IsNull(I){return null===I}function IsObject(I){return"object"===$(I)?null!==I:"function"==typeof I}function ToPrimitive(I,N){switch(Type(I)){case 0:case 1:case 2:case 3:case 4:case 5:return I}var R=3===N?"string":5===N?"number":"default",U=GetMethod(I,B);if(void 0!==U){var $=U.call(I,R);if(IsObject($))throw new TypeError;return $}return function OrdinaryToPrimitive(I,N){if("string"===N){var R=I.toString;if(IsCallable(R))if(!IsObject($=R.call(I)))return $;if(IsCallable(U=I.valueOf))if(!IsObject($=U.call(I)))return $}else{var U;if(IsCallable(U=I.valueOf))if(!IsObject($=U.call(I)))return $;var $,B=I.toString;if(IsCallable(B))if(!IsObject($=B.call(I)))return $}throw new TypeError}(I,"default"===R?"number":R)}function ToPropertyKey(I){var N=ToPrimitive(I,3);return function IsSymbol(I){return"symbol"===$(I)}(N)?N:function ToString(I){return""+I}(N)}function IsArray(I){return Array.isArray?Array.isArray(I):I instanceof Object?I instanceof Array:"[object Array]"===Object.prototype.toString.call(I)}function IsCallable(I){return"function"==typeof I}function IsConstructor(I){return"function"==typeof I}function GetMethod(I,N){var R=I[N];if(null!=R){if(!IsCallable(R))throw new TypeError;return R}}function IteratorStep(I){var N=I.next();return!N.done&&N}function IteratorClose(I){var N=I.return;N&&N.call(I)}function OrdinaryGetPrototypeOf(I){var N=Object.getPrototypeOf(I);if("function"!=typeof I||I===Q)return N;if(N!==Q)return N;var R=I.prototype,U=R&&Object.getPrototypeOf(R);if(null==U||U===Object.prototype)return N;var $=U.constructor;return"function"!=typeof $||$===I?N:$}function MakeDictionary(I){return I.__=void 0,delete I.__,I}N("decorate",(function decorate(I,N,R,U){if(IsUndefined(R)){if(!IsArray(I))throw new TypeError;if(!IsConstructor(N))throw new TypeError;return function DecorateConstructor(I,N){for(var R=I.length-1;R>=0;--R){var U=(0,I[R])(N);if(!IsUndefined(U)&&!IsNull(U)){if(!IsConstructor(U))throw new TypeError;N=U}}return N}(I,N)}if(!IsArray(I))throw new TypeError;if(!IsObject(N))throw new TypeError;if(!IsObject(U)&&!IsUndefined(U)&&!IsNull(U))throw new TypeError;return IsNull(U)&&(U=void 0),function DecorateProperty(I,N,R,U){for(var $=I.length-1;$>=0;--$){var B=(0,I[$])(N,R,U);if(!IsUndefined(B)&&!IsNull(B)){if(!IsObject(B))throw new TypeError;U=B}}return U}(I,N,R=ToPropertyKey(R),U)})),N("metadata",(function metadata(I,N){return function decorator(R,U){if(!IsObject(R))throw new TypeError;if(!IsUndefined(U)&&!function IsPropertyKey(I){switch(Type(I)){case 3:case 4:return!0;default:return!1}}(U))throw new TypeError;OrdinaryDefineOwnMetadata(I,N,R,U)}})),N("defineMetadata",(function defineMetadata(I,N,R,U){if(!IsObject(R))throw new TypeError;return IsUndefined(U)||(U=ToPropertyKey(U)),OrdinaryDefineOwnMetadata(I,N,R,U)})),N("hasMetadata",(function hasMetadata(I,N,R){if(!IsObject(N))throw new TypeError;return IsUndefined(R)||(R=ToPropertyKey(R)),function OrdinaryHasMetadata(I,N,R){if(OrdinaryHasOwnMetadata(I,N,R))return!0;var U=OrdinaryGetPrototypeOf(N);return!IsNull(U)&&OrdinaryHasMetadata(I,U,R)}(I,N,R)})),N("hasOwnMetadata",(function hasOwnMetadata(I,N,R){if(!IsObject(N))throw new TypeError;return IsUndefined(R)||(R=ToPropertyKey(R)),OrdinaryHasOwnMetadata(I,N,R)})),N("getMetadata",(function getMetadata(I,N,R){if(!IsObject(N))throw new TypeError;return IsUndefined(R)||(R=ToPropertyKey(R)),function OrdinaryGetMetadata(I,N,R){if(OrdinaryHasOwnMetadata(I,N,R))return OrdinaryGetOwnMetadata(I,N,R);var U=OrdinaryGetPrototypeOf(N);return IsNull(U)?void 0:OrdinaryGetMetadata(I,U,R)}(I,N,R)})),N("getOwnMetadata",(function getOwnMetadata(I,N,R){if(!IsObject(N))throw new TypeError;return IsUndefined(R)||(R=ToPropertyKey(R)),OrdinaryGetOwnMetadata(I,N,R)})),N("getMetadataKeys",(function getMetadataKeys(I,N){if(!IsObject(I))throw new TypeError;return IsUndefined(N)||(N=ToPropertyKey(N)),function OrdinaryMetadataKeys(I,N){var R=OrdinaryOwnMetadataKeys(I,N),U=OrdinaryGetPrototypeOf(I);if(null===U)return R;var $=OrdinaryMetadataKeys(U,N);if($.length<=0)return R;if(R.length<=0)return $;for(var B=new tt,H=[],V=0,W=R;V<W.length;V++){var z=W[V];B.has(z)||(B.add(z),H.push(z))}for(var X=0,Q=$;X<Q.length;X++){z=Q[X];B.has(z)||(B.add(z),H.push(z))}return H}(I,N)})),N("getOwnMetadataKeys",(function getOwnMetadataKeys(I,N){if(!IsObject(I))throw new TypeError;return IsUndefined(N)||(N=ToPropertyKey(N)),OrdinaryOwnMetadataKeys(I,N)})),N("deleteMetadata",(function deleteMetadata(I,N,R){if(!IsObject(N))throw new TypeError;IsUndefined(R)||(R=ToPropertyKey(R));var U=GetOrCreateMetadataMap(N,R,!1);if(IsUndefined(U))return!1;if(!U.delete(I))return!1;if(U.size>0)return!0;var $=et.get(N);return $.delete(R),$.size>0||et.delete(N),!0}))}(H)}()}(U||(U={}))}).call(this,R(25),R(16))},function(I,N){function _typeof(N){return I.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},I.exports.__esModule=!0,I.exports.default=I.exports,_typeof(N)}I.exports=_typeof,I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){(function(N){I.exports=N.jQuery=R(50)}).call(this,R(16))},function(I,N,R){(function(I){var U,$=R(1);/*!
* jQuery JavaScript Library v3.7.1
* https://jquery.com/
*
* Copyright OpenJS Foundation and other contributors
* Released under the MIT license
* https://jquery.org/license
*
* Date: 2023-08-28T13:37Z
*/!function(N,R){"use strict";"object"===$(I)&&"object"===$(I.exports)?I.exports=N.document?R(N,!0):function(I){if(!I.document)throw new Error("jQuery requires a window with a document");return R(I)}:R(N)}("undefined"!=typeof window?window:this,(function(R,B){"use strict";var H=[],V=Object.getPrototypeOf,W=H.slice,z=H.flat?function(I){return H.flat.call(I)}:function(I){return H.concat.apply([],I)},X=H.push,Q=H.indexOf,J={},Z=J.toString,tt=J.hasOwnProperty,et=tt.toString,it=et.call(Object),nt={},st=function isFunction(I){return"function"==typeof I&&"number"!=typeof I.nodeType&&"function"!=typeof I.item},rt=function isWindow(I){return null!=I&&I===I.window},at=R.document,ot={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(I,N,R){var U,$,B=(R=R||at).createElement("script");if(B.text=I,N)for(U in ot)($=N[U]||N.getAttribute&&N.getAttribute(U))&&B.setAttribute(U,$);R.head.appendChild(B).parentNode.removeChild(B)}function toType(I){return null==I?I+"":"object"===$(I)||"function"==typeof I?J[Z.call(I)]||"object":$(I)}var lt=/HTML$/i,ct=function jQuery(I,N){return new jQuery.fn.init(I,N)};function isArrayLike(I){var N=!!I&&"length"in I&&I.length,R=toType(I);return!st(I)&&!rt(I)&&("array"===R||0===N||"number"==typeof N&&N>0&&N-1 in I)}function nodeName(I,N){return I.nodeName&&I.nodeName.toLowerCase()===N.toLowerCase()}ct.fn=ct.prototype={jquery:"3.7.1",constructor:ct,length:0,toArray:function toArray(){return W.call(this)},get:function get(I){return null==I?W.call(this):I<0?this[I+this.length]:this[I]},pushStack:function pushStack(I){var N=ct.merge(this.constructor(),I);return N.prevObject=this,N},each:function each(I){return ct.each(this,I)},map:function map(I){return this.pushStack(ct.map(this,(function(N,R){return I.call(N,R,N)})))},slice:function slice(){return this.pushStack(W.apply(this,arguments))},first:function first(){return this.eq(0)},last:function last(){return this.eq(-1)},even:function even(){return this.pushStack(ct.grep(this,(function(I,N){return(N+1)%2})))},odd:function odd(){return this.pushStack(ct.grep(this,(function(I,N){return N%2})))},eq:function eq(I){var N=this.length,R=+I+(I<0?N:0);return this.pushStack(R>=0&&R<N?[this[R]]:[])},end:function end(){return this.prevObject||this.constructor()},push:X,sort:H.sort,splice:H.splice},ct.extend=ct.fn.extend=function(){var I,N,R,U,B,H,V=arguments[0]||{},W=1,z=arguments.length,X=!1;for("boolean"==typeof V&&(X=V,V=arguments[W]||{},W++),"object"===$(V)||st(V)||(V={}),W===z&&(V=this,W--);W<z;W++)if(null!=(I=arguments[W]))for(N in I)U=I[N],"__proto__"!==N&&V!==U&&(X&&U&&(ct.isPlainObject(U)||(B=Array.isArray(U)))?(R=V[N],H=B&&!Array.isArray(R)?[]:B||ct.isPlainObject(R)?R:{},B=!1,V[N]=ct.extend(X,H,U)):void 0!==U&&(V[N]=U));return V},ct.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function error(I){throw new Error(I)},noop:function noop(){},isPlainObject:function isPlainObject(I){var N,R;return!(!I||"[object Object]"!==Z.call(I))&&(!(N=V(I))||"function"==typeof(R=tt.call(N,"constructor")&&N.constructor)&&et.call(R)===it)},isEmptyObject:function isEmptyObject(I){var N;for(N in I)return!1;return!0},globalEval:function globalEval(I,N,R){DOMEval(I,{nonce:N&&N.nonce},R)},each:function each(I,N){var R,U=0;if(isArrayLike(I))for(R=I.length;U<R&&!1!==N.call(I[U],U,I[U]);U++);else for(U in I)if(!1===N.call(I[U],U,I[U]))break;return I},text:function text(I){var N,R="",U=0,$=I.nodeType;if(!$)for(;N=I[U++];)R+=ct.text(N);return 1===$||11===$?I.textContent:9===$?I.documentElement.textContent:3===$||4===$?I.nodeValue:R},makeArray:function makeArray(I,N){var R=N||[];return null!=I&&(isArrayLike(Object(I))?ct.merge(R,"string"==typeof I?[I]:I):X.call(R,I)),R},inArray:function inArray(I,N,R){return null==N?-1:Q.call(N,I,R)},isXMLDoc:function isXMLDoc(I){var N=I&&I.namespaceURI,R=I&&(I.ownerDocument||I).documentElement;return!lt.test(N||R&&R.nodeName||"HTML")},merge:function merge(I,N){for(var R=+N.length,U=0,$=I.length;U<R;U++)I[$++]=N[U];return I.length=$,I},grep:function grep(I,N,R){for(var U=[],$=0,B=I.length,H=!R;$<B;$++)!N(I[$],$)!==H&&U.push(I[$]);return U},map:function map(I,N,R){var U,$,B=0,H=[];if(isArrayLike(I))for(U=I.length;B<U;B++)null!=($=N(I[B],B,R))&&H.push($);else for(B in I)null!=($=N(I[B],B,R))&&H.push($);return z(H)},guid:1,support:nt}),"function"==typeof Symbol&&(ct.fn[Symbol.iterator]=H[Symbol.iterator]),ct.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(I,N){J["[object "+N+"]"]=N.toLowerCase()}));var ut=H.pop,ht=H.sort,pt=H.splice,dt="[\\x20\\t\\r\\n\\f]",ft=new RegExp("^"+dt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+dt+"+$","g");ct.contains=function(I,N){var R=N&&N.parentNode;return I===R||!(!R||1!==R.nodeType||!(I.contains?I.contains(R):I.compareDocumentPosition&&16&I.compareDocumentPosition(R)))};var mt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function fcssescape(I,N){return N?"\0"===I?"�":I.slice(0,-1)+"\\"+I.charCodeAt(I.length-1).toString(16)+" ":"\\"+I}ct.escapeSelector=function(I){return(I+"").replace(mt,fcssescape)};var gt=at,vt=X;!function(){var I,N,U,$,B,V,z,X,J,Z,et=vt,it=ct.expando,st=0,rt=0,at=createCache(),ot=createCache(),lt=createCache(),mt=createCache(),bt=function sortOrder(I,N){return I===N&&(B=!0),0},_t="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",yt="(?:\\\\[\\da-fA-F]{1,6}"+dt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xt="\\["+dt+"*("+yt+")(?:"+dt+"*([*^$|!~]?=)"+dt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+yt+"))|)"+dt+"*\\]",wt=":("+yt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xt+")*)|.*)\\)|)",Tt=new RegExp(dt+"+","g"),Et=new RegExp("^"+dt+"*,"+dt+"*"),St=new RegExp("^"+dt+"*([>+~]|"+dt+")"+dt+"*"),kt=new RegExp(dt+"|>"),Ct=new RegExp(wt),Ot=new RegExp("^"+yt+"$"),At={ID:new RegExp("^#("+yt+")"),CLASS:new RegExp("^\\.("+yt+")"),TAG:new RegExp("^("+yt+"|[*])"),ATTR:new RegExp("^"+xt),PSEUDO:new RegExp("^"+wt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+dt+"*(even|odd|(([+-]|)(\\d*)n|)"+dt+"*(?:([+-]|)"+dt+"*(\\d+)|))"+dt+"*\\)|)","i"),bool:new RegExp("^(?:"+_t+")$","i"),needsContext:new RegExp("^"+dt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+dt+"*((?:-\\d)?\\d*)"+dt+"*\\)|)(?=[^-]|$)","i")},It=/^(?:input|select|textarea|button)$/i,Nt=/^h\d$/i,Dt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Rt=/[+~]/,Lt=new RegExp("\\\\[\\da-fA-F]{1,6}"+dt+"?|\\\\([^\\r\\n\\f])","g"),Pt=function funescape(I,N){var R="0x"+I.slice(1)-65536;return N||(R<0?String.fromCharCode(R+65536):String.fromCharCode(R>>10|55296,1023&R|56320))},Mt=function unloadHandler(){setDocument()},jt=addCombinator((function(I){return!0===I.disabled&&nodeName(I,"fieldset")}),{dir:"parentNode",next:"legend"});try{et.apply(H=W.call(gt.childNodes),gt.childNodes),H[gt.childNodes.length].nodeType}catch(I){et={apply:function apply(I,N){vt.apply(I,W.call(N))},call:function call(I){vt.apply(I,W.call(arguments,1))}}}function find(I,N,R,U){var $,B,H,W,z,Q,Z,tt=N&&N.ownerDocument,st=N?N.nodeType:9;if(R=R||[],"string"!=typeof I||!I||1!==st&&9!==st&&11!==st)return R;if(!U&&(setDocument(N),N=N||V,X)){if(11!==st&&(z=Dt.exec(I)))if($=z[1]){if(9===st){if(!(H=N.getElementById($)))return R;if(H.id===$)return et.call(R,H),R}else if(tt&&(H=tt.getElementById($))&&find.contains(N,H)&&H.id===$)return et.call(R,H),R}else{if(z[2])return et.apply(R,N.getElementsByTagName(I)),R;if(($=z[3])&&N.getElementsByClassName)return et.apply(R,N.getElementsByClassName($)),R}if(!(mt[I+" "]||J&&J.test(I))){if(Z=I,tt=N,1===st&&(kt.test(I)||St.test(I))){for((tt=Rt.test(I)&&testContext(N.parentNode)||N)==N&&nt.scope||((W=N.getAttribute("id"))?W=ct.escapeSelector(W):N.setAttribute("id",W=it)),B=(Q=tokenize(I)).length;B--;)Q[B]=(W?"#"+W:":scope")+" "+toSelector(Q[B]);Z=Q.join(",")}try{return et.apply(R,tt.querySelectorAll(Z)),R}catch(N){mt(I,!0)}finally{W===it&&N.removeAttribute("id")}}}return select(I.replace(ft,"$1"),N,R,U)}function createCache(){var I=[];return function cache(R,U){return I.push(R+" ")>N.cacheLength&&delete cache[I.shift()],cache[R+" "]=U}}function markFunction(I){return I[it]=!0,I}function assert(I){var N=V.createElement("fieldset");try{return!!I(N)}catch(I){return!1}finally{N.parentNode&&N.parentNode.removeChild(N),N=null}}function createInputPseudo(I){return function(N){return nodeName(N,"input")&&N.type===I}}function createButtonPseudo(I){return function(N){return(nodeName(N,"input")||nodeName(N,"button"))&&N.type===I}}function createDisabledPseudo(I){return function(N){return"form"in N?N.parentNode&&!1===N.disabled?"label"in N?"label"in N.parentNode?N.parentNode.disabled===I:N.disabled===I:N.isDisabled===I||N.isDisabled!==!I&&jt(N)===I:N.disabled===I:"label"in N&&N.disabled===I}}function createPositionalPseudo(I){return markFunction((function(N){return N=+N,markFunction((function(R,U){for(var $,B=I([],R.length,N),H=B.length;H--;)R[$=B[H]]&&(R[$]=!(U[$]=R[$]))}))}))}function testContext(I){return I&&void 0!==I.getElementsByTagName&&I}function setDocument(I){var R,U=I?I.ownerDocument||I:gt;return U!=V&&9===U.nodeType&&U.documentElement?(z=(V=U).documentElement,X=!ct.isXMLDoc(V),Z=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&gt!=V&&(R=V.defaultView)&&R.top!==R&&R.addEventListener("unload",Mt),nt.getById=assert((function(I){return z.appendChild(I).id=ct.expando,!V.getElementsByName||!V.getElementsByName(ct.expando).length})),nt.disconnectedMatch=assert((function(I){return Z.call(I,"*")})),nt.scope=assert((function(){return V.querySelectorAll(":scope")})),nt.cssHas=assert((function(){try{return V.querySelector(":has(*,:jqfake)"),!1}catch(I){return!0}})),nt.getById?(N.filter.ID=function(I){var N=I.replace(Lt,Pt);return function(I){return I.getAttribute("id")===N}},N.find.ID=function(I,N){if(void 0!==N.getElementById&&X){var R=N.getElementById(I);return R?[R]:[]}}):(N.filter.ID=function(I){var N=I.replace(Lt,Pt);return function(I){var R=void 0!==I.getAttributeNode&&I.getAttributeNode("id");return R&&R.value===N}},N.find.ID=function(I,N){if(void 0!==N.getElementById&&X){var R,U,$,B=N.getElementById(I);if(B){if((R=B.getAttributeNode("id"))&&R.value===I)return[B];for($=N.getElementsByName(I),U=0;B=$[U++];)if((R=B.getAttributeNode("id"))&&R.value===I)return[B]}return[]}}),N.find.TAG=function(I,N){return void 0!==N.getElementsByTagName?N.getElementsByTagName(I):N.querySelectorAll(I)},N.find.CLASS=function(I,N){if(void 0!==N.getElementsByClassName&&X)return N.getElementsByClassName(I)},J=[],assert((function(I){var N;z.appendChild(I).innerHTML="<a id='"+it+"' href='' disabled='disabled'></a><select id='"+it+"-\r\\' disabled='disabled'><option selected=''></option></select>",I.querySelectorAll("[selected]").length||J.push("\\["+dt+"*(?:value|"+_t+")"),I.querySelectorAll("[id~="+it+"-]").length||J.push("~="),I.querySelectorAll("a#"+it+"+*").length||J.push(".#.+[+~]"),I.querySelectorAll(":checked").length||J.push(":checked"),(N=V.createElement("input")).setAttribute("type","hidden"),I.appendChild(N).setAttribute("name","D"),z.appendChild(I).disabled=!0,2!==I.querySelectorAll(":disabled").length&&J.push(":enabled",":disabled"),(N=V.createElement("input")).setAttribute("name",""),I.appendChild(N),I.querySelectorAll("[name='']").length||J.push("\\["+dt+"*name"+dt+"*="+dt+"*(?:''|\"\")")})),nt.cssHas||J.push(":has"),J=J.length&&new RegExp(J.join("|")),bt=function sortOrder(I,N){if(I===N)return B=!0,0;var R=!I.compareDocumentPosition-!N.compareDocumentPosition;return R||(1&(R=(I.ownerDocument||I)==(N.ownerDocument||N)?I.compareDocumentPosition(N):1)||!nt.sortDetached&&N.compareDocumentPosition(I)===R?I===V||I.ownerDocument==gt&&find.contains(gt,I)?-1:N===V||N.ownerDocument==gt&&find.contains(gt,N)?1:$?Q.call($,I)-Q.call($,N):0:4&R?-1:1)},V):V}for(I in find.matches=function(I,N){return find(I,null,null,N)},find.matchesSelector=function(I,N){if(setDocument(I),X&&!mt[N+" "]&&(!J||!J.test(N)))try{var R=Z.call(I,N);if(R||nt.disconnectedMatch||I.document&&11!==I.document.nodeType)return R}catch(I){mt(N,!0)}return find(N,V,null,[I]).length>0},find.contains=function(I,N){return(I.ownerDocument||I)!=V&&setDocument(I),ct.contains(I,N)},find.attr=function(I,R){(I.ownerDocument||I)!=V&&setDocument(I);var U=N.attrHandle[R.toLowerCase()],$=U&&tt.call(N.attrHandle,R.toLowerCase())?U(I,R,!X):void 0;return void 0!==$?$:I.getAttribute(R)},find.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},ct.uniqueSort=function(I){var N,R=[],U=0,H=0;if(B=!nt.sortStable,$=!nt.sortStable&&W.call(I,0),ht.call(I,bt),B){for(;N=I[H++];)N===I[H]&&(U=R.push(H));for(;U--;)pt.call(I,R[U],1)}return $=null,I},ct.fn.uniqueSort=function(){return this.pushStack(ct.uniqueSort(W.apply(this)))},(N=ct.expr={cacheLength:50,createPseudo:markFunction,match:At,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function ATTR(I){return I[1]=I[1].replace(Lt,Pt),I[3]=(I[3]||I[4]||I[5]||"").replace(Lt,Pt),"~="===I[2]&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function CHILD(I){return I[1]=I[1].toLowerCase(),"nth"===I[1].slice(0,3)?(I[3]||find.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*("even"===I[3]||"odd"===I[3])),I[5]=+(I[7]+I[8]||"odd"===I[3])):I[3]&&find.error(I[0]),I},PSEUDO:function PSEUDO(I){var N,R=!I[6]&&I[2];return At.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":R&&Ct.test(R)&&(N=tokenize(R,!0))&&(N=R.indexOf(")",R.length-N)-R.length)&&(I[0]=I[0].slice(0,N),I[2]=R.slice(0,N)),I.slice(0,3))}},filter:{TAG:function TAG(I){var N=I.replace(Lt,Pt).toLowerCase();return"*"===I?function(){return!0}:function(I){return nodeName(I,N)}},CLASS:function CLASS(I){var N=at[I+" "];return N||(N=new RegExp("(^|"+dt+")"+I+"("+dt+"|$)"))&&at(I,(function(I){return N.test("string"==typeof I.className&&I.className||void 0!==I.getAttribute&&I.getAttribute("class")||"")}))},ATTR:function ATTR(I,N,R){return function(U){var $=find.attr(U,I);return null==$?"!="===N:!N||($+="","="===N?$===R:"!="===N?$!==R:"^="===N?R&&0===$.indexOf(R):"*="===N?R&&$.indexOf(R)>-1:"$="===N?R&&$.slice(-R.length)===R:"~="===N?(" "+$.replace(Tt," ")+" ").indexOf(R)>-1:"|="===N&&($===R||$.slice(0,R.length+1)===R+"-"))}},CHILD:function CHILD(I,N,R,U,$){var B="nth"!==I.slice(0,3),H="last"!==I.slice(-4),V="of-type"===N;return 1===U&&0===$?function(I){return!!I.parentNode}:function(N,R,W){var z,X,Q,J,Z,tt=B!==H?"nextSibling":"previousSibling",et=N.parentNode,nt=V&&N.nodeName.toLowerCase(),rt=!W&&!V,at=!1;if(et){if(B){for(;tt;){for(Q=N;Q=Q[tt];)if(V?nodeName(Q,nt):1===Q.nodeType)return!1;Z=tt="only"===I&&!Z&&"nextSibling"}return!0}if(Z=[H?et.firstChild:et.lastChild],H&&rt){for(at=(J=(z=(X=et[it]||(et[it]={}))[I]||[])[0]===st&&z[1])&&z[2],Q=J&&et.childNodes[J];Q=++J&&Q&&Q[tt]||(at=J=0)||Z.pop();)if(1===Q.nodeType&&++at&&Q===N){X[I]=[st,J,at];break}}else if(rt&&(at=J=(z=(X=N[it]||(N[it]={}))[I]||[])[0]===st&&z[1]),!1===at)for(;(Q=++J&&Q&&Q[tt]||(at=J=0)||Z.pop())&&(!(V?nodeName(Q,nt):1===Q.nodeType)||!++at||(rt&&((X=Q[it]||(Q[it]={}))[I]=[st,at]),Q!==N)););return(at-=$)===U||at%U==0&&at/U>=0}}},PSEUDO:function PSEUDO(I,R){var U,$=N.pseudos[I]||N.setFilters[I.toLowerCase()]||find.error("unsupported pseudo: "+I);return $[it]?$(R):$.length>1?(U=[I,I,"",R],N.setFilters.hasOwnProperty(I.toLowerCase())?markFunction((function(I,N){for(var U,B=$(I,R),H=B.length;H--;)I[U=Q.call(I,B[H])]=!(N[U]=B[H])})):function(I){return $(I,0,U)}):$}},pseudos:{not:markFunction((function(I){var N=[],R=[],U=compile(I.replace(ft,"$1"));return U[it]?markFunction((function(I,N,R,$){for(var B,H=U(I,null,$,[]),V=I.length;V--;)(B=H[V])&&(I[V]=!(N[V]=B))})):function(I,$,B){return N[0]=I,U(N,null,B,R),N[0]=null,!R.pop()}})),has:markFunction((function(I){return function(N){return find(I,N).length>0}})),contains:markFunction((function(I){return I=I.replace(Lt,Pt),function(N){return(N.textContent||ct.text(N)).indexOf(I)>-1}})),lang:markFunction((function(I){return Ot.test(I||"")||find.error("unsupported lang: "+I),I=I.replace(Lt,Pt).toLowerCase(),function(N){var R;do{if(R=X?N.lang:N.getAttribute("xml:lang")||N.getAttribute("lang"))return(R=R.toLowerCase())===I||0===R.indexOf(I+"-")}while((N=N.parentNode)&&1===N.nodeType);return!1}})),target:function target(I){var N=R.location&&R.location.hash;return N&&N.slice(1)===I.id},root:function root(I){return I===z},focus:function focus(I){return I===function safeActiveElement(){try{return V.activeElement}catch(I){}}()&&V.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function checked(I){return nodeName(I,"input")&&!!I.checked||nodeName(I,"option")&&!!I.selected},selected:function selected(I){return I.parentNode&&I.parentNode.selectedIndex,!0===I.selected},empty:function empty(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function parent(I){return!N.pseudos.empty(I)},header:function header(I){return Nt.test(I.nodeName)},input:function input(I){return It.test(I.nodeName)},button:function button(I){return nodeName(I,"input")&&"button"===I.type||nodeName(I,"button")},text:function text(I){var N;return nodeName(I,"input")&&"text"===I.type&&(null==(N=I.getAttribute("type"))||"text"===N.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(I,N){return[N-1]})),eq:createPositionalPseudo((function(I,N,R){return[R<0?R+N:R]})),even:createPositionalPseudo((function(I,N){for(var R=0;R<N;R+=2)I.push(R);return I})),odd:createPositionalPseudo((function(I,N){for(var R=1;R<N;R+=2)I.push(R);return I})),lt:createPositionalPseudo((function(I,N,R){var U;for(U=R<0?R+N:R>N?N:R;--U>=0;)I.push(U);return I})),gt:createPositionalPseudo((function(I,N,R){for(var U=R<0?R+N:R;++U<N;)I.push(U);return I}))}}).pseudos.nth=N.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[I]=createInputPseudo(I);for(I in{submit:!0,reset:!0})N.pseudos[I]=createButtonPseudo(I);function setFilters(){}function tokenize(I,R){var U,$,B,H,V,W,z,X=ot[I+" "];if(X)return R?0:X.slice(0);for(V=I,W=[],z=N.preFilter;V;){for(H in U&&!($=Et.exec(V))||($&&(V=V.slice($[0].length)||V),W.push(B=[])),U=!1,($=St.exec(V))&&(U=$.shift(),B.push({value:U,type:$[0].replace(ft," ")}),V=V.slice(U.length)),N.filter)!($=At[H].exec(V))||z[H]&&!($=z[H]($))||(U=$.shift(),B.push({value:U,type:H,matches:$}),V=V.slice(U.length));if(!U)break}return R?V.length:V?find.error(I):ot(I,W).slice(0)}function toSelector(I){for(var N=0,R=I.length,U="";N<R;N++)U+=I[N].value;return U}function addCombinator(I,N,R){var U=N.dir,$=N.next,B=$||U,H=R&&"parentNode"===B,V=rt++;return N.first?function(N,R,$){for(;N=N[U];)if(1===N.nodeType||H)return I(N,R,$);return!1}:function(N,R,W){var z,X,Q=[st,V];if(W){for(;N=N[U];)if((1===N.nodeType||H)&&I(N,R,W))return!0}else for(;N=N[U];)if(1===N.nodeType||H)if(X=N[it]||(N[it]={}),$&&nodeName(N,$))N=N[U]||N;else{if((z=X[B])&&z[0]===st&&z[1]===V)return Q[2]=z[2];if(X[B]=Q,Q[2]=I(N,R,W))return!0}return!1}}function elementMatcher(I){return I.length>1?function(N,R,U){for(var $=I.length;$--;)if(!I[$](N,R,U))return!1;return!0}:I[0]}function condense(I,N,R,U,$){for(var B,H=[],V=0,W=I.length,z=null!=N;V<W;V++)(B=I[V])&&(R&&!R(B,U,$)||(H.push(B),z&&N.push(V)));return H}function setMatcher(I,N,R,U,$,B){return U&&!U[it]&&(U=setMatcher(U)),$&&!$[it]&&($=setMatcher($,B)),markFunction((function(B,H,V,W){var z,X,J,Z,tt=[],it=[],nt=H.length,st=B||function multipleContexts(I,N,R){for(var U=0,$=N.length;U<$;U++)find(I,N[U],R);return R}(N||"*",V.nodeType?[V]:V,[]),rt=!I||!B&&N?st:condense(st,tt,I,V,W);if(R?R(rt,Z=$||(B?I:nt||U)?[]:H,V,W):Z=rt,U)for(z=condense(Z,it),U(z,[],V,W),X=z.length;X--;)(J=z[X])&&(Z[it[X]]=!(rt[it[X]]=J));if(B){if($||I){if($){for(z=[],X=Z.length;X--;)(J=Z[X])&&z.push(rt[X]=J);$(null,Z=[],z,W)}for(X=Z.length;X--;)(J=Z[X])&&(z=$?Q.call(B,J):tt[X])>-1&&(B[z]=!(H[z]=J))}}else Z=condense(Z===H?Z.splice(nt,Z.length):Z),$?$(null,H,Z,W):et.apply(H,Z)}))}function matcherFromTokens(I){for(var R,$,B,H=I.length,V=N.relative[I[0].type],W=V||N.relative[" "],z=V?1:0,X=addCombinator((function(I){return I===R}),W,!0),J=addCombinator((function(I){return Q.call(R,I)>-1}),W,!0),Z=[function(I,N,$){var B=!V&&($||N!=U)||((R=N).nodeType?X(I,N,$):J(I,N,$));return R=null,B}];z<H;z++)if($=N.relative[I[z].type])Z=[addCombinator(elementMatcher(Z),$)];else{if(($=N.filter[I[z].type].apply(null,I[z].matches))[it]){for(B=++z;B<H&&!N.relative[I[B].type];B++);return setMatcher(z>1&&elementMatcher(Z),z>1&&toSelector(I.slice(0,z-1).concat({value:" "===I[z-2].type?"*":""})).replace(ft,"$1"),$,z<B&&matcherFromTokens(I.slice(z,B)),B<H&&matcherFromTokens(I=I.slice(B)),B<H&&toSelector(I))}Z.push($)}return elementMatcher(Z)}function compile(I,R){var $,B=[],H=[],W=lt[I+" "];if(!W){for(R||(R=tokenize(I)),$=R.length;$--;)(W=matcherFromTokens(R[$]))[it]?B.push(W):H.push(W);(W=lt(I,function matcherFromGroupMatchers(I,R){var $=R.length>0,B=I.length>0,H=function superMatcher(H,W,z,Q,J){var Z,tt,it,nt=0,rt="0",at=H&&[],ot=[],lt=U,ht=H||B&&N.find.TAG("*",J),pt=st+=null==lt?1:Math.random()||.1,dt=ht.length;for(J&&(U=W==V||W||J);rt!==dt&&null!=(Z=ht[rt]);rt++){if(B&&Z){for(tt=0,W||Z.ownerDocument==V||(setDocument(Z),z=!X);it=I[tt++];)if(it(Z,W||V,z)){et.call(Q,Z);break}J&&(st=pt)}$&&((Z=!it&&Z)&&nt--,H&&at.push(Z))}if(nt+=rt,$&&rt!==nt){for(tt=0;it=R[tt++];)it(at,ot,W,z);if(H){if(nt>0)for(;rt--;)at[rt]||ot[rt]||(ot[rt]=ut.call(Q));ot=condense(ot)}et.apply(Q,ot),J&&!H&&ot.length>0&&nt+R.length>1&&ct.uniqueSort(Q)}return J&&(st=pt,U=lt),at};return $?markFunction(H):H}(H,B))).selector=I}return W}function select(I,R,U,$){var B,H,V,W,z,Q="function"==typeof I&&I,J=!$&&tokenize(I=Q.selector||I);if(U=U||[],1===J.length){if((H=J[0]=J[0].slice(0)).length>2&&"ID"===(V=H[0]).type&&9===R.nodeType&&X&&N.relative[H[1].type]){if(!(R=(N.find.ID(V.matches[0].replace(Lt,Pt),R)||[])[0]))return U;Q&&(R=R.parentNode),I=I.slice(H.shift().value.length)}for(B=At.needsContext.test(I)?0:H.length;B--&&(V=H[B],!N.relative[W=V.type]);)if((z=N.find[W])&&($=z(V.matches[0].replace(Lt,Pt),Rt.test(H[0].type)&&testContext(R.parentNode)||R))){if(H.splice(B,1),!(I=$.length&&toSelector(H)))return et.apply(U,$),U;break}}return(Q||compile(I,J))($,R,!X,U,!R||Rt.test(I)&&testContext(R.parentNode)||R),U}setFilters.prototype=N.filters=N.pseudos,N.setFilters=new setFilters,nt.sortStable=it.split("").sort(bt).join("")===it,setDocument(),nt.sortDetached=assert((function(I){return 1&I.compareDocumentPosition(V.createElement("fieldset"))})),ct.find=find,ct.expr[":"]=ct.expr.pseudos,ct.unique=ct.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=ct.escapeSelector,find.getText=ct.text,find.isXML=ct.isXMLDoc,find.selectors=ct.expr,find.support=ct.support,find.uniqueSort=ct.uniqueSort}();var bt=function dir(I,N,R){for(var U=[],$=void 0!==R;(I=I[N])&&9!==I.nodeType;)if(1===I.nodeType){if($&&ct(I).is(R))break;U.push(I)}return U},_t=function siblings(I,N){for(var R=[];I;I=I.nextSibling)1===I.nodeType&&I!==N&&R.push(I);return R},yt=ct.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(I,N,R){return st(N)?ct.grep(I,(function(I,U){return!!N.call(I,U,I)!==R})):N.nodeType?ct.grep(I,(function(I){return I===N!==R})):"string"!=typeof N?ct.grep(I,(function(I){return Q.call(N,I)>-1!==R})):ct.filter(N,I,R)}ct.filter=function(I,N,R){var U=N[0];return R&&(I=":not("+I+")"),1===N.length&&1===U.nodeType?ct.find.matchesSelector(U,I)?[U]:[]:ct.find.matches(I,ct.grep(N,(function(I){return 1===I.nodeType})))},ct.fn.extend({find:function find(I){var N,R,U=this.length,$=this;if("string"!=typeof I)return this.pushStack(ct(I).filter((function(){for(N=0;N<U;N++)if(ct.contains($[N],this))return!0})));for(R=this.pushStack([]),N=0;N<U;N++)ct.find(I,$[N],R);return U>1?ct.uniqueSort(R):R},filter:function filter(I){return this.pushStack(winnow(this,I||[],!1))},not:function not(I){return this.pushStack(winnow(this,I||[],!0))},is:function is(I){return!!winnow(this,"string"==typeof I&&yt.test(I)?ct(I):I||[],!1).length}});var wt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ct.fn.init=function(I,N,R){var U,$;if(!I)return this;if(R=R||wt,"string"==typeof I){if(!(U="<"===I[0]&&">"===I[I.length-1]&&I.length>=3?[null,I,null]:Tt.exec(I))||!U[1]&&N)return!N||N.jquery?(N||R).find(I):this.constructor(N).find(I);if(U[1]){if(N=N instanceof ct?N[0]:N,ct.merge(this,ct.parseHTML(U[1],N&&N.nodeType?N.ownerDocument||N:at,!0)),xt.test(U[1])&&ct.isPlainObject(N))for(U in N)st(this[U])?this[U](N[U]):this.attr(U,N[U]);return this}return($=at.getElementById(U[2]))&&(this[0]=$,this.length=1),this}return I.nodeType?(this[0]=I,this.length=1,this):st(I)?void 0!==R.ready?R.ready(I):I(ct):ct.makeArray(I,this)}).prototype=ct.fn,wt=ct(at);var Et=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};function sibling(I,N){for(;(I=I[N])&&1!==I.nodeType;);return I}ct.fn.extend({has:function has(I){var N=ct(I,this),R=N.length;return this.filter((function(){for(var I=0;I<R;I++)if(ct.contains(this,N[I]))return!0}))},closest:function closest(I,N){var R,U=0,$=this.length,B=[],H="string"!=typeof I&&ct(I);if(!yt.test(I))for(;U<$;U++)for(R=this[U];R&&R!==N;R=R.parentNode)if(R.nodeType<11&&(H?H.index(R)>-1:1===R.nodeType&&ct.find.matchesSelector(R,I))){B.push(R);break}return this.pushStack(B.length>1?ct.uniqueSort(B):B)},index:function index(I){return I?"string"==typeof I?Q.call(ct(I),this[0]):Q.call(this,I.jquery?I[0]:I):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function add(I,N){return this.pushStack(ct.uniqueSort(ct.merge(this.get(),ct(I,N))))},addBack:function addBack(I){return this.add(null==I?this.prevObject:this.prevObject.filter(I))}}),ct.each({parent:function parent(I){var parent=I.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function parents(I){return bt(I,"parentNode")},parentsUntil:function parentsUntil(I,N,R){return bt(I,"parentNode",R)},next:function next(I){return sibling(I,"nextSibling")},prev:function prev(I){return sibling(I,"previousSibling")},nextAll:function nextAll(I){return bt(I,"nextSibling")},prevAll:function prevAll(I){return bt(I,"previousSibling")},nextUntil:function nextUntil(I,N,R){return bt(I,"nextSibling",R)},prevUntil:function prevUntil(I,N,R){return bt(I,"previousSibling",R)},siblings:function siblings(I){return _t((I.parentNode||{}).firstChild,I)},children:function children(I){return _t(I.firstChild)},contents:function contents(I){return null!=I.contentDocument&&V(I.contentDocument)?I.contentDocument:(nodeName(I,"template")&&(I=I.content||I),ct.merge([],I.childNodes))}},(function(I,N){ct.fn[I]=function(R,U){var $=ct.map(this,N,R);return"Until"!==I.slice(-5)&&(U=R),U&&"string"==typeof U&&($=ct.filter(U,$)),this.length>1&&(St[I]||ct.uniqueSort($),Et.test(I)&&$.reverse()),this.pushStack($)}}));var kt=/[^\x20\t\r\n\f]+/g;function Identity(I){return I}function Thrower(I){throw I}function adoptValue(I,N,R,U){var $;try{I&&st($=I.promise)?$.call(I).done(N).fail(R):I&&st($=I.then)?$.call(I,N,R):N.apply(void 0,[I].slice(U))}catch(I){R.apply(void 0,[I])}}ct.Callbacks=function(I){I="string"==typeof I?function createOptions(I){var N={};return ct.each(I.match(kt)||[],(function(I,R){N[R]=!0})),N}(I):ct.extend({},I);var N,R,U,$,B=[],H=[],V=-1,W=function fire(){for($=$||I.once,U=N=!0;H.length;V=-1)for(R=H.shift();++V<B.length;)!1===B[V].apply(R[0],R[1])&&I.stopOnFalse&&(V=B.length,R=!1);I.memory||(R=!1),N=!1,$&&(B=R?[]:"")},z={add:function add(){return B&&(R&&!N&&(V=B.length-1,H.push(R)),function add(N){ct.each(N,(function(N,R){st(R)?I.unique&&z.has(R)||B.push(R):R&&R.length&&"string"!==toType(R)&&add(R)}))}(arguments),R&&!N&&W()),this},remove:function remove(){return ct.each(arguments,(function(I,N){for(var R;(R=ct.inArray(N,B,R))>-1;)B.splice(R,1),R<=V&&V--})),this},has:function has(I){return I?ct.inArray(I,B)>-1:B.length>0},empty:function empty(){return B&&(B=[]),this},disable:function disable(){return $=H=[],B=R="",this},disabled:function disabled(){return!B},lock:function lock(){return $=H=[],R||N||(B=R=""),this},locked:function locked(){return!!$},fireWith:function fireWith(I,R){return $||(R=[I,(R=R||[]).slice?R.slice():R],H.push(R),N||W()),this},fire:function fire(){return z.fireWith(this,arguments),this},fired:function fired(){return!!U}};return z},ct.extend({Deferred:function Deferred(I){var N=[["notify","progress",ct.Callbacks("memory"),ct.Callbacks("memory"),2],["resolve","done",ct.Callbacks("once memory"),ct.Callbacks("once memory"),0,"resolved"],["reject","fail",ct.Callbacks("once memory"),ct.Callbacks("once memory"),1,"rejected"]],U="pending",B={state:function state(){return U},always:function always(){return H.done(arguments).fail(arguments),this},catch:function _catch(I){return B.then(null,I)},pipe:function pipe(){var I=arguments;return ct.Deferred((function(R){ct.each(N,(function(N,U){var $=st(I[U[4]])&&I[U[4]];H[U[1]]((function(){var I=$&&$.apply(this,arguments);I&&st(I.promise)?I.promise().progress(R.notify).done(R.resolve).fail(R.reject):R[U[0]+"With"](this,$?[I]:arguments)}))})),I=null})).promise()},then:function then(I,U,B){var H=0;function resolve(I,N,U,B){return function(){var V=this,W=arguments,z=function mightThrow(){var R,z;if(!(I<H)){if((R=U.apply(V,W))===N.promise())throw new TypeError("Thenable self-resolution");z=R&&("object"===$(R)||"function"==typeof R)&&R.then,st(z)?B?z.call(R,resolve(H,N,Identity,B),resolve(H,N,Thrower,B)):(H++,z.call(R,resolve(H,N,Identity,B),resolve(H,N,Thrower,B),resolve(H,N,Identity,N.notifyWith))):(U!==Identity&&(V=void 0,W=[R]),(B||N.resolveWith)(V,W))}},X=B?z:function(){try{z()}catch(R){ct.Deferred.exceptionHook&&ct.Deferred.exceptionHook(R,X.error),I+1>=H&&(U!==Thrower&&(V=void 0,W=[R]),N.rejectWith(V,W))}};I?X():(ct.Deferred.getErrorHook?X.error=ct.Deferred.getErrorHook():ct.Deferred.getStackHook&&(X.error=ct.Deferred.getStackHook()),R.setTimeout(X))}}return ct.Deferred((function(R){N[0][3].add(resolve(0,R,st(B)?B:Identity,R.notifyWith)),N[1][3].add(resolve(0,R,st(I)?I:Identity)),N[2][3].add(resolve(0,R,st(U)?U:Thrower))})).promise()},promise:function promise(I){return null!=I?ct.extend(I,B):B}},H={};return ct.each(N,(function(I,R){var $=R[2],V=R[5];B[R[1]]=$.add,V&&$.add((function(){U=V}),N[3-I][2].disable,N[3-I][3].disable,N[0][2].lock,N[0][3].lock),$.add(R[3].fire),H[R[0]]=function(){return H[R[0]+"With"](this===H?void 0:this,arguments),this},H[R[0]+"With"]=$.fireWith})),B.promise(H),I&&I.call(H,H),H},when:function when(I){var N=arguments.length,R=N,U=Array(R),$=W.call(arguments),B=ct.Deferred(),H=function updateFunc(I){return function(R){U[I]=this,$[I]=arguments.length>1?W.call(arguments):R,--N||B.resolveWith(U,$)}};if(N<=1&&(adoptValue(I,B.done(H(R)).resolve,B.reject,!N),"pending"===B.state()||st($[R]&&$[R].then)))return B.then();for(;R--;)adoptValue($[R],H(R),B.reject);return B.promise()}});var Ct=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ct.Deferred.exceptionHook=function(I,N){R.console&&R.console.warn&&I&&Ct.test(I.name)&&R.console.warn("jQuery.Deferred exception: "+I.message,I.stack,N)},ct.readyException=function(I){R.setTimeout((function(){throw I}))};var Ot=ct.Deferred();function completed(){at.removeEventListener("DOMContentLoaded",completed),R.removeEventListener("load",completed),ct.ready()}ct.fn.ready=function(I){return Ot.then(I).catch((function(I){ct.readyException(I)})),this},ct.extend({isReady:!1,readyWait:1,ready:function ready(I){(!0===I?--ct.readyWait:ct.isReady)||(ct.isReady=!0,!0!==I&&--ct.readyWait>0||Ot.resolveWith(at,[ct]))}}),ct.ready.then=Ot.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?R.setTimeout(ct.ready):(at.addEventListener("DOMContentLoaded",completed),R.addEventListener("load",completed));var At=function access(I,N,R,U,$,B,H){var V=0,W=I.length,z=null==R;if("object"===toType(R))for(V in $=!0,R)access(I,N,V,R[V],!0,B,H);else if(void 0!==U&&($=!0,st(U)||(H=!0),z&&(H?(N.call(I,U),N=null):(z=N,N=function fn(I,N,R){return z.call(ct(I),R)})),N))for(;V<W;V++)N(I[V],R,H?U:U.call(I[V],V,N(I[V],R)));return $?I:z?N.call(I):W?N(I[0],R):B},It=/^-ms-/,Nt=/-([a-z])/g;function fcamelCase(I,N){return N.toUpperCase()}function camelCase(I){return I.replace(It,"ms-").replace(Nt,fcamelCase)}var Dt=function acceptData(I){return 1===I.nodeType||9===I.nodeType||!+I.nodeType};function Data(){this.expando=ct.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function cache(I){var N=I[this.expando];return N||(N={},Dt(I)&&(I.nodeType?I[this.expando]=N:Object.defineProperty(I,this.expando,{value:N,configurable:!0}))),N},set:function set(I,N,R){var U,$=this.cache(I);if("string"==typeof N)$[camelCase(N)]=R;else for(U in N)$[camelCase(U)]=N[U];return $},get:function get(I,N){return void 0===N?this.cache(I):I[this.expando]&&I[this.expando][camelCase(N)]},access:function access(I,N,R){return void 0===N||N&&"string"==typeof N&&void 0===R?this.get(I,N):(this.set(I,N,R),void 0!==R?R:N)},remove:function remove(I,N){var R,U=I[this.expando];if(void 0!==U){if(void 0!==N){R=(N=Array.isArray(N)?N.map(camelCase):(N=camelCase(N))in U?[N]:N.match(kt)||[]).length;for(;R--;)delete U[N[R]]}(void 0===N||ct.isEmptyObject(U))&&(I.nodeType?I[this.expando]=void 0:delete I[this.expando])}},hasData:function hasData(I){var N=I[this.expando];return void 0!==N&&!ct.isEmptyObject(N)}};var Rt=new Data,Lt=new Data,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/[A-Z]/g;function dataAttr(I,N,R){var U;if(void 0===R&&1===I.nodeType)if(U="data-"+N.replace(Mt,"-$&").toLowerCase(),"string"==typeof(R=I.getAttribute(U))){try{R=function getData(I){return"true"===I||"false"!==I&&("null"===I?null:I===+I+""?+I:Pt.test(I)?JSON.parse(I):I)}(R)}catch(I){}Lt.set(I,N,R)}else R=void 0;return R}ct.extend({hasData:function hasData(I){return Lt.hasData(I)||Rt.hasData(I)},data:function data(I,N,R){return Lt.access(I,N,R)},removeData:function removeData(I,N){Lt.remove(I,N)},_data:function _data(I,N,R){return Rt.access(I,N,R)},_removeData:function _removeData(I,N){Rt.remove(I,N)}}),ct.fn.extend({data:function data(I,N){var R,U,data,B=this[0],H=B&&B.attributes;if(void 0===I){if(this.length&&(data=Lt.get(B),1===B.nodeType&&!Rt.get(B,"hasDataAttrs"))){for(R=H.length;R--;)H[R]&&0===(U=H[R].name).indexOf("data-")&&(U=camelCase(U.slice(5)),dataAttr(B,U,data[U]));Rt.set(B,"hasDataAttrs",!0)}return data}return"object"===$(I)?this.each((function(){Lt.set(this,I)})):At(this,(function(N){var R;if(B&&void 0===N)return void 0!==(R=Lt.get(B,I))||void 0!==(R=dataAttr(B,I))?R:void 0;this.each((function(){Lt.set(this,I,N)}))}),null,N,arguments.length>1,null,!0)},removeData:function removeData(I){return this.each((function(){Lt.remove(this,I)}))}}),ct.extend({queue:function queue(I,N,R){var queue;if(I)return N=(N||"fx")+"queue",queue=Rt.get(I,N),R&&(!queue||Array.isArray(R)?queue=Rt.access(I,N,ct.makeArray(R)):queue.push(R)),queue||[]},dequeue:function dequeue(I,N){var R=ct.queue(I,N=N||"fx"),U=R.length,$=R.shift(),B=ct._queueHooks(I,N);"inprogress"===$&&($=R.shift(),U--),$&&("fx"===N&&R.unshift("inprogress"),delete B.stop,$.call(I,(function next(){ct.dequeue(I,N)}),B)),!U&&B&&B.empty.fire()},_queueHooks:function _queueHooks(I,N){var R=N+"queueHooks";return Rt.get(I,R)||Rt.access(I,R,{empty:ct.Callbacks("once memory").add((function(){Rt.remove(I,[N+"queue",R])}))})}}),ct.fn.extend({queue:function queue(I,N){var R=2;return"string"!=typeof I&&(N=I,I="fx",R--),arguments.length<R?ct.queue(this[0],I):void 0===N?this:this.each((function(){var R=ct.queue(this,I,N);ct._queueHooks(this,I),"fx"===I&&"inprogress"!==R[0]&&ct.dequeue(this,I)}))},dequeue:function dequeue(I){return this.each((function(){ct.dequeue(this,I)}))},clearQueue:function clearQueue(I){return this.queue(I||"fx",[])},promise:function promise(I,N){var R,U=1,$=ct.Deferred(),B=this,H=this.length,V=function resolve(){--U||$.resolveWith(B,[B])};for("string"!=typeof I&&(N=I,I=void 0),I=I||"fx";H--;)(R=Rt.get(B[H],I+"queueHooks"))&&R.empty&&(U++,R.empty.add(V));return V(),$.promise(N)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],$t=at.documentElement,qt=function isAttached(I){return ct.contains(I.ownerDocument,I)},Bt={composed:!0};$t.getRootNode&&(qt=function isAttached(I){return ct.contains(I.ownerDocument,I)||I.getRootNode(Bt)===I.ownerDocument});var Ht=function isHiddenWithinTree(I,N){return"none"===(I=N||I).style.display||""===I.style.display&&qt(I)&&"none"===ct.css(I,"display")};function adjustCSS(I,N,R,U){var $,B,H=20,V=U?function(){return U.cur()}:function(){return ct.css(I,N,"")},W=V(),z=R&&R[3]||(ct.cssNumber[N]?"":"px"),X=I.nodeType&&(ct.cssNumber[N]||"px"!==z&&+W)&&Ft.exec(ct.css(I,N));if(X&&X[3]!==z){for(W/=2,z=z||X[3],X=+W||1;H--;)ct.style(I,N,X+z),(1-B)*(1-(B=V()/W||.5))<=0&&(H=0),X/=B;ct.style(I,N,(X*=2)+z),R=R||[]}return R&&(X=+X||+W||0,$=R[1]?X+(R[1]+1)*R[2]:+R[2],U&&(U.unit=z,U.start=X,U.end=$)),$}var Vt={};function getDefaultDisplay(I){var N,R=I.ownerDocument,U=I.nodeName,$=Vt[U];return $||(N=R.body.appendChild(R.createElement(U)),$=ct.css(N,"display"),N.parentNode.removeChild(N),"none"===$&&($="block"),Vt[U]=$,$)}function showHide(I,N){for(var R,U,$=[],B=0,H=I.length;B<H;B++)(U=I[B]).style&&(R=U.style.display,N?("none"===R&&($[B]=Rt.get(U,"display")||null,$[B]||(U.style.display="")),""===U.style.display&&Ht(U)&&($[B]=getDefaultDisplay(U))):"none"!==R&&($[B]="none",Rt.set(U,"display",R)));for(B=0;B<H;B++)null!=$[B]&&(I[B].style.display=$[B]);return I}ct.fn.extend({show:function show(){return showHide(this,!0)},hide:function hide(){return showHide(this)},toggle:function toggle(I){return"boolean"==typeof I?I?this.show():this.hide():this.each((function(){Ht(this)?ct(this).show():ct(this).hide()}))}});var Wt,zt,Gt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Kt=/^$|^module$|\/(?:java|ecma)script/i;Wt=at.createDocumentFragment().appendChild(at.createElement("div")),(zt=at.createElement("input")).setAttribute("type","radio"),zt.setAttribute("checked","checked"),zt.setAttribute("name","t"),Wt.appendChild(zt),nt.checkClone=Wt.cloneNode(!0).cloneNode(!0).lastChild.checked,Wt.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!Wt.cloneNode(!0).lastChild.defaultValue,Wt.innerHTML="<option></option>",nt.option=!!Wt.lastChild;var Yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(I,N){var R;return R=void 0!==I.getElementsByTagName?I.getElementsByTagName(N||"*"):void 0!==I.querySelectorAll?I.querySelectorAll(N||"*"):[],void 0===N||N&&nodeName(I,N)?ct.merge([I],R):R}function setGlobalEval(I,N){for(var R=0,U=I.length;R<U;R++)Rt.set(I[R],"globalEval",!N||Rt.get(N[R],"globalEval"))}Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,nt.option||(Yt.optgroup=Yt.option=[1,"<select multiple='multiple'>","</select>"]);var Qt=/<|&#?\w+;/;function buildFragment(I,N,R,U,$){for(var B,H,V,W,z,X,Q=N.createDocumentFragment(),J=[],Z=0,tt=I.length;Z<tt;Z++)if((B=I[Z])||0===B)if("object"===toType(B))ct.merge(J,B.nodeType?[B]:B);else if(Qt.test(B)){for(H=H||Q.appendChild(N.createElement("div")),V=(Xt.exec(B)||["",""])[1].toLowerCase(),W=Yt[V]||Yt._default,H.innerHTML=W[1]+ct.htmlPrefilter(B)+W[2],X=W[0];X--;)H=H.lastChild;ct.merge(J,H.childNodes),(H=Q.firstChild).textContent=""}else J.push(N.createTextNode(B));for(Q.textContent="",Z=0;B=J[Z++];)if(U&&ct.inArray(B,U)>-1)$&&$.push(B);else if(z=qt(B),H=getAll(Q.appendChild(B),"script"),z&&setGlobalEval(H),R)for(X=0;B=H[X++];)Kt.test(B.type||"")&&R.push(B);return Q}var Jt=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function _on(I,N,R,U,B,H){var V,W;if("object"===$(N)){for(W in"string"!=typeof R&&(U=U||R,R=void 0),N)_on(I,W,R,U,N[W],H);return I}if(null==U&&null==B?(B=R,U=R=void 0):null==B&&("string"==typeof R?(B=U,U=void 0):(B=U,U=R,R=void 0)),!1===B)B=returnFalse;else if(!B)return I;return 1===H&&(V=B,(B=function fn(I){return ct().off(I),V.apply(this,arguments)}).guid=V.guid||(V.guid=ct.guid++)),I.each((function(){ct.event.add(this,N,B,U,R)}))}function leverageNative(I,N,R){R?(Rt.set(I,N,!1),ct.event.add(I,N,{namespace:!1,handler:function handler(I){var R,U=Rt.get(this,N);if(1&I.isTrigger&&this[N]){if(U)(ct.event.special[N]||{}).delegateType&&I.stopPropagation();else if(U=W.call(arguments),Rt.set(this,N,U),this[N](),R=Rt.get(this,N),Rt.set(this,N,!1),U!==R)return I.stopImmediatePropagation(),I.preventDefault(),R}else U&&(Rt.set(this,N,ct.event.trigger(U[0],U.slice(1),this)),I.stopPropagation(),I.isImmediatePropagationStopped=returnTrue)}})):void 0===Rt.get(I,N)&&ct.event.add(I,N,returnTrue)}ct.event={global:{},add:function add(I,N,R,U,$){var B,H,V,W,z,X,Q,J,Z,tt,et,it=Rt.get(I);if(Dt(I))for(R.handler&&(R=(B=R).handler,$=B.selector),$&&ct.find.matchesSelector($t,$),R.guid||(R.guid=ct.guid++),(W=it.events)||(W=it.events=Object.create(null)),(H=it.handle)||(H=it.handle=function(N){return void 0!==ct&&ct.event.triggered!==N.type?ct.event.dispatch.apply(I,arguments):void 0}),z=(N=(N||"").match(kt)||[""]).length;z--;)Z=et=(V=Jt.exec(N[z])||[])[1],tt=(V[2]||"").split(".").sort(),Z&&(Q=ct.event.special[Z]||{},Z=($?Q.delegateType:Q.bindType)||Z,Q=ct.event.special[Z]||{},X=ct.extend({type:Z,origType:et,data:U,handler:R,guid:R.guid,selector:$,needsContext:$&&ct.expr.match.needsContext.test($),namespace:tt.join(".")},B),(J=W[Z])||((J=W[Z]=[]).delegateCount=0,Q.setup&&!1!==Q.setup.call(I,U,tt,H)||I.addEventListener&&I.addEventListener(Z,H)),Q.add&&(Q.add.call(I,X),X.handler.guid||(X.handler.guid=R.guid)),$?J.splice(J.delegateCount++,0,X):J.push(X),ct.event.global[Z]=!0)},remove:function remove(I,N,R,U,$){var B,H,V,W,z,X,Q,J,Z,tt,et,it=Rt.hasData(I)&&Rt.get(I);if(it&&(W=it.events)){for(z=(N=(N||"").match(kt)||[""]).length;z--;)if(Z=et=(V=Jt.exec(N[z])||[])[1],tt=(V[2]||"").split(".").sort(),Z){for(Q=ct.event.special[Z]||{},J=W[Z=(U?Q.delegateType:Q.bindType)||Z]||[],V=V[2]&&new RegExp("(^|\\.)"+tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),H=B=J.length;B--;)X=J[B],!$&&et!==X.origType||R&&R.guid!==X.guid||V&&!V.test(X.namespace)||U&&U!==X.selector&&("**"!==U||!X.selector)||(J.splice(B,1),X.selector&&J.delegateCount--,Q.remove&&Q.remove.call(I,X));H&&!J.length&&(Q.teardown&&!1!==Q.teardown.call(I,tt,it.handle)||ct.removeEvent(I,Z,it.handle),delete W[Z])}else for(Z in W)ct.event.remove(I,Z+N[z],R,U,!0);ct.isEmptyObject(W)&&Rt.remove(I,"handle events")}},dispatch:function dispatch(I){var N,R,U,$,B,H,V=new Array(arguments.length),W=ct.event.fix(I),z=(Rt.get(this,"events")||Object.create(null))[W.type]||[],X=ct.event.special[W.type]||{};for(V[0]=W,N=1;N<arguments.length;N++)V[N]=arguments[N];if(W.delegateTarget=this,!X.preDispatch||!1!==X.preDispatch.call(this,W)){for(H=ct.event.handlers.call(this,W,z),N=0;($=H[N++])&&!W.isPropagationStopped();)for(W.currentTarget=$.elem,R=0;(B=$.handlers[R++])&&!W.isImmediatePropagationStopped();)W.rnamespace&&!1!==B.namespace&&!W.rnamespace.test(B.namespace)||(W.handleObj=B,W.data=B.data,void 0!==(U=((ct.event.special[B.origType]||{}).handle||B.handler).apply($.elem,V))&&!1===(W.result=U)&&(W.preventDefault(),W.stopPropagation()));return X.postDispatch&&X.postDispatch.call(this,W),W.result}},handlers:function handlers(I,N){var R,U,$,B,H,V=[],W=N.delegateCount,z=I.target;if(W&&z.nodeType&&!("click"===I.type&&I.button>=1))for(;z!==this;z=z.parentNode||this)if(1===z.nodeType&&("click"!==I.type||!0!==z.disabled)){for(B=[],H={},R=0;R<W;R++)void 0===H[$=(U=N[R]).selector+" "]&&(H[$]=U.needsContext?ct($,this).index(z)>-1:ct.find($,this,null,[z]).length),H[$]&&B.push(U);B.length&&V.push({elem:z,handlers:B})}return z=this,W<N.length&&V.push({elem:z,handlers:N.slice(W)}),V},addProp:function addProp(I,N){Object.defineProperty(ct.Event.prototype,I,{enumerable:!0,configurable:!0,get:st(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[I]},set:function set(N){Object.defineProperty(this,I,{enumerable:!0,configurable:!0,writable:!0,value:N})}})},fix:function fix(I){return I[ct.expando]?I:new ct.Event(I)},special:{load:{noBubble:!0},click:{setup:function setup(I){var N=this||I;return Gt.test(N.type)&&N.click&&nodeName(N,"input")&&leverageNative(N,"click",!0),!1},trigger:function trigger(I){var N=this||I;return Gt.test(N.type)&&N.click&&nodeName(N,"input")&&leverageNative(N,"click"),!0},_default:function _default(I){var N=I.target;return Gt.test(N.type)&&N.click&&nodeName(N,"input")&&Rt.get(N,"click")||nodeName(N,"a")}},beforeunload:{postDispatch:function postDispatch(I){void 0!==I.result&&I.originalEvent&&(I.originalEvent.returnValue=I.result)}}}},ct.removeEvent=function(I,N,R){I.removeEventListener&&I.removeEventListener(N,R)},(ct.Event=function(I,N){if(!(this instanceof ct.Event))return new ct.Event(I,N);I&&I.type?(this.originalEvent=I,this.type=I.type,this.isDefaultPrevented=I.defaultPrevented||void 0===I.defaultPrevented&&!1===I.returnValue?returnTrue:returnFalse,this.target=I.target&&3===I.target.nodeType?I.target.parentNode:I.target,this.currentTarget=I.currentTarget,this.relatedTarget=I.relatedTarget):this.type=I,N&&ct.extend(this,N),this.timeStamp=I&&I.timeStamp||Date.now(),this[ct.expando]=!0}).prototype={constructor:ct.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function preventDefault(){var I=this.originalEvent;this.isDefaultPrevented=returnTrue,I&&!this.isSimulated&&I.preventDefault()},stopPropagation:function stopPropagation(){var I=this.originalEvent;this.isPropagationStopped=returnTrue,I&&!this.isSimulated&&I.stopPropagation()},stopImmediatePropagation:function stopImmediatePropagation(){var I=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,I&&!this.isSimulated&&I.stopImmediatePropagation(),this.stopPropagation()}},ct.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ct.event.addProp),ct.each({focus:"focusin",blur:"focusout"},(function(I,N){function focusMappedHandler(I){if(at.documentMode){var R=Rt.get(this,"handle"),U=ct.event.fix(I);U.type="focusin"===I.type?"focus":"blur",U.isSimulated=!0,R(I),U.target===U.currentTarget&&R(U)}else ct.event.simulate(N,I.target,ct.event.fix(I))}ct.event.special[I]={setup:function setup(){var R;if(leverageNative(this,I,!0),!at.documentMode)return!1;(R=Rt.get(this,N))||this.addEventListener(N,focusMappedHandler),Rt.set(this,N,(R||0)+1)},trigger:function trigger(){return leverageNative(this,I),!0},teardown:function teardown(){var I;if(!at.documentMode)return!1;(I=Rt.get(this,N)-1)?Rt.set(this,N,I):(this.removeEventListener(N,focusMappedHandler),Rt.remove(this,N))},_default:function _default(N){return Rt.get(N.target,I)},delegateType:N},ct.event.special[N]={setup:function setup(){var R=this.ownerDocument||this.document||this,U=at.documentMode?this:R,$=Rt.get(U,N);$||(at.documentMode?this.addEventListener(N,focusMappedHandler):R.addEventListener(I,focusMappedHandler,!0)),Rt.set(U,N,($||0)+1)},teardown:function teardown(){var R=this.ownerDocument||this.document||this,U=at.documentMode?this:R,$=Rt.get(U,N)-1;$?Rt.set(U,N,$):(at.documentMode?this.removeEventListener(N,focusMappedHandler):R.removeEventListener(I,focusMappedHandler,!0),Rt.remove(U,N))}}})),ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(I,N){ct.event.special[I]={delegateType:N,bindType:N,handle:function handle(I){var R,U=this,$=I.relatedTarget,B=I.handleObj;return $&&($===U||ct.contains(U,$))||(I.type=B.origType,R=B.handler.apply(this,arguments),I.type=N),R}}})),ct.fn.extend({on:function on(I,N,R,U){return _on(this,I,N,R,U)},one:function one(I,N,R,U){return _on(this,I,N,R,U,1)},off:function off(I,N,R){var U,B;if(I&&I.preventDefault&&I.handleObj)return U=I.handleObj,ct(I.delegateTarget).off(U.namespace?U.origType+"."+U.namespace:U.origType,U.selector,U.handler),this;if("object"===$(I)){for(B in I)this.off(B,N,I[B]);return this}return!1!==N&&"function"!=typeof N||(R=N,N=void 0),!1===R&&(R=returnFalse),this.each((function(){ct.event.remove(this,I,R,N)}))}});var Zt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(I,N){return nodeName(I,"table")&&nodeName(11!==N.nodeType?N:N.firstChild,"tr")&&ct(I).children("tbody")[0]||I}function disableScript(I){return I.type=(null!==I.getAttribute("type"))+"/"+I.type,I}function restoreScript(I){return"true/"===(I.type||"").slice(0,5)?I.type=I.type.slice(5):I.removeAttribute("type"),I}function cloneCopyEvent(I,N){var R,U,$,B,H,V;if(1===N.nodeType){if(Rt.hasData(I)&&(V=Rt.get(I).events))for($ in Rt.remove(N,"handle events"),V)for(R=0,U=V[$].length;R<U;R++)ct.event.add(N,$,V[$][R]);Lt.hasData(I)&&(B=Lt.access(I),H=ct.extend({},B),Lt.set(N,H))}}function fixInput(I,N){var R=N.nodeName.toLowerCase();"input"===R&&Gt.test(I.type)?N.checked=I.checked:"input"!==R&&"textarea"!==R||(N.defaultValue=I.defaultValue)}function domManip(I,N,R,U){N=z(N);var $,B,H,V,W,X,Q=0,J=I.length,Z=J-1,tt=N[0],et=st(tt);if(et||J>1&&"string"==typeof tt&&!nt.checkClone&&te.test(tt))return I.each((function($){var B=I.eq($);et&&(N[0]=tt.call(this,$,B.html())),domManip(B,N,R,U)}));if(J&&(B=($=buildFragment(N,I[0].ownerDocument,!1,I,U)).firstChild,1===$.childNodes.length&&($=B),B||U)){for(V=(H=ct.map(getAll($,"script"),disableScript)).length;Q<J;Q++)W=$,Q!==Z&&(W=ct.clone(W,!0,!0),V&&ct.merge(H,getAll(W,"script"))),R.call(I[Q],W,Q);if(V)for(X=H[H.length-1].ownerDocument,ct.map(H,restoreScript),Q=0;Q<V;Q++)W=H[Q],Kt.test(W.type||"")&&!Rt.access(W,"globalEval")&&ct.contains(X,W)&&(W.src&&"module"!==(W.type||"").toLowerCase()?ct._evalUrl&&!W.noModule&&ct._evalUrl(W.src,{nonce:W.nonce||W.getAttribute("nonce")},X):DOMEval(W.textContent.replace(ee,""),W,X))}return I}function _remove(I,N,R){for(var U,$=N?ct.filter(N,I):I,B=0;null!=(U=$[B]);B++)R||1!==U.nodeType||ct.cleanData(getAll(U)),U.parentNode&&(R&&qt(U)&&setGlobalEval(getAll(U,"script")),U.parentNode.removeChild(U));return I}ct.extend({htmlPrefilter:function htmlPrefilter(I){return I},clone:function clone(I,N,R){var U,$,B,H,clone=I.cloneNode(!0),V=qt(I);if(!(nt.noCloneChecked||1!==I.nodeType&&11!==I.nodeType||ct.isXMLDoc(I)))for(H=getAll(clone),U=0,$=(B=getAll(I)).length;U<$;U++)fixInput(B[U],H[U]);if(N)if(R)for(B=B||getAll(I),H=H||getAll(clone),U=0,$=B.length;U<$;U++)cloneCopyEvent(B[U],H[U]);else cloneCopyEvent(I,clone);return(H=getAll(clone,"script")).length>0&&setGlobalEval(H,!V&&getAll(I,"script")),clone},cleanData:function cleanData(I){for(var N,R,U,$=ct.event.special,B=0;void 0!==(R=I[B]);B++)if(Dt(R)){if(N=R[Rt.expando]){if(N.events)for(U in N.events)$[U]?ct.event.remove(R,U):ct.removeEvent(R,U,N.handle);R[Rt.expando]=void 0}R[Lt.expando]&&(R[Lt.expando]=void 0)}}}),ct.fn.extend({detach:function detach(I){return _remove(this,I,!0)},remove:function remove(I){return _remove(this,I)},text:function text(I){return At(this,(function(I){return void 0===I?ct.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=I)}))}),null,I,arguments.length)},append:function append(){return domManip(this,arguments,(function(I){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,I).appendChild(I)}))},prepend:function prepend(){return domManip(this,arguments,(function(I){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var N=manipulationTarget(this,I);N.insertBefore(I,N.firstChild)}}))},before:function before(){return domManip(this,arguments,(function(I){this.parentNode&&this.parentNode.insertBefore(I,this)}))},after:function after(){return domManip(this,arguments,(function(I){this.parentNode&&this.parentNode.insertBefore(I,this.nextSibling)}))},empty:function empty(){for(var I,N=0;null!=(I=this[N]);N++)1===I.nodeType&&(ct.cleanData(getAll(I,!1)),I.textContent="");return this},clone:function clone(I,N){return I=null!=I&&I,N=null==N?I:N,this.map((function(){return ct.clone(this,I,N)}))},html:function html(I){return At(this,(function(I){var N=this[0]||{},R=0,U=this.length;if(void 0===I&&1===N.nodeType)return N.innerHTML;if("string"==typeof I&&!Zt.test(I)&&!Yt[(Xt.exec(I)||["",""])[1].toLowerCase()]){I=ct.htmlPrefilter(I);try{for(;R<U;R++)1===(N=this[R]||{}).nodeType&&(ct.cleanData(getAll(N,!1)),N.innerHTML=I);N=0}catch(I){}}N&&this.empty().append(I)}),null,I,arguments.length)},replaceWith:function replaceWith(){var I=[];return domManip(this,arguments,(function(N){var R=this.parentNode;ct.inArray(this,I)<0&&(ct.cleanData(getAll(this)),R&&R.replaceChild(N,this))}),I)}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(I,N){ct.fn[I]=function(I){for(var R,U=[],$=ct(I),B=$.length-1,H=0;H<=B;H++)R=H===B?this:this.clone(!0),ct($[H])[N](R),X.apply(U,R.get());return this.pushStack(U)}}));var ie=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),ne=/^--/,se=function getStyles(I){var N=I.ownerDocument.defaultView;return N&&N.opener||(N=R),N.getComputedStyle(I)},re=function swap(I,N,R){var U,$,B={};for($ in N)B[$]=I.style[$],I.style[$]=N[$];for($ in U=R.call(I),N)I.style[$]=B[$];return U},ae=new RegExp(Ut.join("|"),"i");function curCSS(I,N,R){var U,$,B,H,V=ne.test(N),W=I.style;return(R=R||se(I))&&(H=R.getPropertyValue(N)||R[N],V&&H&&(H=H.replace(ft,"$1")||void 0),""!==H||qt(I)||(H=ct.style(I,N)),!nt.pixelBoxStyles()&&ie.test(H)&&ae.test(N)&&(U=W.width,$=W.minWidth,B=W.maxWidth,W.minWidth=W.maxWidth=W.width=H,H=R.width,W.width=U,W.minWidth=$,W.maxWidth=B)),void 0!==H?H+"":H}function addGetHookIf(I,N){return{get:function get(){if(!I())return(this.get=N).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(W){V.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",$t.appendChild(V).appendChild(W);var B=R.getComputedStyle(W);I="1%"!==B.top,H=12===roundPixelMeasures(B.marginLeft),W.style.right="60%",$=36===roundPixelMeasures(B.right),N=36===roundPixelMeasures(B.width),W.style.position="absolute",U=12===roundPixelMeasures(W.offsetWidth/3),$t.removeChild(V),W=null}}function roundPixelMeasures(I){return Math.round(parseFloat(I))}var I,N,U,$,B,H,V=at.createElement("div"),W=at.createElement("div");W.style&&(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===W.style.backgroundClip,ct.extend(nt,{boxSizingReliable:function boxSizingReliable(){return computeStyleTests(),N},pixelBoxStyles:function pixelBoxStyles(){return computeStyleTests(),$},pixelPosition:function pixelPosition(){return computeStyleTests(),I},reliableMarginLeft:function reliableMarginLeft(){return computeStyleTests(),H},scrollboxSize:function scrollboxSize(){return computeStyleTests(),U},reliableTrDimensions:function reliableTrDimensions(){var I,N,U,$;return null==B&&(I=at.createElement("table"),N=at.createElement("tr"),U=at.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",N.style.cssText="box-sizing:content-box;border:1px solid",N.style.height="1px",U.style.height="9px",U.style.display="block",$t.appendChild(I).appendChild(N).appendChild(U),$=R.getComputedStyle(N),B=parseInt($.height,10)+parseInt($.borderTopWidth,10)+parseInt($.borderBottomWidth,10)===N.offsetHeight,$t.removeChild(I)),B}}))}();var oe=["Webkit","Moz","ms"],le=at.createElement("div").style,ce={};function finalPropName(I){var N=ct.cssProps[I]||ce[I];return N||(I in le?I:ce[I]=function vendorPropName(I){for(var N=I[0].toUpperCase()+I.slice(1),R=oe.length;R--;)if((I=oe[R]+N)in le)return I}(I)||I)}var ue=/^(none|table(?!-c[ea]).+)/,he={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(I,N,R){var U=Ft.exec(N);return U?Math.max(0,U[2]-(R||0))+(U[3]||"px"):N}function boxModelAdjustment(I,N,R,U,$,B){var H="width"===N?1:0,V=0,W=0,z=0;if(R===(U?"border":"content"))return 0;for(;H<4;H+=2)"margin"===R&&(z+=ct.css(I,R+Ut[H],!0,$)),U?("content"===R&&(W-=ct.css(I,"padding"+Ut[H],!0,$)),"margin"!==R&&(W-=ct.css(I,"border"+Ut[H]+"Width",!0,$))):(W+=ct.css(I,"padding"+Ut[H],!0,$),"padding"!==R?W+=ct.css(I,"border"+Ut[H]+"Width",!0,$):V+=ct.css(I,"border"+Ut[H]+"Width",!0,$));return!U&&B>=0&&(W+=Math.max(0,Math.ceil(I["offset"+N[0].toUpperCase()+N.slice(1)]-B-W-V-.5))||0),W+z}function getWidthOrHeight(I,N,R){var U=se(I),$=(!nt.boxSizingReliable()||R)&&"border-box"===ct.css(I,"boxSizing",!1,U),B=$,H=curCSS(I,N,U),V="offset"+N[0].toUpperCase()+N.slice(1);if(ie.test(H)){if(!R)return H;H="auto"}return(!nt.boxSizingReliable()&&$||!nt.reliableTrDimensions()&&nodeName(I,"tr")||"auto"===H||!parseFloat(H)&&"inline"===ct.css(I,"display",!1,U))&&I.getClientRects().length&&($="border-box"===ct.css(I,"boxSizing",!1,U),(B=V in I)&&(H=I[V])),(H=parseFloat(H)||0)+boxModelAdjustment(I,N,R||($?"border":"content"),B,U,H)+"px"}function Tween(I,N,R,U,$){return new Tween.prototype.init(I,N,R,U,$)}ct.extend({cssHooks:{opacity:{get:function get(I,N){if(N){var R=curCSS(I,"opacity");return""===R?"1":R}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function style(I,N,R,U){if(I&&3!==I.nodeType&&8!==I.nodeType&&I.style){var B,H,V,W=camelCase(N),z=ne.test(N),style=I.style;if(z||(N=finalPropName(W)),V=ct.cssHooks[N]||ct.cssHooks[W],void 0===R)return V&&"get"in V&&void 0!==(B=V.get(I,!1,U))?B:style[N];"string"===(H=$(R))&&(B=Ft.exec(R))&&B[1]&&(R=adjustCSS(I,N,B),H="number"),null!=R&&R==R&&("number"!==H||z||(R+=B&&B[3]||(ct.cssNumber[W]?"":"px")),nt.clearCloneStyle||""!==R||0!==N.indexOf("background")||(style[N]="inherit"),V&&"set"in V&&void 0===(R=V.set(I,R,U))||(z?style.setProperty(N,R):style[N]=R))}},css:function css(I,N,R,U){var $,B,H,V=camelCase(N);return ne.test(N)||(N=finalPropName(V)),(H=ct.cssHooks[N]||ct.cssHooks[V])&&"get"in H&&($=H.get(I,!0,R)),void 0===$&&($=curCSS(I,N,U)),"normal"===$&&N in pe&&($=pe[N]),""===R||R?(B=parseFloat($),!0===R||isFinite(B)?B||0:$):$}}),ct.each(["height","width"],(function(I,N){ct.cssHooks[N]={get:function get(I,R,U){if(R)return!ue.test(ct.css(I,"display"))||I.getClientRects().length&&I.getBoundingClientRect().width?getWidthOrHeight(I,N,U):re(I,he,(function(){return getWidthOrHeight(I,N,U)}))},set:function set(I,R,U){var $,B=se(I),H=!nt.scrollboxSize()&&"absolute"===B.position,V=(H||U)&&"border-box"===ct.css(I,"boxSizing",!1,B),W=U?boxModelAdjustment(I,N,U,V,B):0;return V&&H&&(W-=Math.ceil(I["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(B[N])-boxModelAdjustment(I,N,"border",!1,B)-.5)),W&&($=Ft.exec(R))&&"px"!==($[3]||"px")&&(I.style[N]=R,R=ct.css(I,N)),setPositiveNumber(0,R,W)}}})),ct.cssHooks.marginLeft=addGetHookIf(nt.reliableMarginLeft,(function(I,N){if(N)return(parseFloat(curCSS(I,"marginLeft"))||I.getBoundingClientRect().left-re(I,{marginLeft:0},(function(){return I.getBoundingClientRect().left})))+"px"})),ct.each({margin:"",padding:"",border:"Width"},(function(I,N){ct.cssHooks[I+N]={expand:function expand(R){for(var U=0,$={},B="string"==typeof R?R.split(" "):[R];U<4;U++)$[I+Ut[U]+N]=B[U]||B[U-2]||B[0];return $}},"margin"!==I&&(ct.cssHooks[I+N].set=setPositiveNumber)})),ct.fn.extend({css:function css(I,N){return At(this,(function(I,N,R){var U,$,B={},H=0;if(Array.isArray(N)){for(U=se(I),$=N.length;H<$;H++)B[N[H]]=ct.css(I,N[H],!1,U);return B}return void 0!==R?ct.style(I,N,R):ct.css(I,N)}),I,N,arguments.length>1)}}),ct.Tween=Tween,Tween.prototype={constructor:Tween,init:function init(I,N,R,U,$,B){this.elem=I,this.prop=R,this.easing=$||ct.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=U,this.unit=B||(ct.cssNumber[R]?"":"px")},cur:function cur(){var I=Tween.propHooks[this.prop];return I&&I.get?I.get(this):Tween.propHooks._default.get(this)},run:function run(I){var N,R=Tween.propHooks[this.prop];return this.options.duration?this.pos=N=ct.easing[this.easing](I,this.options.duration*I,0,1,this.options.duration):this.pos=N=I,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),R&&R.set?R.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function get(I){var N;return 1!==I.elem.nodeType||null!=I.elem[I.prop]&&null==I.elem.style[I.prop]?I.elem[I.prop]:(N=ct.css(I.elem,I.prop,""))&&"auto"!==N?N:0},set:function set(I){ct.fx.step[I.prop]?ct.fx.step[I.prop](I):1!==I.elem.nodeType||!ct.cssHooks[I.prop]&&null==I.elem.style[finalPropName(I.prop)]?I.elem[I.prop]=I.now:ct.style(I.elem,I.prop,I.now+I.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function set(I){I.elem.nodeType&&I.elem.parentNode&&(I.elem[I.prop]=I.now)}},ct.easing={linear:function linear(I){return I},swing:function swing(I){return.5-Math.cos(I*Math.PI)/2},_default:"swing"},(ct.fx=Tween.prototype.init).step={};var de,fe,me=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;function schedule(){fe&&(!1===at.hidden&&R.requestAnimationFrame?R.requestAnimationFrame(schedule):R.setTimeout(schedule,ct.fx.interval),ct.fx.tick())}function createFxNow(){return R.setTimeout((function(){de=void 0})),de=Date.now()}function genFx(I,N){var R,U=0,$={height:I};for(N=N?1:0;U<4;U+=2-N)$["margin"+(R=Ut[U])]=$["padding"+R]=I;return N&&($.opacity=$.width=I),$}function createTween(I,N,R){for(var U,$=(Animation.tweeners[N]||[]).concat(Animation.tweeners["*"]),B=0,H=$.length;B<H;B++)if(U=$[B].call(R,N,I))return U}function Animation(I,N,R){var U,$,B=0,H=Animation.prefilters.length,V=ct.Deferred().always((function(){delete W.elem})),W=function tick(){if($)return!1;for(var N=de||createFxNow(),R=Math.max(0,z.startTime+z.duration-N),U=1-(R/z.duration||0),B=0,H=z.tweens.length;B<H;B++)z.tweens[B].run(U);return V.notifyWith(I,[z,U,R]),U<1&&H?R:(H||V.notifyWith(I,[z,1,0]),V.resolveWith(I,[z]),!1)},z=V.promise({elem:I,props:ct.extend({},N),opts:ct.extend(!0,{specialEasing:{},easing:ct.easing._default},R),originalProperties:N,originalOptions:R,startTime:de||createFxNow(),duration:R.duration,tweens:[],createTween:function createTween(N,R){var U=ct.Tween(I,z.opts,N,R,z.opts.specialEasing[N]||z.opts.easing);return z.tweens.push(U),U},stop:function stop(N){var R=0,U=N?z.tweens.length:0;if($)return this;for($=!0;R<U;R++)z.tweens[R].run(1);return N?(V.notifyWith(I,[z,1,0]),V.resolveWith(I,[z,N])):V.rejectWith(I,[z,N]),this}}),X=z.props;for(!function propFilter(I,N){var R,U,$,B,H;for(R in I)if($=N[U=camelCase(R)],B=I[R],Array.isArray(B)&&($=B[1],B=I[R]=B[0]),R!==U&&(I[U]=B,delete I[R]),(H=ct.cssHooks[U])&&"expand"in H)for(R in B=H.expand(B),delete I[U],B)R in I||(I[R]=B[R],N[R]=$);else N[U]=$}(X,z.opts.specialEasing);B<H;B++)if(U=Animation.prefilters[B].call(z,I,X,z.opts))return st(U.stop)&&(ct._queueHooks(z.elem,z.opts.queue).stop=U.stop.bind(U)),U;return ct.map(X,createTween,z),st(z.opts.start)&&z.opts.start.call(I,z),z.progress(z.opts.progress).done(z.opts.done,z.opts.complete).fail(z.opts.fail).always(z.opts.always),ct.fx.timer(ct.extend(W,{elem:I,anim:z,queue:z.opts.queue})),z}ct.Animation=ct.extend(Animation,{tweeners:{"*":[function(I,N){var R=this.createTween(I,N);return adjustCSS(R.elem,I,Ft.exec(N),R),R}]},tweener:function tweener(I,N){st(I)?(N=I,I=["*"]):I=I.match(kt);for(var R,U=0,$=I.length;U<$;U++)R=I[U],Animation.tweeners[R]=Animation.tweeners[R]||[],Animation.tweeners[R].unshift(N)},prefilters:[function defaultPrefilter(I,N,R){var U,$,B,H,V,W,z,X,Q="width"in N||"height"in N,J=this,Z={},tt=I.style,et=I.nodeType&&Ht(I),it=Rt.get(I,"fxshow");for(U in R.queue||(null==(H=ct._queueHooks(I,"fx")).unqueued&&(H.unqueued=0,V=H.empty.fire,H.empty.fire=function(){H.unqueued||V()}),H.unqueued++,J.always((function(){J.always((function(){H.unqueued--,ct.queue(I,"fx").length||H.empty.fire()}))}))),N)if($=N[U],me.test($)){if(delete N[U],B=B||"toggle"===$,$===(et?"hide":"show")){if("show"!==$||!it||void 0===it[U])continue;et=!0}Z[U]=it&&it[U]||ct.style(I,U)}if((W=!ct.isEmptyObject(N))||!ct.isEmptyObject(Z))for(U in Q&&1===I.nodeType&&(R.overflow=[tt.overflow,tt.overflowX,tt.overflowY],null==(z=it&&it.display)&&(z=Rt.get(I,"display")),"none"===(X=ct.css(I,"display"))&&(z?X=z:(showHide([I],!0),z=I.style.display||z,X=ct.css(I,"display"),showHide([I]))),("inline"===X||"inline-block"===X&&null!=z)&&"none"===ct.css(I,"float")&&(W||(J.done((function(){tt.display=z})),null==z&&(X=tt.display,z="none"===X?"":X)),tt.display="inline-block")),R.overflow&&(tt.overflow="hidden",J.always((function(){tt.overflow=R.overflow[0],tt.overflowX=R.overflow[1],tt.overflowY=R.overflow[2]}))),W=!1,Z)W||(it?"hidden"in it&&(et=it.hidden):it=Rt.access(I,"fxshow",{display:z}),B&&(it.hidden=!et),et&&showHide([I],!0),J.done((function(){for(U in et||showHide([I]),Rt.remove(I,"fxshow"),Z)ct.style(I,U,Z[U])}))),W=createTween(et?it[U]:0,U,J),U in it||(it[U]=W.start,et&&(W.end=W.start,W.start=0))}],prefilter:function prefilter(I,N){N?Animation.prefilters.unshift(I):Animation.prefilters.push(I)}}),ct.speed=function(I,N,R){var U=I&&"object"===$(I)?ct.extend({},I):{complete:R||!R&&N||st(I)&&I,duration:I,easing:R&&N||N&&!st(N)&&N};return ct.fx.off?U.duration=0:"number"!=typeof U.duration&&(U.duration in ct.fx.speeds?U.duration=ct.fx.speeds[U.duration]:U.duration=ct.fx.speeds._default),null!=U.queue&&!0!==U.queue||(U.queue="fx"),U.old=U.complete,U.complete=function(){st(U.old)&&U.old.call(this),U.queue&&ct.dequeue(this,U.queue)},U},ct.fn.extend({fadeTo:function fadeTo(I,N,R,U){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:N},I,R,U)},animate:function animate(I,N,R,U){var $=ct.isEmptyObject(I),B=ct.speed(N,R,U),H=function doAnimation(){var N=Animation(this,ct.extend({},I),B);($||Rt.get(this,"finish"))&&N.stop(!0)};return H.finish=H,$||!1===B.queue?this.each(H):this.queue(B.queue,H)},stop:function stop(I,N,R){var U=function stopQueue(I){var N=I.stop;delete I.stop,N(R)};return"string"!=typeof I&&(R=N,N=I,I=void 0),N&&this.queue(I||"fx",[]),this.each((function(){var N=!0,$=null!=I&&I+"queueHooks",B=ct.timers,H=Rt.get(this);if($)H[$]&&H[$].stop&&U(H[$]);else for($ in H)H[$]&&H[$].stop&&ge.test($)&&U(H[$]);for($=B.length;$--;)B[$].elem!==this||null!=I&&B[$].queue!==I||(B[$].anim.stop(R),N=!1,B.splice($,1));!N&&R||ct.dequeue(this,I)}))},finish:function finish(I){return!1!==I&&(I=I||"fx"),this.each((function(){var N,R=Rt.get(this),U=R[I+"queue"],$=R[I+"queueHooks"],B=ct.timers,H=U?U.length:0;for(R.finish=!0,ct.queue(this,I,[]),$&&$.stop&&$.stop.call(this,!0),N=B.length;N--;)B[N].elem===this&&B[N].queue===I&&(B[N].anim.stop(!0),B.splice(N,1));for(N=0;N<H;N++)U[N]&&U[N].finish&&U[N].finish.call(this);delete R.finish}))}}),ct.each(["toggle","show","hide"],(function(I,N){var R=ct.fn[N];ct.fn[N]=function(I,U,$){return null==I||"boolean"==typeof I?R.apply(this,arguments):this.animate(genFx(N,!0),I,U,$)}})),ct.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(I,N){ct.fn[I]=function(I,R,U){return this.animate(N,I,R,U)}})),ct.timers=[],ct.fx.tick=function(){var I,N=0,R=ct.timers;for(de=Date.now();N<R.length;N++)(I=R[N])()||R[N]!==I||R.splice(N--,1);R.length||ct.fx.stop(),de=void 0},ct.fx.timer=function(I){ct.timers.push(I),ct.fx.start()},ct.fx.interval=13,ct.fx.start=function(){fe||(fe=!0,schedule())},ct.fx.stop=function(){fe=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fn.delay=function(I,N){return I=ct.fx&&ct.fx.speeds[I]||I,N=N||"fx",this.queue(N,(function(N,U){var $=R.setTimeout(N,I);U.stop=function(){R.clearTimeout($)}}))},function(){var I=at.createElement("input"),N=at.createElement("select").appendChild(at.createElement("option"));I.type="checkbox",nt.checkOn=""!==I.value,nt.optSelected=N.selected,(I=at.createElement("input")).value="t",I.type="radio",nt.radioValue="t"===I.value}();var ve,be=ct.expr.attrHandle;ct.fn.extend({attr:function attr(I,N){return At(this,ct.attr,I,N,arguments.length>1)},removeAttr:function removeAttr(I){return this.each((function(){ct.removeAttr(this,I)}))}}),ct.extend({attr:function attr(I,N,R){var U,$,B=I.nodeType;if(3!==B&&8!==B&&2!==B)return void 0===I.getAttribute?ct.prop(I,N,R):(1===B&&ct.isXMLDoc(I)||($=ct.attrHooks[N.toLowerCase()]||(ct.expr.match.bool.test(N)?ve:void 0)),void 0!==R?null===R?void ct.removeAttr(I,N):$&&"set"in $&&void 0!==(U=$.set(I,R,N))?U:(I.setAttribute(N,R+""),R):$&&"get"in $&&null!==(U=$.get(I,N))?U:null==(U=ct.find.attr(I,N))?void 0:U)},attrHooks:{type:{set:function set(I,N){if(!nt.radioValue&&"radio"===N&&nodeName(I,"input")){var R=I.value;return I.setAttribute("type",N),R&&(I.value=R),N}}}},removeAttr:function removeAttr(I,N){var R,U=0,$=N&&N.match(kt);if($&&1===I.nodeType)for(;R=$[U++];)I.removeAttribute(R)}}),ve={set:function set(I,N,R){return!1===N?ct.removeAttr(I,R):I.setAttribute(R,R),R}},ct.each(ct.expr.match.bool.source.match(/\w+/g),(function(I,N){var R=be[N]||ct.find.attr;be[N]=function(I,N,U){var $,B,H=N.toLowerCase();return U||(B=be[H],be[H]=$,$=null!=R(I,N,U)?H:null,be[H]=B),$}}));var _e=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function stripAndCollapse(I){return(I.match(kt)||[]).join(" ")}function getClass(I){return I.getAttribute&&I.getAttribute("class")||""}function classesToArray(I){return Array.isArray(I)?I:"string"==typeof I&&I.match(kt)||[]}ct.fn.extend({prop:function prop(I,N){return At(this,ct.prop,I,N,arguments.length>1)},removeProp:function removeProp(I){return this.each((function(){delete this[ct.propFix[I]||I]}))}}),ct.extend({prop:function prop(I,N,R){var U,$,B=I.nodeType;if(3!==B&&8!==B&&2!==B)return 1===B&&ct.isXMLDoc(I)||(N=ct.propFix[N]||N,$=ct.propHooks[N]),void 0!==R?$&&"set"in $&&void 0!==(U=$.set(I,R,N))?U:I[N]=R:$&&"get"in $&&null!==(U=$.get(I,N))?U:I[N]},propHooks:{tabIndex:{get:function get(I){var N=ct.find.attr(I,"tabindex");return N?parseInt(N,10):_e.test(I.nodeName)||ye.test(I.nodeName)&&I.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),nt.optSelected||(ct.propHooks.selected={get:function get(I){var N=I.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function set(I){var N=I.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ct.propFix[this.toLowerCase()]=this})),ct.fn.extend({addClass:function addClass(I){var N,R,U,$,B,H;return st(I)?this.each((function(N){ct(this).addClass(I.call(this,N,getClass(this)))})):(N=classesToArray(I)).length?this.each((function(){if(U=getClass(this),R=1===this.nodeType&&" "+stripAndCollapse(U)+" "){for(B=0;B<N.length;B++)$=N[B],R.indexOf(" "+$+" ")<0&&(R+=$+" ");H=stripAndCollapse(R),U!==H&&this.setAttribute("class",H)}})):this},removeClass:function removeClass(I){var N,R,U,$,B,H;return st(I)?this.each((function(N){ct(this).removeClass(I.call(this,N,getClass(this)))})):arguments.length?(N=classesToArray(I)).length?this.each((function(){if(U=getClass(this),R=1===this.nodeType&&" "+stripAndCollapse(U)+" "){for(B=0;B<N.length;B++)for($=N[B];R.indexOf(" "+$+" ")>-1;)R=R.replace(" "+$+" "," ");H=stripAndCollapse(R),U!==H&&this.setAttribute("class",H)}})):this:this.attr("class","")},toggleClass:function toggleClass(I,N){var R,U,B,H,V=$(I),W="string"===V||Array.isArray(I);return st(I)?this.each((function(R){ct(this).toggleClass(I.call(this,R,getClass(this),N),N)})):"boolean"==typeof N&&W?N?this.addClass(I):this.removeClass(I):(R=classesToArray(I),this.each((function(){if(W)for(H=ct(this),B=0;B<R.length;B++)U=R[B],H.hasClass(U)?H.removeClass(U):H.addClass(U);else void 0!==I&&"boolean"!==V||((U=getClass(this))&&Rt.set(this,"__className__",U),this.setAttribute&&this.setAttribute("class",U||!1===I?"":Rt.get(this,"__className__")||""))})))},hasClass:function hasClass(I){var N,R,U=0;for(N=" "+I+" ";R=this[U++];)if(1===R.nodeType&&(" "+stripAndCollapse(getClass(R))+" ").indexOf(N)>-1)return!0;return!1}});var xe=/\r/g;ct.fn.extend({val:function val(I){var N,R,U,$=this[0];return arguments.length?(U=st(I),this.each((function(R){var $;1===this.nodeType&&(null==($=U?I.call(this,R,ct(this).val()):I)?$="":"number"==typeof $?$+="":Array.isArray($)&&($=ct.map($,(function(I){return null==I?"":I+""}))),(N=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()])&&"set"in N&&void 0!==N.set(this,$,"value")||(this.value=$))}))):$?(N=ct.valHooks[$.type]||ct.valHooks[$.nodeName.toLowerCase()])&&"get"in N&&void 0!==(R=N.get($,"value"))?R:"string"==typeof(R=$.value)?R.replace(xe,""):null==R?"":R:void 0}}),ct.extend({valHooks:{option:{get:function get(I){var N=ct.find.attr(I,"value");return null!=N?N:stripAndCollapse(ct.text(I))}},select:{get:function get(I){var N,R,U,$=I.options,B=I.selectedIndex,H="select-one"===I.type,V=H?null:[],W=H?B+1:$.length;for(U=B<0?W:H?B:0;U<W;U++)if(((R=$[U]).selected||U===B)&&!R.disabled&&(!R.parentNode.disabled||!nodeName(R.parentNode,"optgroup"))){if(N=ct(R).val(),H)return N;V.push(N)}return V},set:function set(I,N){for(var R,U,$=I.options,B=ct.makeArray(N),H=$.length;H--;)((U=$[H]).selected=ct.inArray(ct.valHooks.option.get(U),B)>-1)&&(R=!0);return R||(I.selectedIndex=-1),B}}}}),ct.each(["radio","checkbox"],(function(){ct.valHooks[this]={set:function set(I,N){if(Array.isArray(N))return I.checked=ct.inArray(ct(I).val(),N)>-1}},nt.checkOn||(ct.valHooks[this].get=function(I){return null===I.getAttribute("value")?"on":I.value})}));var we=R.location,Te={guid:Date.now()},Ee=/\?/;ct.parseXML=function(I){var N,U;if(!I||"string"!=typeof I)return null;try{N=(new R.DOMParser).parseFromString(I,"text/xml")}catch(I){}return U=N&&N.getElementsByTagName("parsererror")[0],N&&!U||ct.error("Invalid XML: "+(U?ct.map(U.childNodes,(function(I){return I.textContent})).join("\n"):I)),N};var Se=/^(?:focusinfocus|focusoutblur)$/,ke=function stopPropagationCallback(I){I.stopPropagation()};ct.extend(ct.event,{trigger:function trigger(I,N,U,B){var H,V,W,z,X,Q,J,Z,et=[U||at],it=tt.call(I,"type")?I.type:I,nt=tt.call(I,"namespace")?I.namespace.split("."):[];if(V=Z=W=U=U||at,3!==U.nodeType&&8!==U.nodeType&&!Se.test(it+ct.event.triggered)&&(it.indexOf(".")>-1&&(nt=it.split("."),it=nt.shift(),nt.sort()),X=it.indexOf(":")<0&&"on"+it,(I=I[ct.expando]?I:new ct.Event(it,"object"===$(I)&&I)).isTrigger=B?2:3,I.namespace=nt.join("."),I.rnamespace=I.namespace?new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,I.result=void 0,I.target||(I.target=U),N=null==N?[I]:ct.makeArray(N,[I]),J=ct.event.special[it]||{},B||!J.trigger||!1!==J.trigger.apply(U,N))){if(!B&&!J.noBubble&&!rt(U)){for(z=J.delegateType||it,Se.test(z+it)||(V=V.parentNode);V;V=V.parentNode)et.push(V),W=V;W===(U.ownerDocument||at)&&et.push(W.defaultView||W.parentWindow||R)}for(H=0;(V=et[H++])&&!I.isPropagationStopped();)Z=V,I.type=H>1?z:J.bindType||it,(Q=(Rt.get(V,"events")||Object.create(null))[I.type]&&Rt.get(V,"handle"))&&Q.apply(V,N),(Q=X&&V[X])&&Q.apply&&Dt(V)&&(I.result=Q.apply(V,N),!1===I.result&&I.preventDefault());return I.type=it,B||I.isDefaultPrevented()||J._default&&!1!==J._default.apply(et.pop(),N)||!Dt(U)||X&&st(U[it])&&!rt(U)&&((W=U[X])&&(U[X]=null),ct.event.triggered=it,I.isPropagationStopped()&&Z.addEventListener(it,ke),U[it](),I.isPropagationStopped()&&Z.removeEventListener(it,ke),ct.event.triggered=void 0,W&&(U[X]=W)),I.result}},simulate:function simulate(I,N,R){var U=ct.extend(new ct.Event,R,{type:I,isSimulated:!0});ct.event.trigger(U,null,N)}}),ct.fn.extend({trigger:function trigger(I,N){return this.each((function(){ct.event.trigger(I,N,this)}))},triggerHandler:function triggerHandler(I,N){var R=this[0];if(R)return ct.event.trigger(I,N,R,!0)}});var Ce=/\[\]$/,Oe=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function buildParams(I,N,R,U){var B;if(Array.isArray(N))ct.each(N,(function(N,B){R||Ce.test(I)?U(I,B):buildParams(I+"["+("object"===$(B)&&null!=B?N:"")+"]",B,R,U)}));else if(R||"object"!==toType(N))U(I,N);else for(B in N)buildParams(I+"["+B+"]",N[B],R,U)}ct.param=function(I,N){var R,U=[],$=function add(I,N){var R=st(N)?N():N;U[U.length]=encodeURIComponent(I)+"="+encodeURIComponent(null==R?"":R)};if(null==I)return"";if(Array.isArray(I)||I.jquery&&!ct.isPlainObject(I))ct.each(I,(function(){$(this.name,this.value)}));else for(R in I)buildParams(R,I[R],N,$);return U.join("&")},ct.fn.extend({serialize:function serialize(){return ct.param(this.serializeArray())},serializeArray:function serializeArray(){return this.map((function(){var I=ct.prop(this,"elements");return I?ct.makeArray(I):this})).filter((function(){var I=this.type;return this.name&&!ct(this).is(":disabled")&&Ie.test(this.nodeName)&&!Ae.test(I)&&(this.checked||!Gt.test(I))})).map((function(I,N){var R=ct(this).val();return null==R?null:Array.isArray(R)?ct.map(R,(function(I){return{name:N.name,value:I.replace(Oe,"\r\n")}})):{name:N.name,value:R.replace(Oe,"\r\n")}})).get()}});var Ne=/%20/g,De=/#.*$/,Re=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Me=/^\/\//,je={},Fe={},Ue="*/".concat("*"),$e=at.createElement("a");function addToPrefiltersOrTransports(I){return function(N,R){"string"!=typeof N&&(R=N,N="*");var U,$=0,B=N.toLowerCase().match(kt)||[];if(st(R))for(;U=B[$++];)"+"===U[0]?(U=U.slice(1)||"*",(I[U]=I[U]||[]).unshift(R)):(I[U]=I[U]||[]).push(R)}}function inspectPrefiltersOrTransports(I,N,R,U){var $={},B=I===Fe;function inspect(H){var V;return $[H]=!0,ct.each(I[H]||[],(function(I,H){var W=H(N,R,U);return"string"!=typeof W||B||$[W]?B?!(V=W):void 0:(N.dataTypes.unshift(W),inspect(W),!1)})),V}return inspect(N.dataTypes[0])||!$["*"]&&inspect("*")}function ajaxExtend(I,N){var R,U,$=ct.ajaxSettings.flatOptions||{};for(R in N)void 0!==N[R]&&(($[R]?I:U||(U={}))[R]=N[R]);return U&&ct.extend(!0,I,U),I}$e.href=we.href,ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function ajaxSetup(I,N){return N?ajaxExtend(ajaxExtend(I,ct.ajaxSettings),N):ajaxExtend(ct.ajaxSettings,I)},ajaxPrefilter:addToPrefiltersOrTransports(je),ajaxTransport:addToPrefiltersOrTransports(Fe),ajax:function ajax(I,N){"object"===$(I)&&(N=I,I=void 0);var U,B,H,V,W,z,X,Q,J,Z,tt=ct.ajaxSetup({},N=N||{}),et=tt.context||tt,it=tt.context&&(et.nodeType||et.jquery)?ct(et):ct.event,nt=ct.Deferred(),st=ct.Callbacks("once memory"),rt=tt.statusCode||{},ot={},lt={},ut="canceled",ht={readyState:0,getResponseHeader:function getResponseHeader(I){var N;if(X){if(!V)for(V={};N=Le.exec(H);)V[N[1].toLowerCase()+" "]=(V[N[1].toLowerCase()+" "]||[]).concat(N[2]);N=V[I.toLowerCase()+" "]}return null==N?null:N.join(", ")},getAllResponseHeaders:function getAllResponseHeaders(){return X?H:null},setRequestHeader:function setRequestHeader(I,N){return null==X&&(I=lt[I.toLowerCase()]=lt[I.toLowerCase()]||I,ot[I]=N),this},overrideMimeType:function overrideMimeType(I){return null==X&&(tt.mimeType=I),this},statusCode:function statusCode(I){var N;if(I)if(X)ht.always(I[ht.status]);else for(N in I)rt[N]=[rt[N],I[N]];return this},abort:function abort(I){var N=I||ut;return U&&U.abort(N),done(0,N),this}};if(nt.promise(ht),tt.url=((I||tt.url||we.href)+"").replace(Me,we.protocol+"//"),tt.type=N.method||N.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(kt)||[""],null==tt.crossDomain){z=at.createElement("a");try{z.href=tt.url,z.href=z.href,tt.crossDomain=$e.protocol+"//"+$e.host!=z.protocol+"//"+z.host}catch(I){tt.crossDomain=!0}}if(tt.data&&tt.processData&&"string"!=typeof tt.data&&(tt.data=ct.param(tt.data,tt.traditional)),inspectPrefiltersOrTransports(je,tt,N,ht),X)return ht;for(J in(Q=ct.event&&tt.global)&&0==ct.active++&&ct.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!Pe.test(tt.type),B=tt.url.replace(De,""),tt.hasContent?tt.data&&tt.processData&&0===(tt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(tt.data=tt.data.replace(Ne,"+")):(Z=tt.url.slice(B.length),tt.data&&(tt.processData||"string"==typeof tt.data)&&(B+=(Ee.test(B)?"&":"?")+tt.data,delete tt.data),!1===tt.cache&&(B=B.replace(Re,"$1"),Z=(Ee.test(B)?"&":"?")+"_="+Te.guid+++Z),tt.url=B+Z),tt.ifModified&&(ct.lastModified[B]&&ht.setRequestHeader("If-Modified-Since",ct.lastModified[B]),ct.etag[B]&&ht.setRequestHeader("If-None-Match",ct.etag[B])),(tt.data&&tt.hasContent&&!1!==tt.contentType||N.contentType)&&ht.setRequestHeader("Content-Type",tt.contentType),ht.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+("*"!==tt.dataTypes[0]?", "+Ue+"; q=0.01":""):tt.accepts["*"]),tt.headers)ht.setRequestHeader(J,tt.headers[J]);if(tt.beforeSend&&(!1===tt.beforeSend.call(et,ht,tt)||X))return ht.abort();if(ut="abort",st.add(tt.complete),ht.done(tt.success),ht.fail(tt.error),U=inspectPrefiltersOrTransports(Fe,tt,N,ht)){if(ht.readyState=1,Q&&it.trigger("ajaxSend",[ht,tt]),X)return ht;tt.async&&tt.timeout>0&&(W=R.setTimeout((function(){ht.abort("timeout")}),tt.timeout));try{X=!1,U.send(ot,done)}catch(I){if(X)throw I;done(-1,I)}}else done(-1,"No Transport");function done(I,N,$,V){var z,J,Z,at,ot,lt=N;X||(X=!0,W&&R.clearTimeout(W),U=void 0,H=V||"",ht.readyState=I>0?4:0,z=I>=200&&I<300||304===I,$&&(at=function ajaxHandleResponses(I,N,R){for(var U,$,B,H,V=I.contents,W=I.dataTypes;"*"===W[0];)W.shift(),void 0===U&&(U=I.mimeType||N.getResponseHeader("Content-Type"));if(U)for($ in V)if(V[$]&&V[$].test(U)){W.unshift($);break}if(W[0]in R)B=W[0];else{for($ in R){if(!W[0]||I.converters[$+" "+W[0]]){B=$;break}H||(H=$)}B=B||H}if(B)return B!==W[0]&&W.unshift(B),R[B]}(tt,ht,$)),!z&&ct.inArray("script",tt.dataTypes)>-1&&ct.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),at=function ajaxConvert(I,N,R,U){var $,B,H,V,W,z={},X=I.dataTypes.slice();if(X[1])for(H in I.converters)z[H.toLowerCase()]=I.converters[H];for(B=X.shift();B;)if(I.responseFields[B]&&(R[I.responseFields[B]]=N),!W&&U&&I.dataFilter&&(N=I.dataFilter(N,I.dataType)),W=B,B=X.shift())if("*"===B)B=W;else if("*"!==W&&W!==B){if(!(H=z[W+" "+B]||z["* "+B]))for($ in z)if((V=$.split(" "))[1]===B&&(H=z[W+" "+V[0]]||z["* "+V[0]])){!0===H?H=z[$]:!0!==z[$]&&(B=V[0],X.unshift(V[1]));break}if(!0!==H)if(H&&I.throws)N=H(N);else try{N=H(N)}catch(I){return{state:"parsererror",error:H?I:"No conversion from "+W+" to "+B}}}return{state:"success",data:N}}(tt,at,ht,z),z?(tt.ifModified&&((ot=ht.getResponseHeader("Last-Modified"))&&(ct.lastModified[B]=ot),(ot=ht.getResponseHeader("etag"))&&(ct.etag[B]=ot)),204===I||"HEAD"===tt.type?lt="nocontent":304===I?lt="notmodified":(lt=at.state,J=at.data,z=!(Z=at.error))):(Z=lt,!I&&lt||(lt="error",I<0&&(I=0))),ht.status=I,ht.statusText=(N||lt)+"",z?nt.resolveWith(et,[J,lt,ht]):nt.rejectWith(et,[ht,lt,Z]),ht.statusCode(rt),rt=void 0,Q&&it.trigger(z?"ajaxSuccess":"ajaxError",[ht,tt,z?J:Z]),st.fireWith(et,[ht,lt]),Q&&(it.trigger("ajaxComplete",[ht,tt]),--ct.active||ct.event.trigger("ajaxStop")))}return ht},getJSON:function getJSON(I,N,R){return ct.get(I,N,R,"json")},getScript:function getScript(I,N){return ct.get(I,void 0,N,"script")}}),ct.each(["get","post"],(function(I,N){ct[N]=function(I,R,U,$){return st(R)&&($=$||U,U=R,R=void 0),ct.ajax(ct.extend({url:I,type:N,dataType:$,data:R,success:U},ct.isPlainObject(I)&&I))}})),ct.ajaxPrefilter((function(I){var N;for(N in I.headers)"content-type"===N.toLowerCase()&&(I.contentType=I.headers[N]||"")})),ct._evalUrl=function(I,N,R){return ct.ajax({url:I,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function textScript(){}},dataFilter:function dataFilter(I){ct.globalEval(I,N,R)}})},ct.fn.extend({wrapAll:function wrapAll(I){var N;return this[0]&&(st(I)&&(I=I.call(this[0])),N=ct(I,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map((function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I})).append(this)),this},wrapInner:function wrapInner(I){return st(I)?this.each((function(N){ct(this).wrapInner(I.call(this,N))})):this.each((function(){var N=ct(this),R=N.contents();R.length?R.wrapAll(I):N.append(I)}))},wrap:function wrap(I){var N=st(I);return this.each((function(R){ct(this).wrapAll(N?I.call(this,R):I)}))},unwrap:function unwrap(I){return this.parent(I).not("body").each((function(){ct(this).replaceWith(this.childNodes)})),this}}),ct.expr.pseudos.hidden=function(I){return!ct.expr.pseudos.visible(I)},ct.expr.pseudos.visible=function(I){return!!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)},ct.ajaxSettings.xhr=function(){try{return new R.XMLHttpRequest}catch(I){}};var qe={0:200,1223:204},Be=ct.ajaxSettings.xhr();nt.cors=!!Be&&"withCredentials"in Be,nt.ajax=Be=!!Be,ct.ajaxTransport((function(I){var N,U;if(nt.cors||Be&&!I.crossDomain)return{send:function send($,B){var H,V=I.xhr();if(V.open(I.type,I.url,I.async,I.username,I.password),I.xhrFields)for(H in I.xhrFields)V[H]=I.xhrFields[H];for(H in I.mimeType&&V.overrideMimeType&&V.overrideMimeType(I.mimeType),I.crossDomain||$["X-Requested-With"]||($["X-Requested-With"]="XMLHttpRequest"),$)V.setRequestHeader(H,$[H]);N=function callback(I){return function(){N&&(N=U=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,"abort"===I?V.abort():"error"===I?"number"!=typeof V.status?B(0,"error"):B(V.status,V.statusText):B(qe[V.status]||V.status,V.statusText,"text"!==(V.responseType||"text")||"string"!=typeof V.responseText?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=N(),U=V.onerror=V.ontimeout=N("error"),void 0!==V.onabort?V.onabort=U:V.onreadystatechange=function(){4===V.readyState&&R.setTimeout((function(){N&&U()}))},N=N("abort");try{V.send(I.hasContent&&I.data||null)}catch(I){if(N)throw I}},abort:function abort(){N&&N()}}})),ct.ajaxPrefilter((function(I){I.crossDomain&&(I.contents.script=!1)})),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function textScript(I){return ct.globalEval(I),I}}}),ct.ajaxPrefilter("script",(function(I){void 0===I.cache&&(I.cache=!1),I.crossDomain&&(I.type="GET")})),ct.ajaxTransport("script",(function(I){var N,R;if(I.crossDomain||I.scriptAttrs)return{send:function send(U,$){N=ct("<script>").attr(I.scriptAttrs||{}).prop({charset:I.scriptCharset,src:I.url}).on("load error",R=function callback(I){N.remove(),R=null,I&&$("error"===I.type?404:200,I.type)}),at.head.appendChild(N[0])},abort:function abort(){R&&R()}}}));var He,Ve=[],We=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function jsonpCallback(){var I=Ve.pop()||ct.expando+"_"+Te.guid++;return this[I]=!0,I}}),ct.ajaxPrefilter("json jsonp",(function(I,N,U){var $,B,H,V=!1!==I.jsonp&&(We.test(I.url)?"url":"string"==typeof I.data&&0===(I.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(I.data)&&"data");if(V||"jsonp"===I.dataTypes[0])return $=I.jsonpCallback=st(I.jsonpCallback)?I.jsonpCallback():I.jsonpCallback,V?I[V]=I[V].replace(We,"$1"+$):!1!==I.jsonp&&(I.url+=(Ee.test(I.url)?"&":"?")+I.jsonp+"="+$),I.converters["script json"]=function(){return H||ct.error($+" was not called"),H[0]},I.dataTypes[0]="json",B=R[$],R[$]=function(){H=arguments},U.always((function(){void 0===B?ct(R).removeProp($):R[$]=B,I[$]&&(I.jsonpCallback=N.jsonpCallback,Ve.push($)),H&&st(B)&&B(H[0]),H=B=void 0})),"script"})),nt.createHTMLDocument=((He=at.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),ct.parseHTML=function(I,N,R){return"string"!=typeof I?[]:("boolean"==typeof N&&(R=N,N=!1),N||(nt.createHTMLDocument?((U=(N=at.implementation.createHTMLDocument("")).createElement("base")).href=at.location.href,N.head.appendChild(U)):N=at),B=!R&&[],($=xt.exec(I))?[N.createElement($[1])]:($=buildFragment([I],N,B),B&&B.length&&ct(B).remove(),ct.merge([],$.childNodes)));var U,$,B},ct.fn.load=function(I,N,R){var U,B,H,V=this,W=I.indexOf(" ");return W>-1&&(U=stripAndCollapse(I.slice(W)),I=I.slice(0,W)),st(N)?(R=N,N=void 0):N&&"object"===$(N)&&(B="POST"),V.length>0&&ct.ajax({url:I,type:B||"GET",dataType:"html",data:N}).done((function(I){H=arguments,V.html(U?ct("<div>").append(ct.parseHTML(I)).find(U):I)})).always(R&&function(I,N){V.each((function(){R.apply(this,H||[I.responseText,N,I])}))}),this},ct.expr.pseudos.animated=function(I){return ct.grep(ct.timers,(function(N){return I===N.elem})).length},ct.offset={setOffset:function setOffset(I,N,R){var U,$,B,H,V,W,z=ct.css(I,"position"),X=ct(I),Q={};"static"===z&&(I.style.position="relative"),V=X.offset(),B=ct.css(I,"top"),W=ct.css(I,"left"),("absolute"===z||"fixed"===z)&&(B+W).indexOf("auto")>-1?(H=(U=X.position()).top,$=U.left):(H=parseFloat(B)||0,$=parseFloat(W)||0),st(N)&&(N=N.call(I,R,ct.extend({},V))),null!=N.top&&(Q.top=N.top-V.top+H),null!=N.left&&(Q.left=N.left-V.left+$),"using"in N?N.using.call(I,Q):X.css(Q)}},ct.fn.extend({offset:function offset(I){if(arguments.length)return void 0===I?this:this.each((function(N){ct.offset.setOffset(this,I,N)}));var N,R,U=this[0];return U?U.getClientRects().length?(N=U.getBoundingClientRect(),R=U.ownerDocument.defaultView,{top:N.top+R.pageYOffset,left:N.left+R.pageXOffset}):{top:0,left:0}:void 0},position:function position(){if(this[0]){var I,N,R,U=this[0],$={top:0,left:0};if("fixed"===ct.css(U,"position"))N=U.getBoundingClientRect();else{for(N=this.offset(),R=U.ownerDocument,I=U.offsetParent||R.documentElement;I&&(I===R.body||I===R.documentElement)&&"static"===ct.css(I,"position");)I=I.parentNode;I&&I!==U&&1===I.nodeType&&(($=ct(I).offset()).top+=ct.css(I,"borderTopWidth",!0),$.left+=ct.css(I,"borderLeftWidth",!0))}return{top:N.top-$.top-ct.css(U,"marginTop",!0),left:N.left-$.left-ct.css(U,"marginLeft",!0)}}},offsetParent:function offsetParent(){return this.map((function(){for(var I=this.offsetParent;I&&"static"===ct.css(I,"position");)I=I.offsetParent;return I||$t}))}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(I,N){var R="pageYOffset"===N;ct.fn[I]=function(U){return At(this,(function(I,U,$){var B;if(rt(I)?B=I:9===I.nodeType&&(B=I.defaultView),void 0===$)return B?B[N]:I[U];B?B.scrollTo(R?B.pageXOffset:$,R?$:B.pageYOffset):I[U]=$}),I,U,arguments.length)}})),ct.each(["top","left"],(function(I,N){ct.cssHooks[N]=addGetHookIf(nt.pixelPosition,(function(I,R){if(R)return R=curCSS(I,N),ie.test(R)?ct(I).position()[N]+"px":R}))})),ct.each({Height:"height",Width:"width"},(function(I,N){ct.each({padding:"inner"+I,content:N,"":"outer"+I},(function(R,U){ct.fn[U]=function($,B){var H=arguments.length&&(R||"boolean"!=typeof $),V=R||(!0===$||!0===B?"margin":"border");return At(this,(function(N,R,$){var B;return rt(N)?0===U.indexOf("outer")?N["inner"+I]:N.document.documentElement["client"+I]:9===N.nodeType?(B=N.documentElement,Math.max(N.body["scroll"+I],B["scroll"+I],N.body["offset"+I],B["offset"+I],B["client"+I])):void 0===$?ct.css(N,R,V):ct.style(N,R,$,V)}),N,H?$:void 0,H)}}))})),ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(I,N){ct.fn[N]=function(I){return this.on(N,I)}})),ct.fn.extend({bind:function bind(I,N,R){return this.on(I,null,N,R)},unbind:function unbind(I,N){return this.off(I,null,N)},delegate:function delegate(I,N,R,U){return this.on(N,I,R,U)},undelegate:function undelegate(I,N,R){return 1===arguments.length?this.off(I,"**"):this.off(N,I||"**",R)},hover:function hover(I,N){return this.on("mouseenter",I).on("mouseleave",N||I)}}),ct.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(I,N){ct.fn[N]=function(I,R){return arguments.length>0?this.on(N,null,I,R):this.trigger(N)}}));var ze=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ct.proxy=function(I,N){var R,U,$;if("string"==typeof N&&(R=I[N],N=I,I=R),st(I))return U=W.call(arguments,2),($=function proxy(){return I.apply(N||this,U.concat(W.call(arguments)))}).guid=I.guid=I.guid||ct.guid++,$},ct.holdReady=function(I){I?ct.readyWait++:ct.ready(!0)},ct.isArray=Array.isArray,ct.parseJSON=JSON.parse,ct.nodeName=nodeName,ct.isFunction=st,ct.isWindow=rt,ct.camelCase=camelCase,ct.type=toType,ct.now=Date.now,ct.isNumeric=function(I){var N=ct.type(I);return("number"===N||"string"===N)&&!isNaN(I-parseFloat(I))},ct.trim=function(I){return null==I?"":(I+"").replace(ze,"$1")},void 0===(U=function(){return ct}.apply(N,[]))||(I.exports=U);var Ge=R.jQuery,Xe=R.$;return ct.noConflict=function(I){return R.$===ct&&(R.$=Xe),I&&R.jQuery===ct&&(R.jQuery=Ge),ct},void 0===B&&(R.jQuery=R.$=ct),ct}))}).call(this,R(36)(I))},function(I,N){window.UX={}},function(I,N){!function(I,N){var R={loggingUrl:"/action/clientSideLogging",selectors:{trigger:".js__abTestingTrigger",doiLink:'a[href^="/doi/"]',childElement:".search__item, .creative-work, .item"},init:function init(){var N=I(this.selectors.trigger);if(N.length>0){var R=N.data("exp-type"),U=N.data("query-id"),$=N.data("child-selector")?N.data("child-selector"):this.selectors.childElement;this.logSearchResultsByHrefSelector(R,U,N.find($))}},logClick:function logClick(N,R,U,$,B){return I.ajax({url:this.loggingUrl,data:{type:"102",doi:R,queryId:$,exp:U,event:"click",pos:B+1},async:!1}),N.stopImmediatePropagation(),!0},logSearchResultsByHrefSelector:function logSearchResultsByHrefSelector(N,R,U){var $=U.find(this.selectors.doiLink),B=this;$.each((function(U){var $=B.sliceDoiFromHref(I(this).attr("href"));B.bindElementToMouseUpEvent(this,$,N,R,U)}))},bindElementToMouseUpEvent:function bindElementToMouseUpEvent(N,R,U,$,B){var H=this;I(N).on("mouseup",(function(I){switch(I.which){case 1:case 2:H.logClick(I,R,U,$,B)}return!0}))},sliceDoiFromHref:function sliceDoiFromHref(I){var N=I.split("/"),R=N[N.length-2],U=N[N.length-1];return U.indexOf("?")>0&&(U=U.substring(0,U.indexOf("?"))),R+"/"+U}};N.abLogger=R}(jQuery,UX)},function(I,N,R){var U=R(1).default;I.exports=function toPrimitive(I,N){if("object"!=U(I)||!I)return I;var R=I[Symbol.toPrimitive];if(void 0!==R){var $=R.call(I,N||"default");if("object"!=U($))return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(I)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){function _setPrototypeOf(N,R){return I.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(I,N){return I.__proto__=N,I},I.exports.__esModule=!0,I.exports.default=I.exports,_setPrototypeOf(N,R)}I.exports=_setPrototypeOf,I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N,R){var U,B,H=R(10);function ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function _objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?ownKeys(Object(R),!0).forEach((function(N){H(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}U=$(window),B={vPort:"screen-sm",isMobile:!1,$truncateCaptions:$(".truncate-captions"),seeMoreText:"View all authors",seeLessText:"View fewer authors",truncateOptions:{lines:3,type:"list",seeMoreLink:!0,seeMoreIcon:"icon-plus",seeLessIcon:"icon-close",seeMoreIconMobile:"icon-plus"},init:function init(){B.setCaptions(),B.controls(),B.truncate()},setCaptions:function setCaptions(){B.$truncateCaptions.length&&(B.seeMoreText=B.$truncateCaptions.data("view-all-author"),B.seeLessText=B.$truncateCaptions.data("view-fewer-author"))},truncate:function truncate(){var I=B.seeMoreText,N=B.seeLessText;$(".issue-item__authors .loa").not("[data-truncate='none']").truncate(_objectSpread(_objectSpread({},B.truncateOptions),{},{seeLessText:N,seeMoreText:I}))},controls:function controls(){U.on("resized orientationchange",(function(){$(".issue-item__authors .loa").not("[data-truncate='none']").truncate()}))}},UX.issueItem=B},function(I,N){!function(I){var N={selectors:{CAPTCHA_CONTAINER:".password-recaptcha-ajax",CAPTCHA_EL:".LBD_CaptchaDiv"},captchaBox:null,init:function init(){this.captchaBox=document.querySelector(this.selectors.CAPTCHA_CONTAINER),this.captchaBox&&this.control()},control:function control(){var I=this.captchaBox.querySelector(this.selectors.CAPTCHA_EL),N=this;I||$.ajax({type:"GET",dataType:"html",url:"/pb/widgets/CaptchaResponseHandler/"}).done((function(I){$(N.captchaBox).append(I)}))}};I.insertCaptcha=N}(UX)},function(I,N){function _createForOfIteratorHelper(I,N){var R="undefined"!=typeof Symbol&&I[Symbol.iterator]||I["@@iterator"];if(!R){if(Array.isArray(I)||(R=function _unsupportedIterableToArray(I,N){if(!I)return;if("string"==typeof I)return _arrayLikeToArray(I,N);var R=Object.prototype.toString.call(I).slice(8,-1);"Object"===R&&I.constructor&&(R=I.constructor.name);if("Map"===R||"Set"===R)return Array.from(I);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return _arrayLikeToArray(I,N)}(I))||N&&I&&"number"==typeof I.length){R&&(I=R);var U=0,$=function F(){};return{s:$,n:function n(){return U>=I.length?{done:!0}:{done:!1,value:I[U++]}},e:function e(I){throw I},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,H=!0,V=!1;return{s:function s(){R=R.call(I)},n:function n(){var I=R.next();return H=I.done,I},e:function e(I){V=!0,B=I},f:function f(){try{H||null==R.return||R.return()}finally{if(V)throw B}}}}function _arrayLikeToArray(I,N){(null==N||N>I.length)&&(N=I.length);for(var R=0,U=new Array(N);R<N;R++)U[R]=I[R];return U}!function(I){var N={selectors:{COPY_BTN:".js-copy-to-clipboard"},classes:{ALERT:["alert","alert--floating"],ALERT_SUCCESFUL:"alert--success"},ALERT_HIDE_INTERVAL:4e3,init:function init(){var I=document.querySelectorAll(this.selectors.COPY_BTN);I&&I.length>0&&this.control(I)},control:function control(I){var N,R=_createForOfIteratorHelper(I);try{for(R.s();!(N=R.n()).done;){N.value.addEventListener("click",this.onClickHandler)}}catch(I){R.e(I)}finally{R.f()}},onClickHandler:function onClickHandler(I){var R="",U=document.querySelector(this.dataset.rel);U&&(R=["TEXTAREA","INPUT"].includes(U.tagName)?U.value:U.innerText,N.copy(this,R))},copy:function copy(I,R){navigator.clipboard?navigator.clipboard.writeText(R).then((function(){N.alert(!0,I.dataset.success)})).catch((function(I){console.error("Oops, unable to copy",I)})):N.fallback(R)},fallback:function fallback(I,R){var U=document.createElement("textarea");U.value=R,U.style.top="0",U.style.left="0",U.style.position="fixed",document.body.appendChild(U),U.focus(),U.select();try{document.execCommand("copy")&&N.alert(!0,I.dataset.success)}catch(I){console.error("Fallback: Oops, unable to copy",I)}document.body.removeChild(U)},alert:function alert(I,R){var alert=document.createElement("div");alert.setAttribute("role","alert"),N.classes.ALERT.forEach((function(I){alert.classList.add(I)})),alert.append(R),I&&alert.classList.add(N.classes.ALERT_SUCCESFUL),document.querySelector("body").appendChild(alert),window.setTimeout((function(){return alert.remove()}),N.ALERT_HIDE_INTERVAL)}};I.copyToClipboard=N}(UX)},function(I,N){!function(I){var N={selectors:{AUTO_DISMISS:"[data-autodismiss]"},classes:{DISPLAY_NONE:"d-none"},HIDE_INTERVAL:3e3,init:function init(){var I=this;this.alerts=document.querySelectorAll(this.selectors.AUTO_DISMISS),this.alerts&&this.alerts.length>0&&this.alerts.forEach((function(N){document.querySelector("body").append(N),N.classList.remove(I.classes.DISPLAY_NONE);var R=N.dataset.autodismiss||I.HIDE_INTERVAL;window.setTimeout((function(){return N.remove()}),+R)}),this)}};I.autoDismiss=N}(UX)},function(I,N,R){var U,$=R(13);U={ariaLiveElements:null,selectors:{ARIA_LIVE:".aria-live"},classList:{DISPLAY_NONE:"d-none"},htmlMarkups:{error:"<p class='message error'>{{message}}</p>",success:"<div class='success-message my-3'><i class='icon-check-circle-outline text-success' aria-hidden='true'></i><span>{{message}}</span></div>"},init:function init(){this.ariaLiveElements=document.querySelectorAll(this.selectors.ARIA_LIVE),this.ariaLiveElements.length>0&&this.control()},control:function control(){$(this.ariaLiveElements).forEach(this.showMessage,this)},showMessage:function showMessage(I){var N=this,R=I.dataset.type,U=I.dataset.message,$=null==I?void 0:I.parentNode.querySelector("input[aria-describedby]");window.setTimeout((function(){var B;I.insertAdjacentHTML("afterbegin",N.htmlMarkups[R].replace("{{message}}",U)),null==I||null===(B=I.querySelector(".message.error"))||void 0===B||B.setAttribute("id",null==$?void 0:$.getAttribute("aria-describedby"))}),300)}},UX.ariaLive=U},function(I,N,R){var U=R(32);I.exports=function _arrayWithoutHoles(I){if(Array.isArray(I))return U(I)},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){I.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){({adBlockerPresent:!0,reason:"",dataLayer:null,run:function run(){this.dataLayer=window.dataLayer||[],document.getElementById("no-ad-blocker-present")?$("#ad-blocker-test-image").is(":visible")?this.adBlockerPresent=!1:this.reason="(image block)":this.reason="(script block)",console.debug("Blocking Ads: "+(this.adBlockerPresent?"Yes ":"No ")+this.reason);var I=this.dataLayer.findIndex((function(I){return I.site}));-1!==I&&(this.dataLayer[I].site.ad_blocker=this.adBlockerPresent),window.dataLayer=this.dataLayer}}).run()},function(I,N,R){"use strict";var U=R(13);!function(I){var N={DROPDOWN:".dropdown-selectable",DROPDOWN_SINGLE_ITEM:".dropdown-item",DROPDOWN_ITEM:".dropdown-selectable .dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle span, .tabs-toggle",DROPDOWN_TOGGLE_BUTTON:".dropdown-toggle",DROPDOWN_FORM_CONTROL:".dropdown-selectable--form-control",init:function init(){this.control()},control:function control(){$(document.body).on("click",this.DROPDOWN_ITEM,this.onClickHandler),$(document.body).on("keydown",this.DROPDOWN,this.onKeyDown),document.body.addEventListener("ready.selectable",this.onReadySelectable.bind(this))},onReadySelectable:function onReadySelectable(I){var R=document.getElementById(I.detail.sourceId).closest(N.DROPDOWN);$(R).on("shown.bs.dropdown",(function(I){$(this).find("[aria-selected]").focus()}))},onClickHandler:function onClickHandler(I){var R=this.getAttribute("href");"#"!==R&&""!==R||I.preventDefault();var B=$(this),H=B.closest(N.DROPDOWN).find(N.DROPDOWN_TOGGLE);H.text(B.get(0).dataset.label||B.text());var V,W=B.get(0).dataset.class;W&&(H.get(0).setAttribute("class",""),(V=H.get(0).classList).add.apply(V,U(W.split(" "))));B.siblings().removeClass("active"),B.siblings().attr("aria-selected",null),B.addClass("active"),B.attr("aria-selected","true");var z=this.closest(N.DROPDOWN_FORM_CONTROL);if(z){var X=z.querySelector("input");X.value=this.dataset.value;var Q=this.dataset;Object.keys(Q).forEach((function(I){X.dataset[I]=Q[I]})),$(X).change(),z.querySelector(N.DROPDOWN_TOGGLE_BUTTON).focus()}},onKeyDown:function onKeyDown(I){var N=I.keyCode;if(N>=65&&N<=130){var R=I.key.toLowerCase(),U=document.querySelectorAll(".dropdown-selectable.show .dropdown-item"),$={};if(U)try{U.forEach((function(I){var N=I.innerText.toLowerCase().charAt(0);if(R===N)throw I.focus(),$}))}catch(I){if(I!==$)throw I}}}};I.selectableDropdown=N}(UX)},function(I,N,R){(function(U,$){var B,H,V=R(1);!function(U,$){"object"==V(N)&&void 0!==I?I.exports=$():void 0===(H="function"==typeof(B=$)?B.call(N,R,N,I):B)||(I.exports=H)}(0,(function(){"use strict";function e(I){return"function"==typeof I}function c(){var I=setTimeout;return function(){return I(a,1)}}function a(){for(var I=0;I<N;I+=2){(0,Z[I])(Z[I+1]),Z[I]=void 0,Z[I+1]=void 0}N=0}function l(I,N){var R=this,U=new this.constructor(p);void 0===U[et]&&O(U);var $=R._state;if($){var B=arguments[$-1];H((function(){return P($,U,B,R._result)}))}else E(R,U,I,N);return U}function h(I){if(I&&"object"==V(I)&&I.constructor===this)return I;var N=new this(p);return g(N,I),N}function p(){}function _(I){try{return I.then}catch(I){return rt.error=I,rt}}function w(I,N,R){N.constructor===I.constructor&&R===l&&N.constructor.resolve===h?function b(I,N){N._state===nt?S(I,N._result):N._state===st?j(I,N._result):E(N,void 0,(function(N){return g(I,N)}),(function(N){return j(I,N)}))}(I,N):R===rt?(j(I,rt.error),rt.error=null):void 0===R?S(I,N):e(R)?function m(I,N,R){H((function(I){var U=!1,$=function y(I,N,R,U){try{I.call(N,R,U)}catch(I){return I}}(R,N,(function(R){U||(U=!0,N!==R?g(I,R):S(I,R))}),(function(N){U||(U=!0,j(I,N))}),I._label);!U&&$&&(U=!0,j(I,$))}),I)}(I,N,R):S(I,N)}function g(I,N){I===N?j(I,function v(){return new TypeError("You cannot resolve a promise with itself")}()):function t(I){var N=V(I);return null!==I&&("object"===N||"function"===N)}(N)?w(I,N,_(N)):S(I,N)}function A(I){I._onerror&&I._onerror(I._result),T(I)}function S(I,N){I._state===it&&(I._result=N,I._state=nt,0!==I._subscribers.length&&H(T,I))}function j(I,N){I._state===it&&(I._state=st,I._result=N,H(A,I))}function E(I,N,R,U){var $=I._subscribers,B=$.length;I._onerror=null,$[B]=N,$[B+nt]=R,$[B+st]=U,0===B&&I._state&&H(T,I)}function T(I){var N=I._subscribers,R=I._state;if(0!==N.length){for(var U=void 0,$=void 0,B=I._result,H=0;H<N.length;H+=3)U=N[H],$=N[H+R],U?P(R,U,$,B):$(B);I._subscribers.length=0}}function P(I,N,R,U){var $=e(R),B=void 0,H=void 0,V=void 0,W=void 0;if($){if((B=function M(I,N){try{return I(N)}catch(I){return rt.error=I,rt}}(R,U))===rt?(W=!0,H=B.error,B.error=null):V=!0,N===B)return void j(N,function d(){return new TypeError("A promises callback cannot return that same promise.")}())}else B=U,V=!0;N._state!==it||($&&V?g(N,B):W?j(N,H):I===nt?S(N,B):I===st&&j(N,B))}function O(I){I[et]=at++,I._state=void 0,I._result=void 0,I._subscribers=[]}var I=Array.isArray?Array.isArray:function(I){return"[object Array]"===Object.prototype.toString.call(I)},N=0,R=void 0,B=void 0,H=function G(I,R){Z[N]=I,Z[N+1]=R,2===(N+=2)&&(B?B(a):tt())},W="undefined"!=typeof window?window:void 0,z=W||{},X=z.MutationObserver||z.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==U&&"[object process]"==={}.toString.call(U),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),tt=void 0;tt=Q?function o(){return function(){return U.nextTick(a)}}():X?function s(){var I=0,N=new X(a),R=document.createTextNode("");return N.observe(R,{characterData:!0}),function(){R.data=I=++I%2}}():J?function u(){var I=new MessageChannel;return I.port1.onmessage=a,function(){return I.port2.postMessage(0)}}():void 0===W?function f(){try{var I=Function("return this")().require("vertx");return R=I.runOnLoop||I.runOnContext,function i(){return void 0!==R?function(){R(a)}:c()}()}catch(I){return c()}}():c();var et=Math.random().toString(36).substring(2),it=void 0,nt=1,st=2,rt={error:null},at=0,ot=function(){function t(N,R){this._instanceConstructor=N,this.promise=new N(p),this.promise[et]||O(this.promise),I(R)?(this.length=R.length,this._remaining=R.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(R),0===this._remaining&&S(this.promise,this._result))):j(this.promise,function k(){return new Error("Array Methods must be provided an Array")}())}return t.prototype._enumerate=function(I){for(var N=0;this._state===it&&N<I.length;N++)this._eachEntry(I[N],N)},t.prototype._eachEntry=function(I,N){var R=this._instanceConstructor,U=R.resolve;if(U===h){var $=_(I);if($===l&&I._state!==it)this._settledAt(I._state,N,I._result);else if("function"!=typeof $)this._remaining--,this._result[N]=I;else if(R===lt){var B=new R(p);w(B,I,$),this._willSettleAt(B,N)}else this._willSettleAt(new R((function(N){return N(I)})),N)}else this._willSettleAt(U(I),N)},t.prototype._settledAt=function(I,N,R){var U=this.promise;U._state===it&&(this._remaining--,I===st?j(U,R):this._result[N]=R),0===this._remaining&&S(U,this._result)},t.prototype._willSettleAt=function(I,N){var R=this;E(I,void 0,(function(I){return R._settledAt(nt,N,I)}),(function(I){return R._settledAt(st,N,I)}))},t}(),lt=function(){function t(I){this[et]=function C(){return at++}(),this._result=this._state=void 0,this._subscribers=[],p!==I&&("function"!=typeof I&&function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function x(I,N){try{N((function(N){g(I,N)}),(function(N){j(I,N)}))}catch(N){j(I,N)}}(this,I):function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(I){return this.then(null,I)},t.prototype.finally=function(I){var N=this,R=N.constructor;return e(I)?N.then((function(N){return R.resolve(I()).then((function(){return N}))}),(function(N){return R.resolve(I()).then((function(){throw N}))})):N.then(I,I)},t}();return lt.prototype.then=l,lt.all=function F(I){return new ot(this,I).promise},lt.race=function Y(N){var R=this;return new R(I(N)?function(I,U){for(var $=N.length,B=0;B<$;B++)R.resolve(N[B]).then(I,U)}:function(I,N){return N(new TypeError("You must pass an array to race."))})},lt.resolve=h,lt.reject=function q(I){var N=new this(p);return j(N,I),N},lt._setScheduler=function n(I){B=I},lt._setAsap=function r(I){H=I},lt._asap=H,lt.polyfill=function L(){var I=void 0;if(void 0!==$)I=$;else if("undefined"!=typeof self)I=self;else try{I=Function("return this")()}catch(I){throw new Error("polyfill failed because global object is unavailable in this environment")}var N=I.Promise;if(N){var R=null;try{R=Object.prototype.toString.call(N.resolve())}catch(I){}if("[object Promise]"===R&&!N.cast)return}I.Promise=lt},lt.Promise=lt,lt}))}).call(this,R(25),R(16))},function(I,N,R){(function(U,$){var B,H,V=R(1);!function(U,$){"object"==V(N)&&void 0!==I?I.exports=$():void 0===(H="function"==typeof(B=$)?B.call(N,R,N,I):B)||(I.exports=H)}(0,(function(){"use strict";function e(I){return"function"==typeof I}function c(){var I=setTimeout;return function(){return I(a,1)}}function a(){for(var I=0;I<N;I+=2){(0,Z[I])(Z[I+1]),Z[I]=void 0,Z[I+1]=void 0}N=0}function l(I,N){var R=this,U=new this.constructor(p);void 0===U[et]&&O(U);var $=R._state;if($){var B=arguments[$-1];H((function(){return P($,U,B,R._result)}))}else E(R,U,I,N);return U}function h(I){if(I&&"object"==V(I)&&I.constructor===this)return I;var N=new this(p);return g(N,I),N}function p(){}function _(I){try{return I.then}catch(I){return rt.error=I,rt}}function w(I,N,R){N.constructor===I.constructor&&R===l&&N.constructor.resolve===h?function b(I,N){N._state===nt?S(I,N._result):N._state===st?j(I,N._result):E(N,void 0,(function(N){return g(I,N)}),(function(N){return j(I,N)}))}(I,N):R===rt?(j(I,rt.error),rt.error=null):void 0===R?S(I,N):e(R)?function m(I,N,R){H((function(I){var U=!1,$=function y(I,N,R,U){try{I.call(N,R,U)}catch(I){return I}}(R,N,(function(R){U||(U=!0,N!==R?g(I,R):S(I,R))}),(function(N){U||(U=!0,j(I,N))}),I._label);!U&&$&&(U=!0,j(I,$))}),I)}(I,N,R):S(I,N)}function g(I,N){I===N?j(I,function v(){return new TypeError("You cannot resolve a promise with itself")}()):function t(I){var N=V(I);return null!==I&&("object"===N||"function"===N)}(N)?w(I,N,_(N)):S(I,N)}function A(I){I._onerror&&I._onerror(I._result),T(I)}function S(I,N){I._state===it&&(I._result=N,I._state=nt,0!==I._subscribers.length&&H(T,I))}function j(I,N){I._state===it&&(I._state=st,I._result=N,H(A,I))}function E(I,N,R,U){var $=I._subscribers,B=$.length;I._onerror=null,$[B]=N,$[B+nt]=R,$[B+st]=U,0===B&&I._state&&H(T,I)}function T(I){var N=I._subscribers,R=I._state;if(0!==N.length){for(var U=void 0,$=void 0,B=I._result,H=0;H<N.length;H+=3)U=N[H],$=N[H+R],U?P(R,U,$,B):$(B);I._subscribers.length=0}}function P(I,N,R,U){var $=e(R),B=void 0,H=void 0,V=void 0,W=void 0;if($){if((B=function M(I,N){try{return I(N)}catch(I){return rt.error=I,rt}}(R,U))===rt?(W=!0,H=B.error,B.error=null):V=!0,N===B)return void j(N,function d(){return new TypeError("A promises callback cannot return that same promise.")}())}else B=U,V=!0;N._state!==it||($&&V?g(N,B):W?j(N,H):I===nt?S(N,B):I===st&&j(N,B))}function O(I){I[et]=at++,I._state=void 0,I._result=void 0,I._subscribers=[]}var I=Array.isArray?Array.isArray:function(I){return"[object Array]"===Object.prototype.toString.call(I)},N=0,R=void 0,B=void 0,H=function G(I,R){Z[N]=I,Z[N+1]=R,2===(N+=2)&&(B?B(a):tt())},W="undefined"!=typeof window?window:void 0,z=W||{},X=z.MutationObserver||z.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==U&&"[object process]"==={}.toString.call(U),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),tt=void 0;tt=Q?function o(){return function(){return U.nextTick(a)}}():X?function s(){var I=0,N=new X(a),R=document.createTextNode("");return N.observe(R,{characterData:!0}),function(){R.data=I=++I%2}}():J?function u(){var I=new MessageChannel;return I.port1.onmessage=a,function(){return I.port2.postMessage(0)}}():void 0===W?function f(){try{var I=Function("return this")().require("vertx");return R=I.runOnLoop||I.runOnContext,function i(){return void 0!==R?function(){R(a)}:c()}()}catch(I){return c()}}():c();var et=Math.random().toString(36).substring(2),it=void 0,nt=1,st=2,rt={error:null},at=0,ot=function(){function t(N,R){this._instanceConstructor=N,this.promise=new N(p),this.promise[et]||O(this.promise),I(R)?(this.length=R.length,this._remaining=R.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(R),0===this._remaining&&S(this.promise,this._result))):j(this.promise,function k(){return new Error("Array Methods must be provided an Array")}())}return t.prototype._enumerate=function(I){for(var N=0;this._state===it&&N<I.length;N++)this._eachEntry(I[N],N)},t.prototype._eachEntry=function(I,N){var R=this._instanceConstructor,U=R.resolve;if(U===h){var $=_(I);if($===l&&I._state!==it)this._settledAt(I._state,N,I._result);else if("function"!=typeof $)this._remaining--,this._result[N]=I;else if(R===lt){var B=new R(p);w(B,I,$),this._willSettleAt(B,N)}else this._willSettleAt(new R((function(N){return N(I)})),N)}else this._willSettleAt(U(I),N)},t.prototype._settledAt=function(I,N,R){var U=this.promise;U._state===it&&(this._remaining--,I===st?j(U,R):this._result[N]=R),0===this._remaining&&S(U,this._result)},t.prototype._willSettleAt=function(I,N){var R=this;E(I,void 0,(function(I){return R._settledAt(nt,N,I)}),(function(I){return R._settledAt(st,N,I)}))},t}(),lt=function(){function t(I){this[et]=function C(){return at++}(),this._result=this._state=void 0,this._subscribers=[],p!==I&&("function"!=typeof I&&function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function x(I,N){try{N((function(N){g(I,N)}),(function(N){j(I,N)}))}catch(N){j(I,N)}}(this,I):function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(I){return this.then(null,I)},t.prototype.finally=function(I){var N=this,R=N.constructor;return e(I)?N.then((function(N){return R.resolve(I()).then((function(){return N}))}),(function(N){return R.resolve(I()).then((function(){throw N}))})):N.then(I,I)},t}();return lt.prototype.then=l,lt.all=function F(I){return new ot(this,I).promise},lt.race=function Y(N){var R=this;return new R(I(N)?function(I,U){for(var $=N.length,B=0;B<$;B++)R.resolve(N[B]).then(I,U)}:function(I,N){return N(new TypeError("You must pass an array to race."))})},lt.resolve=h,lt.reject=function q(I){var N=new this(p);return j(N,I),N},lt._setScheduler=function n(I){B=I},lt._setAsap=function r(I){H=I},lt._asap=H,lt.polyfill=function L(){var I=void 0;if(void 0!==$)I=$;else if("undefined"!=typeof self)I=self;else try{I=Function("return this")()}catch(I){throw new Error("polyfill failed because global object is unavailable in this environment")}var N=I.Promise;if(N){var R=null;try{R=Object.prototype.toString.call(N.resolve())}catch(I){}if("[object Promise]"===R&&!N.cast)return}I.Promise=lt},lt.Promise=lt,lt.polyfill(),lt}))}).call(this,R(25),R(16))},function(I,N){var R;R={$body:$("body"),active:null,escape:27,enabled:!1,$activeComponent:null,$container:null,$target:null,init:function init(){R.control(),R.extra(),R.check(),R.extra()},control:function control(){$(document).on("keydown",(function(I){(I.keyCode||I.which)===R.escape&&R.check(I)}))},check:function check(I){R.active=R.$body.attr("data-active"),null!=R.active&&R.disable(I)},disable:function disable(I){void 0!==UX[R.active].$controller&&UX[R.active].$controller.focus(),UX[R.active].on.hide(I)},extra:function extra(){R.$body.on("click focusout",(function(I){"focusout"===I.type&&I.target!==I.relatedTarget&&null!==I.relatedTarget&&(I.target=I.relatedTarget),R.active=R.$body.attr("data-active"),R.$activeComponent=void 0!==UX[R.active]?UX[R.active]:"undefined",void 0!==R.$activeComponent&&void 0!==R.$activeComponent.$section&&void 0!==R.$activeComponent.$controller&&(R.$container=R.$activeComponent.$section,R.$target=R.$activeComponent.$controller,R.checkToHide(I))}))},checkToHide:function checkToHide(I){R.$container.is(I.target)||0!==R.$container.has(I.target).length||R.$target.is(I.target)||0!==R.$target.has(I.target).length||$(I.target).closest(".ui-autocomplete").length||R.$activeComponent.on.hide(I)}},UX.controller=R},function(I,N,R){var U=R(1);!function(I){var N;function seeMoreLink(){var N,R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i>';return this.settings.seeMoreHtml?R=this.settings.seeMoreHtml:this.settings.isMobile&&(R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIconMobile+' "></i>'),N=this.settings.isMobile&&this.isSliding?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active" data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+R+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function ellipsis(N){var R="<"+(N?'a href="#"':"span")+' class="ellipsis"> '+this.settings.ellipsisChar+" </"+(N?"a":"span")+">";return"UL"===this.parentTagName&&(R="<li>"+R+"</li>"),I(R)}function removeElements(N){var R,U,$,B=this,H=I(this),V=H.height(),W=this.settings.lines*Math.ceil(parseFloat(H.css("line-height")));if($=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this),N.get(0).nodeType===Node.ELEMENT_NODE){for(;V>W&&N.contents().length;)R=N.contents().last().remove(),V=H.height();if(V<=W&&R)""!==I.trim(R.text())?(N.append(R),(V=H.height())>W&&removeElements.call(this,R)):(H.append($),this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete());else if(""===I.trim(N.text()))if(U=N.parent(),N.remove(),V=H.height(),""===I.trim(U.text()))removeElements.call(this,U);else if(V<=W){if(H.children().length){var z=H.children().last();z.is("br")?z.after($):z.parent().append($)}else H.append($);this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete()}}else{var X=N.text(),Q=0,J=X.length-1,Z=Math.floor((Q+J)/2);for(U=N.parent();Q<J;){if(V>W?J=Z+parseInt((J-Z)*W/V,10):Q=Z+1,$.remove(),Z=Math.floor((Q+J)/2),N.get(0).textContent=X.substr(0,this.settings.midWordEnabled?Z:Math.min(Z,X.lastIndexOf(" ",Z))),""===I.trim(U.text()))return void removeElements.call(this,U);N.parent().append($),V=H.height()}for(;V>W&&Z>0;){if($.remove(),Z-=1,N.get(0).textContent=X.substr(0,this.settings.midWordEnabled?Z:Math.min(Z,X.lastIndexOf(" ",Z))),""===I.trim(U.text()))return void removeElements.call(this,U);N.parent().append($),V=H.height()}0===Z&&($.remove(),""===I.trim(U.text())&&removeElements.call(this,U)),V<=W&&(this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete())}}function truncateText(){var N=this,R=I(this),U=R.height(),$=this.settings.lines*parseFloat(R.css("line-height"));R.closest(":not(:visible)").length||0!==U?U>$?removeElements.call(this,R):(setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete()):setTimeout((function(){truncateText.call(N)}),30)}function seeMoreMiddleLink(){var N,R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ";return this.settings.seeMoreHtml?R=this.settings.seeMoreHtml:this.settings.isMobile&&(R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="'+this.settings.seeMoreIconMobile+'"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "),N=this.settings.isMobile?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active " data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+R+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function removeListItemsMiddle(){var N,R,U,$,B=this,H=I(this),V=Math.ceil(Math.max(H.children().height(),parseFloat(H.css("line-height")))),W=this.settings.lines*V,z=0,X=!H.closest(":not(:visible)").length;R=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0);!function removeItems(){if(N=H.height(),X)if(N>W){for(;N>W&&H.contents().length>2;){R.remove(),U&&H.find(U).length&&U.remove();var V=Math.floor(H.contents().length/2);($=I(H.contents().get(V)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),V-=1,(N=H.height())>W&&H.contents().length>2&&(($=I(H.contents().get(V)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),V-=1),B.settings.showRemovedCount&&z>0?(U=I.fn.truncate.removedCountMarkup(z)).insertAfter(I(H.contents().get(V))):R.insertAfter(I(H.contents().get(V))),N=H.height()}setTimeout(removeItems,500)}else B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete()}()}function removeListItemsEnd(){var N,R,U,$,B=this,H=I(this),V=Math.ceil(Math.max(H.children().height(),parseFloat(H.css("line-height")))),W=this.settings.lines*V,z=0,X=!H.closest(":not(:visible)").length;R=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this);!function removeItems(){if(N=H.height(),X)if(N>W){for(;N>W&&H.contents().length>1;)U&&H.find(U).length&&U.remove(),H.find(R).length?$=I(H.contents().get(H.contents().length-2)).remove():($=H.contents().last().remove(),B.settings.showRemovedCount||H.append(R)),$&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),B.settings.showRemovedCount&&z>0&&(U=I.fn.truncate.removedCountMarkup(z),H.append(U)),N=H.height();setTimeout(removeItems,500)}else B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete()}()}function removeListItemsBetweenFirstAndLast(){var N,R,U,$,B=this,H=I(this),V=H.children(),W=V.length-2;V.length>2&&(U=V.eq(0).clone(),$=V.eq(V.length-1).clone(),N=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0),B.settings.showRemovedCount&&(R=I.fn.truncate.removedCountMarkup(W)),H.html(""),H.append(U),B.settings.showRemovedCount&&W>0?H.append(R):H.append(N),H.append($)),B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete()}function removeListItemsBeforeLast(){var N,R,U=this,$=I(this),B=$.height(),H=Math.ceil(Math.max($.children().height(),parseFloat($.css("line-height")))),V=this.settings.lines*H,W=seeMoreMiddleLink.call(this),z=0,X=!$.closest(":not(:visible)").length;!function removeItems(){if(B=$.height(),X)if(B>V){for(var H=I("<div></div>");$.children().length>1&&H.children().length<U.settings.lastItemsCount||$.contents().last().get(0).nodeType===Node.TEXT_NODE;)H.prepend($.contents().last().remove());for(var Q=H.contents();B>V&&$.children().length>2;)N&&$.find(N).length&&N.remove(),W.remove(),Q.remove(),(R=$.contents().last().remove())&&R.get(0).nodeType===Node.ELEMENT_NODE&&(null!==U.settings.ignoreCountList&&R.is(U.settings.ignoreCountList)||(z+=1)),U.settings.showRemovedCount&&z>0?(N=I.fn.truncate.removedCountMarkup(z),$.append(N)):$.append(W),$.append(Q),B=$.height();setTimeout(removeItems,500)}else U.settings.addClass&&!$.hasClass(U.settings.addClass)&&setTimeout((function(){$.addClass(U.settings.addClass)}),0),$.data("truncationDone",!0),U.settings.onComplete()}()}function truncateList(){var N=this,R=I(this),U=R.height(),$=Math.ceil(Math.max(R.children().height(),parseFloat(R.css("line-height")))),B=this.settings.lines*$,H=!R.closest(":not(:visible)").length;if(0===R.children().length)return R.addClass(N.settings.addClass),R.data("truncationDone",!0),void N.settings.onComplete();if(!H||0!==U&&0!==B)switch(this.settings.position){case"middle":U>B?removeListItemsMiddle.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete());break;case"end":U>B?removeListItemsEnd.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete());break;case"betweenFirstAndLast":removeListItemsBetweenFirstAndLast.call(this,R);break;case"beforeLast":U>B?removeListItemsBeforeLast.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete())}else setTimeout((function(){truncateList.call(N)}),30)}function seeLessLink(){var N,R=(this.settings.lessLinkEllipsis?' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ":"&nbsp;")+this.settings.seeLessText+' <i class="'+this.settings.seeLessIcon+'"></i>';return this.settings.seeLessHtml&&(R=this.settings.seeLessHtml),N='<a href="javascript:void(0)" class="read-less" aria-expanded="true">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function addEventHandlers(){var N,R,U=this,$=I(this),B=[9,13],H=!0;U.settings.readMoreWithSpacebar&&(B=[9,13,32]),U.settings.animation&&(R=!0),$.on("touchend mousedown keydown",(function(V){function readMore(){V.preventDefault();var I=$.children().length;$.data("truncatedContent",$.html()),$.html($.data("originalContent"));var R=seeLessLink.call(U);if($.append(R),U.settings.animation){$.css("height","auto");var B=$.outerHeight(!0);$.height(N).animate({height:B},300),setTimeout((function(){$.css("height","auto")}),350)}"keydown"===V.type&&("UL"===$[0].parentTagName?$.children().eq(I-1).find("a").trigger("focus"):R.focus())}if(!("keydown"===V.type&&B.indexOf(V.keyCode)<0)&&(U.settings.readMoreWithSpacebar&&(H=9!==V.keyCode),U.settings.animation&&R&&(N=$.outerHeight(!0),R=!1),$.data("truncationDone")&&H)){var W=I(V.target);W.hasClass("ellipsis")&&W.is("a")&&readMore(),(W.hasClass("read-more")&&!W.hasClass("w-slide__btn")||W.parent().hasClass("read-more")&&!W.parent().hasClass("w-slide__btn")||W.hasClass("removed-items-count"))&&readMore(),(W.hasClass("read-less")||W.parent().hasClass("read-less"))&&function readLess(){9!==V.keyCode&&(V.preventDefault(),U.settings.animation?($.animate({height:N},300),setTimeout((function(){$.html($.data("truncatedContent"))}),250)):$.html($.data("truncatedContent")),$.find(".read-more").focus())}()}})),I(document).data("activeTabHandlerAdded")||(I(document).data("activeTabHandlerAdded","yes"),I(document).on("tabs:changeActiveTab",(function(N,R){setTimeout((function(){I(".truncate-delayed",R.tabId).truncate()}),10)})))}function restoreContent(){var N=I(this);N.data("originalContent")&&(N.html(N.data("originalContent")),this.settings&&this.settings.addClass&&N.removeClass(this.settings.addClass))}function truncateStart(){var N=I(this);this.settings.showRemovedCount&&N.truncate("destroy"),this.settings.isMobile&&"desktop"===this.settings.targetViewport||!this.settings.isMobile&&"mobile"===this.settings.targetViewport?restoreContent.call(this):!N.closest(".tab__pane").length||N.closest(".tab__pane").hasClass("active")?(N.removeClass("truncate-delayed"),this.settings&&"text"===this.settings.type?truncateText.call(this):this.settings&&"list"===this.settings.type&&(this.parentTagName=N.get(0).tagName,truncateList.call(this))):N.addClass("truncate-delayed")}function addResponsiveHandlers(){var N=this;function targetViewportOn(){N.settings.isMobile=!0,truncateStart.call(N)}function targetViewportOff(){N.settings.isMobile=!1,truncateStart.call(N)}this.prevVPort&&(I(document).off(this.prevVPort+"-on",targetViewportOn),I(document).off(this.prevVPort+"-off",targetViewportOff)),I(document).on(this.settings.vPort+"-on",targetViewportOn),I(document).on(this.settings.vPort+"-off",targetViewportOff),this.prevVPort=this.settings.vPort}N={init:function init(N){return this.each((function(){var R=I(this),U=!0;R.data("originalContent")?(R.data("settings")&&(this.settings=R.data("settings")),restoreContent.call(this),U=!1):R.data("originalContent",R.html());var $={};R.data("truncate-lines")&&($.lines=parseInt(R.data("truncate-lines"),10)),R.data("truncate-type")&&($.type=R.data("truncate-type")),R.data("truncate-position")&&($.position=R.data("truncate-position")),void 0!==R.data("truncate-show-removed-count")&&($.showRemovedCount=R.data("truncate-show-removed-count")),void 0!==R.data("truncate-see-more-link")&&($.seeMoreLink=R.data("truncate-see-more-link")),R.data("truncate-see-more-text")&&($.seeMoreText=R.data("truncate-see-more-text")),R.data("truncate-see-less-text")&&($.seeLessText=R.data("truncate-see-less-text")),R.data("truncate-see-more-html")&&($.seeMoreHtml=R.data("truncate-see-more-html")),R.data("truncate-see-less-html")&&($.seeLessHtml=R.data("truncate-see-less-html")),R.data("truncate-ellipsis-char")&&($.ellipsisChar=R.data("truncate-ellipsis-char")),R.data("truncate-last-items-count")&&($.lastItemsCount=parseInt(R.data("truncate-last-items-count"),10)),R.data("truncate-mobile-target")&&($.mobileTarget=R.data("truncate-mobile-target")),R.data("truncate-add-class")&&($.addClass=R.data("truncate-add-class")),R.data("truncate-vport")&&($.vPort=R.data("truncate-vport")),R.data("truncate-target-viewport")&&($.targetViewport=R.data("truncate-target-viewport")),void 0!==R.data("truncate-mid-word-enabled")&&($.midWordEnabled=R.data("truncate-mid-word-enabled")),void 0!==R.data("truncate-less-link-ellipsis")&&($.lessLinkEllipsis=R.data("truncate-less-link-ellipsis")),this.settings=I.extend({},this.settings||I.fn.truncate.defaults,$,N||{}),R.data("settings",this.settings),R.data("truncationDone",!1),truncateStart.call(this),U&&addEventHandlers.call(this),addResponsiveHandlers.call(this)}))},destroy:function destroy(){return this.each((function(){restoreContent.call(this)}))}},I.fn.truncate=function(R){return N[R]?N[R].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==U(R)&&R?void I.error("Method "+R+" does not exist on jQuery.truncate"):N.init.apply(this,arguments)},I.fn.truncate.removedCountMarkup=function(N){return I('<a href="javascript:void(0)" class="removed-items-count"> + '+N+" </a>")},I.fn.truncate.defaults={type:"text",position:"end",showRemovedCount:!1,lines:1,seeMoreLink:!1,seeMoreText:"See More",seeLessText:"See Less",seeMoreIcon:"icon-section_arrow_d",seeLessIcon:"icon-section_arrow_u",seeMoreIconMobile:"icon-arrow_r",seeMoreHtml:"",seeLessHtml:"",ellipsisChar:"&hellip;",lessLinkEllipsis:!1,lastItemsCount:1,isMobile:!1,isSliding:!0,mobileTarget:"",targetViewport:"all",addClass:"",vPort:"screen-sm",midWordEnabled:!1,animation:!1,ignoreCountList:null,readMoreWithSpacebar:!1,onComplete:function onComplete(){}}}(jQuery)},function(I,N){var R;R={$element:null,$target:null,$order:null,$cloneData:null,$clonedContainer:null,vPort:"screen-sm",init:function init(){$('[data-toggle="transplant"]').each((function(I){var N=$(this);if(R.$element=N.data("transplant"),R.$target=$(N.data("target")),R.$direction=$(N.data("direction")),R.$order=N.data("transplant-order"),R.$remove=N.data("remove"),R.$targetClass=N.data("target-class"),R.$classNames=N.data("class-names"),"to"===R.$direction||void 0===R.$direction){var U;"self"===R.$element?R.$element=N:R.$element=N.find(R.$element),R.$cloneData=R.$element.clone(!0,!0).removeAttr("data-toggle").attr("data-transplant-order",R.$order),R.clone(),R.$targetClass&&(R.$target.find(".transplanted-clone").addClass(R.$targetClass),null===(U=R.$target.find("[data-pb-widget]"))||void 0===U||U.removeAttr("data-pb-widget")),R.$classNames&&R.$element.addClass(R.$classNames),!0===R.$remove&&R.remove()}else{R.$target=N;var B=N.data("target").split(",");$.each(B,(function(I,N){R.$element=$(N),R.$cloneData=R.$element.clone(!0,!0).attr("data-transplant-order",R.$order),R.clone(),R.$targetClass&&R.$element.addClass(R.$targetClass),R.$classNames&&R.$target.find(".transplanted-clone").addClass(R.$classNames),!0===R.$remove&&R.remove()}))}})),R.order()},clone:function clone(){R.$element.hasClass("cloned")||(R.$target.find(".transplanted-clone").length<=0&&(R.$target.is("ul")?R.$target.append('<li class="transplanted-clone"></li>'):R.$target.append('<div class="transplanted-clone"></div>'),R.$clonedContainer=R.$target.find(".transplanted-clone"),R.$cloneData.is("li")&&(R.$clonedContainer.append('<ul class="transplanted-clone__ul"></ul>'),R.$clonedContainer=R.$target.find(".transplanted-clone__ul").addClass(R.$classNames))),R.$clonedContainer.append(R.$cloneData),R.$element.addClass("cloned"),R.cleanDuplicateID())},order:function order(){var I=R.$clonedContainer.children();I.sort((function(I,N){return $(I).data("transplant-order")-$(N).data("transplant-order")})),R.$clonedContainer.html(I)},remove:function remove(){R.$target?R.$element.remove():R.$source.remove()},cleanDuplicateID:function cleanDuplicateID(){var I,N,U,B=!1,H=R.$target;!H||H.length<=0||H.hasClass("cloned-with-ids")||((I=H.attr("id"))&&H.attr("id",I+"-cloned"),H.find("[id]:not(.cloned-with-ids)").each((function(){var I=$(this);I.addClass("cloned-with-ids");var N=I.attr("id");I.attr("id",N+"-cloned")})),(N=H.attr("data-db-target-of"))&&(U=$("[data-db-target-for="+N+"]"),B||U.attr({"aria-controls":N+"-cloned"}),$(document).on(R.vPort+"-on",(function(){B=!0,U.attr({"aria-controls":N})})),$(document).on(R.vPort+"-off",(function(){B=!1,U.attr({"aria-controls":N+"-cloned"})}))))}},UX.transplant=R},function(I,N){var R,U;R=$("body"),U={$charCount:$(".charCount__text"),maxChar:null,init:function init(){$(".charCount__text").each((function(){var I=$(this);this.maxChar=I.attr("data-maxChar"),I.attr("maxlength",this.maxChar).closest(".input-group").find(".charLimit").html(this.maxChar)})),this.control()},control:function control(){var I=this;R.on("input",".charCount__text",(function(N){var R=$(N.target);I.maxChar=R.attr("data-maxChar");var U=R.closest(".input-group");I.charLimitCount(R,U)}))},charLimitCount:function charLimitCount(I,N){var R=this.maxChar-I.val().length;R<=50?(N.find(".charLimit").removeClass("red").addClass("yellow"),R<=10&&N.find(".charLimit").removeClass("yellow").addClass("red")):N.find(".charLimit").removeClass("yellow").removeClass("red"),N.find(".charLimit").html(R)}},UX.charCount=U,$(document).ready((function(){$(".charCount__text").length&&UX.charCount.init()}))},function(I,N){var R,U;R=$("body"),U={$editableWrapper:$(".editable__wrapper"),$editable:$(".editable__text"),$toggle:$(".editable__toggle"),$formField:null,requestNeeded:!1,field:"input",link:null,maxChar:null,vPort:"all",isMobile:null,emptyPlaceholder:"Click to edit",addControls:!1,useToggle:!1,isDefault:!1,init:function init(){var I=this;$.each(this.$editable,(function(N,R){var U=$(R);""===U.text()&&U.text(I.emptyPlaceholder)})),this.control(),this.responsive()},control:function control(){var I=this;this.$editableWrapper.on("click",(function(N){var R=$(N.target);I.$editableWrapper=R.closest(".editable__wrapper"),I.useToggle=!!I.$editableWrapper.find(".editable__toggle").length,(!I.useToggle&&R.hasClass("editable__text")||I.useToggle&&R.hasClass("editable__toggle"))&&I.edit(R)})),R.on("click",".editable__save",(function(N){N.preventDefault();var R=$(N.target);I.$editableWrapper=R.closest(".editable__wrapper"),I.setData(R,U.$editableWrapper.find(".editable__input").val())})),R.on("click",".editable__reset",(function(N){N.preventDefault();var R=$(N.target);I.resetData(R)})),R.on("click",(function(N){void 0!==N&&($(N.target).hasClass("editable__wrapper")||$(N.target).closest(".editable__wrapper").length||(I.$editableWrapper=$(".editable__wrapper.js--edit"),I.setData()))})),R.on("keydown",".editable__input",(function(N){var R=$(N.target);switch(N.keyCode){case 9:break;case 13:N.preventDefault(),N.stopPropagation(),I.$editableWrapper=R.closest(".editable__wrapper"),U.$editableWrapper.find(".editable__save").trigger("click");break;case 27:N.preventDefault(),N.stopPropagation(),I.resetData(R)}})),R.on("keydown",".editable__toggle",(function(I){var N=$(I.target);switch(I.keyCode){case 13:setTimeout((function(){N.trigger("click")}),10)}}))},responsive:function responsive(){var I=this;"all"!==this.vPort&&($(document).on(this.vPort+"-off",(function(){null!==I.isMobile&&!0!==I.isMobile||I.control(),I.isMobile=!1})),$(document).on(this.vPort+"-on",(function(){null!==I.isMobile&&!1!==I.isMobile||I.disable(),I.isMobile=!0})))},disable:function disable(){this.$editableWrapper.off("click"),R.off("click",".editable__save, .editable__reset")},edit:function edit(I){this.setData(),this.$toggle=this.$editableWrapper.find(".editable__toggle"),this.$editable=this.$editableWrapper.find(".editable__text"),this.field=void 0!==this.$editableWrapper.data("field")?this.$editableWrapper.data("field"):"input";var N=U.buildForm();this.$toggle.hide(),this.$editable.hide().after(N),this.$editableWrapper.addClass("js--edit"),this.$editableWrapper.find(".editable__input").focus()},formFields:function formFields(){var I=$('<input type="text" class="form-control"/>'),N=$('<form action="/" method="post"><div class="input-group"><div class="input-group__field-container--right-icon"></div></div></form>'),R=$('<span class="input-group-addon input-group-addon--right" ></span>'),U=$('<button type="submit" class="btn editable__save"><i class="icon-checkmark"></i></button><button type="reset" class="btn editable__reset"><i class="icon-close_thin"></i></button>');return"textarea"===this.field&&(I=$('<textarea type="text" class="form-control" rows="5" cols="100" placeholder="Write a description"/>'),U=$('<div class="pull-right"><button type="reset" class="btn editable__reset">Cancel</button><button type="submit" class="btn editable__save">Save</button></div>')),{$field:I,$form:N,$controlsWrapper:R,$controls:U}},buildForm:function buildForm(){var I=this.formFields(),N=I.$form.find(".input-group__field-container--right-icon");if(I.$field.addClass("editable__input").val(this.$editable.html()),N.append(I.$field),this.addControls&&("textarea"===this.field?I.$form.append(I.$controls):(N.append(I.$controlsWrapper),I.$controlsWrapper.append(I.$controls))),this.$editable.is(".charCount__text")&&void 0!==this.$editable.attr("data-maxChar")){this.maxChar=this.$editable.attr("data-maxChar"),0===I.$form.find(".input-group-addon--right").length&&N.append(I.$controlsWrapper),I.$field.addClass("charCount__text").attr({maxlength:this.maxChar,"data-maxChar":this.maxChar}),I.$form.find(".input-group-addon--right").prepend('<span class="charLimit"></span>');var R=I.$field.closest(".input-group");UX.charCount.maxChar=this.maxChar,UX.charCount.charLimitCount(I.$field,R)}return I.$form},setData:function setData(I,N){var R=this;if(this.requestNeeded=this.$editableWrapper.is(".editable__request"),this.addControls=void 0!==this.$editableWrapper.data("use-controls")&&this.$editableWrapper.data("use-controls"),void 0!==I){var B=this.$editableWrapper.is(".editable--default");if(I.is(".editable__save")||I.closest(".editable__save").length)if(this.requestNeeded)this.ajaxRequest(B,I,N,this.$editableWrapper);else{var H=this.$editableWrapper.find(".editable__input").val();U.addNewText(B,I,H,this.$editableWrapper)}}var V=$(".editable__wrapper.js--edit:not(.editable--default)");$.each(V,(function(I,N){var U=$(N),B=U.is(".editable__request"),H=void 0!==U.data("use-controls")&&U.data("use-controls"),V=U.find(".editable__input").val();if(B||H)B&&!H&&R.ajaxRequest(!1,U,V,U);else{var W=U.find(".editable__input").val();R.addNewText(!1,U,W,U)}U.removeClass("js--edit").find("form").remove(),U.find(".editable__toggle, .editable__text").show()}))},ajaxRequest:function ajaxRequest(I,N,R,B){this.$editable=B.find(".editable__text"),this.link=this.$editable.attr("data-editable-link"),$.ajax({url:this.link+R,type:"GET",success:function success(H){var V=$.Event("edit:saveOnRequest");$(document).trigger(V,[N,I]),""!==H&&void 0!==H.text&&(R=H.text),U.addNewText(I,N,R,B)}})},addNewText:function addNewText(I,N,R,U){this.$editable=U.find(".editable__text"),this.$editable.html(R);var B=$.Event("edit:added");$(document).trigger(B,[N,I]),I&&(U.removeClass("editable--default").find("form").remove(),U.find(".editable__toggle, .editable__text").css("display","inline"))},resetData:function resetData(I){var N=$(".editable__wrapper.js--edit"),R=N.is(".editable--default");R&&this.$editableWrapper.find(".editable__input").val("");var U=$.Event("edit:reset");$(document).trigger(U,[I,R]),R||(N.removeClass("js--edit").find("form").remove(),N.find(".editable__toggle, .editable__text").show())}},UX.editable=U,$(document).ready((function(){$(".editable__text").length&&UX.editable.init()}))},function(I,N){var R,U;R=$("body"),U={$pages:$(".js-pages"),$pager:$(".js-pager"),$current:null,$next:null,$prev:null,$first:null,$last:null,init:function init(){U.build.pages(1),U.$first=U.$pager.find("li:first-child").find("a"),U.$last=U.$pager.find("li:last-child").find("a"),U.build.pagination(1),U.control()},control:function control(){R.on("click",".js-pager a",(function(I){I.preventDefault(),U.$pager=$(this).closest(".js-pager"),U.$current=$(this).closest(".js-pager").find("a.active"),U.$next=U.$current.parent("li").next().find("a"),U.$prev=U.$current.parent("li").prev().find("a");var N=U.$pager.find("li").length;$(this).hasClass("pagination__btn--prev")?1!==U.$current.data("target-page")&&(U.$current=U.$prev,U.select.page(U.$current.data("target-page"),U.$current)):$(this).hasClass("pagination__btn--next")?U.$current.data("target-page")!==N&&(U.$current=U.$next,U.select.page(U.$current.data("target-page"),U.$current)):U.select.page($(this).data("target-page"),$(this)),U.additionalClickTrigger()}))},additionalClickTrigger:function additionalClickTrigger(){},build:{pages:function pages(I){U.$pages.find("[data-page]").hide(),U.$pages.find("[data-page="+I+"]").show()},pagination:function pagination(I){var N=U.$pager.find("li").length;if(N>7)if(I>4&&I<N-3){U.$pager.find(".pagination__list a").addClass("hidden");var R=[U.$current,U.$next,U.$secondnext,U.$thirdnext,U.$prev,U.$secondprev,U.$thirdprev];$(R).each((function(){$(this).removeClass("hidden"),$(this).parent("li").removeClass("hidden")}))}else if(I<=4){U.$pager.find(".pagination__list a").removeClass("hidden");for(var B=8;B<=N;B++)$("[data-target-page="+B+"]").addClass("hidden")}else if(I>=N-3){U.$pager.find(".pagination__list a").removeClass("hidden");for(var H=1;H<N-6;H++)$("[data-target-page="+H+"]").addClass("hidden")}1===I?$(".pagination__btn--prev").addClass("disabled"):($(".pagination__btn--prev").removeClass("disabled"),I===N?$(".pagination__btn--next").addClass("disabled"):$(".pagination__btn--next").removeClass("disabled"))}},select:{page:function page(I,N){U.$current=N,U.$next=N.parent("li").next().find("a"),U.$secondnext=U.$next.parent("li").next().find("a"),U.$thirdnext=U.$secondnext.parent("li").next().find("a"),U.$prev=N.parent("li").prev().find("a"),U.$secondprev=U.$prev.parent("li").prev().find("a"),U.$thirdprev=U.$secondprev.parent("li").prev().find("a"),U.$pages.find("[data-page]").hide(),U.$pages.find("[data-page="+I+"]").show(),U.$pager.find("a").removeClass("active"),U.$current.addClass("active"),U.build.pagination(I)}}},UX.pager=U,$(".js-pages").length&&UX.pager.init()},function(I,N){var R;R={$table:null,$tbody:null,init:function init(){R.$table=$(".table--sortable"),R.control(),R.sortIt()},control:function control(){R.$table.find("th.sortable").each((function(I){var N=$(this),U=N.attr("aria-label");I=N.index(),N.addClass("sort-default").click((function(){var B=N.closest(".table--sortable").data("asc"),H=N.closest(".table--sortable").data("desc"),V=!1,W=N.is(".sorted-asc")?-1:1,z=N.closest(".table--sortable").find("tbody"),X=N.closest(".table--sortable").find("tbody tr").get();$.each(X,(function(N,R){var U=$(R).children("td").eq(I);R.sortKey=function findSortKey(I){return I.find(".sort-key").text().toUpperCase().length?I.find(".sort-key").text().toUpperCase():I.text().toUpperCase()}(U),"date"===U.data("text")&&(V=!0)})),X.sort((function(I,N){if(-1!==I.sortKey.indexOf("-")||isNaN(I.sortKey)||isNaN(I.sortKey))if(!0===V){if(Date.parse(I.sortKey)<Date.parse(N.sortKey))return-W;if(Date.parse(I.sortKey)>Date.parse(N.sortKey))return W}else{if(I.sortKey<N.sortKey)return-W;if(I.sortKey>N.sortKey)return W}else{if(parseInt(I.sortKey)<parseInt(N.sortKey))return-W;if(parseInt(I.sortKey)>parseInt(N.sortKey))return W}return 0})),$.each(X,(function(I,N){z.append(N),N.sortKey=null})),N.closest("table").find("th").removeClass("sorted-asc sorted-desc"),N.closest("table").find("th.sortable").addClass("sort-default");var Q=N.closest("table").find("th").filter(":nth-child("+(I+1)+")");Q.removeClass("sort-default"),$(".table--sortable .sort-default").get().forEach((function(I,N){var R=$(I),U=$(I).attr("aria-label");if(U.indexOf(B)>0){var V=U.replace(B,"");R.attr("aria-label",V)}if(U.indexOf(H)>0){var W=U.replace(H,"");R.attr("aria-label",W)}})),1===W?Q.addClass("sorted-asc"):Q.addClass("sorted-desc"),1===W?Q.attr("aria-label","".concat(U," ").concat(B)):Q.attr("aria-label","".concat(U," ").concat(H)),N.closest("table").find("td").removeClass("sorted").filter(":nth-child("+(I+1)+")").addClass("sorted"),R.$table.hasClass("js-pages")&&R.pager.rebuild(),R.additionalClickTrigger()}))})),$(".sort-default").keydown((function(I){13===I.keyCode&&($(this).trigger("click",!0),I.preventDefault())}))},additionalClickTrigger:function additionalClickTrigger(){},pager:{rebuild:function rebuild(){var I=R.$table.find(".js-pager"),N=0,U=R.$table.find("[data-page=1]").length;if(void 0!==I.attr("data-page-size")&&(U=I.attr("data-page-size")),R.$table.find("[data-page]").each((function(I){I%U==0&&N++,$(this).attr("data-page",N)})),R.$table.find(".pagination__list").length){var B=R.$table.find(".pagination__list a.active").data("target-page");R.$table.find("[data-page]").hide(),R.$table.find("[data-page="+B+"]").show()}}},sortIt:function sortIt(){if(R.$table.length)for(var I=R.$table.find("th.default"),N=0;N<I.length;N++){var U=$("[data-sort-order="+N+"]"),B=U.data("sort-type");U.addClass("sorted-"+B).trigger("click")}}},UX.sortableTable=R},function(I,N){/*!
* enquire.js v2.1.2 - Awesome Media Queries in JavaScript
* Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
* License: MIT (http://www.opensource.org/licenses/mit-license.php)
*/var R,U;R=window,U=window.matchMedia,R.enquire=function(I){"use strict";function each(I,N){for(var R=0,U=I.length;R<U&&!1!==N(I[R],R);R++);}function isFunction(I){return"function"==typeof I}function QueryHandler(I){this.options=I,!I.deferSetup&&this.setup()}function MediaQuery(N,R){this.query=N,this.isUnconditional=R,this.handlers=[],this.mql=I(N);var U=this;this.listener=function(I){U.mql=I,U.assess()},this.mql.addListener(this.listener)}function MediaQueryDispatch(){if(!I)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!I("only all").matches}return QueryHandler.prototype={setup:function setup(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function on(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function off(){this.options.unmatch&&this.options.unmatch()},destroy:function destroy(){this.options.destroy?this.options.destroy():this.off()},equals:function equals(I){return this.options===I||this.options.match===I}},MediaQuery.prototype={addHandler:function addHandler(I){var N=new QueryHandler(I);this.handlers.push(N),this.matches()&&N.on()},removeHandler:function removeHandler(I){var N=this.handlers;each(N,(function(R,U){if(R.equals(I))return R.destroy(),!N.splice(U,1)}))},matches:function matches(){return this.mql.matches||this.isUnconditional},clear:function clear(){each(this.handlers,(function(I){I.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function assess(){var I=this.matches()?"on":"off";each(this.handlers,(function(N){N[I]()}))}},MediaQueryDispatch.prototype={register:function register(I,N,R){var U=this.queries,$=R&&this.browserIsIncapable;return U[I]||(U[I]=new MediaQuery(I,$)),isFunction(N)&&(N={match:N}),function isArray(I){return"[object Array]"===Object.prototype.toString.apply(I)}(N)||(N=[N]),each(N,(function(N){isFunction(N)&&(N={match:N}),U[I].addHandler(N)})),this},unregister:function unregister(I,N){var R=this.queries[I];return R&&(N?R.removeHandler(N):(R.clear(),delete this.queries[I])),this}},new MediaQueryDispatch}(U)},function(I,N){UX.colors={}},function(I,N){UX.grid={screenXs:"532",screenSm:"768",screenMd:"1024",screenLg:"1200",screenXlg:"1920",containerMobile:"500",containerXs:"",containerTablet:"736",containerSm:"",containerDesktop:"960",containerMd:"",containerLargeDesktop:"1080",containerLg:"",articleLg:"1320"}},function(I,N){var R,U;R=$("body"),U={expandIcon:"icon-add_box",collapseIcon:"icon-squared-minus",init:function init(){U.on.build(),U.control()},control:function control(){R.on("click",".expandable-list__toggle",(function(I){I.preventDefault(),U.on.toggleList($(this))}))},on:{build:function build(){$(".expandable-list").each((function(){$(this).find(".expandable-list__body").hide()}))},toggleList:function toggleList(I){var N=I,R=N.closest(".expandable-list"),$=R.children(".expandable-list__body").toggle();U.defineToggleIcons(R),R.toggleClass("js--open"),N.find("i").toggleClass(U.expandIcon+" "+U.collapseIcon),R.hasClass("js--open")?(N.attr("aria-expanded",!0),$.attr("aria-hidden",!1)):(N.attr("aria-expanded",!1),$.attr("aria-hidden",!0))},closeList:function closeList(I){var N=$(".expandable-list");U.defineToggleIcons(N),N.removeClass("js--open");var R=N.children(".expandable-list__body").hide();$(".expandable-list__toggle").attr("aria-expanded","false").find("i").addClass(U.expandIcon).removeClass(U.collapseIcon),R.attr("aria-hidden",!0)}},defineToggleIcons:function defineToggleIcons(I){void 0!==I.data("expand-icon")&&""!==I.data("expand-icon")&&(U.expandIcon=I.data("expand-icon")),void 0!==I.data("collapse-icon")&&""!==I.data("collapse-icon")&&(U.collapseIcon=I.data("collapse-icon"))}},UX.list=U},function(I,N){var R,U;R=$("body"),U={container:null,$wrapper:null,$toggle:null,$form:null,$terms:null,$markAll:null,maxClone:2,init:function init(){U.$toggle=$(".reproducible"),U.$wrapper=$(".reproducible__wrapper"),U.container=".reproducible__container",U.control();var I=U.$wrapper.children(".reproducible").length;U.check.lastClone(I),U.accessibility.init(),U.additionalControls()},accessibility:{init:function init(){this.radioCheckbox(),0===$(".force--disabled").length&&this.selectBox(),this.buttons.init(),this.range()},radioCheckbox:function radioCheckbox(){var I=".radio--primary, .radio--secondary, .checkbox--primary, .checkbox--secondary";$(document).on("mousedown",I,(function(I){$(this).attr({tabindex:0})})).on("mouseup",I,(function(I){var N=$(this);N.removeAttr("tabindex"),N.hasClass("withInput")?N.find("input[type=email], input[type=text]").focus():N.find("input[type=radio], input[type=checkbox]").focus()}))},selectBox:function selectBox(){$(document).on("mousedown",".jcf-select",(function(I){var N=$(this);N.attr({tabindex:0}),N.siblings(".jcf-hidden").attr("disabled",!0),N.focus()})).on("mouseup",".jcf-select",(function(I){var N=$(this);N.removeAttr("tabindex"),N.siblings(".jcf-hidden").focus(),N.siblings(".jcf-hidden").removeAttr("disabled")})),$(document).on("keydown","select.jcf-hidden",(function(I){13===I.which?I.preventDefault():27===I.which&&$(this).siblings(".jcf-drop-active").length>0&&(I.which=13,$(this).trigger(I))})),$("select.jcf-hidden").on("blur",(function(I){var N=$(this);null!==I.relatedTarget&&(I.target=I.relatedTarget);var R=window.jcf.getInstance(N[0]).instance,U=$(I.target);U.filter(R.realElement).length||U.closest(R.fakeElement).length||U.closest(R.dropdown).length||R.hideDropdown()}))},buttons:{init:function init(){this.prepare(),$(document).on("keydown","a[role=button]",(function(I){32!==I.which&&13!==I.which||(I.preventDefault(),$(this).click())}))},prepare:function prepare(){$("a[role=button]").each((function(){var I=$(this),N=I.attr("href");N="#"===N?null:N;var R=I.data("target");I.attr({"data-target":R||N,tabindex:0}),N||I.removeAttr("href")}))}},range:function range(){$('input[type="range"]').on("keydown",(function(I){Object.values({DOWN:40,END:35,HOME:36,LEFT:37,RIGHT:39,UP:38}).indexOf(I.keyCode)>-1&&I.stopPropagation()})).on("mousedown",(function(I){I.stopPropagation()}))}},control:function control(){R.on("keypress click",'[class*="-ctrl-field"]',(function(I){13!==I.which&&"click"!==I.type||(I.preventDefault(),U.$wrapper=$(this).closest(".reproducible__wrapper"),U.$toggle=$(this).closest(".reproducible"),U.$terms=$(this).closest(".reproducible__wrapper").find(".reproducible"),0===$(U.container).length&&($(this).is(".add-ctrl-field")?U.$terms.length<U.maxClone+1&&U.on.clone($(this)):U.$terms.length>1&&U.on.remove($(this))))})),R.on("click",'[name="markall"]',(function(I){U.on.markAll($(this))}))},additionalControls:function additionalControls(){},on:{clone:function clone(I){window.jcf.destroy($(".reproducible .jcf")),U.$toggle.clone(!0,!0).find("input").val("").end().appendTo(U.$wrapper),$(".reproducible .jcf").each((function(){window.jcf.replace($(this))})),U.check.terms(I);var N=U.$wrapper.children(".reproducible").length;U.check.lastClone(N)},remove:function remove(I){U.$toggle.remove(),U.check.terms(I);var N=U.$wrapper.children(".reproducible").length;U.check.lastClone(N)},markAll:function markAll(I){U.$markAll=I.closest(".markAll"),I.prop("checked")?U.$markAll.find('[type="checkbox"]').prop("checked",!0):U.$markAll.find('[type="checkbox"]').prop("checked",!1)}},check:{terms:function terms(I){var N,R,B=I.closest(".reproducible").find("input").attr("name");B&&(N=B.split("["),R=N[1].split("]")),0===$(U.container).length?U.$terms=$(".reproducible"):U.$terms=I.parents(U.container).find(".reproducible");var H=0;U.$terms.each((function(I){if($(this).parents(".template").length)H=1;else{var U=I-H;$(this).find("input").attr("name",N[0]+"["+U+"]"+R[1])}}))},lastClone:function lastClone(I){I===U.maxClone?U.$wrapper.children(".reproducible:last-child").children(".add-ctrl-field").addClass("hidden"):U.$wrapper.children(".reproducible:last-child").children(".add-ctrl-field").removeClass("hidden")}}},UX.fieldsCtrl=U},function(I,N){I.exports=function _iterableToArrayLimit(I,N){var R=null==I?null:"undefined"!=typeof Symbol&&I[Symbol.iterator]||I["@@iterator"];if(null!=R){var U,$,B,H,V=[],W=!0,z=!1;try{if(B=(R=R.call(I)).next,0===N){if(Object(R)!==R)return;W=!1}else for(;!(W=(U=B.call(R)).done)&&(V.push(U.value),V.length!==N);W=!0);}catch(I){z=!0,$=I}finally{try{if(!W&&null!=R.return&&(H=R.return(),Object(H)!==H))return}finally{if(z)throw $}}return V}},I.exports.__esModule=!0,I.exports.default=I.exports},function(I,N){var R,U,B;R=$(window),U=$("body"),B={$controllers:$("[data-db-target-for]"),$targets:null,$controller:null,$target:null,$parents:null,$parent:null,escape:27,$container:$(".container"),switchVal:null,$section:$(".dropBlock__holder"),vPort:"screen-sm",isMobile:!1,initialized:!1,direction:"left",pop:"down",init:function init(){B.control()},control:function control(){B.initialized||(B.initialized=!0,$(document).on("click","[data-db-target-for]",(function(I){I.preventDefault(),I.stopPropagation();var N=$(this).hasClass("js--open"),R=$(this).is("[data-slide-target]"),U=$(this).data("db-sm-disable")||!1;if(B.$controller=$(this),B.find.target(),N)B.on.hide();else{if(B.isMobile&&(!1!==R||U))return;B.on.show(I)}})),$(document).on("click",".coolBar:not(.loi__banner) [data-db-target-of] a:not([data-slide-target])",(function(I){B.on.hide()})),R.on("resize",(function(){null!=B.$parent&&B.find.dimensions()})),$(document).on(B.vPort+"-on",(function(){B.isMobile=!0})),$(document).on(B.vPort+"-off",(function(){B.isMobile=!1})))},on:{show:function show(I){B.$controller.closest(".dropBlock__holder").length||void 0!==UX.controller&&UX.controller.check(I),B.$target&&(B.$controller.trigger("dropBlock:open",[B]),B.$target.addClass("js--open"),B.$controller.addClass("js--open"),U.attr("data-active","dropBlock"),B.$target.closest("[class*='sticko']").addClass("js--open"),B.switch.icon(),B.$target.find(".active :tabbable").first().focus(),B.$controller.attr({"aria-expanded":"true"}),B.$target.removeAttr("aria-hidden"),B.$target.find(".loi").length>0&&B.$target.find(".loi__list").each((function(){UX.loi.on.recalculate($(this))})),B.$controller.trigger("dropBlock:opened",[B])),B.additionalOnShow()},hide:function hide(){B.$target&&(B.$controller.trigger("dropBlock:close",[B]),B.$controller.removeClass("js--open"),B.$target.removeClass("js--open"),B.$target.attr("style")&&B.$target.removeAttr("style"),B.$target.closest("[class*='accordion-tabbed__tab']").removeClass("js--open"),B.$target.closest("[class*='sticko']").removeClass("js--open"),B.switch.back(),B.$controller.attr({"aria-expanded":"false"}),B.$target.attr({"aria-hidden":"true"}),B.$parentSection&&B.$parentSection.length?(B.$controller=$('[data-db-target-for="'+B.$parentSection.attr("data-db-target-of")+'"]'),B.find.target()):"dropBlock"===U.attr("data-active")&&(U.removeAttr("data-active"),$("body, html").removeClass("lock-screen")),B.$target&&B.$target.find("input:focus").blur(),B.$controller.trigger("dropBlock:closed",[B])),B.additionalOnHide()},escape:function escape(){null!=B.$target&&B.on.hide()}},find:{target:function target(){if($("[data-db-target-of]").length){B.$targets=$("[data-db-target-of]"),B.$target=$("[data-db-target-of="+B.$controller.attr("data-db-target-for")+"]"),B.$section=B.$target;var I=B.$section.parents(".dropBlock__holder");I.length?B.$parentSection=I:B.$parentSection=null,B.find.parent()}},parent:function parent(){B.$parent=null,B.$parents=$("[data-db-parent-of]"),B.$parents.length&&(B.$parents.each((function(){var I=B.$controller.attr("data-db-target-for");if(-1!==$(this).data("db-parent-of").split(",").indexOf(I))return B.$parent=$(this),!1})),null!=B.$parent&&(B.find.dimensions(),B.find.ifContaind()))},ifContaind:function ifContaind(){B.$parent.find(".container").length&&!B.$target.find(".container").length&&B.$target.wrapInner("<div class='container'></div>")},dimensions:function dimensions(){var I=B.$parent.outerHeight(),N=B.$parent.offset(),R=N.left,U=B.$parent.innerWidth(),H={},V=N;B.$container=$(".container"),B.$container.length&&(V=B.$container.offset());var W=V.left+B.$container.width(),z=U+R;if(B.$parent.find(".scrollThenFix").length&&(I=B.$parent.find(".scrollThenFix").outerHeight()),B.$parent.innerWidth()===B.$controller.innerWidth()&&(U=B.$parent.hasClass("no-auto-width")?"":"auto",B.isMobile&&(U=B.$parent.hasClass("no-auto-width")?"":"100%")),z>W)H={top:I,right:"0px",width:U};else{H={top:I,width:U};var X=B.$parent.data("db-direction")||B.direction;switch(X){case"left":case"right":H[X]="0px";break;case"center":var Q=B.$target.innerWidth()/2-B.$parent.innerWidth();H.left="calc(-50% - ".concat(Q,"px)")}}B.$target.css(H)}},switch:{icon:function icon(){switch(B.switchVal=B.$controller.attr("data-db-switch"),B.switchVal){case"none":break;case"rotate":B.$controller.find("i").addClass("js--rotated");break;default:B.$controller.find("i").addClass(B.switchVal)}},back:function back(){B.$controllers.each((function(){var I=$(this).attr("data-db-switch");switch(I){case"none":break;case"rotate":B.$controller.find("i").removeClass("js--rotated");break;default:void 0!==I&&B.$controller.find("i").removeClass(I)}}))}},additionalOnShow:function additionalOnShow(){},additionalOnHide:function additionalOnHide(){}},UX.dropBlock=B},function(I,N){!function(I,N){var R={selectors:{VIEW_FULL:".journal-cover-box__description__link",TEXT_CONTAINER:".journal-cover-box__description__text",TEXT_ELEMENT:".journal-cover-box__description__text span"},truncateOptions:{lines:5,seeMoreLink:!1,ellipsisChar:"&hellip; | "},textContainer:null,textElement:null,viewFull:null,init:function init(){this.textContainer=document.querySelector(this.selectors.TEXT_CONTAINER),this.textContainer&&(this.textElement=document.querySelector(this.selectors.TEXT_ELEMENT),this.viewFull=document.querySelector(this.selectors.VIEW_FULL),this.textElement&&this.control())},control:function control(){this.viewFull&&this.moveBefore(),I(this.textContainer).truncate(this.truncateOptions),this.viewFull&&this.moveAfter()},moveBefore:function moveBefore(){this.textElement.before(this.viewFull),this.viewFull.style.display="inline-block",this.viewFull.style.marginRight="5em"},moveAfter:function moveAfter(){this.viewFull.style.marginRight="0",this.viewFull.style.display="inline",this.textElement.after(this.viewFull)}};N.journalCoverBox=R}($,UX)},function(I,N){!function(I){var N={selectors:{TWITTER_FEED:".twitter-feed--horizontal",TWITTER_TIMELINE:".twitter-timeline"},bodyWidth:document.body.clientWidth,init:function init(){$(N.selectors.TWITTER_FEED).delegate(N.selectors.TWITTER_TIMELINE,"DOMSubtreeModified propertychange",(function(){N.customizeTweetMedia()})),$(window).resize((function(){N.bodyWidth=document.body.clientWidth,N.customizeTweetMedia()}))},customizeTweetMedia:function customizeTweetMedia(){var R=$(N.selectors.TWITTER_FEED).find(N.selectors.TWITTER_TIMELINE).contents();R.find(".timeline-Widget").css("max-width","100%"),R.find(".timeline-Widget .timeline-Body").css("border","none"),R.find(".timeline-Widget ol.timeline-TweetList").css("display","flex"),R.find(".timeline-Widget ol.timeline-TweetList").css("justify-content","space-between"),R.find(".timeline-Widget ol.timeline-TweetList").css("align-items","flex-start"),R.find(".timeline-Widget p.timeline-Tweet-text").css("font-size","14px"),R.find(".timeline-Widget p.timeline-Tweet-text").css("line-height","20px"),R.find(".timeline-Widget .TweetAuthor span").css("font-size","16px"),R.find(".timeline-Widget li.timeline-TweetList-tweet").css("display","block"),R.find(".timeline-Widget li.timeline-TweetList-tweet").css("border-top","none"),R.find(".timeline-Widget .timeline-Tweet-media img.NaturalImage-image").css("width","100%"),R.find(".timeline-Widget .timeline-LoadMore, .timeline-Widget .timeline-Header, .timeline-Widget .timeline-Footer").css("display","none"),R.find(".timeline-Widget .timeline-Viewport").css("overflow-y","hidden"),R.find(".timeline-Widget li.timeline-TweetList-tweet").css("width","100%"),R.find(".timeline-Widget ol.timeline-TweetList").css("flex-direction","column"),this.bodyWidth>I.grid.screenSm&&(R.find(".timeline-Widget li.timeline-TweetList-tweet").css("width","33%"),R.find(".timeline-Widget ol.timeline-TweetList").css("flex-direction","row")),R.find(".timeline-TweetList").bind("DOMSubtreeModified propertychange",(function(){N.customizeTweetMedia(this)}))}};I.tweets=N}(UX)},function(I,N){$((function(){(window.jcf.setOptions("Select",{wrapNativeOnMobile:!1}),window.jcf.replace('.literatumProfileMainWidget .select select:not([multiple="multiple"])'),$(window).width()<992)&&$('select[multiple="multiple"]').each((function(){var I=$(this),N=I.attr("id").split("."),R=$('[name="'+N[0]+'.code"]').data("maxtags").split(".");R=R[0],I.chosen({max_selected_options:R})}))}))},function(I,N){!function(I){var N={widget:null,forms:null,activeForm:null,SERVICE_NAME:"/action/doLogin",selectors:{CONTAINER:'form[action="/action/doLogin"]',USEAJAX_INPUT:'[name="submitViaAJAX"]',USERNAME_INPUT:'[name="login"]',PASSWORD_INPUT:'[name="password"], [name="password1"]',REMEMBER_INPUT:'[name="remember"]',ERROR_EL:".useAJAX_SSO_error",ERROR:".error",INPUTS:'input:not([type="checkbox"]):not([type="hidden"])',AntiForgeryToken:'input[name="anti-forgery-token"]'},classes:{D_NONE:"d-none",IS_INVALID:"is-invalid"},messages:{SUCCESS_FALSE_MESSAGE:"The email address and/or password entered does not match our records, please check and try again."},init:function init(){this.widget=document.querySelectorAll(this.selectors.CONTAINER),this.forms=document.querySelectorAll(this.selectors.CONTAINER),this.forms&&this.forms.length>0&&this.control()},control:function control(){this.forms.forEach((function(I){var R=this;N.activeForm=I,N.activeForm.addEventListener("submit",this.processSubmitForm),this.getInputs().forEach((function(I){return I.addEventListener("change",R.onChangeHandler)}),this)}),this)},onChangeHandler:function onChangeHandler(I){this.classList.remove(N.classes.IS_INVALID),this.removeAttribute("aria-invalid")},onSubmitHandler:function onSubmitHandler(I){var R;N.getInputs().forEach((function(I){I.classList.remove(N.classes.IS_INVALID),I.removeAttribute("aria-invalid")})),null===(R=N.activeForm.querySelector(N.selectors.ERROR))||void 0===R||R.classList.add(N.classes.D_NONE)},processSubmitForm:function processSubmitForm(I){if(N.activeForm=this,N.onSubmitHandler(),!N.activeForm.querySelector(N.selectors.USEAJAX_INPUT).value)return!0;I.preventDefault();var R=N.activeForm.querySelector(N.selectors.USERNAME_INPUT).value,U=N.activeForm.querySelector(N.selectors.PASSWORD_INPUT).value,B=N.activeForm.querySelector(N.selectors.REMEMBER_INPUT).checked,H=N.activeForm.querySelector(N.selectors.AntiForgeryToken).value;$.ajax({url:N.SERVICE_NAME,type:"POST",data:{login:R,password:U,remember:B,"anti-forgery-token":H},success:N.handleSuccessRequest,error:N.handleBadRequest})},handleSuccessRequest:function handleSuccessRequest(I,R,U){if(I)if(!0===I.success||"true"===I.success)location.reload();else{N.getInputs().forEach((function(I){I.classList.add("is-invalid"),I.setAttribute("aria-invalid","true")}));var $=N.activeForm.querySelector(N.selectors.ERROR_EL),B=$.querySelector(N.selectors.ERROR);B.innerText=N.messages.SUCCESS_FALSE_MESSAGE,I.notVerified&&(B.innerText=I.notVerified),I.emptyEmail&&(B.innerText=I.emptyEmail),I.emptyPassword&&(B.innerText=I.emptyPassword),$.classList.remove(N.classes.D_NONE),B.classList.remove(N.classes.D_NONE)}},handleBadRequest:function handleBadRequest(I,N,R){},getInputs:function getInputs(){return N.activeForm.querySelectorAll(N.selectors.INPUTS)}};I.doLogin=N}(UX)},function(I,N){!function(I){var N={widget:null,submitBtn:null,form:null,checkBox:null,selectors:{WIDGET_CONTAINER:".eCommerceCheckoutPaymentWidget",FORM:"form",SUBMIT:'[type="submit"]',CHECK_BOX:"#acceptTermsConditions"},init:function init(){this.widget=document.querySelector(this.selectors.WIDGET_CONTAINER),this.widget&&(this.form=this.widget.querySelector(this.selectors.FORM),this.form&&(this.submitBtn=this.form.querySelector(this.selectors.SUBMIT),this.checkBox=document.querySelector(this.selectors.CHECK_BOX),this.control(),this.checkTerms(this.checkBox,this.submitBtn)))},control:function control(){this.form.addEventListener("submit",N.onSubmitHandler)},onSubmitHandler:function onSubmitHandler(I){(N.submitBtn.setAttribute("disabled",!0),literatum&&"function"==typeof literatum.FullPageLoading)&&(new literatum.FullPageLoading).start();return!0},checkTerms:function checkTerms(I,N){var R=function validate(){return I.checked?N.removeAttribute("disabled"):N.setAttribute("disabled",!0)};R(),I.addEventListener("click",(function(){return R()}))}};I.payment=N,$(document).ready((function(){I.payment.init()}))}(UX)},function(I,N){$(window).on("load",(function(I){"#citation"===window.location.hash&&$(".tab__citation-search a").click()}))},function(I,N,R){/*!
* JavaScript Custom Forms
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(I,N){"use strict";I.jcf=function(I){var N=[],R={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},U="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,$=/Windows Phone/.test(navigator.userAgent);R.isMobileDevice=!(!U&&!$);(function(){var N,R=navigator.pointerEnabled||navigator.msPointerEnabled,U="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,$={};N=R?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(U?" touchstart":""),pointermove:"mousemove"+(U?" touchmove":""),pointerup:"mouseup"+(U?" touchend":"")},I.each(N,(function(N,R){I.each(R.split(" "),(function(I,R){$[R]=N}))})),I.each(N,(function(N,R){R=R.split(" "),I.event.special["jcf-"+N]={setup:function setup(){var N=this;I.each(R,(function(I,R){N.addEventListener?N.addEventListener(R,H,!1):N["on"+R]=H}))},teardown:function teardown(){var N=this;I.each(R,(function(I,R){N.addEventListener?N.removeEventListener(R,H,!1):N["on"+R]=null}))}}}));var B=null,H=function fixEvent(N){var R=N||window.event,U=null,H=$[R.type];if((N=I.event.fix(R)).type="jcf-"+H,R.pointerType)switch(R.pointerType){case 2:N.pointerType="touch";break;case 3:N.pointerType="pen";break;case 4:N.pointerType="mouse";break;default:N.pointerType=R.pointerType}else N.pointerType=R.type.substr(0,5);return N.pageX||N.pageY||(U=R.changedTouches?R.changedTouches[0]:R,N.pageX=U.pageX,N.pageY=U.pageY),"touchend"===R.type&&(B={x:N.pageX,y:N.pageY}),"mouse"===N.pointerType&&B&&function mouseEventSimulated(I){var N=Math.abs(I.pageX-B.x),R=Math.abs(I.pageY-B.y);if(N<=25&&R<=25)return!0}(N)?void 0:(I.event.dispatch||I.event.handle).call(this,N)}})(),function(){var N=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");I.event.special["jcf-mousewheel"]={setup:function setup(){var U=this;I.each(N,(function(I,N){U.addEventListener?U.addEventListener(N,R,!1):U["on"+N]=R}))},teardown:function teardown(){var U=this;I.each(N,(function(I,N){U.addEventListener?U.removeEventListener(N,R,!1):U["on"+N]=null}))}};var R=function fixEvent(N){var R=N||window.event;if((N=I.event.fix(R)).type="jcf-mousewheel","detail"in R&&(N.deltaY=-R.detail),"wheelDelta"in R&&(N.deltaY=-R.wheelDelta),"wheelDeltaY"in R&&(N.deltaY=-R.wheelDeltaY),"wheelDeltaX"in R&&(N.deltaX=-R.wheelDeltaX),"deltaY"in R&&(N.deltaY=R.deltaY),"deltaX"in R&&(N.deltaX=R.deltaX),N.delta=N.deltaY||N.deltaX,1===R.deltaMode){N.delta*=16,N.deltaY*=16,N.deltaX*=16}return(I.event.dispatch||I.event.handle).call(this,N)}}();var B={fireNativeEvent:function fireNativeEvent(N,R){I(N).each((function(){var I;this.dispatchEvent?((I=document.createEvent("HTMLEvents")).initEvent(R,!0,!0),this.dispatchEvent(I)):document.createEventObject&&((I=document.createEventObject()).target=this,this.fireEvent("on"+R,I))}))},bindHandlers:function bindHandlers(){var N=this;I.each(N,(function(R,U){0===R.indexOf("on")&&I.isFunction(U)&&(N[R]=function(){return U.apply(N,arguments)})}))}},H={version:"1.2.3",modules:{},getOptions:function getOptions(){return I.extend({},R)},setOptions:function setOptions(N,U){arguments.length>1?this.modules[N]&&I.extend(this.modules[N].prototype.options,U):I.extend(R,N)},addModule:function addModule(U){I.isFunction(U)&&(U=U(I,window));var $=function Module(U){U.element.data(R.dataKey)||U.element.data(R.dataKey,this),N.push(this),this.options=I.extend({},R,this.options,H(U.element),U),this.bindHandlers(),this.init.apply(this,arguments)},H=function getInlineOptions(N){var U=N.data(R.optionsKey),$=N.attr(R.optionsKey);if(U)return U;if($)try{return I.parseJSON($)}catch(I){}};$.prototype=U,I.extend(U,B),U.plugins&&I.each(U.plugins,(function(N,R){I.extend(R.prototype,B)}));var V=$.prototype.destroy;$.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var I=N.length-1;I>=0;I--)if(N[I]===this){N.splice(I,1);break}V&&V.apply(this,arguments)},this.modules[U.name]=$},getInstance:function getInstance(N){return I(N).data(R.dataKey)},replace:function replace(N,U,$){var B,V=this;return R.styleSheetCreated||function createStyleSheet(){var N=I("<style>").appendTo("head"),U=N.prop("sheet")||N.prop("styleSheet"),$=function addCSSRule(I,N,R){R=R||0,U.insertRule?U.insertRule(I+"{"+N+"}",R):U.addRule(I,N,R)};$("."+R.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),$("."+R.rtlClass+" ."+R.hiddenClass,"right:-9999px !important; left: auto !important"),$("."+R.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),$("."+R.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var B=I("html"),V=I("body");"rtl"!==B.css("direction")&&"rtl"!==V.css("direction")||B.addClass(R.rtlClass),B.on("reset",(function(){setTimeout((function(){H.refreshAll()}),0)})),R.styleSheetCreated=!0}(),I(N).each((function(){var N,H=I(this);(B=H.data(R.dataKey))?B.refresh():(U||I.each(V.modules,(function(I,N){if(N.prototype.matchElement.call(N.prototype,H))return U=I,!1})),U&&(N=I.extend({element:H},$),B=new V.modules[U](N)))})),B},refresh:function refresh(N){I(N).each((function(){var N=I(this).data(R.dataKey);N&&N.refresh()}))},destroy:function destroy(N){I(N).each((function(){var N=I(this).data(R.dataKey);N&&N.destroy()}))},replaceAll:function replaceAll(N){var R=this;I.each(this.modules,(function(U,$){I($.prototype.selector,N).each((function(){this.className.indexOf("jcf-ignore")<0&&R.replace(this,U)}))}))},refreshAll:function refreshAll(U){if(U)I.each(this.modules,(function(N,$){I($.prototype.selector,U).each((function(){var N=I(this).data(R.dataKey);N&&N.refresh()}))}));else for(var $=N.length-1;$>=0;$--)N[$].refresh()},destroyAll:function destroyAll(U){if(U)I.each(this.modules,(function(N,$){I($.prototype.selector,U).each((function(N,U){var $=I(U).data(R.dataKey);$&&$.destroy()}))}));else for(;N.length;)N[0].destroy()}};window.jcf=H;return H}(jQuery)}(this)},function(I,N){/*!
* JavaScript Custom Forms : File Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(I){I.addModule((function(I){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function matchElement(I){return I.is('input[type="file"]')},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=I(document),this.realElement=I(this.options.element).addClass(this.options.realElementClass),this.fakeElement=I(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function attachEvents(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function onChange(){this.refresh()},onFocus:function onFocus(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function onPress(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function getFileName(){var N="",R=this.realElement.prop("files");return R&&R.length?I.each(R,(function(I,R){N+=(I>0?", ":"")+R.name})):N=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),N},getFileExtension:function getFileExtension(){var I=this.realElement.val();return I.lastIndexOf(".")<0?"":I.substring(I.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function updateExtensionClass(){var I=this.getFileExtension(),N=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",N),I&&this.fakeElement.addClass(this.options.extensionPrefixClass+I)},refresh:function refresh(){var I=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(I),this.updateExtensionClass()},destroy:function destroy(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}}))}(jcf)},function(I,N){/*!
* JavaScript Custom Forms : Checkbox Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(I){I.addModule((function(I){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function matchElement(I){return I.is(":checkbox")},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=I(document),this.realElement=I(this.options.element),this.fakeElement=I(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function onRealClick(I){var N=this;this.savedEventObject=I,setTimeout((function(){N.refresh()}),0)},onFakeClick:function onFakeClick(I){this.options.wrapNative&&this.realElement.is(I.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function onBlur(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function onPress(I){this.focusedFlag||"mouse"!==I.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(I){this.focusedFlag&&"mouse"===I.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function getLabelFor(){var N=this.realElement.closest("label"),R=this.realElement.prop("id");return!N.length&&R&&(N=I('label[for="'+R+'"]')),N.length?N:null},refresh:function refresh(){var I=this.realElement.is(":checked"),N=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,I).toggleClass(this.options.uncheckedClass,!I).toggleClass(this.options.disabledClass,N),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,I)},destroy:function destroy(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}}))}(jcf)},function(I,N){/*!
* JavaScript Custom Forms : Radio Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(I){I.addModule((function(N){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function matchElement(I){return I.is(":radio")},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=N(document),this.realElement=N(this.options.element),this.fakeElement=N(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function onRealClick(I){var N=this;this.savedEventObject=I,setTimeout((function(){N.refreshRadioGroup()}),0)},onFakeClick:function onFakeClick(I){this.options.wrapNative&&this.realElement.is(I.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function onBlur(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function onPress(I){this.focusedFlag||"mouse"!==I.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(I){this.focusedFlag&&"mouse"===I.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function getCurrentActiveRadio(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function getRadioGroup(I){var R=I.attr("name"),U=I.parents("form");return R?U.length?U.find('input[name="'+R+'"]'):N('input[name="'+R+'"]:not(form input)'):I},getLabelFor:function getLabelFor(){var I=this.realElement.closest("label"),R=this.realElement.prop("id");return!I.length&&R&&(I=N('label[for="'+R+'"]')),I.length?I:null},refreshRadioGroup:function refreshRadioGroup(){this.getRadioGroup(this.realElement).each((function(){I.refresh(this)}))},refresh:function refresh(){var I=this.realElement.is(":checked"),N=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,I).toggleClass(this.options.uncheckedClass,!I).toggleClass(this.options.disabledClass,N),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,I)},destroy:function destroy(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf)},function(I,N){/*!
* JavaScript Custom Forms : Range Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(I){I.addModule((function(I){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function matchElement(I){return I.is(this.selector)},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){for(this.page=I("html"),this.realElement=I(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=I(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=I(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=I(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=I(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=I()),this.rangeMid=this.rangeMid.add(I(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function createDataList(){var N=this,R=[],U=this.realElement.attr("list");U&&(I("#"+U).find("option").each((function(){var U,$=parseFloat(this.value||this.innerHTML);isNaN($)||(U=N.valueToOffset($),R.push({value:$,offset:U}),I(N.options.dataListMark).text($).attr({"data-mark-value":$}).css(N.offsetProperty,U+"%").appendTo(N.track))})),R.length&&(N.dataValues=R))},getDragHandleRange:function getDragHandleRange(I){var N=-1/0,R=1/0;return I>0&&(N=this.valueToStepIndex(parseFloat(this.values[I-1])+this.options.minRange)),I<this.handleCount-1&&(R=this.valueToStepIndex(parseFloat(this.values[I+1])-this.options.minRange)),{minStepIndex:N,maxStepIndex:R}},getNearestHandle:function getNearestHandle(N){this.isVertical&&(N=1-N);var R=this.handles.eq(0),U=1/0,$=this;return this.handleCount>1&&this.handles.each((function(){var B=parseFloat(this.style[$.offsetProperty])/100,H=Math.abs(B-N);H<U&&(U=H,R=I(this))})),R},onTrackPress:function onTrackPress(I){var N,R,U;I.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(N=this.track[this.sizeMethod](),R=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((I[this.eventProperty]-R)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),U=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:N,innerOffset:U,trackOffset:R,min:R,max:R+N},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===I.pointerType&&this.realElement.focus(),this.onHandleMove(I))},onHandlePress:function onHandlePress(N){var R,U,$;N.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=I(N.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),R=this.track[this.sizeMethod](),U=this.track.offset()[this.directionProperty],$=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:N[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:R,innerOffset:$,trackOffset:U,min:U,max:U+R},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===N.pointerType&&this.realElement.focus())},onHandleMove:function onHandleMove(N){var R,U,$,B,H,V=this;if((R=this.isVertical?this.dragData.max+(this.dragData.min-N[this.eventProperty])-this.dragData.innerOffset:N[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?R=this.dragData.min:R>this.dragData.max&&(R=this.dragData.max),N.preventDefault(),this.options.snapToMarks&&this.dataValues){var W=R-this.dragData.trackOffset;U=(R-this.dragData.trackOffset)/this.dragData.trackSize*100,I.each(this.dataValues,(function(I,N){var R=N.offset/100*V.dragData.trackSize,$=R-V.options.snapRadius,B=R+V.options.snapRadius;if(W>=$&&W<=B)return U=N.offset,!1}))}else U=(R-this.dragData.trackOffset)/this.dragData.trackSize*100;$=Math.round(U*this.stepsCount/100),this.handleCount>1&&($<(H=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?$=Math.max(H.minStepIndex,$):$>H.maxStepIndex&&($=Math.min(H.maxStepIndex,$))),B=$*(100/this.stepsCount),this.dragData.stepIndex!==$&&(this.dragData.stepIndex=$,this.dragData.offset=B,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue($),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function onHandleRelease(){var I;"number"==typeof this.dragData.offset&&(I=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(I).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function onFocus(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function onKeyPress(I){var N=38===I.which||39===I.which,R=37===I.which||40===I.which;if(9===I.which&&this.handleCount>1){if(I.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(I.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}I.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(R||N)&&(I.preventDefault(),this.step(N?this.stepValue:-this.stepValue))},updateValues:function updateValues(){var I=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(I),this.realElement.val()!==I&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(I),this.updateRanges()},updateRanges:function updateRanges(){var I,N=this;this.rangeMin&&(I=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,I.style[this.offsetProperty])),this.rangeMax&&(I=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,I.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(I.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(I,R){var U,$;I>0&&(U=N.handles[I-1],($=N.rangeMid[I-1]).style[N.offsetProperty]=U.style[N.offsetProperty],$.style[N.sizeProperty]=parseFloat(R.style[N.offsetProperty])-parseFloat(U.style[N.offsetProperty])+"%")}))},step:function step(I){var N=parseFloat(this.values[this.activeDragHandleIndex||0]),R=N,U=this.minValue,$=this.maxValue;isNaN(N)&&(R=0),R+=I,this.handleCount>1&&(this.activeDragHandleIndex>0&&(U=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&($=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),R>$?R=$:R<U&&(R=U),R!==N&&(this.values[this.activeDragHandleIndex||0]=""+R,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function valueToStepIndex(I){return(I-this.minValue)/this.stepValue},stepIndexToValue:function stepIndexToValue(I){return this.minValue+this.stepValue*I},valueToOffset:function valueToOffset(I){var N=this.maxValue-this.minValue;return 100*((I-this.minValue)/N)},getSliderValue:function getSliderValue(){return I.map(this.values,(function(I){return parseFloat(I)||0}))},setSliderValue:function setSliderValue(I){var N=this;this.handles.each((function(R,U){U.style[N.offsetProperty]=N.valueToOffset(I[R])+"%"}))},refresh:function refresh(){var I=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,I),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function destroy(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}}))}(jcf)},function(I,N){$(document).ready((function(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!0,maxVisibleItems:5,multipleCompactStyle:!0}),$(".jcf").not(".Taxonomy__select,.primary__subject, .advanced-search select.jcf").each((function(){jcf.replace($(this))})),jcf.setOptions("Select",{maxVisibleItems:12}),jcf.replace(".Taxonomy__select, .advanced-search select.jcf"),jcf.setOptions("Select",{maxVisibleItems:10}),jcf.replace(".primary__subject")}))},function(I,N){!function(I){I.extend(I.expr[":"],{focusable:function focusable(N,R,U){var $=I(N);return $.is('button, [href], input, select, textarea, object, [tabindex]:not([tabindex="-1"])')&&$.is(":not(:disabled)")&&$.is(":visible")}}),I.extend(I.expr[":"],{tabbable:function tabbable(N,R,U){var $=I(N);return $.is(":focusable")&&$.is(':not([tabindex="-1"])')}})}(jQuery)},function(I,N){/*!jQuery Migrate v3.0.0 | (c) jQuery Foundation and other contributors | jquery.org/license*/void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(I,N){"use strict";function c(U){var $=N.console;R[U]||(R[U]=!0,I.migrateWarnings.push(U),$&&$.warn&&!I.migrateMute&&($.warn("JQMIGRATE: "+U),I.migrateTrace&&$.trace&&$.trace()))}function d(I,N,R,U){Object.defineProperty(I,N,{configurable:!0,enumerable:!0,get:function get(){return c(U),R}})}I.migrateVersion="3.0.0",function(){var R=N.console&&N.console.log&&function(){N.console.log.apply(N.console,arguments)};R&&(I&&!/^[12]\./.test(I.fn.jquery)||R("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),I.migrateWarnings&&R("JQMIGRATE: Migrate plugin loaded multiple times"),R("JQMIGRATE: Migrate is installed"+(I.migrateMute?"":" with logging active")+", version "+I.migrateVersion))}();var R={};I.migrateWarnings=[],void 0===I.migrateTrace&&(I.migrateTrace=!0),I.migrateReset=function(){R={},I.migrateWarnings.length=0},"BackCompat"===document.compatMode&&c("jQuery is not compatible with Quirks Mode");var U,$=I.fn.init,B=I.isNumeric,H=I.find,V=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,W=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(U in I.fn.init=function(I){var N=Array.prototype.slice.call(arguments);return"string"==typeof I&&"#"===I&&(c("jQuery( '#' ) is not a valid selector"),N[0]=[]),$.apply(this,N)},I.fn.init.prototype=I.fn,I.find=function(I){var N=Array.prototype.slice.call(arguments);if("string"==typeof I&&V.test(I))try{document.querySelector(I)}catch(R){I=I.replace(W,(function(I,N,R,U){return"["+N+R+'"'+U+'"]'}));try{document.querySelector(I),c("Attribute selector with '#' must be quoted: "+N[0]),N[0]=I}catch(I){c("Attribute selector with '#' was not fixed: "+N[0])}}return H.apply(this,N)},H)Object.prototype.hasOwnProperty.call(H,U)&&(I.find[U]=H[U]);I.fn.size=function(){return c("jQuery.fn.size() is deprecated; use the .length property"),this.length},I.parseJSON=function(){return c("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},I.isNumeric=function(N){var R=B(N),U=function d(N){var R=N&&N.toString();return!I.isArray(N)&&R-parseFloat(R)+1>=0}(N);return R!==U&&c("jQuery.isNumeric() should not be called on constructed objects"),U},d(I,"unique",I.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),d(I.expr,"filters",I.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),d(I.expr,":",I.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var z=I.ajax;I.ajax=function(){var I=z.apply(this,arguments);return I.promise&&(d(I,"success",I.done,"jQXHR.success is deprecated and removed"),d(I,"error",I.fail,"jQXHR.error is deprecated and removed"),d(I,"complete",I.always,"jQXHR.complete is deprecated and removed")),I};var X=I.fn.removeAttr,Q=I.fn.toggleClass,J=/\S+/g;I.fn.removeAttr=function(N){var R=this;return I.each(N.match(J),(function(N,U){I.expr.match.bool.test(U)&&(c("jQuery.fn.removeAttr no longer sets boolean properties: "+U),R.prop(U,!1))})),X.apply(this,arguments)},I.fn.toggleClass=function(N){return void 0!==N&&"boolean"!=typeof N?Q.apply(this,arguments):(c("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each((function(){var R=this.getAttribute&&this.getAttribute("class")||"";R&&I.data(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===N?"":I.data(this,"__className__")||"")})))};var Z=!1;I.swap&&I.each(["height","width","reliableMarginRight"],(function(N,R){var U=I.cssHooks[R]&&I.cssHooks[R].get;U&&(I.cssHooks[R].get=function(){var I;return Z=!0,I=U.apply(this,arguments),Z=!1,I})})),I.swap=function(I,N,R,U){var $,B,H={};for(B in Z||c("jQuery.swap() is undocumented and deprecated"),N)H[B]=I.style[B],I.style[B]=N[B];for(B in $=R.apply(I,U||[]),N)I.style[B]=H[B];return $};var tt=I.data;I.data=function(N,R,U){var $;return R&&R!==I.camelCase(R)&&(($=I.hasData(N)&&tt.call(this,N))&&R in $)?(c("jQuery.data() always sets/gets camelCased names: "+R),arguments.length>2&&($[R]=U),$[R]):tt.apply(this,arguments)};var et=I.Tween.prototype.run;I.Tween.prototype.run=function(N){I.easing[this.easing].length>1&&(c('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),I.easing[this.easing]=I.easing[this.easing].bind(I.easing,N,this.options.duration*N,0,1,this.options.duration)),et.apply(this,arguments)};var it=I.fn.load,nt=I.event.fix;I.event.props=[],I.event.fixHooks={},I.event.fix=function(N){var R,U=N.type,$=this.fixHooks[U],B=I.event.props;if(B.length)for(c("jQuery.event.props are deprecated and removed: "+B.join());B.length;)I.event.addProp(B.pop());if($&&!$._migrated_&&($._migrated_=!0,c("jQuery.event.fixHooks are deprecated and removed: "+U),(B=$.props)&&B.length))for(;B.length;)I.event.addProp(B.pop());return R=nt.call(this,N),$&&$.filter?$.filter(R,N):R},I.each(["load","unload","error"],(function(N,R){I.fn[R]=function(){var I=Array.prototype.slice.call(arguments,0);return"load"===R&&"string"==typeof I[0]?it.apply(this,I):(c("jQuery.fn."+R+"() is deprecated"),I.splice(0,0,R),arguments.length?this.on.apply(this,I):(this.triggerHandler.apply(this,I),this))}})),I((function(){I(document).triggerHandler("ready")})),I.event.special.ready={setup:function setup(){this===document&&c("'ready' event is deprecated")}},I.fn.extend({bind:function bind(I,N,R){return c("jQuery.fn.bind() is deprecated"),this.on(I,null,N,R)},unbind:function unbind(I,N){return c("jQuery.fn.unbind() is deprecated"),this.off(I,null,N)},delegate:function delegate(I,N,R,U){return c("jQuery.fn.delegate() is deprecated"),this.on(N,I,R,U)},undelegate:function undelegate(I,N,R){return c("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(I,"**"):this.off(N,I||"**",R)}});var st=I.fn.offset;I.fn.offset=function(){var N,R=this[0],U={top:0,left:0};return R&&R.nodeType?(N=(R.ownerDocument||document).documentElement,I.contains(N,R)?st.apply(this,arguments):(c("jQuery.fn.offset() requires an element connected to a document"),U)):(c("jQuery.fn.offset() requires a valid DOM element"),U)};var rt=I.param;I.param=function(N,R){var U=I.ajaxSettings&&I.ajaxSettings.traditional;return void 0===R&&U&&(c("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),R=U),rt.call(this,N,R)};var at=I.fn.andSelf||I.fn.addBack;I.fn.andSelf=function(){return c("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),at.apply(this,arguments)};var ot=I.Deferred,lt=[["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),"rejected"],["notify","progress",I.Callbacks("memory"),I.Callbacks("memory")]];I.Deferred=function(N){var R=ot(),U=R.promise();return R.pipe=U.pipe=function(){var N=arguments;return c("deferred.pipe() is deprecated"),I.Deferred((function($){I.each(lt,(function(B,H){var V=I.isFunction(N[B])&&N[B];R[H[1]]((function(){var N=V&&V.apply(this,arguments);N&&I.isFunction(N.promise)?N.promise().done($.resolve).fail($.reject).progress($.notify):$[H[0]+"With"](this===U?$.promise():this,V?[N]:arguments)}))})),N=null})).promise()},N&&N.call(R,R),R}}(jQuery,window)},function(I,N,R){var U=R(1);/*! jQuery UI - v1.12.1 - 2018-04-24
* http://jqueryui.com
* Includes: widget.js, data.js, jquery-1-7.js, keycode.js, scroll-parent.js, widgets/sortable.js, widgets/datepicker.js, widgets/mouse.js, widgets/slider.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */!function(I){I.ui=I.ui||{},I.ui.version="1.12.1";var N,R=0,$=Array.prototype.slice;/*!
* jQuery UI Widget 1.12.1
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/I.cleanData=(N=I.cleanData,function(R){var U,$,B;for(B=0;null!=($=R[B]);B++)try{(U=I._data($,"events"))&&U.remove&&I($).triggerHandler("remove")}catch(I){}N(R)}),I.widget=function(N,R,U){var $,B,H,V={},W=N.split(".")[0],z=W+"-"+(N=N.split(".")[1]);return U||(U=R,R=I.Widget),I.isArray(U)&&(U=I.extend.apply(null,[{}].concat(U))),I.expr[":"][z.toLowerCase()]=function(N){return!!I.data(N,z)},I[W]=I[W]||{},$=I[W][N],B=I[W][N]=function(I,N){if(!this._createWidget)return new B(I,N);arguments.length&&this._createWidget(I,N)},I.extend(B,$,{version:U.version,_proto:I.extend({},U),_childConstructors:[]}),(H=new R).options=I.widget.extend({},H.options),I.each(U,(function(N,U){I.isFunction(U)?V[N]=function(){function _super(){return R.prototype[N].apply(this,arguments)}function _superApply(I){return R.prototype[N].apply(this,I)}return function(){var I,N=this._super,R=this._superApply;return this._super=_super,this._superApply=_superApply,I=U.apply(this,arguments),this._super=N,this._superApply=R,I}}():V[N]=U})),B.prototype=I.widget.extend(H,{widgetEventPrefix:$&&H.widgetEventPrefix||N},V,{constructor:B,namespace:W,widgetName:N,widgetFullName:z}),$?(I.each($._childConstructors,(function(N,R){var U=R.prototype;I.widget(U.namespace+"."+U.widgetName,B,R._proto)})),delete $._childConstructors):R._childConstructors.push(B),I.widget.bridge(N,B),B},I.widget.extend=function(N){for(var R,U,B=$.call(arguments,1),H=0,V=B.length;H<V;H++)for(R in B[H])U=B[H][R],B[H].hasOwnProperty(R)&&void 0!==U&&(I.isPlainObject(U)?N[R]=I.isPlainObject(N[R])?I.widget.extend({},N[R],U):I.widget.extend({},U):N[R]=U);return N},I.widget.bridge=function(N,R){var U=R.prototype.widgetFullName||N;I.fn[N]=function(B){var H="string"==typeof B,V=$.call(arguments,1),W=this;return H?this.length||"instance"!==B?this.each((function(){var R,$=I.data(this,U);return"instance"===B?(W=$,!1):$?I.isFunction($[B])&&"_"!==B.charAt(0)?(R=$[B].apply($,V))!==$&&void 0!==R?(W=R&&R.jquery?W.pushStack(R.get()):R,!1):void 0:I.error("no such method '"+B+"' for "+N+" widget instance"):I.error("cannot call methods on "+N+" prior to initialization; attempted to call method '"+B+"'")})):W=void 0:(V.length&&(B=I.widget.extend.apply(null,[B].concat(V))),this.each((function(){var N=I.data(this,U);N?(N.option(B||{}),N._init&&N._init()):I.data(this,U,new R(B,this))}))),W}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function _createWidget(N,U){U=I(U||this.defaultElement||this)[0],this.element=I(U),this.uuid=R++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=I(),this.hoverable=I(),this.focusable=I(),this.classesElementLookup={},U!==this&&(I.data(U,this.widgetFullName,this),this._on(!0,this.element,{remove:function remove(I){I.target===U&&this.destroy()}}),this.document=I(U.style?U.ownerDocument:U.document||U),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this.options=I.widget.extend({},this.options,this._getCreateOptions(),N),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function _getCreateOptions(){return{}},_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function destroy(){var N=this;this._destroy(),I.each(this.classesElementLookup,(function(I,R){N._removeClass(R,I)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:I.noop,widget:function widget(){return this.element},option:function option(N,R){var U,$,B,H=N;if(0===arguments.length)return I.widget.extend({},this.options);if("string"==typeof N)if(H={},U=N.split("."),N=U.shift(),U.length){for($=H[N]=I.widget.extend({},this.options[N]),B=0;B<U.length-1;B++)$[U[B]]=$[U[B]]||{},$=$[U[B]];if(N=U.pop(),1===arguments.length)return void 0===$[N]?null:$[N];$[N]=R}else{if(1===arguments.length)return void 0===this.options[N]?null:this.options[N];H[N]=R}return this._setOptions(H),this},_setOptions:function _setOptions(I){var N;for(N in I)this._setOption(N,I[N]);return this},_setOption:function _setOption(I,N){return"classes"===I&&this._setOptionClasses(N),this.options[I]=N,"disabled"===I&&this._setOptionDisabled(N),this},_setOptionClasses:function _setOptionClasses(N){var R,U,$;for(R in N)$=this.classesElementLookup[R],N[R]!==this.options.classes[R]&&$&&$.length&&(U=I($.get()),this._removeClass($,R),U.addClass(this._classes({element:U,keys:R,classes:N,add:!0})))},_setOptionDisabled:function _setOptionDisabled(I){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!I),I&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function enable(){return this._setOptions({disabled:!1})},disable:function disable(){return this._setOptions({disabled:!0})},_classes:function _classes(N){var R=[],U=this;function processClassString($,B){var H,V;for(V=0;V<$.length;V++)H=U.classesElementLookup[$[V]]||I(),H=N.add?I(I.unique(H.get().concat(N.element.get()))):I(H.not(N.element).get()),U.classesElementLookup[$[V]]=H,R.push($[V]),B&&N.classes[$[V]]&&R.push(N.classes[$[V]])}return N=I.extend({element:this.element,classes:this.options.classes||{}},N),this._on(N.element,{remove:"_untrackClassesElement"}),N.keys&&processClassString(N.keys.match(/\S+/g)||[],!0),N.extra&&processClassString(N.extra.match(/\S+/g)||[]),R.join(" ")},_untrackClassesElement:function _untrackClassesElement(N){var R=this;I.each(R.classesElementLookup,(function(U,$){-1!==I.inArray(N.target,$)&&(R.classesElementLookup[U]=I($.not(N.target).get()))}))},_removeClass:function _removeClass(I,N,R){return this._toggleClass(I,N,R,!1)},_addClass:function _addClass(I,N,R){return this._toggleClass(I,N,R,!0)},_toggleClass:function _toggleClass(I,N,R,U){U="boolean"==typeof U?U:R;var $="string"==typeof I||null===I,B={extra:$?N:R,keys:$?I:N,element:$?this.element:I,add:U};return B.element.toggleClass(this._classes(B),U),this},_on:function _on(N,R,U){var $,B=this;"boolean"!=typeof N&&(U=R,R=N,N=!1),U?(R=$=I(R),this.bindings=this.bindings.add(R)):(U=R,R=this.element,$=this.widget()),I.each(U,(function(U,H){function handlerProxy(){if(N||!0!==B.options.disabled&&!I(this).hasClass("ui-state-disabled"))return("string"==typeof H?B[H]:H).apply(B,arguments)}"string"!=typeof H&&(handlerProxy.guid=H.guid=H.guid||handlerProxy.guid||I.guid++);var V=U.match(/^([\w:-]*)\s*(.*)$/),W=V[1]+B.eventNamespace,z=V[2];z?$.on(W,z,handlerProxy):R.on(W,handlerProxy)}))},_off:function _off(N,R){R=(R||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,N.off(R).off(R),this.bindings=I(this.bindings.not(N).get()),this.focusable=I(this.focusable.not(N).get()),this.hoverable=I(this.hoverable.not(N).get())},_delay:function _delay(I,N){var R=this;return setTimeout((function handlerProxy(){return("string"==typeof I?R[I]:I).apply(R,arguments)}),N||0)},_hoverable:function _hoverable(N){this.hoverable=this.hoverable.add(N),this._on(N,{mouseenter:function mouseenter(N){this._addClass(I(N.currentTarget),null,"ui-state-hover")},mouseleave:function mouseleave(N){this._removeClass(I(N.currentTarget),null,"ui-state-hover")}})},_focusable:function _focusable(N){this.focusable=this.focusable.add(N),this._on(N,{focusin:function focusin(N){this._addClass(I(N.currentTarget),null,"ui-state-focus")},focusout:function focusout(N){this._removeClass(I(N.currentTarget),null,"ui-state-focus")}})},_trigger:function _trigger(N,R,U){var $,B,H=this.options[N];if(U=U||{},(R=I.Event(R)).type=(N===this.widgetEventPrefix?N:this.widgetEventPrefix+N).toLowerCase(),R.target=this.element[0],B=R.originalEvent)for($ in B)$ in R||(R[$]=B[$]);return this.element.trigger(R,U),!(I.isFunction(H)&&!1===H.apply(this.element[0],[R].concat(U))||R.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},(function(N,R){I.Widget.prototype["_"+N]=function(U,$,B){var H;"string"==typeof $&&($={effect:$});var V=$?!0===$||"number"==typeof $?R:$.effect||R:N;"number"==typeof($=$||{})&&($={duration:$}),H=!I.isEmptyObject($),$.complete=B,$.delay&&U.delay($.delay),H&&I.effects&&I.effects.effect[V]?U[N]($):V!==N&&U[V]?U[V]($.duration,$.easing,B):U.queue((function(R){I(this)[N](),B&&B.call(U[0]),R()}))}})),I.widget,I.extend(I.expr[":"],{data:I.expr.createPseudo?I.expr.createPseudo((function(N){return function(R){return!!I.data(R,N)}})):function(N,R,U){return!!I.data(N,U[3])}}),/*!
* jQuery UI Support for jQuery core 1.7.x 1.12.1
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/"1.7"===I.fn.jquery.substring(0,3)&&(I.each(["Width","Height"],(function(N,R){var U="Width"===R?["Left","Right"]:["Top","Bottom"],$=R.toLowerCase(),B={innerWidth:I.fn.innerWidth,innerHeight:I.fn.innerHeight,outerWidth:I.fn.outerWidth,outerHeight:I.fn.outerHeight};function reduce(N,R,$,B){return I.each(U,(function(){R-=parseFloat(I.css(N,"padding"+this))||0,$&&(R-=parseFloat(I.css(N,"border"+this+"Width"))||0),B&&(R-=parseFloat(I.css(N,"margin"+this))||0)})),R}I.fn["inner"+R]=function(N){return void 0===N?B["inner"+R].call(this):this.each((function(){I(this).css($,reduce(this,N)+"px")}))},I.fn["outer"+R]=function(N,U){return"number"!=typeof N?B["outer"+R].call(this,N):this.each((function(){I(this).css($,reduce(this,N,!0,U)+"px")}))}})),I.fn.addBack=function(I){return this.add(null==I?this.prevObject:this.prevObject.filter(I))}),I.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},I.fn.scrollParent=function(N){var R=this.css("position"),U="absolute"===R,$=N?/(auto|scroll|hidden)/:/(auto|scroll)/,B=this.parents().filter((function(){var N=I(this);return(!U||"static"!==N.css("position"))&&$.test(N.css("overflow")+N.css("overflow-y")+N.css("overflow-x"))})).eq(0);return"fixed"!==R&&B.length?B:I(this[0].ownerDocument||document)},I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());/*!
* jQuery UI Keycode 1.12.1
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/var B,H=!1;/*!
* jQuery UI Scroll Parent 1.12.1
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},I.extend(this._defaults,this.regional[""]),this.regional.en=I.extend(!0,{},this.regional[""]),this.regional["en-US"]=I.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover(I("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(N){var R="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return N.on("mouseout",R,(function(){I(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",R,datepicker_handleMouseover)}function datepicker_handleMouseover(){I.datepicker._isDisabledDatepicker(B.inline?B.dpDiv.parent()[0]:B.input[0])||(I(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),I(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(N,R){for(var U in I.extend(N,R),R)null==R[U]&&(N[U]=R[U]);return N}I(document).on("mouseup",(function(){H=!1})),I.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function _mouseInit(){var N=this;this.element.on("mousedown."+this.widgetName,(function(I){return N._mouseDown(I)})).on("click."+this.widgetName,(function(R){if(!0===I.data(R.target,N.widgetName+".preventClickEvent"))return I.removeData(R.target,N.widgetName+".preventClickEvent"),R.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function _mouseDestroy(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function _mouseDown(N){if(!H){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(N),this._mouseDownEvent=N;var R=this,U=1===N.which,$=!("string"!=typeof this.options.cancel||!N.target.nodeName)&&I(N.target).closest(this.options.cancel).length;return!(U&&!$&&this._mouseCapture(N)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){R.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(N)&&this._mouseDelayMet(N)&&(this._mouseStarted=!1!==this._mouseStart(N),!this._mouseStarted)?(N.preventDefault(),0):(!0===I.data(N.target,this.widgetName+".preventClickEvent")&&I.removeData(N.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(I){return R._mouseMove(I)},this._mouseUpDelegate=function(I){return R._mouseUp(I)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),N.preventDefault(),H=!0,0)))}},_mouseMove:function _mouseMove(N){if(this._mouseMoved){if(I.ui.ie&&(!document.documentMode||document.documentMode<9)&&!N.button)return this._mouseUp(N);if(!N.which)if(N.originalEvent.altKey||N.originalEvent.ctrlKey||N.originalEvent.metaKey||N.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(N)}return(N.which||N.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(N),N.preventDefault()):(this._mouseDistanceMet(N)&&this._mouseDelayMet(N)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,N),this._mouseStarted?this._mouseDrag(N):this._mouseUp(N)),!this._mouseStarted)},_mouseUp:function _mouseUp(N){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,N.target===this._mouseDownEvent.target&&I.data(N.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(N)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,H=!1,N.preventDefault()},_mouseDistanceMet:function _mouseDistanceMet(I){return Math.max(Math.abs(this._mouseDownEvent.pageX-I.pageX),Math.abs(this._mouseDownEvent.pageY-I.pageY))>=this.options.distance},_mouseDelayMet:function _mouseDelayMet(){return this.mouseDelayMet},_mouseStart:function _mouseStart(){},_mouseDrag:function _mouseDrag(){},_mouseStop:function _mouseStop(){},_mouseCapture:function _mouseCapture(){return!0}}),I.widget("ui.sortable",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function _isOverAxis(I,N,R){return I>=N&&I<N+R},_isFloating:function _isFloating(I){return/left|right/.test(I.css("float"))||/inline|table-cell/.test(I.css("display"))},_create:function _create(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function _setOption(I,N){this._super(I,N),"handle"===I&&this._setHandleClassName()},_setHandleClassName:function _setHandleClassName(){var N=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),I.each(this.items,(function(){N._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function _destroy(){this._mouseDestroy();for(var I=this.items.length-1;I>=0;I--)this.items[I].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function _mouseCapture(N,R){var U=null,$=!1,B=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(N),I(N.target).parents().each((function(){if(I.data(this,B.widgetName+"-item")===B)return U=I(this),!1})),I.data(N.target,B.widgetName+"-item")===B&&(U=I(N.target)),!U||this.options.handle&&!R&&(I(this.options.handle,U).find("*").addBack().each((function(){this===N.target&&($=!0)})),!$)||(this.currentItem=U,this._removeCurrentsFromItems(),0)))},_mouseStart:function _mouseStart(N,R,U){var $,B,H=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(N),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},I.extend(this.offset,{click:{left:N.pageX-this.offset.left,top:N.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(N),this.originalPageX=N.pageX,this.originalPageY=N.pageY,H.cursorAt&&this._adjustOffsetFromHelper(H.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),H.containment&&this._setContainment(),H.cursor&&"auto"!==H.cursor&&(B=this.document.find("body"),this.storedCursor=B.css("cursor"),B.css("cursor",H.cursor),this.storedStylesheet=I("<style>*{ cursor: "+H.cursor+" !important; }</style>").appendTo(B)),H.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",H.opacity)),H.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",H.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",N,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!U)for($=this.containers.length-1;$>=0;$--)this.containers[$]._trigger("activate",N,this._uiHash(this));return I.ui.ddmanager&&(I.ui.ddmanager.current=this),I.ui.ddmanager&&!H.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,N),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(N),!0},_mouseDrag:function _mouseDrag(N){var R,U,$,B,H=this.options,V=!1;for(this.position=this._generatePosition(N),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-N.pageY<H.scrollSensitivity?this.scrollParent[0].scrollTop=V=this.scrollParent[0].scrollTop+H.scrollSpeed:N.pageY-this.overflowOffset.top<H.scrollSensitivity&&(this.scrollParent[0].scrollTop=V=this.scrollParent[0].scrollTop-H.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-N.pageX<H.scrollSensitivity?this.scrollParent[0].scrollLeft=V=this.scrollParent[0].scrollLeft+H.scrollSpeed:N.pageX-this.overflowOffset.left<H.scrollSensitivity&&(this.scrollParent[0].scrollLeft=V=this.scrollParent[0].scrollLeft-H.scrollSpeed)):(N.pageY-this.document.scrollTop()<H.scrollSensitivity?V=this.document.scrollTop(this.document.scrollTop()-H.scrollSpeed):this.window.height()-(N.pageY-this.document.scrollTop())<H.scrollSensitivity&&(V=this.document.scrollTop(this.document.scrollTop()+H.scrollSpeed)),N.pageX-this.document.scrollLeft()<H.scrollSensitivity?V=this.document.scrollLeft(this.document.scrollLeft()-H.scrollSpeed):this.window.width()-(N.pageX-this.document.scrollLeft())<H.scrollSensitivity&&(V=this.document.scrollLeft(this.document.scrollLeft()+H.scrollSpeed))),!1!==V&&I.ui.ddmanager&&!H.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,N)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),R=this.items.length-1;R>=0;R--)if($=(U=this.items[R]).item[0],(B=this._intersectsWithPointer(U))&&U.instance===this.currentContainer&&!($===this.currentItem[0]||this.placeholder[1===B?"next":"prev"]()[0]===$||I.contains(this.placeholder[0],$)||"semi-dynamic"===this.options.type&&I.contains(this.element[0],$))){if(this.direction=1===B?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(U))break;this._rearrange(N,U),this._trigger("change",N,this._uiHash());break}return this._contactContainers(N),I.ui.ddmanager&&I.ui.ddmanager.drag(this,N),this._trigger("sort",N,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function _mouseStop(N,R){if(N){if(I.ui.ddmanager&&!this.options.dropBehaviour&&I.ui.ddmanager.drop(this,N),this.options.revert){var U=this,$=this.placeholder.offset(),B=this.options.axis,H={};B&&"x"!==B||(H.left=$.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),B&&"y"!==B||(H.top=$.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,I(this.helper).animate(H,parseInt(this.options.revert,10)||500,(function(){U._clear(N)}))}else this._clear(N,R);return!1}},cancel:function cancel(){if(this.dragging){this._mouseUp(new I.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var N=this.containers.length-1;N>=0;N--)this.containers[N]._trigger("deactivate",null,this._uiHash(this)),this.containers[N].containerCache.over&&(this.containers[N]._trigger("out",null,this._uiHash(this)),this.containers[N].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),I.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?I(this.domPosition.prev).after(this.currentItem):I(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function serialize(N){var R=this._getItemsAsjQuery(N&&N.connected),U=[];return N=N||{},I(R).each((function(){var R=(I(N.item||this).attr(N.attribute||"id")||"").match(N.expression||/(.+)[\-=_](.+)/);R&&U.push((N.key||R[1]+"[]")+"="+(N.key&&N.expression?R[1]:R[2]))})),!U.length&&N.key&&U.push(N.key+"="),U.join("&")},toArray:function toArray(N){var R=this._getItemsAsjQuery(N&&N.connected),U=[];return N=N||{},R.each((function(){U.push(I(N.item||this).attr(N.attribute||"id")||"")})),U},_intersectsWith:function _intersectsWith(I){var N=this.positionAbs.left,R=N+this.helperProportions.width,U=this.positionAbs.top,$=U+this.helperProportions.height,B=I.left,H=B+I.width,V=I.top,W=V+I.height,z=this.offset.click.top,X=this.offset.click.left,Q="x"===this.options.axis||U+z>V&&U+z<W,J="y"===this.options.axis||N+X>B&&N+X<H,Z=Q&&J;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>I[this.floating?"width":"height"]?Z:B<N+this.helperProportions.width/2&&R-this.helperProportions.width/2<H&&V<U+this.helperProportions.height/2&&$-this.helperProportions.height/2<W},_intersectsWithPointer:function _intersectsWithPointer(I){var N,R,U="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,I.top,I.height),$="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,I.left,I.width);return!(!U||!$)&&(N=this._getDragVerticalDirection(),R=this._getDragHorizontalDirection(),this.floating?"right"===R||"down"===N?2:1:N&&("down"===N?2:1))},_intersectsWithSides:function _intersectsWithSides(I){var N=this._isOverAxis(this.positionAbs.top+this.offset.click.top,I.top+I.height/2,I.height),R=this._isOverAxis(this.positionAbs.left+this.offset.click.left,I.left+I.width/2,I.width),U=this._getDragVerticalDirection(),$=this._getDragHorizontalDirection();return this.floating&&$?"right"===$&&R||"left"===$&&!R:U&&("down"===U&&N||"up"===U&&!N)},_getDragVerticalDirection:function _getDragVerticalDirection(){var I=this.positionAbs.top-this.lastPositionAbs.top;return 0!==I&&(I>0?"down":"up")},_getDragHorizontalDirection:function _getDragHorizontalDirection(){var I=this.positionAbs.left-this.lastPositionAbs.left;return 0!==I&&(I>0?"right":"left")},refresh:function refresh(I){return this._refreshItems(I),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function _connectWith(){var I=this.options;return I.connectWith.constructor===String?[I.connectWith]:I.connectWith},_getItemsAsjQuery:function _getItemsAsjQuery(N){var R,U,$,B,H=[],V=[],W=this._connectWith();if(W&&N)for(R=W.length-1;R>=0;R--)for(U=($=I(W[R],this.document[0])).length-1;U>=0;U--)(B=I.data($[U],this.widgetFullName))&&B!==this&&!B.options.disabled&&V.push([I.isFunction(B.options.items)?B.options.items.call(B.element):I(B.options.items,B.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),B]);function addItems(){H.push(this)}for(V.push([I.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):I(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),R=V.length-1;R>=0;R--)V[R][0].each(addItems);return I(H)},_removeCurrentsFromItems:function _removeCurrentsFromItems(){var N=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=I.grep(this.items,(function(I){for(var R=0;R<N.length;R++)if(N[R]===I.item[0])return!1;return!0}))},_refreshItems:function _refreshItems(N){this.items=[],this.containers=[this];var R,U,$,B,H,V,W,z,X=this.items,Q=[[I.isFunction(this.options.items)?this.options.items.call(this.element[0],N,{item:this.currentItem}):I(this.options.items,this.element),this]],J=this._connectWith();if(J&&this.ready)for(R=J.length-1;R>=0;R--)for(U=($=I(J[R],this.document[0])).length-1;U>=0;U--)(B=I.data($[U],this.widgetFullName))&&B!==this&&!B.options.disabled&&(Q.push([I.isFunction(B.options.items)?B.options.items.call(B.element[0],N,{item:this.currentItem}):I(B.options.items,B.element),B]),this.containers.push(B));for(R=Q.length-1;R>=0;R--)for(H=Q[R][1],U=0,z=(V=Q[R][0]).length;U<z;U++)(W=I(V[U])).data(this.widgetName+"-item",H),X.push({item:W,instance:H,width:0,height:0,left:0,top:0})},refreshPositions:function refreshPositions(N){var R,U,$,B;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),R=this.items.length-1;R>=0;R--)(U=this.items[R]).instance!==this.currentContainer&&this.currentContainer&&U.item[0]!==this.currentItem[0]||($=this.options.toleranceElement?I(this.options.toleranceElement,U.item):U.item,N||(U.width=$.outerWidth(),U.height=$.outerHeight()),B=$.offset(),U.left=B.left,U.top=B.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(R=this.containers.length-1;R>=0;R--)B=this.containers[R].element.offset(),this.containers[R].containerCache.left=B.left,this.containers[R].containerCache.top=B.top,this.containers[R].containerCache.width=this.containers[R].element.outerWidth(),this.containers[R].containerCache.height=this.containers[R].element.outerHeight();return this},_createPlaceholder:function _createPlaceholder(N){var R,U=(N=N||this).options;U.placeholder&&U.placeholder.constructor!==String||(R=U.placeholder,U.placeholder={element:function element(){var U=N.currentItem[0].nodeName.toLowerCase(),element=I("<"+U+">",N.document[0]);return N._addClass(element,"ui-sortable-placeholder",R||N.currentItem[0].className)._removeClass(element,"ui-sortable-helper"),"tbody"===U?N._createTrPlaceholder(N.currentItem.find("tr").eq(0),I("<tr>",N.document[0]).appendTo(element)):"tr"===U?N._createTrPlaceholder(N.currentItem,element):"img"===U&&element.attr("src",N.currentItem.attr("src")),R||element.css("visibility","hidden"),element},update:function update(I,$){R&&!U.forcePlaceholderSize||($.height()||$.height(N.currentItem.innerHeight()-parseInt(N.currentItem.css("paddingTop")||0,10)-parseInt(N.currentItem.css("paddingBottom")||0,10)),$.width()||$.width(N.currentItem.innerWidth()-parseInt(N.currentItem.css("paddingLeft")||0,10)-parseInt(N.currentItem.css("paddingRight")||0,10)))}}),N.placeholder=I(U.placeholder.element.call(N.element,N.currentItem)),N.currentItem.after(N.placeholder),U.placeholder.update(N,N.placeholder)},_createTrPlaceholder:function _createTrPlaceholder(N,R){var U=this;N.children().each((function(){I("<td>&#160;</td>",U.document[0]).attr("colspan",I(this).attr("colspan")||1).appendTo(R)}))},_contactContainers:function _contactContainers(N){var R,U,$,B,H,V,W,z,X,Q,J=null,Z=null;for(R=this.containers.length-1;R>=0;R--)if(!I.contains(this.currentItem[0],this.containers[R].element[0]))if(this._intersectsWith(this.containers[R].containerCache)){if(J&&I.contains(this.containers[R].element[0],J.element[0]))continue;J=this.containers[R],Z=R}else this.containers[R].containerCache.over&&(this.containers[R]._trigger("out",N,this._uiHash(this)),this.containers[R].containerCache.over=0);if(J)if(1===this.containers.length)this.containers[Z].containerCache.over||(this.containers[Z]._trigger("over",N,this._uiHash(this)),this.containers[Z].containerCache.over=1);else{for($=1e4,B=null,H=(X=J.floating||this._isFloating(this.currentItem))?"left":"top",V=X?"width":"height",Q=X?"pageX":"pageY",U=this.items.length-1;U>=0;U--)I.contains(this.containers[Z].element[0],this.items[U].item[0])&&this.items[U].item[0]!==this.currentItem[0]&&(W=this.items[U].item.offset()[H],z=!1,N[Q]-W>this.items[U][V]/2&&(z=!0),Math.abs(N[Q]-W)<$&&($=Math.abs(N[Q]-W),B=this.items[U],this.direction=z?"up":"down"));if(!B&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[Z])return void(this.currentContainer.containerCache.over||(this.containers[Z]._trigger("over",N,this._uiHash()),this.currentContainer.containerCache.over=1));B?this._rearrange(N,B,null,!0):this._rearrange(N,null,this.containers[Z].element,!0),this._trigger("change",N,this._uiHash()),this.containers[Z]._trigger("change",N,this._uiHash(this)),this.currentContainer=this.containers[Z],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[Z]._trigger("over",N,this._uiHash(this)),this.containers[Z].containerCache.over=1}},_createHelper:function _createHelper(N){var R=this.options,U=I.isFunction(R.helper)?I(R.helper.apply(this.element[0],[N,this.currentItem])):"clone"===R.helper?this.currentItem.clone():this.currentItem;return U.parents("body").length||I("parent"!==R.appendTo?R.appendTo:this.currentItem[0].parentNode)[0].appendChild(U[0]),U[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),U[0].style.width&&!R.forceHelperSize||U.width(this.currentItem.width()),U[0].style.height&&!R.forceHelperSize||U.height(this.currentItem.height()),U},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(N){"string"==typeof N&&(N=N.split(" ")),I.isArray(N)&&(N={left:+N[0],top:+N[1]||0}),"left"in N&&(this.offset.click.left=N.left+this.margins.left),"right"in N&&(this.offset.click.left=this.helperProportions.width-N.right+this.margins.left),"top"in N&&(this.offset.click.top=N.top+this.margins.top),"bottom"in N&&(this.offset.click.top=this.helperProportions.height-N.bottom+this.margins.top)},_getParentOffset:function _getParentOffset(){this.offsetParent=this.helper.offsetParent();var N=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(N.left+=this.scrollParent.scrollLeft(),N.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&I.ui.ie)&&(N={top:0,left:0}),{top:N.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:N.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function _getRelativeOffset(){if("relative"===this.cssPosition){var I=this.currentItem.position();return{top:I.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:I.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function _setContainment(){var N,R,U,$=this.options;"parent"===$.containment&&($.containment=this.helper[0].parentNode),"document"!==$.containment&&"window"!==$.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===$.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===$.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test($.containment)||(N=I($.containment)[0],R=I($.containment).offset(),U="hidden"!==I(N).css("overflow"),this.containment=[R.left+(parseInt(I(N).css("borderLeftWidth"),10)||0)+(parseInt(I(N).css("paddingLeft"),10)||0)-this.margins.left,R.top+(parseInt(I(N).css("borderTopWidth"),10)||0)+(parseInt(I(N).css("paddingTop"),10)||0)-this.margins.top,R.left+(U?Math.max(N.scrollWidth,N.offsetWidth):N.offsetWidth)-(parseInt(I(N).css("borderLeftWidth"),10)||0)-(parseInt(I(N).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,R.top+(U?Math.max(N.scrollHeight,N.offsetHeight):N.offsetHeight)-(parseInt(I(N).css("borderTopWidth"),10)||0)-(parseInt(I(N).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function _convertPositionTo(N,R){R||(R=this.position);var U="absolute"===N?1:-1,$="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,B=/(html|body)/i.test($[0].tagName);return{top:R.top+this.offset.relative.top*U+this.offset.parent.top*U-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():B?0:$.scrollTop())*U,left:R.left+this.offset.relative.left*U+this.offset.parent.left*U-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():B?0:$.scrollLeft())*U}},_generatePosition:function _generatePosition(N){var R,U,$=this.options,B=N.pageX,H=N.pageY,V="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,W=/(html|body)/i.test(V[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(N.pageX-this.offset.click.left<this.containment[0]&&(B=this.containment[0]+this.offset.click.left),N.pageY-this.offset.click.top<this.containment[1]&&(H=this.containment[1]+this.offset.click.top),N.pageX-this.offset.click.left>this.containment[2]&&(B=this.containment[2]+this.offset.click.left),N.pageY-this.offset.click.top>this.containment[3]&&(H=this.containment[3]+this.offset.click.top)),$.grid&&(R=this.originalPageY+Math.round((H-this.originalPageY)/$.grid[1])*$.grid[1],H=this.containment?R-this.offset.click.top>=this.containment[1]&&R-this.offset.click.top<=this.containment[3]?R:R-this.offset.click.top>=this.containment[1]?R-$.grid[1]:R+$.grid[1]:R,U=this.originalPageX+Math.round((B-this.originalPageX)/$.grid[0])*$.grid[0],B=this.containment?U-this.offset.click.left>=this.containment[0]&&U-this.offset.click.left<=this.containment[2]?U:U-this.offset.click.left>=this.containment[0]?U-$.grid[0]:U+$.grid[0]:U)),{top:H-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():W?0:V.scrollTop()),left:B-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():W?0:V.scrollLeft())}},_rearrange:function _rearrange(I,N,R,U){R?R[0].appendChild(this.placeholder[0]):N.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?N.item[0]:N.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var $=this.counter;this._delay((function(){$===this.counter&&this.refreshPositions(!U)}))},_clear:function _clear(I,N){this.reverting=!1;var R,U=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(R in this._storedCSS)"auto"!==this._storedCSS[R]&&"static"!==this._storedCSS[R]||(this._storedCSS[R]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function delayEvent(I,N,R){return function(U){R._trigger(I,U,N._uiHash(N))}}for(this.fromOutside&&!N&&U.push((function(I){this._trigger("receive",I,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||N||U.push((function(I){this._trigger("update",I,this._uiHash())})),this!==this.currentContainer&&(N||(U.push((function(I){this._trigger("remove",I,this._uiHash())})),U.push(function(I){return function(N){I._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),U.push(function(I){return function(N){I._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),R=this.containers.length-1;R>=0;R--)N||U.push(delayEvent("deactivate",this,this.containers[R])),this.containers[R].containerCache.over&&(U.push(delayEvent("out",this,this.containers[R])),this.containers[R].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,N||this._trigger("beforeStop",I,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!N){for(R=0;R<U.length;R++)U[R].call(this,I);this._trigger("stop",I,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function _trigger(){!1===I.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function _uiHash(N){var R=N||this;return{helper:R.helper,placeholder:R.placeholder||I([]),position:R.position,originalPosition:R.originalPosition,offset:R.positionAbs,item:R.currentItem,sender:N?N.element:null}}}),/*!
* jQuery UI Datepicker 1.12.1
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/I.extend(I.ui,{datepicker:{version:"1.12.1"}}),I.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function _widgetDatepicker(){return this.dpDiv},setDefaults:function setDefaults(I){return datepicker_extendRemove(this._defaults,I||{}),this},_attachDatepicker:function _attachDatepicker(N,R){var U,$,B;$="div"===(U=N.nodeName.toLowerCase())||"span"===U,N.id||(this.uuid+=1,N.id="dp"+this.uuid),(B=this._newInst(I(N),$)).settings=I.extend({},R||{}),"input"===U?this._connectDatepicker(N,B):$&&this._inlineDatepicker(N,B)},_newInst:function _newInst(N,R){return{id:N[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:N,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:R,dpDiv:R?datepicker_bindHover(I("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function _connectDatepicker(N,R){var U=I(N);R.append=I([]),R.trigger=I([]),U.hasClass(this.markerClassName)||(this._attachments(U,R),U.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(R),I.data(N,"datepicker",R),R.settings.disabled&&this._disableDatepicker(N))},_attachments:function _attachments(N,R){var U,$,B,H=this._get(R,"appendText"),V=this._get(R,"isRTL");R.append&&R.append.remove(),H&&(R.append=I("<span class='"+this._appendClass+"'>"+H+"</span>"),N[V?"before":"after"](R.append)),N.off("focus",this._showDatepicker),R.trigger&&R.trigger.remove(),"focus"!==(U=this._get(R,"showOn"))&&"both"!==U||N.on("focus",this._showDatepicker),"button"!==U&&"both"!==U||($=this._get(R,"buttonText"),B=this._get(R,"buttonImage"),R.trigger=I(this._get(R,"buttonImageOnly")?I("<img/>").addClass(this._triggerClass).attr({src:B,alt:$,title:$}):I("<button type='button'></button>").addClass(this._triggerClass).html(B?I("<img/>").attr({src:B,alt:$,title:$}):$)),N[V?"before":"after"](R.trigger),R.trigger.on("click",(function(){return I.datepicker._datepickerShowing&&I.datepicker._lastInput===N[0]?I.datepicker._hideDatepicker():I.datepicker._datepickerShowing&&I.datepicker._lastInput!==N[0]?(I.datepicker._hideDatepicker(),I.datepicker._showDatepicker(N[0])):I.datepicker._showDatepicker(N[0]),!1})))},_autoSize:function _autoSize(I){if(this._get(I,"autoSize")&&!I.inline){var N,R,U,$,B=new Date(2009,11,20),H=this._get(I,"dateFormat");H.match(/[DM]/)&&(N=function findMax(I){for(R=0,U=0,$=0;$<I.length;$++)I[$].length>R&&(R=I[$].length,U=$);return U},B.setMonth(N(this._get(I,H.match(/MM/)?"monthNames":"monthNamesShort"))),B.setDate(N(this._get(I,H.match(/DD/)?"dayNames":"dayNamesShort"))+20-B.getDay())),I.input.attr("size",this._formatDate(I,B).length)}},_inlineDatepicker:function _inlineDatepicker(N,R){var U=I(N);U.hasClass(this.markerClassName)||(U.addClass(this.markerClassName).append(R.dpDiv),I.data(N,"datepicker",R),this._setDate(R,this._getDefaultDate(R),!0),this._updateDatepicker(R),this._updateAlternate(R),R.settings.disabled&&this._disableDatepicker(N),R.dpDiv.css("display","block"))},_dialogDatepicker:function _dialogDatepicker(N,R,U,$,B){var H,V,W,z,X,Q=this._dialogInst;return Q||(this.uuid+=1,H="dp"+this.uuid,this._dialogInput=I("<input type='text' id='"+H+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),I("body").append(this._dialogInput),(Q=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},I.data(this._dialogInput[0],"datepicker",Q)),datepicker_extendRemove(Q.settings,$||{}),R=R&&R.constructor===Date?this._formatDate(Q,R):R,this._dialogInput.val(R),this._pos=B?B.length?B:[B.pageX,B.pageY]:null,this._pos||(V=document.documentElement.clientWidth,W=document.documentElement.clientHeight,z=document.documentElement.scrollLeft||document.body.scrollLeft,X=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[V/2-100+z,W/2-150+X]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Q.settings.onSelect=U,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),I.blockUI&&I.blockUI(this.dpDiv),I.data(this._dialogInput[0],"datepicker",Q),this},_destroyDatepicker:function _destroyDatepicker(N){var R,U=I(N),$=I.data(N,"datepicker");U.hasClass(this.markerClassName)&&(R=N.nodeName.toLowerCase(),I.removeData(N,"datepicker"),"input"===R?($.append.remove(),$.trigger.remove(),U.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==R&&"span"!==R||U.removeClass(this.markerClassName).empty(),B===$&&(B=null))},_enableDatepicker:function _enableDatepicker(N){var R,U,$=I(N),B=I.data(N,"datepicker");$.hasClass(this.markerClassName)&&("input"===(R=N.nodeName.toLowerCase())?(N.disabled=!1,B.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==R&&"span"!==R||((U=$.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),U.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=I.map(this._disabledInputs,(function(I){return I===N?null:I})))},_disableDatepicker:function _disableDatepicker(N){var R,U,$=I(N),B=I.data(N,"datepicker");$.hasClass(this.markerClassName)&&("input"===(R=N.nodeName.toLowerCase())?(N.disabled=!0,B.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==R&&"span"!==R||((U=$.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),U.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=I.map(this._disabledInputs,(function(I){return I===N?null:I})),this._disabledInputs[this._disabledInputs.length]=N)},_isDisabledDatepicker:function _isDisabledDatepicker(I){if(!I)return!1;for(var N=0;N<this._disabledInputs.length;N++)if(this._disabledInputs[N]===I)return!0;return!1},_getInst:function _getInst(N){try{return I.data(N,"datepicker")}catch(I){throw"Missing instance data for this datepicker"}},_optionDatepicker:function _optionDatepicker(N,R,U){var $,B,H,V,W=this._getInst(N);if(2===arguments.length&&"string"==typeof R)return"defaults"===R?I.extend({},I.datepicker._defaults):W?"all"===R?I.extend({},W.settings):this._get(W,R):null;$=R||{},"string"==typeof R&&(($={})[R]=U),W&&(this._curInst===W&&this._hideDatepicker(),B=this._getDateDatepicker(N,!0),H=this._getMinMaxDate(W,"min"),V=this._getMinMaxDate(W,"max"),datepicker_extendRemove(W.settings,$),null!==H&&void 0!==$.dateFormat&&void 0===$.minDate&&(W.settings.minDate=this._formatDate(W,H)),null!==V&&void 0!==$.dateFormat&&void 0===$.maxDate&&(W.settings.maxDate=this._formatDate(W,V)),"disabled"in $&&($.disabled?this._disableDatepicker(N):this._enableDatepicker(N)),this._attachments(I(N),W),this._autoSize(W),this._setDate(W,B),this._updateAlternate(W),this._updateDatepicker(W))},_changeDatepicker:function _changeDatepicker(I,N,R){this._optionDatepicker(I,N,R)},_refreshDatepicker:function _refreshDatepicker(I){var N=this._getInst(I);N&&this._updateDatepicker(N)},_setDateDatepicker:function _setDateDatepicker(I,N){var R=this._getInst(I);R&&(this._setDate(R,N),this._updateDatepicker(R),this._updateAlternate(R))},_getDateDatepicker:function _getDateDatepicker(I,N){var R=this._getInst(I);return R&&!R.inline&&this._setDateFromField(R,N),R?this._getDate(R):null},_doKeyDown:function _doKeyDown(N){var R,U,$,B=I.datepicker._getInst(N.target),H=!0,V=B.dpDiv.is(".ui-datepicker-rtl");if(B._keyEvent=!0,I.datepicker._datepickerShowing)switch(N.keyCode){case 9:I.datepicker._hideDatepicker(),H=!1;break;case 13:return($=I("td."+I.datepicker._dayOverClass+":not(."+I.datepicker._currentClass+")",B.dpDiv))[0]&&I.datepicker._selectDay(N.target,B.selectedMonth,B.selectedYear,$[0]),(R=I.datepicker._get(B,"onSelect"))?(U=I.datepicker._formatDate(B),R.apply(B.input?B.input[0]:null,[U,B])):I.datepicker._hideDatepicker(),!1;case 27:I.datepicker._hideDatepicker();break;case 33:I.datepicker._adjustDate(N.target,N.ctrlKey?-I.datepicker._get(B,"stepBigMonths"):-I.datepicker._get(B,"stepMonths"),"M");break;case 34:I.datepicker._adjustDate(N.target,N.ctrlKey?+I.datepicker._get(B,"stepBigMonths"):+I.datepicker._get(B,"stepMonths"),"M");break;case 35:(N.ctrlKey||N.metaKey)&&I.datepicker._clearDate(N.target),H=N.ctrlKey||N.metaKey;break;case 36:(N.ctrlKey||N.metaKey)&&I.datepicker._gotoToday(N.target),H=N.ctrlKey||N.metaKey;break;case 37:(N.ctrlKey||N.metaKey)&&I.datepicker._adjustDate(N.target,V?1:-1,"D"),H=N.ctrlKey||N.metaKey,N.originalEvent.altKey&&I.datepicker._adjustDate(N.target,N.ctrlKey?-I.datepicker._get(B,"stepBigMonths"):-I.datepicker._get(B,"stepMonths"),"M");break;case 38:(N.ctrlKey||N.metaKey)&&I.datepicker._adjustDate(N.target,-7,"D"),H=N.ctrlKey||N.metaKey;break;case 39:(N.ctrlKey||N.metaKey)&&I.datepicker._adjustDate(N.target,V?-1:1,"D"),H=N.ctrlKey||N.metaKey,N.originalEvent.altKey&&I.datepicker._adjustDate(N.target,N.ctrlKey?+I.datepicker._get(B,"stepBigMonths"):+I.datepicker._get(B,"stepMonths"),"M");break;case 40:(N.ctrlKey||N.metaKey)&&I.datepicker._adjustDate(N.target,7,"D"),H=N.ctrlKey||N.metaKey;break;default:H=!1}else 36===N.keyCode&&N.ctrlKey?I.datepicker._showDatepicker(this):H=!1;H&&(N.preventDefault(),N.stopPropagation())},_doKeyPress:function _doKeyPress(N){var R,U,$=I.datepicker._getInst(N.target);if(I.datepicker._get($,"constrainInput"))return R=I.datepicker._possibleChars(I.datepicker._get($,"dateFormat")),U=String.fromCharCode(null==N.charCode?N.keyCode:N.charCode),N.ctrlKey||N.metaKey||U<" "||!R||R.indexOf(U)>-1},_doKeyUp:function _doKeyUp(N){var R=I.datepicker._getInst(N.target);if(R.input.val()!==R.lastVal)try{I.datepicker.parseDate(I.datepicker._get(R,"dateFormat"),R.input?R.input.val():null,I.datepicker._getFormatConfig(R))&&(I.datepicker._setDateFromField(R),I.datepicker._updateAlternate(R),I.datepicker._updateDatepicker(R))}catch(I){}return!0},_showDatepicker:function _showDatepicker(N){var R,U,$,B,H,V,W;"input"!==(N=N.target||N).nodeName.toLowerCase()&&(N=I("input",N.parentNode)[0]),I.datepicker._isDisabledDatepicker(N)||I.datepicker._lastInput===N||(R=I.datepicker._getInst(N),I.datepicker._curInst&&I.datepicker._curInst!==R&&(I.datepicker._curInst.dpDiv.stop(!0,!0),R&&I.datepicker._datepickerShowing&&I.datepicker._hideDatepicker(I.datepicker._curInst.input[0])),!1!==($=(U=I.datepicker._get(R,"beforeShow"))?U.apply(N,[N,R]):{})&&(datepicker_extendRemove(R.settings,$),R.lastVal=null,I.datepicker._lastInput=N,I.datepicker._setDateFromField(R),I.datepicker._inDialog&&(N.value=""),I.datepicker._pos||(I.datepicker._pos=I.datepicker._findPos(N),I.datepicker._pos[1]+=N.offsetHeight),B=!1,I(N).parents().each((function(){return!(B|="fixed"===I(this).css("position"))})),H={left:I.datepicker._pos[0],top:I.datepicker._pos[1]},I.datepicker._pos=null,R.dpDiv.empty(),R.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),I.datepicker._updateDatepicker(R),H=I.datepicker._checkOffset(R,H,B),R.dpDiv.css({position:I.datepicker._inDialog&&I.blockUI?"static":B?"fixed":"absolute",display:"none",left:H.left+"px",top:H.top+"px"}),R.inline||(V=I.datepicker._get(R,"showAnim"),W=I.datepicker._get(R,"duration"),R.dpDiv.css("z-index",function datepicker_getZindex(I){for(var N,R;I.length&&I[0]!==document;){if(("absolute"===(N=I.css("position"))||"relative"===N||"fixed"===N)&&(R=parseInt(I.css("zIndex"),10),!isNaN(R)&&0!==R))return R;I=I.parent()}return 0}(I(N))+1),I.datepicker._datepickerShowing=!0,I.effects&&I.effects.effect[V]?R.dpDiv.show(V,I.datepicker._get(R,"showOptions"),W):R.dpDiv[V||"show"](V?W:null),I.datepicker._shouldFocusInput(R)&&R.input.trigger("focus"),I.datepicker._curInst=R)))},_updateDatepicker:function _updateDatepicker(N){this.maxRows=4,B=N,N.dpDiv.empty().append(this._generateHTML(N)),this._attachHandlers(N);var R,U=this._getNumberOfMonths(N),$=U[1],H=N.dpDiv.find("."+this._dayOverClass+" a");H.length>0&&datepicker_handleMouseover.apply(H.get(0)),N.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),$>1&&N.dpDiv.addClass("ui-datepicker-multi-"+$).css("width",17*$+"em"),N.dpDiv[(1!==U[0]||1!==U[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),N.dpDiv[(this._get(N,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),N===I.datepicker._curInst&&I.datepicker._datepickerShowing&&I.datepicker._shouldFocusInput(N)&&N.input.trigger("focus"),N.yearshtml&&(R=N.yearshtml,setTimeout((function(){R===N.yearshtml&&N.yearshtml&&N.dpDiv.find("select.ui-datepicker-year:first").replaceWith(N.yearshtml),R=N.yearshtml=null}),0))},_shouldFocusInput:function _shouldFocusInput(I){return I.input&&I.input.is(":visible")&&!I.input.is(":disabled")&&!I.input.is(":focus")},_checkOffset:function _checkOffset(N,R,U){var $=N.dpDiv.outerWidth(),B=N.dpDiv.outerHeight(),H=N.input?N.input.outerWidth():0,V=N.input?N.input.outerHeight():0,W=document.documentElement.clientWidth+(U?0:I(document).scrollLeft()),z=document.documentElement.clientHeight+(U?0:I(document).scrollTop());return R.left-=this._get(N,"isRTL")?$-H:0,R.left-=U&&R.left===N.input.offset().left?I(document).scrollLeft():0,R.top-=U&&R.top===N.input.offset().top+V?I(document).scrollTop():0,R.left-=Math.min(R.left,R.left+$>W&&W>$?Math.abs(R.left+$-W):0),R.top-=Math.min(R.top,R.top+B>z&&z>B?Math.abs(B+V):0),R},_findPos:function _findPos(N){for(var R,U=this._getInst(N),$=this._get(U,"isRTL");N&&("hidden"===N.type||1!==N.nodeType||I.expr.filters.hidden(N));)N=N[$?"previousSibling":"nextSibling"];return[(R=I(N).offset()).left,R.top]},_hideDatepicker:function _hideDatepicker(N){var R,U,$,B,H=this._curInst;!H||N&&H!==I.data(N,"datepicker")||this._datepickerShowing&&(R=this._get(H,"showAnim"),U=this._get(H,"duration"),$=function postProcess(){I.datepicker._tidyDialog(H)},I.effects&&(I.effects.effect[R]||I.effects[R])?H.dpDiv.hide(R,I.datepicker._get(H,"showOptions"),U,$):H.dpDiv["slideDown"===R?"slideUp":"fadeIn"===R?"fadeOut":"hide"](R?U:null,$),R||$(),this._datepickerShowing=!1,(B=this._get(H,"onClose"))&&B.apply(H.input?H.input[0]:null,[H.input?H.input.val():"",H]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),I.blockUI&&(I.unblockUI(),I("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function _tidyDialog(I){I.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function _checkExternalClick(N){if(I.datepicker._curInst){var R=I(N.target),U=I.datepicker._getInst(R[0]);(R[0].id===I.datepicker._mainDivId||0!==R.parents("#"+I.datepicker._mainDivId).length||R.hasClass(I.datepicker.markerClassName)||R.closest("."+I.datepicker._triggerClass).length||!I.datepicker._datepickerShowing||I.datepicker._inDialog&&I.blockUI)&&(!R.hasClass(I.datepicker.markerClassName)||I.datepicker._curInst===U)||I.datepicker._hideDatepicker()}},_adjustDate:function _adjustDate(N,R,U){var $=I(N),B=this._getInst($[0]);this._isDisabledDatepicker($[0])||(this._adjustInstDate(B,R+("M"===U?this._get(B,"showCurrentAtPos"):0),U),this._updateDatepicker(B))},_gotoToday:function _gotoToday(N){var R,U=I(N),$=this._getInst(U[0]);this._get($,"gotoCurrent")&&$.currentDay?($.selectedDay=$.currentDay,$.drawMonth=$.selectedMonth=$.currentMonth,$.drawYear=$.selectedYear=$.currentYear):(R=new Date,$.selectedDay=R.getDate(),$.drawMonth=$.selectedMonth=R.getMonth(),$.drawYear=$.selectedYear=R.getFullYear()),this._notifyChange($),this._adjustDate(U)},_selectMonthYear:function _selectMonthYear(N,R,U){var $=I(N),B=this._getInst($[0]);B["selected"+("M"===U?"Month":"Year")]=B["draw"+("M"===U?"Month":"Year")]=parseInt(R.options[R.selectedIndex].value,10),this._notifyChange(B),this._adjustDate($)},_selectDay:function _selectDay(N,R,U,$){var B,H=I(N);I($).hasClass(this._unselectableClass)||this._isDisabledDatepicker(H[0])||((B=this._getInst(H[0])).selectedDay=B.currentDay=I("a",$).html(),B.selectedMonth=B.currentMonth=R,B.selectedYear=B.currentYear=U,this._selectDate(N,this._formatDate(B,B.currentDay,B.currentMonth,B.currentYear)))},_clearDate:function _clearDate(N){var R=I(N);this._selectDate(R,"")},_selectDate:function _selectDate(N,R){var $,B=I(N),H=this._getInst(B[0]);R=null!=R?R:this._formatDate(H),H.input&&H.input.val(R),this._updateAlternate(H),($=this._get(H,"onSelect"))?$.apply(H.input?H.input[0]:null,[R,H]):H.input&&H.input.trigger("change"),H.inline?this._updateDatepicker(H):(this._hideDatepicker(),this._lastInput=H.input[0],"object"!==U(H.input[0])&&H.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function _updateAlternate(N){var R,U,$,B=this._get(N,"altField");B&&(R=this._get(N,"altFormat")||this._get(N,"dateFormat"),U=this._getDate(N),$=this.formatDate(R,U,this._getFormatConfig(N)),I(B).val($))},noWeekends:function noWeekends(I){var N=I.getDay();return[N>0&&N<6,""]},iso8601Week:function iso8601Week(I){var N,R=new Date(I.getTime());return R.setDate(R.getDate()+4-(R.getDay()||7)),N=R.getTime(),R.setMonth(0),R.setDate(1),Math.floor(Math.round((N-R)/864e5)/7)+1},parseDate:function parseDate(N,R,$){if(null==N||null==R)throw"Invalid arguments";if(""===(R="object"===U(R)?R.toString():R+""))return null;var B,H,V,W,z=0,X=($?$.shortYearCutoff:null)||this._defaults.shortYearCutoff,Q="string"!=typeof X?X:(new Date).getFullYear()%100+parseInt(X,10),J=($?$.dayNamesShort:null)||this._defaults.dayNamesShort,Z=($?$.dayNames:null)||this._defaults.dayNames,tt=($?$.monthNamesShort:null)||this._defaults.monthNamesShort,et=($?$.monthNames:null)||this._defaults.monthNames,it=-1,nt=-1,st=-1,rt=-1,at=!1,ot=function lookAhead(I){var R=B+1<N.length&&N.charAt(B+1)===I;return R&&B++,R},lt=function getNumber(I){var N=ot(I),U="@"===I?14:"!"===I?20:"y"===I&&N?4:"o"===I?3:2,$=new RegExp("^\\d{"+("y"===I?U:1)+","+U+"}"),B=R.substring(z).match($);if(!B)throw"Missing number at position "+z;return z+=B[0].length,parseInt(B[0],10)},ct=function getName(N,U,$){var B=-1,H=I.map(ot(N)?$:U,(function(I,N){return[[N,I]]})).sort((function(I,N){return-(I[1].length-N[1].length)}));if(I.each(H,(function(I,N){var U=N[1];if(R.substr(z,U.length).toLowerCase()===U.toLowerCase())return B=N[0],z+=U.length,!1})),-1!==B)return B+1;throw"Unknown name at position "+z},ut=function checkLiteral(){if(R.charAt(z)!==N.charAt(B))throw"Unexpected literal at position "+z;z++};for(B=0;B<N.length;B++)if(at)"'"!==N.charAt(B)||ot("'")?ut():at=!1;else switch(N.charAt(B)){case"d":st=lt("d");break;case"D":ct("D",J,Z);break;case"o":rt=lt("o");break;case"m":nt=lt("m");break;case"M":nt=ct("M",tt,et);break;case"y":it=lt("y");break;case"@":it=(W=new Date(lt("@"))).getFullYear(),nt=W.getMonth()+1,st=W.getDate();break;case"!":it=(W=new Date((lt("!")-this._ticksTo1970)/1e4)).getFullYear(),nt=W.getMonth()+1,st=W.getDate();break;case"'":ot("'")?ut():at=!0;break;default:ut()}if(z<R.length&&(V=R.substr(z),!/^\s+/.test(V)))throw"Extra/unparsed characters found in date: "+V;if(-1===it?it=(new Date).getFullYear():it<100&&(it+=(new Date).getFullYear()-(new Date).getFullYear()%100+(it<=Q?0:-100)),rt>-1)for(nt=1,st=rt;!(st<=(H=this._getDaysInMonth(it,nt-1)));)nt++,st-=H;if((W=this._daylightSavingAdjust(new Date(it,nt-1,st))).getFullYear()!==it||W.getMonth()+1!==nt||W.getDate()!==st)throw"Invalid date";return W},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function formatDate(I,N,R){if(!N)return"";var U,$=(R?R.dayNamesShort:null)||this._defaults.dayNamesShort,B=(R?R.dayNames:null)||this._defaults.dayNames,H=(R?R.monthNamesShort:null)||this._defaults.monthNamesShort,V=(R?R.monthNames:null)||this._defaults.monthNames,W=function lookAhead(N){var R=U+1<I.length&&I.charAt(U+1)===N;return R&&U++,R},z=function formatNumber(I,N,R){var U=""+N;if(W(I))for(;U.length<R;)U="0"+U;return U},X=function formatName(I,N,R,U){return W(I)?U[N]:R[N]},Q="",J=!1;if(N)for(U=0;U<I.length;U++)if(J)"'"!==I.charAt(U)||W("'")?Q+=I.charAt(U):J=!1;else switch(I.charAt(U)){case"d":Q+=z("d",N.getDate(),2);break;case"D":Q+=X("D",N.getDay(),$,B);break;case"o":Q+=z("o",Math.round((new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime()-new Date(N.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Q+=z("m",N.getMonth()+1,2);break;case"M":Q+=X("M",N.getMonth(),H,V);break;case"y":Q+=W("y")?N.getFullYear():(N.getFullYear()%100<10?"0":"")+N.getFullYear()%100;break;case"@":Q+=N.getTime();break;case"!":Q+=1e4*N.getTime()+this._ticksTo1970;break;case"'":W("'")?Q+="'":J=!0;break;default:Q+=I.charAt(U)}return Q},_possibleChars:function _possibleChars(I){var N,R="",U=!1,$=function lookAhead(R){var U=N+1<I.length&&I.charAt(N+1)===R;return U&&N++,U};for(N=0;N<I.length;N++)if(U)"'"!==I.charAt(N)||$("'")?R+=I.charAt(N):U=!1;else switch(I.charAt(N)){case"d":case"m":case"y":case"@":R+="0123456789";break;case"D":case"M":return null;case"'":$("'")?R+="'":U=!0;break;default:R+=I.charAt(N)}return R},_get:function _get(I,N){return void 0!==I.settings[N]?I.settings[N]:this._defaults[N]},_setDateFromField:function _setDateFromField(I,N){if(I.input.val()!==I.lastVal){var R=this._get(I,"dateFormat"),U=I.lastVal=I.input?I.input.val():null,$=this._getDefaultDate(I),B=$,H=this._getFormatConfig(I);try{B=this.parseDate(R,U,H)||$}catch(I){U=N?"":U}I.selectedDay=B.getDate(),I.drawMonth=I.selectedMonth=B.getMonth(),I.drawYear=I.selectedYear=B.getFullYear(),I.currentDay=U?B.getDate():0,I.currentMonth=U?B.getMonth():0,I.currentYear=U?B.getFullYear():0,this._adjustInstDate(I)}},_getDefaultDate:function _getDefaultDate(I){return this._restrictMinMax(I,this._determineDate(I,this._get(I,"defaultDate"),new Date))},_determineDate:function _determineDate(N,R,U){var $=null==R||""===R?U:"string"==typeof R?function offsetString(R){try{return I.datepicker.parseDate(I.datepicker._get(N,"dateFormat"),R,I.datepicker._getFormatConfig(N))}catch(I){}for(var U=(R.toLowerCase().match(/^c/)?I.datepicker._getDate(N):null)||new Date,$=U.getFullYear(),B=U.getMonth(),H=U.getDate(),V=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,W=V.exec(R);W;){switch(W[2]||"d"){case"d":case"D":H+=parseInt(W[1],10);break;case"w":case"W":H+=7*parseInt(W[1],10);break;case"m":case"M":B+=parseInt(W[1],10),H=Math.min(H,I.datepicker._getDaysInMonth($,B));break;case"y":case"Y":$+=parseInt(W[1],10),H=Math.min(H,I.datepicker._getDaysInMonth($,B))}W=V.exec(R)}return new Date($,B,H)}(R):"number"==typeof R?isNaN(R)?U:function offsetNumeric(I){var N=new Date;return N.setDate(N.getDate()+I),N}(R):new Date(R.getTime());return($=$&&"Invalid Date"===$.toString()?U:$)&&($.setHours(0),$.setMinutes(0),$.setSeconds(0),$.setMilliseconds(0)),this._daylightSavingAdjust($)},_daylightSavingAdjust:function _daylightSavingAdjust(I){return I?(I.setHours(I.getHours()>12?I.getHours()+2:0),I):null},_setDate:function _setDate(I,N,R){var U=!N,$=I.selectedMonth,B=I.selectedYear,H=this._restrictMinMax(I,this._determineDate(I,N,new Date));I.selectedDay=I.currentDay=H.getDate(),I.drawMonth=I.selectedMonth=I.currentMonth=H.getMonth(),I.drawYear=I.selectedYear=I.currentYear=H.getFullYear(),$===I.selectedMonth&&B===I.selectedYear||R||this._notifyChange(I),this._adjustInstDate(I),I.input&&I.input.val(U?"":this._formatDate(I))},_getDate:function _getDate(I){return!I.currentYear||I.input&&""===I.input.val()?null:this._daylightSavingAdjust(new Date(I.currentYear,I.currentMonth,I.currentDay))},_attachHandlers:function _attachHandlers(N){var R=this._get(N,"stepMonths"),U="#"+N.id.replace(/\\\\/g,"\\");N.dpDiv.find("[data-handler]").map((function(){var N={prev:function prev(){I.datepicker._adjustDate(U,-R,"M")},next:function next(){I.datepicker._adjustDate(U,+R,"M")},hide:function hide(){I.datepicker._hideDatepicker()},today:function today(){I.datepicker._gotoToday(U)},selectDay:function selectDay(){return I.datepicker._selectDay(U,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function selectMonth(){return I.datepicker._selectMonthYear(U,this,"M"),!1},selectYear:function selectYear(){return I.datepicker._selectMonthYear(U,this,"Y"),!1}};I(this).on(this.getAttribute("data-event"),N[this.getAttribute("data-handler")])}))},_generateHTML:function _generateHTML(I){var N,R,U,$,B,H,V,W,z,X,Q,J,Z,tt,et,it,nt,st,rt,at,ot,lt,ct,ut,ht,pt,dt,ft,mt,gt,vt,bt,_t,yt,xt,wt,Tt,Et,St,kt=new Date,Ct=this._daylightSavingAdjust(new Date(kt.getFullYear(),kt.getMonth(),kt.getDate())),Ot=this._get(I,"isRTL"),At=this._get(I,"showButtonPanel"),It=this._get(I,"hideIfNoPrevNext"),Nt=this._get(I,"navigationAsDateFormat"),Dt=this._getNumberOfMonths(I),Rt=this._get(I,"showCurrentAtPos"),Lt=this._get(I,"stepMonths"),Pt=1!==Dt[0]||1!==Dt[1],Mt=this._daylightSavingAdjust(I.currentDay?new Date(I.currentYear,I.currentMonth,I.currentDay):new Date(9999,9,9)),jt=this._getMinMaxDate(I,"min"),Ft=this._getMinMaxDate(I,"max"),Ut=I.drawMonth-Rt,$t=I.drawYear;if(Ut<0&&(Ut+=12,$t--),Ft)for(N=this._daylightSavingAdjust(new Date(Ft.getFullYear(),Ft.getMonth()-Dt[0]*Dt[1]+1,Ft.getDate())),N=jt&&N<jt?jt:N;this._daylightSavingAdjust(new Date($t,Ut,1))>N;)--Ut<0&&(Ut=11,$t--);for(I.drawMonth=Ut,I.drawYear=$t,R=this._get(I,"prevText"),R=Nt?this.formatDate(R,this._daylightSavingAdjust(new Date($t,Ut-Lt,1)),this._getFormatConfig(I)):R,U=this._canAdjustMonth(I,-1,$t,Ut)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+R+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ot?"e":"w")+"'>"+R+"</span></a>":It?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+R+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ot?"e":"w")+"'>"+R+"</span></a>",$=this._get(I,"nextText"),$=Nt?this.formatDate($,this._daylightSavingAdjust(new Date($t,Ut+Lt,1)),this._getFormatConfig(I)):$,B=this._canAdjustMonth(I,1,$t,Ut)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+$+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ot?"w":"e")+"'>"+$+"</span></a>":It?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+$+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ot?"w":"e")+"'>"+$+"</span></a>",H=this._get(I,"currentText"),V=this._get(I,"gotoCurrent")&&I.currentDay?Mt:Ct,H=Nt?this.formatDate(H,V,this._getFormatConfig(I)):H,W=I.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(I,"closeText")+"</button>",z=At?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Ot?W:"")+(this._isInRange(I,V)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+H+"</button>":"")+(Ot?"":W)+"</div>":"",X=parseInt(this._get(I,"firstDay"),10),X=isNaN(X)?0:X,Q=this._get(I,"showWeek"),J=this._get(I,"dayNames"),Z=this._get(I,"dayNamesMin"),tt=this._get(I,"monthNames"),et=this._get(I,"monthNamesShort"),it=this._get(I,"beforeShowDay"),nt=this._get(I,"showOtherMonths"),st=this._get(I,"selectOtherMonths"),rt=this._getDefaultDate(I),at="",lt=0;lt<Dt[0];lt++){for(ct="",this.maxRows=4,ut=0;ut<Dt[1];ut++){if(ht=this._daylightSavingAdjust(new Date($t,Ut,I.selectedDay)),pt=" ui-corner-all",dt="",Pt){if(dt+="<div class='ui-datepicker-group",Dt[1]>1)switch(ut){case 0:dt+=" ui-datepicker-group-first",pt=" ui-corner-"+(Ot?"right":"left");break;case Dt[1]-1:dt+=" ui-datepicker-group-last",pt=" ui-corner-"+(Ot?"left":"right");break;default:dt+=" ui-datepicker-group-middle",pt=""}dt+="'>"}for(dt+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+pt+"'>"+(/all|left/.test(pt)&&0===lt?Ot?B:U:"")+(/all|right/.test(pt)&&0===lt?Ot?U:B:"")+this._generateMonthYearHeader(I,Ut,$t,jt,Ft,lt>0||ut>0,tt,et)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ft=Q?"<th class='ui-datepicker-week-col'>"+this._get(I,"weekHeader")+"</th>":"",ot=0;ot<7;ot++)ft+="<th scope='col'"+((ot+X+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+J[mt=(ot+X)%7]+"'>"+Z[mt]+"</span></th>";for(dt+=ft+"</tr></thead><tbody>",gt=this._getDaysInMonth($t,Ut),$t===I.selectedYear&&Ut===I.selectedMonth&&(I.selectedDay=Math.min(I.selectedDay,gt)),vt=(this._getFirstDayOfMonth($t,Ut)-X+7)%7,bt=Math.ceil((vt+gt)/7),_t=Pt&&this.maxRows>bt?this.maxRows:bt,this.maxRows=_t,yt=this._daylightSavingAdjust(new Date($t,Ut,1-vt)),xt=0;xt<_t;xt++){for(dt+="<tr>",wt=Q?"<td class='ui-datepicker-week-col'>"+this._get(I,"calculateWeek")(yt)+"</td>":"",ot=0;ot<7;ot++)Tt=it?it.apply(I.input?I.input[0]:null,[yt]):[!0,""],St=(Et=yt.getMonth()!==Ut)&&!st||!Tt[0]||jt&&yt<jt||Ft&&yt>Ft,wt+="<td class='"+((ot+X+6)%7>=5?" ui-datepicker-week-end":"")+(Et?" ui-datepicker-other-month":"")+(yt.getTime()===ht.getTime()&&Ut===I.selectedMonth&&I._keyEvent||rt.getTime()===yt.getTime()&&rt.getTime()===ht.getTime()?" "+this._dayOverClass:"")+(St?" "+this._unselectableClass+" ui-state-disabled":"")+(Et&&!nt?"":" "+Tt[1]+(yt.getTime()===Mt.getTime()?" "+this._currentClass:"")+(yt.getTime()===Ct.getTime()?" ui-datepicker-today":""))+"'"+(Et&&!nt||!Tt[2]?"":" title='"+Tt[2].replace(/'/g,"&#39;")+"'")+(St?"":" data-handler='selectDay' data-event='click' data-month='"+yt.getMonth()+"' data-year='"+yt.getFullYear()+"'")+">"+(Et&&!nt?"&#xa0;":St?"<span class='ui-state-default'>"+yt.getDate()+"</span>":"<a class='ui-state-default"+(yt.getTime()===Ct.getTime()?" ui-state-highlight":"")+(yt.getTime()===Mt.getTime()?" ui-state-active":"")+(Et?" ui-priority-secondary":"")+"' href='#'>"+yt.getDate()+"</a>")+"</td>",yt.setDate(yt.getDate()+1),yt=this._daylightSavingAdjust(yt);dt+=wt+"</tr>"}++Ut>11&&(Ut=0,$t++),ct+=dt+="</tbody></table>"+(Pt?"</div>"+(Dt[0]>0&&ut===Dt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}at+=ct}return at+=z,I._keyEvent=!1,at},_generateMonthYearHeader:function _generateMonthYearHeader(I,N,R,U,$,B,H,V){var W,z,X,Q,J,Z,tt,et,it=this._get(I,"changeMonth"),nt=this._get(I,"changeYear"),st=this._get(I,"showMonthAfterYear"),rt="<div class='ui-datepicker-title'>",at="";if(B||!it)at+="<span class='ui-datepicker-month'>"+H[N]+"</span>";else{for(W=U&&U.getFullYear()===R,z=$&&$.getFullYear()===R,at+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",X=0;X<12;X++)(!W||X>=U.getMonth())&&(!z||X<=$.getMonth())&&(at+="<option value='"+X+"'"+(X===N?" selected='selected'":"")+">"+V[X]+"</option>");at+="</select>"}if(st||(rt+=at+(!B&&it&&nt?"":"&#xa0;")),!I.yearshtml)if(I.yearshtml="",B||!nt)rt+="<span class='ui-datepicker-year'>"+R+"</span>";else{for(Q=this._get(I,"yearRange").split(":"),J=(new Date).getFullYear(),tt=(Z=function determineYear(I){var N=I.match(/c[+\-].*/)?R+parseInt(I.substring(1),10):I.match(/[+\-].*/)?J+parseInt(I,10):parseInt(I,10);return isNaN(N)?J:N})(Q[0]),et=Math.max(tt,Z(Q[1]||"")),tt=U?Math.max(tt,U.getFullYear()):tt,et=$?Math.min(et,$.getFullYear()):et,I.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";tt<=et;tt++)I.yearshtml+="<option value='"+tt+"'"+(tt===R?" selected='selected'":"")+">"+tt+"</option>";I.yearshtml+="</select>",rt+=I.yearshtml,I.yearshtml=null}return rt+=this._get(I,"yearSuffix"),st&&(rt+=(!B&&it&&nt?"":"&#xa0;")+at),rt+="</div>"},_adjustInstDate:function _adjustInstDate(I,N,R){var U=I.selectedYear+("Y"===R?N:0),$=I.selectedMonth+("M"===R?N:0),B=Math.min(I.selectedDay,this._getDaysInMonth(U,$))+("D"===R?N:0),H=this._restrictMinMax(I,this._daylightSavingAdjust(new Date(U,$,B)));I.selectedDay=H.getDate(),I.drawMonth=I.selectedMonth=H.getMonth(),I.drawYear=I.selectedYear=H.getFullYear(),"M"!==R&&"Y"!==R||this._notifyChange(I)},_restrictMinMax:function _restrictMinMax(I,N){var R=this._getMinMaxDate(I,"min"),U=this._getMinMaxDate(I,"max"),$=R&&N<R?R:N;return U&&$>U?U:$},_notifyChange:function _notifyChange(I){var N=this._get(I,"onChangeMonthYear");N&&N.apply(I.input?I.input[0]:null,[I.selectedYear,I.selectedMonth+1,I])},_getNumberOfMonths:function _getNumberOfMonths(I){var N=this._get(I,"numberOfMonths");return null==N?[1,1]:"number"==typeof N?[1,N]:N},_getMinMaxDate:function _getMinMaxDate(I,N){return this._determineDate(I,this._get(I,N+"Date"),null)},_getDaysInMonth:function _getDaysInMonth(I,N){return 32-this._daylightSavingAdjust(new Date(I,N,32)).getDate()},_getFirstDayOfMonth:function _getFirstDayOfMonth(I,N){return new Date(I,N,1).getDay()},_canAdjustMonth:function _canAdjustMonth(I,N,R,U){var $=this._getNumberOfMonths(I),B=this._daylightSavingAdjust(new Date(R,U+(N<0?N:$[0]*$[1]),1));return N<0&&B.setDate(this._getDaysInMonth(B.getFullYear(),B.getMonth())),this._isInRange(I,B)},_isInRange:function _isInRange(I,N){var R,U,$=this._getMinMaxDate(I,"min"),B=this._getMinMaxDate(I,"max"),H=null,V=null,W=this._get(I,"yearRange");return W&&(R=W.split(":"),U=(new Date).getFullYear(),H=parseInt(R[0],10),V=parseInt(R[1],10),R[0].match(/[+\-].*/)&&(H+=U),R[1].match(/[+\-].*/)&&(V+=U)),(!$||N.getTime()>=$.getTime())&&(!B||N.getTime()<=B.getTime())&&(!H||N.getFullYear()>=H)&&(!V||N.getFullYear()<=V)},_getFormatConfig:function _getFormatConfig(I){var N=this._get(I,"shortYearCutoff");return{shortYearCutoff:N="string"!=typeof N?N:(new Date).getFullYear()%100+parseInt(N,10),dayNamesShort:this._get(I,"dayNamesShort"),dayNames:this._get(I,"dayNames"),monthNamesShort:this._get(I,"monthNamesShort"),monthNames:this._get(I,"monthNames")}},_formatDate:function _formatDate(I,N,R,$){N||(I.currentDay=I.selectedDay,I.currentMonth=I.selectedMonth,I.currentYear=I.selectedYear);var B=N?"object"===U(N)?N:this._daylightSavingAdjust(new Date($,R,N)):this._daylightSavingAdjust(new Date(I.currentYear,I.currentMonth,I.currentDay));return this.formatDate(this._get(I,"dateFormat"),B,this._getFormatConfig(I))}}),I.fn.datepicker=function(N){if(!this.length)return this;I.datepicker.initialized||(I(document).on("mousedown",I.datepicker._checkExternalClick),I.datepicker.initialized=!0),0===I("#"+I.datepicker._mainDivId).length&&I("body").append(I.datepicker.dpDiv);var R=Array.prototype.slice.call(arguments,1);return"string"!=typeof N||"isDisabled"!==N&&"getDate"!==N&&"widget"!==N?"option"===N&&2===arguments.length&&"string"==typeof arguments[1]?I.datepicker["_"+N+"Datepicker"].apply(I.datepicker,[this[0]].concat(R)):this.each((function(){"string"==typeof N?I.datepicker["_"+N+"Datepicker"].apply(I.datepicker,[this].concat(R)):I.datepicker._attachDatepicker(this,N)})):I.datepicker["_"+N+"Datepicker"].apply(I.datepicker,[this[0]].concat(R))},I.datepicker=new Datepicker,I.datepicker.initialized=!1,I.datepicker.uuid=(new Date).getTime(),I.datepicker.version="1.12.1",I.datepicker,I.widget("ui.slider",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function _create(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function _refresh(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function _createHandles(){var N,R,U=this.options,$=this.element.find(".ui-slider-handle"),B=[];for(R=U.values&&U.values.length||1,$.length>R&&($.slice(R).remove(),$=$.slice(0,R)),N=$.length;N<R;N++)B.push("<span tabindex='0'></span>");this.handles=$.add(I(B.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(N){I(this).data("ui-slider-handle-index",N).attr("tabIndex",0)}))},_createRange:function _createRange(){var N=this.options;N.range?(!0===N.range&&(N.values?N.values.length&&2!==N.values.length?N.values=[N.values[0],N.values[0]]:I.isArray(N.values)&&(N.values=N.values.slice(0)):N.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=I("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==N.range&&"max"!==N.range||this._addClass(this.range,"ui-slider-range-"+N.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function _setupEvents(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function _destroy(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function _mouseCapture(N){var R,U,$,B,H,V,W,z=this,X=this.options;return!X.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),R={x:N.pageX,y:N.pageY},U=this._normValueFromMouse(R),$=this._valueMax()-this._valueMin()+1,this.handles.each((function(N){var R=Math.abs(U-z.values(N));($>R||$===R&&(N===z._lastChangedValue||z.values(N)===X.min))&&($=R,B=I(this),H=N)})),!1!==this._start(N,H)&&(this._mouseSliding=!0,this._handleIndex=H,this._addClass(B,null,"ui-state-active"),B.trigger("focus"),V=B.offset(),W=!I(N.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=W?{left:0,top:0}:{left:N.pageX-V.left-B.width()/2,top:N.pageY-V.top-B.height()/2-(parseInt(B.css("borderTopWidth"),10)||0)-(parseInt(B.css("borderBottomWidth"),10)||0)+(parseInt(B.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(N,H,U),this._animateOff=!0,!0))},_mouseStart:function _mouseStart(){return!0},_mouseDrag:function _mouseDrag(I){var N={x:I.pageX,y:I.pageY},R=this._normValueFromMouse(N);return this._slide(I,this._handleIndex,R),!1},_mouseStop:function _mouseStop(I){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(I,this._handleIndex),this._change(I,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function _detectOrientation(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function _normValueFromMouse(I){var N,R,U,$,B;return"horizontal"===this.orientation?(N=this.elementSize.width,R=I.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(N=this.elementSize.height,R=I.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(U=R/N)>1&&(U=1),U<0&&(U=0),"vertical"===this.orientation&&(U=1-U),$=this._valueMax()-this._valueMin(),B=this._valueMin()+U*$,this._trimAlignValue(B)},_uiHash:function _uiHash(I,N,R){var U={handle:this.handles[I],handleIndex:I,value:void 0!==N?N:this.value()};return this._hasMultipleValues()&&(U.value=void 0!==N?N:this.values(I),U.values=R||this.values()),U},_hasMultipleValues:function _hasMultipleValues(){return this.options.values&&this.options.values.length},_start:function _start(I,N){return this._trigger("start",I,this._uiHash(N))},_slide:function _slide(I,N,R){var U,$=this.value(),B=this.values();this._hasMultipleValues()&&(U=this.values(N?0:1),$=this.values(N),2===this.options.values.length&&!0===this.options.range&&(R=0===N?Math.min(U,R):Math.max(U,R)),B[N]=R),R!==$&&!1!==this._trigger("slide",I,this._uiHash(N,R,B))&&(this._hasMultipleValues()?this.values(N,R):this.value(R))},_stop:function _stop(I,N){this._trigger("stop",I,this._uiHash(N))},_change:function _change(I,N){this._keySliding||this._mouseSliding||(this._lastChangedValue=N,this._trigger("change",I,this._uiHash(N)))},value:function value(I){return arguments.length?(this.options.value=this._trimAlignValue(I),this._refreshValue(),void this._change(null,0)):this._value()},values:function values(N,R){var U,$,B;if(arguments.length>1)return this.options.values[N]=this._trimAlignValue(R),this._refreshValue(),void this._change(null,N);if(!arguments.length)return this._values();if(!I.isArray(arguments[0]))return this._hasMultipleValues()?this._values(N):this.value();for(U=this.options.values,$=arguments[0],B=0;B<U.length;B+=1)U[B]=this._trimAlignValue($[B]),this._change(null,B);this._refreshValue()},_setOption:function _setOption(N,R){var U,$=0;switch("range"===N&&!0===this.options.range&&("min"===R?(this.options.value=this._values(0),this.options.values=null):"max"===R&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),I.isArray(this.options.values)&&($=this.options.values.length),this._super(N,R),N){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(R),this.handles.css("horizontal"===R?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),U=$-1;U>=0;U--)this._change(null,U);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function _setOptionDisabled(I){this._super(I),this._toggleClass(null,"ui-state-disabled",!!I)},_value:function _value(){var I=this.options.value;return I=this._trimAlignValue(I)},_values:function _values(I){var N,R,U;if(arguments.length)return N=this.options.values[I],N=this._trimAlignValue(N);if(this._hasMultipleValues()){for(R=this.options.values.slice(),U=0;U<R.length;U+=1)R[U]=this._trimAlignValue(R[U]);return R}return[]},_trimAlignValue:function _trimAlignValue(I){if(I<=this._valueMin())return this._valueMin();if(I>=this._valueMax())return this._valueMax();var N=this.options.step>0?this.options.step:1,R=(I-this._valueMin())%N,U=I-R;return 2*Math.abs(R)>=N&&(U+=R>0?N:-N),parseFloat(U.toFixed(5))},_calculateNewMax:function _calculateNewMax(){var I=this.options.max,N=this._valueMin(),R=this.options.step;(I=Math.round((I-N)/R)*R+N)>this.options.max&&(I-=R),this.max=parseFloat(I.toFixed(this._precision()))},_precision:function _precision(){var I=this._precisionOf(this.options.step);return null!==this.options.min&&(I=Math.max(I,this._precisionOf(this.options.min))),I},_precisionOf:function _precisionOf(I){var N=I.toString(),R=N.indexOf(".");return-1===R?0:N.length-R-1},_valueMin:function _valueMin(){return this.options.min},_valueMax:function _valueMax(){return this.max},_refreshRange:function _refreshRange(I){"vertical"===I&&this.range.css({width:"",left:""}),"horizontal"===I&&this.range.css({height:"",bottom:""})},_refreshValue:function _refreshValue(){var N,R,U,$,B,H=this.options.range,V=this.options,W=this,z=!this._animateOff&&V.animate,X={};this._hasMultipleValues()?this.handles.each((function(U){R=(W.values(U)-W._valueMin())/(W._valueMax()-W._valueMin())*100,X["horizontal"===W.orientation?"left":"bottom"]=R+"%",I(this).stop(1,1)[z?"animate":"css"](X,V.animate),!0===W.options.range&&("horizontal"===W.orientation?(0===U&&W.range.stop(1,1)[z?"animate":"css"]({left:R+"%"},V.animate),1===U&&W.range[z?"animate":"css"]({width:R-N+"%"},{queue:!1,duration:V.animate})):(0===U&&W.range.stop(1,1)[z?"animate":"css"]({bottom:R+"%"},V.animate),1===U&&W.range[z?"animate":"css"]({height:R-N+"%"},{queue:!1,duration:V.animate}))),N=R})):(U=this.value(),$=this._valueMin(),B=this._valueMax(),R=B!==$?(U-$)/(B-$)*100:0,X["horizontal"===this.orientation?"left":"bottom"]=R+"%",this.handle.stop(1,1)[z?"animate":"css"](X,V.animate),"min"===H&&"horizontal"===this.orientation&&this.range.stop(1,1)[z?"animate":"css"]({width:R+"%"},V.animate),"max"===H&&"horizontal"===this.orientation&&this.range.stop(1,1)[z?"animate":"css"]({width:100-R+"%"},V.animate),"min"===H&&"vertical"===this.orientation&&this.range.stop(1,1)[z?"animate":"css"]({height:R+"%"},V.animate),"max"===H&&"vertical"===this.orientation&&this.range.stop(1,1)[z?"animate":"css"]({height:100-R+"%"},V.animate))},_handleEvents:{keydown:function keydown(N){var R,U,$,B=I(N.target).data("ui-slider-handle-index");switch(N.keyCode){case I.ui.keyCode.HOME:case I.ui.keyCode.END:case I.ui.keyCode.PAGE_UP:case I.ui.keyCode.PAGE_DOWN:case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(N.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(I(N.target),null,"ui-state-active"),!1===this._start(N,B)))return}switch($=this.options.step,R=U=this._hasMultipleValues()?this.values(B):this.value(),N.keyCode){case I.ui.keyCode.HOME:U=this._valueMin();break;case I.ui.keyCode.END:U=this._valueMax();break;case I.ui.keyCode.PAGE_UP:U=this._trimAlignValue(R+(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.PAGE_DOWN:U=this._trimAlignValue(R-(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:if(R===this._valueMax())return;U=this._trimAlignValue(R+$);break;case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(R===this._valueMin())return;U=this._trimAlignValue(R-$)}this._slide(N,B,U)},keyup:function keyup(N){var R=I(N.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(N,R),this._change(N,R),this._removeClass(I(N.target),null,"ui-state-active"))}}})}(jQuery)},function(I,N){/*!
* jQuery UI Touch Punch 0.2.3
*
* Copyright 2011–2014, Dave Furfero
* Dual licensed under the MIT or GPL Version 2 licenses.
*
* Depends:
* jquery.ui.widget.js
* jquery.ui.mouse.js
*/!function(I){function f(I,N){if(!(I.originalEvent.touches.length>1)){I.preventDefault();var R=I.originalEvent.changedTouches[0],U=document.createEvent("MouseEvents");U.initMouseEvent(N,!0,!0,window,1,R.screenX,R.screenY,R.clientX,R.clientY,!1,!1,!1,!1,0,null),I.target.dispatchEvent(U)}}if(I.support.touch="ontouchend"in document,I.support.touch){var N,R=I.ui.mouse.prototype,U=R._mouseInit,$=R._mouseDestroy;R._touchStart=function(I){!N&&this._mouseCapture(I.originalEvent.changedTouches[0])&&(N=!0,this._touchMoved=!1,f(I,"mouseover"),f(I,"mousemove"),f(I,"mousedown"))},R._touchMove=function(I){N&&(this._touchMoved=!0,f(I,"mousemove"))},R._touchEnd=function(I){N&&(f(I,"mouseup"),f(I,"mouseout"),this._touchMoved||f(I,"click"),N=!1)},R._mouseInit=function(){var N=this;N.element.bind({touchstart:I.proxy(N,"_touchStart"),touchmove:I.proxy(N,"_touchMove"),touchend:I.proxy(N,"_touchEnd")}),U.call(N)},R._mouseDestroy=function(){var N=this;N.element.unbind({touchstart:I.proxy(N,"_touchStart"),touchmove:I.proxy(N,"_touchMove"),touchend:I.proxy(N,"_touchEnd")}),$.call(N)}}}(jQuery)},function(I,N,R){var U,$=R(1);/*!
* @fileOverview TouchSwipe - jQuery Plugin
* @version 1.6.18
*
* @author Matt Bryson http://www.github.com/mattbryson
* @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* @see http://labs.rampinteractive.co.uk/touchSwipe/
* @see http://plugins.jquery.com/project/touchSwipe
* @license
* Copyright (c) 2010-2015 Matt Bryson
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/U=function(I){"use strict";var N="left",R="up",U="ontouchstart"in window,B=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!U,H=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!U;function init(N){return!N||void 0!==N.allowPageScroll||void 0===N.swipe&&void 0===N.swipeStatus||(N.allowPageScroll="none"),void 0!==N.click&&void 0===N.tap&&(N.tap=N.click),N||(N={}),N=I.extend({},I.fn.swipe.defaults,N),this.each((function(){var R=I(this),U=R.data("TouchSwipe");U||(U=new TouchSwipe(this,N),R.data("TouchSwipe",U))}))}function TouchSwipe(V,W){W=I.extend({},W);var z=U||H||!W.fallbackToMouseEvents,X=z?H?B?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Q=z?H?B?"MSPointerMove":"pointermove":"touchmove":"mousemove",J=z?H?B?"MSPointerUp":"pointerup":"touchend":"mouseup",Z=z?H?"mouseleave":null:"mouseleave",tt=H?B?"MSPointerCancel":"pointercancel":"touchcancel",et=0,it=null,nt=null,st=0,rt=0,at=0,ot=1,lt=0,ct=0,ut=null,ht=I(V),pt="start",dt=0,ft={},mt=0,gt=0,vt=0,bt=0,_t=0,yt=null,xt=null;try{ht.bind(X,touchStart),ht.bind(tt,touchCancel)}catch(N){I.error("events not supported "+X+","+tt+" on jQuery.swipe")}function touchStart(U){if(!(function getTouchInProgress(){return!(!0!==ht.data("TouchSwipe_intouch"))}()||I(U.target).closest(W.excludedElements,ht).length>0)){var $=U.originalEvent?U.originalEvent:U;if(!$.pointerType||"mouse"!=$.pointerType||0!=W.fallbackToMouseEvents){var B,H=$.touches,V=H?H[0]:$;return pt="start",H?dt=H.length:!1!==W.preventDefaultEvents&&U.preventDefault(),et=0,it=null,nt=null,ct=null,st=0,rt=0,at=0,ot=1,lt=0,ut=function createMaximumsData(){var I={};return I[N]=createMaximumVO(N),I.right=createMaximumVO("right"),I.up=createMaximumVO(R),I.down=createMaximumVO("down"),I}(),cancelMultiFingerRelease(),createFingerData(0,V),!H||dt===W.fingers||"all"===W.fingers||hasPinches()?(mt=getTimeStamp(),2==dt&&(createFingerData(1,H[1]),rt=at=calculateTouchesDistance(ft[0].start,ft[1].start)),(W.swipeStatus||W.pinchStatus)&&(B=triggerHandler($,pt))):B=!1,!1===B?(triggerHandler($,pt="cancel"),B):(W.hold&&(xt=setTimeout(I.proxy((function(){ht.trigger("hold",[$.target]),W.hold&&(B=W.hold.call(ht,$,$.target))}),this),W.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(U){var $=U.originalEvent?U.originalEvent:U;if("end"!==pt&&"cancel"!==pt&&!inMultiFingerRelease()){var B,H=$.touches,V=updateFingerData(H?H[0]:$);if(gt=getTimeStamp(),H&&(dt=H.length),W.hold&&clearTimeout(xt),pt="move",2==dt&&(0==rt?(createFingerData(1,H[1]),rt=at=calculateTouchesDistance(ft[0].start,ft[1].start)):(updateFingerData(H[1]),at=calculateTouchesDistance(ft[0].end,ft[1].end),ct=function calculatePinchDirection(){return ot<1?"out":"in"}(ft[0].end,ft[1].end)),ot=function calculatePinchZoom(I,N){return(N/I*1).toFixed(2)}(rt,at),lt=Math.abs(rt-at)),dt===W.fingers||"all"===W.fingers||!H||hasPinches()){if(it=calculateDirection(V.start,V.end),function validateDefaultEvent(I,U){if(!1!==W.preventDefaultEvents)if("none"===W.allowPageScroll)I.preventDefault();else{var $="auto"===W.allowPageScroll;switch(U){case N:(W.swipeLeft&&$||!$&&"horizontal"!=W.allowPageScroll)&&I.preventDefault();break;case"right":(W.swipeRight&&$||!$&&"horizontal"!=W.allowPageScroll)&&I.preventDefault();break;case R:(W.swipeUp&&$||!$&&"vertical"!=W.allowPageScroll)&&I.preventDefault();break;case"down":(W.swipeDown&&$||!$&&"vertical"!=W.allowPageScroll)&&I.preventDefault()}}}(U,nt=calculateDirection(V.last,V.end)),et=function calculateDistance(I,N){return Math.round(Math.sqrt(Math.pow(N.x-I.x,2)+Math.pow(N.y-I.y,2)))}(V.start,V.end),st=calculateDuration(),function setMaxDistance(I,N){"none"!=I&&(N=Math.max(N,getMaxDistance(I)),ut[I].distance=N)}(it,et),B=triggerHandler($,pt),!W.triggerOnTouchEnd||W.triggerOnTouchLeave){var z=!0;if(W.triggerOnTouchLeave){var X=function getbounds(N){var R=(N=I(N)).offset();return{left:R.left,right:R.left+N.outerWidth(),top:R.top,bottom:R.top+N.outerHeight()}}(this);z=function isInBounds(I,N){return I.x>N.left&&I.x<N.right&&I.y>N.top&&I.y<N.bottom}(V.end,X)}!W.triggerOnTouchEnd&&z?pt=getNextPhase("move"):W.triggerOnTouchLeave&&!z&&(pt=getNextPhase("end")),"cancel"!=pt&&"end"!=pt||triggerHandler($,pt)}}else triggerHandler($,pt="cancel");!1===B&&triggerHandler($,pt="cancel")}}function touchEnd(I){var N=I.originalEvent?I.originalEvent:I,R=N.touches;if(R){if(R.length&&!inMultiFingerRelease())return function startMultiFingerRelease(I){vt=getTimeStamp(),bt=I.touches.length+1}(N),!0;if(R.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(dt=bt),gt=getTimeStamp(),st=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?triggerHandler(N,pt="cancel"):W.triggerOnTouchEnd||!1===W.triggerOnTouchEnd&&"move"===pt?(!1!==W.preventDefaultEvents&&I.preventDefault(),triggerHandler(N,pt="end")):!W.triggerOnTouchEnd&&hasTap()?triggerHandlerForGesture(N,pt="end","tap"):"move"===pt&&triggerHandler(N,pt="cancel"),setTouchInProgress(!1),null}function touchCancel(){dt=0,gt=0,mt=0,rt=0,at=0,ot=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(I){var N=I.originalEvent?I.originalEvent:I;W.triggerOnTouchLeave&&triggerHandler(N,pt=getNextPhase("end"))}function removeListeners(){ht.unbind(X,touchStart),ht.unbind(tt,touchCancel),ht.unbind(Q,touchMove),ht.unbind(J,touchEnd),Z&&ht.unbind(Z,touchLeave),setTouchInProgress(!1)}function getNextPhase(I){var N=I,R=validateSwipeTime(),U=validateSwipeDistance(),$=didSwipeBackToCancel();return!R||$?N="cancel":!U||"move"!=I||W.triggerOnTouchEnd&&!W.triggerOnTouchLeave?!U&&"end"==I&&W.triggerOnTouchLeave&&(N="cancel"):N="end",N}function triggerHandler(I,N){var R,$=I.touches;return(function didSwipe(){return!(!validateSwipe()||!hasSwipes())}()||hasSwipes())&&(R=triggerHandlerForGesture(I,N,"swipe")),(function didPinch(){return!(!validatePinch()||!hasPinches())}()||hasPinches())&&!1!==R&&(R=triggerHandlerForGesture(I,N,"pinch")),function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}()&&!1!==R?R=triggerHandlerForGesture(I,N,"doubletap"):function didLongTap(){return!(!function validateLongTap(){return st>W.longTapThreshold&&et<10}()||!function hasLongTap(){return!!W.longTap}())}()&&!1!==R?R=triggerHandlerForGesture(I,N,"longtap"):function didTap(){return!(!function validateTap(){return(1===dt||!U)&&(isNaN(et)||et<W.threshold)}()||!hasTap())}()&&!1!==R&&(R=triggerHandlerForGesture(I,N,"tap")),"cancel"===N&&touchCancel(),"end"===N&&($&&$.length||touchCancel()),R}function triggerHandlerForGesture(U,$,B){var H;if("swipe"==B){if(ht.trigger("swipeStatus",[$,it||null,et||0,st||0,dt,ft,nt]),W.swipeStatus&&!1===(H=W.swipeStatus.call(ht,U,$,it||null,et||0,st||0,dt,ft,nt)))return!1;if("end"==$&&validateSwipe()){if(clearTimeout(yt),clearTimeout(xt),ht.trigger("swipe",[it,et,st,dt,ft,nt]),W.swipe&&!1===(H=W.swipe.call(ht,U,it,et,st,dt,ft,nt)))return!1;switch(it){case N:ht.trigger("swipeLeft",[it,et,st,dt,ft,nt]),W.swipeLeft&&(H=W.swipeLeft.call(ht,U,it,et,st,dt,ft,nt));break;case"right":ht.trigger("swipeRight",[it,et,st,dt,ft,nt]),W.swipeRight&&(H=W.swipeRight.call(ht,U,it,et,st,dt,ft,nt));break;case R:ht.trigger("swipeUp",[it,et,st,dt,ft,nt]),W.swipeUp&&(H=W.swipeUp.call(ht,U,it,et,st,dt,ft,nt));break;case"down":ht.trigger("swipeDown",[it,et,st,dt,ft,nt]),W.swipeDown&&(H=W.swipeDown.call(ht,U,it,et,st,dt,ft,nt))}}}if("pinch"==B){if(ht.trigger("pinchStatus",[$,ct||null,lt||0,st||0,dt,ot,ft]),W.pinchStatus&&!1===(H=W.pinchStatus.call(ht,U,$,ct||null,lt||0,st||0,dt,ot,ft)))return!1;if("end"==$&&validatePinch())switch(ct){case"in":ht.trigger("pinchIn",[ct||null,lt||0,st||0,dt,ot,ft]),W.pinchIn&&(H=W.pinchIn.call(ht,U,ct||null,lt||0,st||0,dt,ot,ft));break;case"out":ht.trigger("pinchOut",[ct||null,lt||0,st||0,dt,ot,ft]),W.pinchOut&&(H=W.pinchOut.call(ht,U,ct||null,lt||0,st||0,dt,ot,ft))}}return"tap"==B?"cancel"!==$&&"end"!==$||(clearTimeout(yt),clearTimeout(xt),hasDoubleTap()&&!function inDoubleTap(){return validateDoubleTap()}()?(_t=getTimeStamp(),yt=setTimeout(I.proxy((function(){_t=null,ht.trigger("tap",[U.target]),W.tap&&(H=W.tap.call(ht,U,U.target))}),this),W.doubleTapThreshold)):(_t=null,ht.trigger("tap",[U.target]),W.tap&&(H=W.tap.call(ht,U,U.target)))):"doubletap"==B?"cancel"!==$&&"end"!==$||(clearTimeout(yt),clearTimeout(xt),_t=null,ht.trigger("doubletap",[U.target]),W.doubleTap&&(H=W.doubleTap.call(ht,U,U.target))):"longtap"==B&&("cancel"!==$&&"end"!==$||(clearTimeout(yt),_t=null,ht.trigger("longtap",[U.target]),W.longTap&&(H=W.longTap.call(ht,U,U.target)))),H}function validateSwipeDistance(){var I=!0;return null!==W.threshold&&(I=et>=W.threshold),I}function didSwipeBackToCancel(){var I=!1;return null!==W.cancelThreshold&&null!==it&&(I=getMaxDistance(it)-et>=W.cancelThreshold),I}function validateSwipeTime(){return!(W.maxTimeThreshold&&st>=W.maxTimeThreshold)}function validatePinch(){var I=validateFingers(),N=validateEndPoint(),R=function validatePinchDistance(){return null===W.pinchThreshold||lt>=W.pinchThreshold}();return I&&N&&R}function hasPinches(){return!!(W.pinchStatus||W.pinchIn||W.pinchOut)}function validateSwipe(){var I=validateSwipeTime(),N=validateSwipeDistance(),R=validateFingers(),U=validateEndPoint();return!didSwipeBackToCancel()&&U&&R&&N&&I}function hasSwipes(){return!!(W.swipe||W.swipeStatus||W.swipeLeft||W.swipeRight||W.swipeUp||W.swipeDown)}function validateFingers(){return dt===W.fingers||"all"===W.fingers||!U}function validateEndPoint(){return 0!==ft[0].end.x}function hasTap(){return!!W.tap}function hasDoubleTap(){return!!W.doubleTap}function validateDoubleTap(){if(null==_t)return!1;var I=getTimeStamp();return hasDoubleTap()&&I-_t<=W.doubleTapThreshold}function cancelMultiFingerRelease(){vt=0,bt=0}function inMultiFingerRelease(){var I=!1;return vt&&getTimeStamp()-vt<=W.fingerReleaseThreshold&&(I=!0),I}function setTouchInProgress(I){ht&&(!0===I?(ht.bind(Q,touchMove),ht.bind(J,touchEnd),Z&&ht.bind(Z,touchLeave)):(ht.unbind(Q,touchMove,!1),ht.unbind(J,touchEnd,!1),Z&&ht.unbind(Z,touchLeave,!1)),ht.data("TouchSwipe_intouch",!0===I))}function createFingerData(I,N){var R={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return R.start.x=R.last.x=R.end.x=N.pageX||N.clientX,R.start.y=R.last.y=R.end.y=N.pageY||N.clientY,ft[I]=R,R}function updateFingerData(I){var N=void 0!==I.identifier?I.identifier:0,R=function getFingerData(I){return ft[I]||null}(N);return null===R&&(R=createFingerData(N,I)),R.last.x=R.end.x,R.last.y=R.end.y,R.end.x=I.pageX||I.clientX,R.end.y=I.pageY||I.clientY,R}function getMaxDistance(I){if(ut[I])return ut[I].distance}function createMaximumVO(I){return{direction:I,distance:0}}function calculateDuration(){return gt-mt}function calculateTouchesDistance(I,N){var R=Math.abs(I.x-N.x),U=Math.abs(I.y-N.y);return Math.round(Math.sqrt(R*R+U*U))}function calculateDirection(I,U){if(function comparePoints(I,N){return I.x==N.x&&I.y==N.y}(I,U))return"none";var $=function calculateAngle(I,N){var R=I.x-N.x,U=N.y-I.y,$=Math.atan2(U,R),B=Math.round(180*$/Math.PI);return B<0&&(B=360-Math.abs(B)),B}(I,U);return $<=45&&$>=0||$<=360&&$>=315?N:$>=135&&$<=225?"right":$>45&&$<135?"down":R}function getTimeStamp(){return(new Date).getTime()}this.enable=function(){return this.disable(),ht.bind(X,touchStart),ht.bind(tt,touchCancel),ht},this.disable=function(){return removeListeners(),ht},this.destroy=function(){removeListeners(),ht.data("TouchSwipe",null),ht=null},this.option=function(N,R){if("object"===$(N))W=I.extend(W,N);else if(void 0!==W[N]){if(void 0===R)return W[N];W[N]=R}else{if(!N)return W;I.error("Option "+N+" does not exist on jQuery.swipe.options")}return null}}I.fn.swipe=function(N){var R=I(this),U=R.data("TouchSwipe");if(U&&"string"==typeof N){if(U[N])return U[N].apply(U,Array.prototype.slice.call(arguments,1));I.error("Method "+N+" does not exist on jQuery.swipe")}else if(U&&"object"===$(N))U.option.apply(U,arguments);else if(!(U||"object"!==$(N)&&N))return init.apply(this,arguments);return R},I.fn.swipe.version="1.6.18",I.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},I.fn.swipe.phases={PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel"},I.fn.swipe.directions={LEFT:N,RIGHT:"right",UP:R,DOWN:"down",IN:"in",OUT:"out"},I.fn.swipe.pageScroll={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",AUTO:"auto"},I.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:"all"}},I.exports?U(R(0)):U(jQuery)},function(I,N){/*!
* Lazy Load - jQuery plugin for lazy loading images
*
* Copyright (c) 2007-2015 Mika Tuupola
*
* Licensed under the MIT license:
* http://www.opensource.org/licenses/mit-license.php
*
* Project home:
* http://www.appelsiini.net/projects/lazyload
*
* Version: 1.9.7
*
*/!function(I,N,R,U){var $=I(N);I.fn.lazyload=function(U){var B,H=this,V={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:N,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function update(){var N=0;H.each((function(){var R=I(this);if(!V.skip_invisible||R.is(":visible"))if(I.abovethetop(this,V)||I.leftofbegin(this,V));else if(I.belowthefold(this,V)||I.rightoffold(this,V)){if(++N>V.failure_limit)return!1}else R.trigger("appear"),N=0}))}return U&&(void 0!==U.failurelimit&&(U.failure_limit=U.failurelimit,delete U.failurelimit),void 0!==U.effectspeed&&(U.effect_speed=U.effectspeed,delete U.effectspeed),I.extend(V,U)),B=void 0===V.container||V.container===N?$:I(V.container),0===V.event.indexOf("scroll")&&B.bind(V.event,(function(){return update()})),this.each((function(){var N=this,R=I(N);N.loaded=!1,void 0!==R.attr("src")&&!1!==R.attr("src")||R.is("img")&&R.attr("src",V.placeholder),R.one("appear",(function(){if(!this.loaded){if(V.appear){var U=H.length;V.appear.call(N,U,V)}I("<img />").bind("load",(function(){var U=R.attr("data-"+V.data_attribute);R.hide(),R.is("img")?R.attr("src",U):R.css("background-image","url('"+U+"')"),R[V.effect](V.effect_speed),N.loaded=!0;var $=I.grep(H,(function(I){return!I.loaded}));if(H=I($),V.load){var B=H.length;V.load.call(N,B,V)}})).attr("src",R.attr("data-"+V.data_attribute))}})),0!==V.event.indexOf("scroll")&&R.bind(V.event,(function(){N.loaded||R.trigger("appear")}))})),$.bind("resize",(function(){update()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&$.bind("pageshow",(function(N){N.originalEvent&&N.originalEvent.persisted&&H.each((function(){I(this).trigger("appear")}))})),I(R).ready((function(){update()})),this},I.belowthefold=function(R,U){return(void 0===U.container||U.container===N?(N.innerHeight?N.innerHeight:$.height())+$.scrollTop():I(U.container).offset().top+I(U.container).height())<=I(R).offset().top-U.threshold},I.rightoffold=function(R,U){return(void 0===U.container||U.container===N?$.width()+$.scrollLeft():I(U.container).offset().left+I(U.container).width())<=I(R).offset().left-U.threshold},I.abovethetop=function(R,U){return(void 0===U.container||U.container===N?$.scrollTop():I(U.container).offset().top)>=I(R).offset().top+U.threshold+I(R).height()},I.leftofbegin=function(R,U){return(void 0===U.container||U.container===N?$.scrollLeft():I(U.container).offset().left)>=I(R).offset().left+U.threshold+I(R).width()},I.inviewport=function(N,R){return!(I.rightoffold(N,R)||I.leftofbegin(N,R)||I.belowthefold(N,R)||I.abovethetop(N,R))},I.extend(I.expr[":"],{"below-the-fold":function belowTheFold(N){return I.belowthefold(N,{threshold:0})},"above-the-top":function aboveTheTop(N){return!I.belowthefold(N,{threshold:0})},"right-of-screen":function rightOfScreen(N){return I.rightoffold(N,{threshold:0})},"left-of-screen":function leftOfScreen(N){return!I.rightoffold(N,{threshold:0})},"in-viewport":function inViewport(N){return I.inviewport(N,{threshold:0})},"above-the-fold":function aboveTheFold(N){return!I.belowthefold(N,{threshold:0})},"right-of-fold":function rightOfFold(N){return I.rightoffold(N,{threshold:0})},"left-of-fold":function leftOfFold(N){return!I.rightoffold(N,{threshold:0})}})}(jQuery,window,document)},function(I,N,R){var U=Array.prototype.slice.call(document.querySelectorAll("link")).map((function(I){return I.href})).filter((function(I){return I.indexOf("releasedAssets")>0}))[0],$=U&&"".concat(U.split("releasedAssets")[0],"releasedAssets/");R.p=$},,,,,,,,,,function(I,N,R){"use strict";R.r(N);var U=R(1),B=R.n(U),H=R(14),V=R.n(H),W=(R(47),R(0)),z=R.n(W),X=(R(51),R(37),R(52),R(12)),Q=R(3),J=R.n(Q),Z=R(4),tt=R.n(Z),et=R(5),it=R.n(et),nt=R(7),st=R.n(nt),rt=R(2),at=R.n(rt),ot=R(6),lt=R.n(ot),ct=R(8),ut=(R(39),R(31));function _createForOfIteratorHelper(I,N){var R="undefined"!=typeof Symbol&&I[Symbol.iterator]||I["@@iterator"];if(!R){if(Array.isArray(I)||(R=function _unsupportedIterableToArray(I,N){if(!I)return;if("string"==typeof I)return _arrayLikeToArray(I,N);var R=Object.prototype.toString.call(I).slice(8,-1);"Object"===R&&I.constructor&&(R=I.constructor.name);if("Map"===R||"Set"===R)return Array.from(I);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return _arrayLikeToArray(I,N)}(I))||N&&I&&"number"==typeof I.length){R&&(I=R);var U=0,$=function F(){};return{s:$,n:function n(){return U>=I.length?{done:!0}:{done:!1,value:I[U++]}},e:function e(I){throw I},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,H=!0,V=!1;return{s:function s(){R=R.call(I)},n:function n(){var I=R.next();return H=I.done,I},e:function e(I){V=!0,B=I},f:function f(){try{H||null==R.return||R.return()}finally{if(V)throw B}}}}function _arrayLikeToArray(I,N){(null==N||N>I.length)&&(N=I.length);for(var R=0,U=new Array(N);R<N;R++)U[R]=I[R];return U}function _callSuper(I,N,R){return N=at()(N),it()(I,function _isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var ht=function(I){function SearchUtil(I){var N;return J()(this,SearchUtil),(N=_callSuper(this,SearchUtil)).searchPage=null,N._facetLinks=null,N.ALERT_HIDE_INTERVAL=4e3,N.initialize(),N.wSLide=null,N.wSLideIsActive=!1,N}return lt()(SearchUtil,I),tt()(SearchUtil,[{key:"selectors",get:function get(){return{SEARCH_PAGE:".search-page, .browse-publications",SEARCH_TRIGGERS:".facet__list a:not(.dropdown__toggle), .search__filters__ctrl__reset, .applied-facets__remove, .search-result__sort select, .journals-categories__disciplines a, .journals-categories__subjects a, .alphanumeric__content a",SEARCH_RESULT_BODY:".search-result__body",SEARCH_RESULTS_NO_RESULTS:".search-result__no-result",SEARCH_RESULT_RESULTS:".search-result__results",SEARCH_RESULT_PAGER:".pagination__nav",SEARCH_FACETS_WRAPPER:"#filter",SEARCH_SORT_WRAPPER:".search-result__sort",LOADER_WRAPPER:".loader-wrapper",W_SLIDE:".w-slide.js--open",W_SLIDE_BACK:".w-slide__back",W_SLIDE_BTN:".w-slide__btn",W_SLIDE_BTN_ACTIVE:".w-slide__btn.slide-active",W_SLIDE_CLONED_DATA:"[data-slide-clone]",SAVE_SEARCH_FORM:'[name="frmSaveSearch"]',SAVE_SEARCH_MODAL:"#saveSearchDialog"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",ALERT:["alert","alert--floating"],ALERT_SUCCESFUL:"alert--success"}}},{key:"facetLinks",get:function get(){return document.querySelectorAll(this._selectors.SEARCH_TRIGGERS)}},{key:"initialize",value:function initialize(){st()(at()(SearchUtil.prototype),"initialize",this).call(this),this.searchPage=document.querySelector(this._selectors.SEARCH_PAGE),this.searchSort=document.querySelector(this._selectors.SEARCH_SORT_WRAPPER),(this.searchPage||this.searchSort)&&(this.initFacetLinks(),document.body.addEventListener("dateRange.change",this.onDateRangeChange.bind(this)))}},{key:"initFacetLinks",value:function initFacetLinks(){var I=this;this._facetLinks=this.facetLinks,this._facetLinks.forEach((function(N){"SELECT"===N.tagName?N.addEventListener("change",I.facetOptionChangeHandler.bind(I)):N.addEventListener("click",I.facetLinkClickHandler.bind(I))}),this)}},{key:"onDateRangeChange",value:function onDateRangeChange(I){var N=this.getDifferentParams(window.location.href,I.detail.url);this.showLoader(),this.ajaxCall(N)}},{key:"getDifferentParams",value:function getDifferentParams(I,N){function getParams(I){var N={},R=new URL(I);return new URLSearchParams(R.search).forEach((function(I,R){R.includes("publication")||(N[R]=I)})),N}var R=getParams(I),U=getParams(N),$=null==I?void 0:I.match(/(?:^|&)publication%5B%5D=.*?(?=&|$)/g);for(var B in U)R[B]=U[B];var H=new URLSearchParams(R),V="".concat(new URL(I).origin).concat(new URL(I).pathname,"?").concat(H.toString());if(null!=$&&$.length){var W,z=_createForOfIteratorHelper($);try{for(z.s();!(W=z.n()).done;){V+=W.value}}catch(I){z.e(I)}finally{z.f()}}return V}},{key:"ajaxCall",value:function ajaxCall(I,N){var R=this;$.ajax({url:I,dataType:"html",success:function success(N){var U=(new DOMParser).parseFromString(N,"text/html");R.updataViews(U),R.updateBrowserUrl(I),R.reinitWidgets(),R.hideLoader(),UX.articleActionsbar&&document.querySelector(".article-actionbar")&&UX.articleActionsbar.controls()},error:function error(){R.hideLoader(),console.log("Failed to load AJAX search for URL: "+I),R.alert(!1,"Error while retrieving results.")}}).done((function(){R.imageLazyLoad(),new ut.a;var I=document.querySelectorAll(".alphanumeric__title");if(I.length){var U,$="",B=_createForOfIteratorHelper(I=Array.from(I));try{for(B.s();!(U=B.n()).done;){var H=U.value;if(H.textContent===N){$=H;break}}}catch(I){B.e(I)}finally{B.f()}var V=document.querySelector(".alphanumeric__title.is--selected");"ALL"!==$.textContent?"ALL"!==V.textContent?V.focus():$.focus():V.focus()}}))}},{key:"imageLazyLoad",value:function imageLazyLoad(){var I=document.querySelectorAll(".search-result__publications .search__item a img");null==I||I.forEach((function(I){I.getAttribute("data-src")&&I.setAttribute("src",I.getAttribute("data-src"))}))}},{key:"updateBrowserUrl",value:function updateBrowserUrl(I){history.pushState({page:I},"Search Results",I)}},{key:"updataViews",value:function updataViews(I){var N,R=this,U=[this._selectors.SEARCH_RESULT_BODY,this._selectors.SEARCH_RESULT_RESULTS,this._selectors.SEARCH_RESULT_PAGER,this._selectors.SEARCH_FACETS_WRAPPER,this._selectors.SEARCH_SORT_WRAPPER,this._selectors.SAVE_SEARCH_MODAL];(this.wSlide=null,this.wSLideIsActive=!1,this.wSlide=document.querySelector(this._selectors.W_SLIDE),this.wSlide)&&(this.wSLideIsActive=!0,null===(N=document.querySelector(this._selectors.W_SLIDE_BACK))||void 0===N||N.click());this.alert(!1,"Results have been updated."),U.forEach((function(N,U){var $,B=I.querySelector(N),H=document.querySelector(N);if(0!==U||B?0!==U||H||(H=document.querySelector(R._selectors.SEARCH_RESULTS_NO_RESULTS)):B=I.querySelector(R._selectors.SEARCH_RESULTS_NO_RESULTS),3===U&&!B){for(var V,W=null===(V=H)||void 0===V?void 0:V.childNodes[1];(null==W?void 0:W.childNodes.length)>2;)null==W||W.removeChild(W.lastChild);R.wSLideIsActive=!1}B&&H&&(null===($=H)||void 0===$||$.parentNode.replaceChild(B,H))}),this)}},{key:"reinitWidgets",value:function reinitWidgets(){var I,N;null===(I=UX.issueItem)||void 0===I||I.truncate(),null===(N=UX.toggle)||void 0===N||N.on.build(),this.initFacetLinks();var R,U=$(this._selectors.W_SLIDE_BTN_ACTIVE);this.wSLideIsActive?U[0].click():null===(R=UX.facetDate)||void 0===R||R.init()}},{key:"facetLinkClickHandler",value:function facetLinkClickHandler(I){I.preventDefault();var N=I.target.closest(this._selectors.SEARCH_TRIGGERS).getAttribute("href");if(N){var R;this.showLoader();var U=null===(R=document.querySelector(".alphanumeric__title.is--selected"))||void 0===R?void 0:R.textContent;this.ajaxCall(N,U)}}},{key:"facetOptionChangeHandler",value:function facetOptionChangeHandler(I){var N=I.target.options[I.target.selectedIndex].getAttribute("value");if(N)if(this.searchPage){var R;this.showLoader();var U=null===(R=document.querySelector(".alphanumeric__title.is--selected"))||void 0===R?void 0:R.textContent;this.ajaxCall(N,U)}else window.location.href=N}},{key:"showLoader",value:function showLoader(){var I;null===(I=this.searchPage)||void 0===I||I.insertAdjacentHTML("beforeend",'<div class="loader-wrapper"><div class="loader"></div></div>')}},{key:"hideLoader",value:function hideLoader(){var I;null===(I=this.searchPage)||void 0===I||I.querySelector(this._selectors.LOADER_WRAPPER).remove()}},{key:"alert",value:function alert(I,N){var alert=document.createElement("div");this._classList.ALERT.forEach((function(I){alert.classList.add(I)})),alert.setAttribute("role","alert"),alert.setAttribute("aria-live","assertive"),alert.append(N),I&&alert.classList.add(this._classList.ALERT_SUCCESFUL),document.querySelector("body").appendChild(alert),window.setTimeout((function(){return alert.remove()}),this.ALERT_HIDE_INTERVAL)}}]),SearchUtil}(ct.a),pt=(R(56),R(26),R(57),R(58),R(59),R(62),R(63),R(64),R(65),R(66),R(67),R(9));!function(I){var N;function seeMoreLink(){var N,R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i>';return this.settings.seeMoreHtml?R=this.settings.seeMoreHtml:this.settings.isMobile&&(R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIconMobile+' "></i>'),N=this.settings.isMobile&&this.isSliding?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active" data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+R+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function ellipsis(N){var R="<"+(N?'a href="#"':"span")+' class="ellipsis"> '+this.settings.ellipsisChar+" </"+(N?"a":"span")+">";return"UL"===this.parentTagName&&(R="<li>"+R+"</li>"),I(R)}function removeElements(N){var R,U,$,B=this,H=I(this),V=H.height(),W=this.settings.lines*Math.ceil(parseFloat(H.css("line-height")));if($=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this),N.get(0).nodeType===Node.ELEMENT_NODE){for(;V>W&&N.contents().length;)R=N.contents().last().remove(),V=H.height();if(V<=W&&R)""!==I.trim(R.text())?(N.append(R),(V=H.height())>W&&removeElements.call(this,R)):(H.append($),this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H));else if(""===I.trim(N.text()))if(U=N.parent(),N.remove(),V=H.height(),""===I.trim(U.text()))removeElements.call(this,U);else if(V<=W){if(H.children().length){var z=H.children().last();z.is("br")?z.after($):z.parent().append($)}else H.append($);this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H)}}else{var X=N.text(),Q=0,J=X.length-1,Z=Math.floor((Q+J)/2);for(U=N.parent();Q<J;){if(V>W?J=Z+parseInt((J-Z)*W/V,10):Q=Z+1,$.remove(),Z=Math.floor((Q+J)/2),N.get(0).textContent=X.substr(0,this.settings.midWordEnabled?Z:Math.min(Z,X.lastIndexOf(" ",Z))),""===I.trim(U.text()))return void removeElements.call(this,U);N.parent().append($),V=H.height()}for(;V>W&&Z>0;){if($.remove(),Z-=1,N.get(0).textContent=X.substr(0,this.settings.midWordEnabled?Z:Math.min(Z,X.lastIndexOf(" ",Z))),""===I.trim(U.text()))return void removeElements.call(this,U);N.parent().append($),V=H.height()}0===Z&&($.remove(),""===I.trim(U.text())&&removeElements.call(this,U)),V<=W&&(this.settings.addClass&&!H.hasClass(this.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H))}}function truncateText(){var N=this,R=I(this),U=R.height(),$=this.settings.lines*parseFloat(R.css("line-height"));R.closest(":not(:visible)").length||0!==U?U>$?removeElements.call(this,R):(setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete(R)):setTimeout((function(){truncateText.call(N)}),30)}function seeMoreMiddleLink(){var N,R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ";return this.settings.seeMoreHtml?R=this.settings.seeMoreHtml:this.settings.isMobile&&(R=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="'+this.settings.seeMoreIconMobile+'"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "),N=this.settings.isMobile?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active " data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+R+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function removeListItemsMiddle(){var N,R,U,$,B=this,H=I(this),V=Math.ceil(Math.max(H.children().height(),parseFloat(H.css("line-height")))),W=this.settings.lines*V,z=0,X=!H.closest(":not(:visible)").length;R=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0);!function removeItems(){if(N=H.height(),X)if(N>W){for(;N>W&&H.contents().length>2;){R.remove(),U&&H.find(U).length&&U.remove();var V=Math.floor(H.contents().length/2);($=I(H.contents().get(V)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),V-=1,(N=H.height())>W&&H.contents().length>2&&(($=I(H.contents().get(V)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),V-=1),B.settings.showRemovedCount&&z>0?(U=I.fn.truncate.removedCountMarkup(z)).insertAfter(I(H.contents().get(V))):R.insertAfter(I(H.contents().get(V))),N=H.height()}setTimeout(removeItems,500)}else B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H)}()}function removeListItemsEnd(){var N,R,U,$,B=this,H=I(this),V=Math.ceil(Math.max(H.children().height(),parseFloat(H.css("line-height")))),W=this.settings.lines*V,z=0,X=!H.closest(":not(:visible)").length;R=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this);!function removeItems(){if(N=H.height(),X)if(N>W){for(;N>W&&H.contents().length>1;)U&&H.find(U).length&&U.remove(),H.find(R).length?$=I(H.contents().get(H.contents().length-2)).remove():($=H.contents().last().remove(),B.settings.showRemovedCount||H.append(R)),$&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==B.settings.ignoreCountList&&$.is(B.settings.ignoreCountList)||(z+=1)),B.settings.showRemovedCount&&z>0&&(U=I.fn.truncate.removedCountMarkup(z),H.append(U)),N=H.height();setTimeout(removeItems,500)}else B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H)}()}function removeListItemsBetweenFirstAndLast(){var N,R,U,$,B=this,H=I(this),V=H.children(),W=V.length-2;V.length>2&&(U=V.eq(0).clone(),$=V.eq(V.length-1).clone(),N=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0),B.settings.showRemovedCount&&(R=I.fn.truncate.removedCountMarkup(W)),H.html(""),H.append(U),B.settings.showRemovedCount&&W>0?H.append(R):H.append(N),H.append($)),B.settings.addClass&&!H.hasClass(B.settings.addClass)&&setTimeout((function(){H.addClass(B.settings.addClass)}),0),H.data("truncationDone",!0),B.settings.onComplete(H)}function removeListItemsBeforeLast(){var N,R,U=this,$=I(this),B=$.height(),H=Math.ceil(Math.max($.children().height(),parseFloat($.css("line-height")))),V=this.settings.lines*H,W=seeMoreMiddleLink.call(this),z=0,X=!$.closest(":not(:visible)").length;!function removeItems(){if(B=$.height(),X)if(B>V){for(var H=I("<div></div>");$.children().length>1&&H.children().length<U.settings.lastItemsCount||$.contents().last().get(0).nodeType===Node.TEXT_NODE;)H.prepend($.contents().last().remove());for(var Q=H.contents();B>V&&$.children().length>2;)N&&$.find(N).length&&N.remove(),W.remove(),Q.remove(),(R=$.contents().last().remove())&&R.get(0).nodeType===Node.ELEMENT_NODE&&(null!==U.settings.ignoreCountList&&R.is(U.settings.ignoreCountList)||(z+=1)),U.settings.showRemovedCount&&z>0?(N=I.fn.truncate.removedCountMarkup(z),$.append(N)):$.append(W),$.append(Q),B=$.height();setTimeout(removeItems,500)}else U.settings.addClass&&!$.hasClass(U.settings.addClass)&&setTimeout((function(){$.addClass(U.settings.addClass)}),0),$.data("truncationDone",!0),U.settings.onComplete($)}()}function truncateList(){var N=this,R=I(this),U=R.height(),$=Math.ceil(Math.max(R.children().height(),parseFloat(R.css("line-height")))),B=this.settings.lines*$,H=!R.closest(":not(:visible)").length;if(0===R.children().length)return R.addClass(N.settings.addClass),R.data("truncationDone",!0),void N.settings.onComplete(R);if(!H||0!==U&&0!==B)switch(this.settings.position){case"middle":U>B?removeListItemsMiddle.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete(R));break;case"end":U>B?removeListItemsEnd.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete(R));break;case"betweenFirstAndLast":removeListItemsBetweenFirstAndLast.call(this,R);break;case"beforeLast":U>B?removeListItemsBeforeLast.call(this,R):(this.settings.addClass&&!R.hasClass(this.settings.addClass)&&setTimeout((function(){R.addClass(N.settings.addClass)}),0),R.data("truncationDone",!0),N.settings.onComplete(R))}else setTimeout((function(){truncateList.call(N)}),30)}function seeLessLink(){var N,R=(this.settings.lessLinkEllipsis?' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ":" ")+this.settings.seeLessText+' <i class="'+this.settings.seeLessIcon+'"></i>';return this.settings.seeLessHtml&&(R=this.settings.seeLessHtml),N='<a href="javascript:void(0)" class="read-less" aria-expanded="true">'+R+"</a>","UL"===this.parentTagName&&(N="<li>"+N+"</li>"),I(N)}function addEventHandlers(){var N,R,U=this,$=I(this),B=U.settings.readMoreWithSpacebar?[pt.b.ENTER,pt.b.SPACE]:[pt.b.ENTER],H=!0;U.settings.animation&&(R=!0),$.on("touchend click keydown",(function(V){function readMore(){V.preventDefault();var I=$.children().length;$.data("truncatedContent",$.html()),$.html($.data("originalContent"));var R=seeLessLink.call(U);if($.append(R),U.settings.animation){$.css("height","auto");var B=$.outerHeight(!0);$.height(N).animate({height:B},300),setTimeout((function(){$.css("height","auto")}),350)}"keydown"===V.type&&("UL"===$[0].parentTagName?$.children().eq(I-1).find("a").length?$.children().eq(I-1).find("a").trigger("focus"):$.children().find("a").trigger("focus"):R.focus())}if(!("keydown"===V.type&&B.indexOf(V.keyCode)<0)&&(U.settings.readMoreWithSpacebar&&(H=9!==V.keyCode),U.settings.animation&&R&&(N=$.outerHeight(!0),R=!1),$.data("truncationDone")&&H)){var W=I(V.target);W.hasClass("ellipsis")&&W.is("a")&&readMore(),(W.hasClass("read-more")&&!W.hasClass("w-slide__btn")||W.parent().hasClass("read-more")&&!W.parent().hasClass("w-slide__btn")||W.hasClass("removed-items-count"))&&readMore(),(W.hasClass("read-less")||W.parent().hasClass("read-less"))&&function readLess(){9!==V.keyCode&&(V.preventDefault(),U.settings.animation?($.animate({height:N},300),setTimeout((function(){$.html($.data("truncatedContent"))}),250)):$.html($.data("truncatedContent")),$.find(".read-more").focus())}()}})),I(document).data("activeTabHandlerAdded")||(I(document).data("activeTabHandlerAdded","yes"),I(document).on("tabs:changeActiveTab",(function(N,R){setTimeout((function(){I(".truncate-delayed",R.tabId).truncate()}),10)})))}function restoreContent(){var N=I(this);N.data("originalContent")&&(N.html(N.data("originalContent")),this.settings&&this.settings.addClass&&N.removeClass(this.settings.addClass))}function truncateStart(){var N=I(this);this.settings.showRemovedCount&&N.truncate("destroy"),this.settings.isMobile&&"desktop"===this.settings.targetViewport||!this.settings.isMobile&&"mobile"===this.settings.targetViewport?restoreContent.call(this):!N.closest(".tab__pane").length||N.closest(".tab__pane").hasClass("active")?(N.removeClass("truncate-delayed"),this.settings&&"text"===this.settings.type?truncateText.call(this):this.settings&&"list"===this.settings.type&&(this.parentTagName=N.get(0).tagName,truncateList.call(this))):N.addClass("truncate-delayed")}function addResponsiveHandlers(){var N=this;function targetViewportOn(){N.settings.isMobile=!0,truncateStart.call(N)}function targetViewportOff(){N.settings.isMobile=!1,truncateStart.call(N)}this.prevVPort&&(I(document).off(this.prevVPort+"-on",targetViewportOn),I(document).off(this.prevVPort+"-off",targetViewportOff)),I(document).on(this.settings.vPort+"-on",targetViewportOn),I(document).on(this.settings.vPort+"-off",targetViewportOff),this.prevVPort=this.settings.vPort}N={init:function init(N){return this.each((function(){var R=I(this),U=!0;R.data("originalContent")?(R.data("settings")&&(this.settings=R.data("settings")),restoreContent.call(this),U=!1):R.data("originalContent",R.html());var $={};R.data("truncate-lines")&&($.lines=parseInt(R.data("truncate-lines"),10)),R.data("truncate-type")&&($.type=R.data("truncate-type")),R.data("truncate-position")&&($.position=R.data("truncate-position")),void 0!==R.data("truncate-show-removed-count")&&($.showRemovedCount=R.data("truncate-show-removed-count")),void 0!==R.data("truncate-see-more-link")&&($.seeMoreLink=R.data("truncate-see-more-link")),R.data("truncate-see-more-text")&&($.seeMoreText=R.data("truncate-see-more-text")),R.data("truncate-see-less-text")&&($.seeLessText=R.data("truncate-see-less-text")),R.data("truncate-see-more-html")&&($.seeMoreHtml=R.data("truncate-see-more-html")),R.data("truncate-see-less-html")&&($.seeLessHtml=R.data("truncate-see-less-html")),R.data("truncate-ellipsis-char")&&($.ellipsisChar=R.data("truncate-ellipsis-char")),R.data("truncate-last-items-count")&&($.lastItemsCount=parseInt(R.data("truncate-last-items-count"),10)),R.data("truncate-mobile-target")&&($.mobileTarget=R.data("truncate-mobile-target")),R.data("truncate-add-class")&&($.addClass=R.data("truncate-add-class")),R.data("truncate-vport")&&($.vPort=R.data("truncate-vport")),R.data("truncate-target-viewport")&&($.targetViewport=R.data("truncate-target-viewport")),void 0!==R.data("truncate-mid-word-enabled")&&($.midWordEnabled=R.data("truncate-mid-word-enabled")),void 0!==R.data("truncate-less-link-ellipsis")&&($.lessLinkEllipsis=R.data("truncate-less-link-ellipsis")),this.settings=I.extend({},this.settings||I.fn.truncate.defaults,$,N||{}),R.data("settings",this.settings),R.data("truncationDone",!1),truncateStart.call(this),U&&addEventHandlers.call(this),addResponsiveHandlers.call(this)}))},destroy:function destroy(){return this.each((function(){restoreContent.call(this)}))}},I.fn.truncate=function(R){return N[R]?N[R].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==B()(R)&&R?void I.error("Method "+R+" does not exist on jQuery.truncate"):N.init.apply(this,arguments)},I.fn.truncate.removedCountMarkup=function(N){return I('<a href="javascript:void(0)" class="removed-items-count"> + '+N+" </a>")},I.fn.truncate.defaults={type:"text",position:"end",showRemovedCount:!1,lines:1,seeMoreLink:!1,seeMoreText:"See More",seeLessText:"See Less",seeMoreIcon:"icon-section_arrow_d",seeLessIcon:"icon-section_arrow_u",seeMoreIconMobile:"icon-arrow_r",seeMoreHtml:"",seeLessHtml:"",ellipsisChar:"&hellip;",lessLinkEllipsis:!1,lastItemsCount:1,isMobile:!1,isSliding:!0,mobileTarget:"",targetViewport:"all",addClass:"",vPort:"screen-sm",midWordEnabled:!1,animation:!1,ignoreCountList:null,readMoreWithSpacebar:!1,onComplete:function onComplete(){}}}(jQuery);R(68),R(69),R(70),R(71),R(72);function chinaRegionUtils_callSuper(I,N,R){return N=at()(N),it()(I,function chinaRegionUtils_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var dt=function(I){function ChinaRegionUtils(){var I;return J()(this,ChinaRegionUtils),(I=chinaRegionUtils_callSuper(this,ChinaRegionUtils)).initialize(),I}return lt()(ChinaRegionUtils,I),tt()(ChinaRegionUtils,[{key:"selectors",get:function get(){return{GET_ACCESS_CHINA_LABEL:'[name="getAccessChinaLabel"]',GET_ACCESS_BUTTON:".js--get-access-button span"}}},{key:"classList",get:function get(){return{}}},{key:"initialize",value:function initialize(I){st()(at()(ChinaRegionUtils.prototype),"initialize",this).call(this),this.getAccessChinaLabel=document.querySelector(this._selectors.GET_ACCESS_CHINA_LABEL),this.getAccessChinaLabel&&this.setChineseLabel()}},{key:"setChineseLabel",value:function setChineseLabel(){var I=this.getAccessChinaLabel.value,N=this.getAccessButtons();N.length>0&&N.forEach((function(N){N.innerText=I}))}},{key:"getAccessButtons",value:function getAccessButtons(){return document.querySelectorAll(this._selectors.GET_ACCESS_BUTTON)}}]),ChinaRegionUtils}(ct.a),ft=R(13),mt=R.n(ft),gt=R(24),vt=R.n(gt);function createSelectableDropdown_createForOfIteratorHelper(I,N){var R="undefined"!=typeof Symbol&&I[Symbol.iterator]||I["@@iterator"];if(!R){if(Array.isArray(I)||(R=function createSelectableDropdown_unsupportedIterableToArray(I,N){if(!I)return;if("string"==typeof I)return createSelectableDropdown_arrayLikeToArray(I,N);var R=Object.prototype.toString.call(I).slice(8,-1);"Object"===R&&I.constructor&&(R=I.constructor.name);if("Map"===R||"Set"===R)return Array.from(I);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return createSelectableDropdown_arrayLikeToArray(I,N)}(I))||N&&I&&"number"==typeof I.length){R&&(I=R);var U=0,$=function F(){};return{s:$,n:function n(){return U>=I.length?{done:!0}:{done:!1,value:I[U++]}},e:function e(I){throw I},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,H=!0,V=!1;return{s:function s(){R=R.call(I)},n:function n(){var I=R.next();return H=I.done,I},e:function e(I){V=!0,B=I},f:function f(){try{H||null==R.return||R.return()}finally{if(V)throw B}}}}function createSelectableDropdown_arrayLikeToArray(I,N){(null==N||N>I.length)&&(N=I.length);for(var R=0,U=new Array(N);R<N;R++)U[R]=I[R];return U}function createSelectableDropdown_callSuper(I,N,R){return N=at()(N),it()(I,function createSelectableDropdown_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var bt,_t=function(I){function CreateSelectableDropdown(){var I;return J()(this,CreateSelectableDropdown),(I=createSelectableDropdown_callSuper(this,CreateSelectableDropdown)).attributesList=void 0,I.selectedOption=void 0,I.parentEl=void 0,I.dropdownClasses=void 0,I.selects=document.querySelectorAll(I._selectors.SELECT),I.selects&&I.selects.forEach((function(I){this.initialize(I)}),vt()(I)),I}return lt()(CreateSelectableDropdown,I),tt()(CreateSelectableDropdown,[{key:"selectors",get:function get(){return{SELECT:".js--selectable"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DROPDOWN:"dropdown",DROPDOWN_SELECTABLE:"dropdown-selectable",DROPDOWN_SELECTABLE_CONTROL:"dropdown-selectable--form-control",BTN:"btn",DROPDOWN_MENU:"dropdown-menu",DROPDOWN_ITEM:"dropdown-item",DROPDOWN_TOGGLE:"dropdown-toggle",CARET:"icon-arrow_down",ACTIVE:"active",REQUIRED:"required"}}},{key:"initialize",value:function initialize(I){var N,R,U,$;st()(at()(CreateSelectableDropdown.prototype),"initialize",this).call(this),this.parentEl=I.parentElement,this.selectedOption=I.options[I.selectedIndex],this.attributesList=["name","id","required","disabled","aria-describedby"];var B,H=createSelectableDropdown_createForOfIteratorHelper(this.attributesList);try{for(H.s();!(B=H.n()).done;){var V=B.value;I[V]=I.getAttribute(V)}}catch(I){H.e(I)}finally{H.f()}I["aria-describedby"]=I["aria-describedby"]||(null===(N=this.parentEl.querySelector("label"))||void 0===N?void 0:N.getAttribute("id"));var W="dropdown"+Number.parseInt(1e3*Math.random()),z=document.createElement("div");this.dropdownClasses=[this._classList.DROPDOWN,this._classList.DROPDOWN_SELECTABLE,this._classList.DROPDOWN_SELECTABLE_CONTROL],I.required&&this.dropdownClasses.push(this._classList.REQUIRED),(R=z.classList).add.apply(R,mt()(this.dropdownClasses));var X=document.createElement("input");X.setAttribute("type",I.required?"text":"hidden"),X.setAttribute("id",I.id),X.setAttribute("name",I.name),X.setAttribute("value",this.selectedOption.value),X.setAttribute("tabindex","-1"),I.required&&(X.setAttribute("required","true"),X.setAttribute("aria-required","true")),I.disabled&&(X.setAttribute("disabled",I.disabled),X.setAttribute("aria-disabled",I.disabled));var Q=I.dataset;Object.keys(Q).forEach((function(I){X.dataset[I]=Q[I]}));var J=document.createElement("button"),Z=[this._classList.BTN,this._classList.DROPDOWN_TOGGLE];(U=J.classList).add.apply(U,Z),J.setAttribute("id",W),J.setAttribute("type","button"),J.setAttribute("aria-expanded","false"),J.setAttribute("aria-haspopup","listbox"),I["aria-describedby"]&&J.setAttribute("aria-labelledby",I["aria-describedby"]),I.required&&J.setAttribute("aria-required","true"),I.disabled&&(J.setAttribute("disabled",I.disabled),J.setAttribute("aria-disabled",I.disabled)),J.dataset.toggle="dropdown";var tt=document.createElement("span"),et=this.selectedOption.dataset.class;et&&($=tt.classList).add.apply($,mt()(et.split(" ")));var it=document.createTextNode(this.selectedOption.dataset.label||this.selectedOption.text);tt.appendChild(it);var nt=document.createElement("i");nt.setAttribute("aria-hidden","true"),nt.classList.add(this._classList.CARET),J.append(tt),J.append(nt);var rt=document.createElement("div");rt.setAttribute("aria-labelledby",W),rt.setAttribute("role","listbox"),rt.setAttribute("tabindex","-1"),rt.setAttribute("aria-activedescendant",this.selectedOption.value),rt.classList.add(this._classList.DROPDOWN_MENU),mt()(I.options).forEach((function(I){var N,R=this,U=document.createElement("a"),$=I.dataset.class;U.setAttribute("href","#"),U.setAttribute("role","option"),U.dataset.value=I.dataset.value||I.value,U.classList.add(this._classList.DROPDOWN_ITEM),I.getAttribute("selected")&&(U.classList.add(this._classList.ACTIVE),U.setAttribute("aria-selected","true"),U.getAttribute("data-label")&&U.setAttribute("aria-label","".concat(U.getAttribute("data-label")," selected"))),$&&(N=U.classList).add.apply(N,mt()($.split(" ")));var B=I.dataset;Object.keys(B).forEach((function(I){"class"===I&&B[I]===R._classList.DISPLAY_NONE||(U.dataset[I]=B[I])})),U.dataset.label=I.dataset.label||I.text;var H=document.createElement("span"),V=document.createTextNode(I.text);H.appendChild(V),U.appendChild(H),rt.append(U)}),this),z.append(X),z.append(J),z.append(rt),this.parentEl.append(z),I.remove();var ot=new CustomEvent("ready.selectable",{detail:{sourceId:I.id}});document.body.dispatchEvent(ot)}}]),CreateSelectableDropdown}(ct.a);R(73),R(35);bt={init:function init(){var I,N;UX.controller.enabled=!0,enquire.register("screen and (max-width:"+(parseInt(UX.grid.screenXs)-1)+"px)",{match:function match(){bt.dispatchEvent("screen-xs-on")},unmatch:function unmatch(){bt.dispatchEvent("screen-xs-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenSm)-1)+"px)",{match:function match(){bt.dispatchEvent("screen-sm-on")},unmatch:function unmatch(){bt.dispatchEvent("screen-sm-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenMd)-1)+"px)",{match:function match(){bt.dispatchEvent("screen-md-on")},unmatch:function unmatch(){bt.dispatchEvent("screen-md-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenLg)-1)+"px)",{match:function match(){bt.dispatchEvent("screen-lg-on")},unmatch:function unmatch(){bt.dispatchEvent("screen-lg-off")}}).register("screen and (min-width:0px)",{match:function match(){bt.dispatchEvent("screen-xlg-on")}}).register("screen and (max-width:"+(parseInt(UX.grid.articleLg)-1)+"px)",{match:function match(){bt.dispatchEvent("screen-article-lg-on")},unmatch:function unmatch(){bt.dispatchEvent("screen-article-lg-off")}}),N=$(window).width(),window.addEventListener("resize",(function(R){I&&clearTimeout(I),I=setTimeout((function(){$(window).width()!==N&&(N=$(window).width(),window.dispatchEvent(new CustomEvent("resized")),$(window).trigger("resized"))}),100,R)}))},dispatchEvent:function dispatchEvent(I){document.dispatchEvent(new Event(I)),document.dispatchEvent(new Event("smartResize"))}},UX.enquireIt=bt;R(74),R(75),R(76),R(77);!function(I){var N=I.fieldsCtrl||{};N.accessibility.buttons.init=function(){N.accessibility.buttons.prepare(),$(document).on("keydown","a[role=button]:not([disabled])",(function(I){32!==I.which&&13!==I.which||(I.preventDefault(),$(this).click())}))},I.fieldsCtrl=N}(UX);R(30);var yt=function(){function Base(){J()(this,Base),this._selectors=this.selectors,this._classList=this.classList,this._elements=this.elements,this._texts=this.texts}return tt()(Base,[{key:"selectors",get:function get(){return{}}},{key:"classList",get:function get(){return{}}},{key:"elements",get:function get(){return{}}},{key:"texts",get:function get(){return{}}},{key:"initialize",value:function initialize(){}},{key:"addEventListeners",value:function addEventListeners(){}},{key:"convertToArray",value:function convertToArray(I){return Array.prototype.slice.call(I)}},{key:"stringToNode",value:function stringToNode(I){var N=document.createElement("div");return N.innerHTML=I.trim(),N.firstChild}}]),Base}(),xt=R(11);function a11y_callSuper(I,N,R){return N=at()(N),it()(I,function a11y_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var wt=function(I){function A11y(){var I;return J()(this,A11y),(I=a11y_callSuper(this,A11y)).navigationKeyCodes={},I.initialize(),I}return lt()(A11y,I),tt()(A11y,[{key:"initialize",value:function initialize(){xt.b&&(this.navigationKeyCodes=xt.c,this.mousemoveHandlerBinded=this.mousemoveHandler.bind(this),this.keydownHandlerBinded=this.keydownHandler.bind(this),document.body.addEventListener("mousemove",this.mousemoveHandlerBinded))}},{key:"mousemoveHandler",value:function mousemoveHandler(){document.body.classList.add("mouse-user"),document.body.removeEventListener("mousemove",this.mousemoveHandlerBinded),document.body.addEventListener("keydown",this.keydownHandlerBinded)}},{key:"keydownHandler",value:function keydownHandler(I){Object.values(this.navigationKeyCodes).includes(I.keyCode)&&(document.body.classList.remove("mouse-user"),document.body.removeEventListener("keydown",this.keydownHandlerBinded),document.body.addEventListener("mousemove",this.mousemoveHandlerBinded))}}]),A11y}(yt);function transitionEndEmulator(I){var N=this,R=!1;return z()(this).one(Tt.TRANSITION_END,(function(){R=!0})),setTimeout((function(){R||Tt.triggerTransitionEnd(N)}),I),this}var Tt={TRANSITION_END:"bsTransitionEnd",getUID:function getUID(I){do{I+=~~(1e6*Math.random())}while(document.getElementById(I));return I},getSelectorFromElement:function getSelectorFromElement(I){var N=I.getAttribute("data-target");if(!N||"#"===N){var R=I.getAttribute("href");N=R&&"#"!==R?R.trim():""}try{return document.querySelector(N)?N:null}catch(I){return null}},getTransitionDurationFromElement:function getTransitionDurationFromElement(I){if(!I)return 0;var N=z()(I).css("transition-duration"),R=z()(I).css("transition-delay"),U=parseFloat(N),$=parseFloat(R);return U||$?(N=N.split(",")[0],R=R.split(",")[0],1e3*(parseFloat(N)+parseFloat(R))):0},reflow:function reflow(I){return I.offsetHeight},triggerTransitionEnd:function triggerTransitionEnd(I){z()(I).trigger("transitionend")},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean("transitionend")},isElement:function isElement(I){return(I[0]||I).nodeType},typeCheckConfig:function typeCheckConfig(I,N,R){for(var U in R)if(Object.prototype.hasOwnProperty.call(R,U)){var $=R[U],B=N[U],H=B&&Tt.isElement(B)?"element":null==(V=B)?"".concat(V):{}.toString.call(V).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp($).test(H))throw new Error("".concat(I.toUpperCase(),": ")+'Option "'.concat(U,'" provided type "').concat(H,'" ')+'but expected type "'.concat($,'".'))}var V},findShadowRoot:function findShadowRoot(I){if(!document.documentElement.attachShadow)return null;if("function"==typeof I.getRootNode){var N=I.getRootNode();return N instanceof ShadowRoot?N:null}return I instanceof ShadowRoot?I:I.parentNode?Tt.findShadowRoot(I.parentNode):null},jQueryDetection:function jQueryDetection(){if(void 0===z.a)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var I=z.a.fn.jquery.split(" ")[0].split(".");if(I[0]<2&&I[1]<9||1===I[0]&&9===I[1]&&I[2]<1||I[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};Tt.jQueryDetection(),function setTransitionEndSupport(){z.a.fn.emulateTransitionEnd=transitionEndEmulator,z.a.event.special[Tt.TRANSITION_END]=function getSpecialTransitionEndEvent(){return{bindType:"transitionend",delegateType:"transitionend",handle:function handle(I){if(z()(I.target).is(this))return I.handleObj.handler.apply(this,arguments)}}}()}();var Et=Tt,St=R(10),kt=R.n(St);function ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function _objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?ownKeys(Object(R),!0).forEach((function(N){kt()(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}var Ct="collapse",Ot="bs.collapse",At=".".concat(Ot),It=z.a.fn[Ct],Nt={toggle:!0,parent:""},Dt={toggle:"boolean",parent:"(string|element)"},Rt="show".concat(At),Lt="shown".concat(At),Pt="hide".concat(At),Mt="hidden".concat(At),jt="click".concat(At).concat(".data-api"),Ft=function(){function Collapse(I,N){J()(this,Collapse),this._isTransitioning=!1,this._element=I,this._config=this._getConfig(N),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'.concat(I.id,'"],')+'[data-toggle="collapse"][data-target="#'.concat(I.id,'"]')));for(var R=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),U=0,$=R.length;U<$;U++){var B=R[U],H=Et.getSelectorFromElement(B),V=[].slice.call(document.querySelectorAll(H)).filter((function(N){return N===I}));null!==H&&V.length>0&&(this._selector=H,this._triggerArray.push(B))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return tt()(Collapse,[{key:"toggle",value:function toggle(){z()(this._element).hasClass("show")?this.hide():this.show()}},{key:"show",value:function show(){var I,N,R=this;if(!this._isTransitioning&&!z()(this._element).hasClass("show")&&(this._parent&&0===(I=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(I){return"string"==typeof R._config.parent?I.getAttribute("data-parent")===R._config.parent:I.classList.contains("collapse")}))).length&&(I=null),!(I&&(N=z()(I).not(this._selector).data(Ot))&&N._isTransitioning))){var U=z.a.Event(Rt);if(z()(this._element).trigger(U),!U.isDefaultPrevented()){I&&(Collapse._jQueryInterface.call(z()(I).not(this._selector),"hide"),N||z()(I).data(Ot,null));var $=this._getDimension();z()(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[$]=0,this._triggerArray.length&&z()(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var B=$[0].toUpperCase()+$.slice(1),H="scroll".concat(B),V=Et.getTransitionDurationFromElement(this._element);z()(this._element).one(Et.TRANSITION_END,(function complete(){z()(R._element).removeClass("collapsing").addClass("".concat("collapse"," ").concat("show")),R._element.style[$]="",R.setTransitioning(!1),z()(R._element).trigger(Lt)})).emulateTransitionEnd(V),this._element.style[$]="".concat(this._element[H],"px")}}}},{key:"hide",value:function hide(){var I=this;if(!this._isTransitioning&&z()(this._element).hasClass("show")){var N=z.a.Event(Pt);if(z()(this._element).trigger(N),!N.isDefaultPrevented()){var R=this._getDimension();this._element.style[R]="".concat(this._element.getBoundingClientRect()[R],"px"),Et.reflow(this._element),z()(this._element).addClass("collapsing").removeClass("".concat("collapse"," ").concat("show"));var U=this._triggerArray.length;if(U>0)for(var $=0;$<U;$++){var B=this._triggerArray[$],H=Et.getSelectorFromElement(B);if(null!==H)z()([].slice.call(document.querySelectorAll(H))).hasClass("show")||z()(B).addClass("collapsed").attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[R]="";var V=Et.getTransitionDurationFromElement(this._element);z()(this._element).one(Et.TRANSITION_END,(function complete(){I.setTransitioning(!1),z()(I._element).removeClass("collapsing").addClass("collapse").trigger(Mt)})).emulateTransitionEnd(V)}}}},{key:"setTransitioning",value:function setTransitioning(I){this._isTransitioning=I}},{key:"dispose",value:function dispose(){z.a.removeData(this._element,Ot),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function _getConfig(I){return(I=_objectSpread(_objectSpread({},Nt),I)).toggle=Boolean(I.toggle),Et.typeCheckConfig(Ct,I,Dt),I}},{key:"_getDimension",value:function _getDimension(){return z()(this._element).hasClass("width")?"width":"height"}},{key:"_getParent",value:function _getParent(){var I,N=this;Et.isElement(this._config.parent)?(I=this._config.parent,void 0!==this._config.parent.jquery&&(I=this._config.parent[0])):I=document.querySelector(this._config.parent);var R='[data-toggle="collapse"][data-parent="'.concat(this._config.parent,'"]'),U=[].slice.call(I.querySelectorAll(R));return z()(U).each((function(I,R){N._addAriaAndCollapsedClass(Collapse._getTargetFromElement(R),[R])})),I}},{key:"_addAriaAndCollapsedClass",value:function _addAriaAndCollapsedClass(I,N){var R=z()(I).hasClass("show");N.length&&z()(N).toggleClass("collapsed",!R).attr("aria-expanded",R)}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return Nt}},{key:"_getTargetFromElement",value:function _getTargetFromElement(I){var N=Et.getSelectorFromElement(I);return N?document.querySelector(N):null}},{key:"_jQueryInterface",value:function _jQueryInterface(I){return this.each((function(){var N=z()(this),R=N.data(Ot),U=_objectSpread(_objectSpread(_objectSpread({},Nt),N.data()),"object"===B()(I)&&I?I:{});if(!R&&U.toggle&&"string"==typeof I&&/show|hide/.test(I)&&(U.toggle=!1),R||(R=new Collapse(this,U),N.data(Ot,R)),"string"==typeof I){if(void 0===R[I])throw new TypeError('No method named "'.concat(I,'"'));R[I]()}}))}}]),Collapse}();z()(document).on(jt,'[data-toggle="collapse"]',(function(I){"A"===I.currentTarget.tagName&&I.preventDefault();var N=z()(this),R=Et.getSelectorFromElement(this),U=[].slice.call(document.querySelectorAll(R));z()(U).each((function(){var I=z()(this),R=I.data(Ot)?"toggle":N.data();Ft._jQueryInterface.call(I,R)}))})),z.a.fn[Ct]=Ft._jQueryInterface,z.a.fn[Ct].Constructor=Ft,z.a.fn[Ct].noConflict=function(){return z.a.fn[Ct]=It,Ft._jQueryInterface};var Ut=R(19);function dropdown_ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function dropdown_objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?dropdown_ownKeys(Object(R),!0).forEach((function(N){kt()(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):dropdown_ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}var $t=".".concat("bs.dropdown"),qt=z.a.fn.dropdown,Bt=new RegExp("".concat(38,"|").concat(40,"|").concat(27)),Ht="hide".concat($t),Vt="hidden".concat($t),Wt="show".concat($t),zt="shown".concat($t),Gt="click".concat($t),Xt="click".concat($t).concat(".data-api"),Kt="keydown".concat($t).concat(".data-api"),Yt="keyup".concat($t).concat(".data-api"),Qt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Jt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Zt=function(){function Dropdown(I,N){J()(this,Dropdown),this._element=I,this._popper=null,this._config=this._getConfig(N),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return tt()(Dropdown,[{key:"toggle",value:function toggle(){if(!this._element.disabled&&!z()(this._element).hasClass("disabled")){var I=z()(this._menu).hasClass("show");Dropdown._clearMenus(),I||this.show(!0)}}},{key:"show",value:function show(){var I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this._element.disabled||z()(this._element).hasClass("disabled")||z()(this._menu).hasClass("show"))){var N={relatedTarget:this._element},R=z.a.Event(Wt,N),U=Dropdown._getParentFromElement(this._element);if(z()(U).trigger(R),!R.isDefaultPrevented()){if(!this._inNavbar&&I){if(void 0===Ut.a)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var $=this._element;"parent"===this._config.reference?$=U:Et.isElement(this._config.reference)&&($=this._config.reference,void 0!==this._config.reference.jquery&&($=this._config.reference[0])),"scrollParent"!==this._config.boundary&&z()(U).addClass("position-static"),this._popper=new Ut.a($,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===z()(U).closest(".navbar-nav").length&&z()(document.body).children().on("mouseover",null,z.a.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),z()(this._menu).toggleClass("show"),z()(U).toggleClass("show").trigger(z.a.Event(zt,N))}}}},{key:"hide",value:function hide(){if(!this._element.disabled&&!z()(this._element).hasClass("disabled")&&z()(this._menu).hasClass("show")){var I={relatedTarget:this._element},N=z.a.Event(Ht,I),R=Dropdown._getParentFromElement(this._element);z()(R).trigger(N),N.isDefaultPrevented()||(this._popper&&this._popper.destroy(),z()(this._menu).toggleClass("show"),z()(R).toggleClass("show").trigger(z.a.Event(Vt,I)))}}},{key:"dispose",value:function dispose(){z.a.removeData(this._element,"bs.dropdown"),z()(this._element).off($t),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function _addEventListeners(){var I=this;z()(this._element).on(Gt,(function(N){N.preventDefault(),N.stopPropagation(),I.toggle()}))}},{key:"_getConfig",value:function _getConfig(I){return I=dropdown_objectSpread(dropdown_objectSpread(dropdown_objectSpread({},this.constructor.Default),z()(this._element).data()),I),Et.typeCheckConfig("dropdown",I,this.constructor.DefaultType),I}},{key:"_getMenuElement",value:function _getMenuElement(){if(!this._menu){var I=Dropdown._getParentFromElement(this._element);I&&(this._menu=I.querySelector(".dropdown-menu"))}return this._menu}},{key:"_getPlacement",value:function _getPlacement(){var I=z()(this._element.parentNode),N="bottom-start";return I.hasClass("dropup")?N=z()(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":I.hasClass("dropright")?N="right-start":I.hasClass("dropleft")?N="left-start":z()(this._menu).hasClass("dropdown-menu-right")&&(N="bottom-end"),N}},{key:"_detectNavbar",value:function _detectNavbar(){return z()(this._element).closest(".navbar").length>0}},{key:"_getOffset",value:function _getOffset(){var I=this,N={};return"function"==typeof this._config.offset?N.fn=function(N){return N.offsets=dropdown_objectSpread(dropdown_objectSpread({},N.offsets),I._config.offset(N.offsets,I._element)||{}),N}:N.offset=this._config.offset,N}},{key:"_getPopperConfig",value:function _getPopperConfig(){var I={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(I.modifiers.applyStyle={enabled:!1}),dropdown_objectSpread(dropdown_objectSpread({},I),this._config.popperConfig)}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return Qt}},{key:"DefaultType",get:function get(){return Jt}},{key:"_jQueryInterface",value:function _jQueryInterface(I){return this.each((function(){var N=z()(this).data("bs.dropdown"),R="object"===B()(I)?I:null;if(N||(N=new Dropdown(this,R),z()(this).data("bs.dropdown",N)),"string"==typeof I){if(void 0===N[I])throw new TypeError('No method named "'.concat(I,'"'));N[I]()}}))}},{key:"_clearMenus",value:function _clearMenus(I){if(!I||3!==I.which&&("keyup"!==I.type||9===I.which))for(var N=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),R=0,U=N.length;R<U;R++){var $=Dropdown._getParentFromElement(N[R]),B=z()(N[R]).data("bs.dropdown"),H={relatedTarget:N[R]};if(I&&"click"===I.type&&(H.clickEvent=I),B){var V=B._menu;if(z()($).hasClass("show")&&!(I&&("click"===I.type&&/input|textarea/i.test(I.target.tagName)||"keyup"===I.type&&9===I.which)&&z.a.contains($,I.target))){var W=z.a.Event(Ht,H);z()($).trigger(W),W.isDefaultPrevented()||("ontouchstart"in document.documentElement&&z()(document.body).children().off("mouseover",null,z.a.noop),N[R].setAttribute("aria-expanded","false"),B._popper&&B._popper.destroy(),z()(V).removeClass("show"),z()($).removeClass("show").trigger(z.a.Event(Vt,H)))}}}}},{key:"_getParentFromElement",value:function _getParentFromElement(I){var N,R=Et.getSelectorFromElement(I);return R&&(N=document.querySelector(R)),N||I.parentNode}},{key:"_dataApiKeydownHandler",value:function _dataApiKeydownHandler(I){if(!(/input|textarea/i.test(I.target.tagName)?32===I.which||27!==I.which&&(40!==I.which&&38!==I.which||z()(I.target).closest(".dropdown-menu").length):!Bt.test(I.which))&&!this.disabled&&!z()(this).hasClass("disabled")){var N=Dropdown._getParentFromElement(this),R=z()(N).hasClass("show");if(R||27!==I.which){if(I.preventDefault(),I.stopPropagation(),!R||R&&(27===I.which||32===I.which))return 27===I.which&&z()(N.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void z()(this).trigger("click");var U=[].slice.call(N.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(I){return z()(I).is(":visible")}));if(0!==U.length){var $=U.indexOf(I.target);38===I.which&&$>0&&$--,40===I.which&&$<U.length-1&&$++,$<0&&($=0),U[$].focus()}}}}}]),Dropdown}();z()(document).on(Kt,'[data-toggle="dropdown"]',Zt._dataApiKeydownHandler).on(Kt,".dropdown-menu",Zt._dataApiKeydownHandler).on("".concat(Xt," ").concat(Yt),Zt._clearMenus).on(Xt,'[data-toggle="dropdown"]',(function(I){I.preventDefault(),I.stopPropagation(),Zt._jQueryInterface.call(z()(this),"toggle")})).on(Xt,".dropdown form",(function(I){I.stopPropagation()})),z.a.fn.dropdown=Zt._jQueryInterface,z.a.fn.dropdown.Constructor=Zt,z.a.fn.dropdown.noConflict=function(){return z.a.fn.dropdown=qt,Zt._jQueryInterface};var te=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],ee={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ie=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,ne=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function sanitizeHtml(I,N,R){if(0===I.length)return I;if(R&&"function"==typeof R)return R(I);for(var U=(new window.DOMParser).parseFromString(I,"text/html"),$=Object.keys(N),B=[].slice.call(U.body.querySelectorAll("*")),H=function _loop(){var I=B[V],R=I.nodeName.toLowerCase();if(-1===$.indexOf(I.nodeName.toLowerCase()))return I.parentNode.removeChild(I),1;var U=[].slice.call(I.attributes),H=[].concat(N["*"]||[],N[R]||[]);U.forEach((function(N){(function allowedAttribute(I,N){var R=I.nodeName.toLowerCase();if(-1!==N.indexOf(R))return-1===te.indexOf(R)||Boolean(I.nodeValue.match(ie)||I.nodeValue.match(ne));for(var U=N.filter((function(I){return I instanceof RegExp})),$=0,B=U.length;$<B;$++)if(R.match(U[$]))return!0;return!1})(N,H)||I.removeAttribute(N.nodeName)}))},V=0,W=B.length;V<W;V++)H();return U.body.innerHTML}function tooltip_ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function tooltip_objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?tooltip_ownKeys(Object(R),!0).forEach((function(N){kt()(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):tooltip_ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}var se=".".concat("bs.tooltip"),re=z.a.fn.tooltip,ae=new RegExp("(^|\\s)".concat("bs-tooltip","\\S+"),"g"),oe=["sanitize","whiteList","sanitizeFn"],le={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ce={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ue={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:ee,popperConfig:null},he={HIDE:"hide".concat(se),HIDDEN:"hidden".concat(se),SHOW:"show".concat(se),SHOWN:"shown".concat(se),INSERTED:"inserted".concat(se),CLICK:"click".concat(se),FOCUSIN:"focusin".concat(se),FOCUSOUT:"focusout".concat(se),MOUSEENTER:"mouseenter".concat(se),MOUSELEAVE:"mouseleave".concat(se)},pe=function(){function Tooltip(I,N){if(J()(this,Tooltip),void 0===Ut.a)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=I,this.config=this._getConfig(N),this.tip=null,this._setListeners()}return tt()(Tooltip,[{key:"enable",value:function enable(){this._isEnabled=!0}},{key:"disable",value:function disable(){this._isEnabled=!1}},{key:"toggleEnabled",value:function toggleEnabled(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function toggle(I){if(this._isEnabled)if(I){var N=this.constructor.DATA_KEY,R=z()(I.currentTarget).data(N);R||(R=new this.constructor(I.currentTarget,this._getDelegateConfig()),z()(I.currentTarget).data(N,R)),R._activeTrigger.click=!R._activeTrigger.click,R._isWithActiveTrigger()?R._enter(null,R):R._leave(null,R)}else{if(z()(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function dispose(){clearTimeout(this._timeout),z.a.removeData(this.element,this.constructor.DATA_KEY),z()(this.element).off(this.constructor.EVENT_KEY),z()(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&z()(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}},{key:"show",value:function show(){var I=this;if("none"===z()(this.element).css("display"))throw new Error("Please use show on visible elements");var N=z.a.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){z()(this.element).trigger(N);var R=Et.findShadowRoot(this.element),U=z.a.contains(null!==R?R:this.element.ownerDocument.documentElement,this.element);if(N.isDefaultPrevented()||!U)return;var $=this.getTipElement(),B=Et.getUID(this.constructor.NAME);$.setAttribute("id",B),this.element.setAttribute("aria-describedby",B),this.setContent(),this.config.animation&&z()($).addClass("fade");var H="function"==typeof this.config.placement?this.config.placement.call(this,$,this.element):this.config.placement,V=this._getAttachment(H);this.addAttachmentClass(V);var W=this._getContainer();z()($).data(this.constructor.DATA_KEY,this),z.a.contains(this.element.ownerDocument.documentElement,this.tip)||z()($).appendTo(W),z()(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ut.a(this.element,$,this._getPopperConfig(V)),z()($).addClass("show"),"ontouchstart"in document.documentElement&&z()(document.body).children().on("mouseover",null,z.a.noop);var X=function complete(){I.config.animation&&I._fixTransition();var N=I._hoverState;I._hoverState=null,z()(I.element).trigger(I.constructor.Event.SHOWN),"out"===N&&I._leave(null,I)};if(z()(this.tip).hasClass("fade")){var Q=Et.getTransitionDurationFromElement(this.tip);z()(this.tip).one(Et.TRANSITION_END,X).emulateTransitionEnd(Q)}else X()}}},{key:"hide",value:function hide(I){var N=this,R=this.getTipElement(),U=z.a.Event(this.constructor.Event.HIDE),$=function complete(){"show"!==N._hoverState&&R.parentNode&&R.parentNode.removeChild(R),N._cleanTipClass(),N.element.removeAttribute("aria-describedby"),z()(N.element).trigger(N.constructor.Event.HIDDEN),null!==N._popper&&N._popper.destroy(),I&&I()};if(z()(this.element).trigger(U),!U.isDefaultPrevented()){if(z()(R).removeClass("show"),"ontouchstart"in document.documentElement&&z()(document.body).children().off("mouseover",null,z.a.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,z()(this.tip).hasClass("fade")){var B=Et.getTransitionDurationFromElement(R);z()(R).one(Et.TRANSITION_END,$).emulateTransitionEnd(B)}else $();this._hoverState=""}}},{key:"update",value:function update(){null!==this._popper&&this._popper.scheduleUpdate()}},{key:"isWithContent",value:function isWithContent(){return Boolean(this.getTitle())}},{key:"addAttachmentClass",value:function addAttachmentClass(I){z()(this.getTipElement()).addClass("".concat("bs-tooltip","-").concat(I))}},{key:"getTipElement",value:function getTipElement(){return this.tip=this.tip||z()(this.config.template)[0],this.tip}},{key:"setContent",value:function setContent(){var I=this.getTipElement();this.setElementContent(z()(I.querySelectorAll(".tooltip-inner")),this.getTitle()),z()(I).removeClass("".concat("fade"," ").concat("show"))}},{key:"setElementContent",value:function setElementContent(I,N){"object"!==B()(N)||!N.nodeType&&!N.jquery?this.config.html?(this.config.sanitize&&(N=sanitizeHtml(N,this.config.whiteList,this.config.sanitizeFn)),I.html(N)):I.text(N):this.config.html?z()(N).parent().is(I)||I.empty().append(N):I.text(z()(N).text())}},{key:"getTitle",value:function getTitle(){var I=this.element.getAttribute("data-original-title");return I||(I="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),I}},{key:"_getPopperConfig",value:function _getPopperConfig(I){var N=this;return tooltip_objectSpread(tooltip_objectSpread({},{placement:I,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function onCreate(I){I.originalPlacement!==I.placement&&N._handlePopperPlacementChange(I)},onUpdate:function onUpdate(I){return N._handlePopperPlacementChange(I)}}),this.config.popperConfig)}},{key:"_getOffset",value:function _getOffset(){var I=this,N={};return"function"==typeof this.config.offset?N.fn=function(N){return N.offsets=tooltip_objectSpread(tooltip_objectSpread({},N.offsets),I.config.offset(N.offsets,I.element)||{}),N}:N.offset=this.config.offset,N}},{key:"_getContainer",value:function _getContainer(){return!1===this.config.container?document.body:Et.isElement(this.config.container)?z()(this.config.container):z()(document).find(this.config.container)}},{key:"_getAttachment",value:function _getAttachment(I){return ce[I.toUpperCase()]}},{key:"_setListeners",value:function _setListeners(){var I=this;this.config.trigger.split(" ").forEach((function(N){if("click"===N)z()(I.element).on(I.constructor.Event.CLICK,I.config.selector,(function(N){return I.toggle(N)}));else if("manual"!==N){var R="hover"===N?I.constructor.Event.MOUSEENTER:I.constructor.Event.FOCUSIN,U="hover"===N?I.constructor.Event.MOUSELEAVE:I.constructor.Event.FOCUSOUT;z()(I.element).on(R,I.config.selector,(function(N){return I._enter(N)})).on(U,I.config.selector,(function(N){return I._leave(N)}))}})),this._hideModalHandler=function(){I.element&&I.hide()},z()(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=tooltip_objectSpread(tooltip_objectSpread({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function _fixTitle(){var I=B()(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==I)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}},{key:"_enter",value:function _enter(I,N){var R=this.constructor.DATA_KEY;(N=N||z()(I.currentTarget).data(R))||(N=new this.constructor(I.currentTarget,this._getDelegateConfig()),z()(I.currentTarget).data(R,N)),I&&(N._activeTrigger["focusin"===I.type?"focus":"hover"]=!0),z()(N.getTipElement()).hasClass("show")||"show"===N._hoverState?N._hoverState="show":(clearTimeout(N._timeout),N._hoverState="show",N.config.delay&&N.config.delay.show?N._timeout=setTimeout((function(){"show"===N._hoverState&&N.show()}),N.config.delay.show):N.show())}},{key:"_leave",value:function _leave(I,N){var R=this.constructor.DATA_KEY;(N=N||z()(I.currentTarget).data(R))||(N=new this.constructor(I.currentTarget,this._getDelegateConfig()),z()(I.currentTarget).data(R,N)),I&&(N._activeTrigger["focusout"===I.type?"focus":"hover"]=!1),N._isWithActiveTrigger()||(clearTimeout(N._timeout),N._hoverState="out",N.config.delay&&N.config.delay.hide?N._timeout=setTimeout((function(){"out"===N._hoverState&&N.hide()}),N.config.delay.hide):N.hide())}},{key:"_isWithActiveTrigger",value:function _isWithActiveTrigger(){for(var I in this._activeTrigger)if(this._activeTrigger[I])return!0;return!1}},{key:"_getConfig",value:function _getConfig(I){var N=z()(this.element).data();return Object.keys(N).forEach((function(I){-1!==oe.indexOf(I)&&delete N[I]})),"number"==typeof(I=tooltip_objectSpread(tooltip_objectSpread(tooltip_objectSpread({},this.constructor.Default),N),"object"===B()(I)&&I?I:{})).delay&&(I.delay={show:I.delay,hide:I.delay}),"number"==typeof I.title&&(I.title=I.title.toString()),"number"==typeof I.content&&(I.content=I.content.toString()),Et.typeCheckConfig("tooltip",I,this.constructor.DefaultType),I.sanitize&&(I.template=sanitizeHtml(I.template,I.whiteList,I.sanitizeFn)),I}},{key:"_getDelegateConfig",value:function _getDelegateConfig(){var I={};if(this.config)for(var N in this.config)this.constructor.Default[N]!==this.config[N]&&(I[N]=this.config[N]);return I}},{key:"_cleanTipClass",value:function _cleanTipClass(){var I=z()(this.getTipElement()),N=I.attr("class").match(ae);null!==N&&N.length&&I.removeClass(N.join(""))}},{key:"_handlePopperPlacementChange",value:function _handlePopperPlacementChange(I){this.tip=I.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(I.placement))}},{key:"_fixTransition",value:function _fixTransition(){var I=this.getTipElement(),N=this.config.animation;null===I.getAttribute("x-placement")&&(z()(I).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=N)}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return ue}},{key:"NAME",get:function get(){return"tooltip"}},{key:"DATA_KEY",get:function get(){return"bs.tooltip"}},{key:"Event",get:function get(){return he}},{key:"EVENT_KEY",get:function get(){return se}},{key:"DefaultType",get:function get(){return le}},{key:"_jQueryInterface",value:function _jQueryInterface(I){return this.each((function(){var N=z()(this).data("bs.tooltip"),R="object"===B()(I)&&I;if((N||!/dispose|hide/.test(I))&&(N||(N=new Tooltip(this,R),z()(this).data("bs.tooltip",N)),"string"==typeof I)){if(void 0===N[I])throw new TypeError('No method named "'.concat(I,'"'));N[I]()}}))}}]),Tooltip}();z.a.fn.tooltip=pe._jQueryInterface,z.a.fn.tooltip.Constructor=pe,z.a.fn.tooltip.noConflict=function(){return z.a.fn.tooltip=re,pe._jQueryInterface};var de=pe;function popover_callSuper(I,N,R){return N=at()(N),it()(I,function popover_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}function popover_ownKeys(I,N){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);N&&(U=U.filter((function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable}))),R.push.apply(R,U)}return R}function popover_objectSpread(I){for(var N=1;N<arguments.length;N++){var R=null!=arguments[N]?arguments[N]:{};N%2?popover_ownKeys(Object(R),!0).forEach((function(N){kt()(I,N,R[N])})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):popover_ownKeys(Object(R)).forEach((function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(R,N))}))}return I}var fe=".".concat("bs.popover"),me=z.a.fn.popover,ge=new RegExp("(^|\\s)".concat("bs-popover","\\S+"),"g"),ve=popover_objectSpread(popover_objectSpread({},de.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),be=popover_objectSpread(popover_objectSpread({},de.DefaultType),{},{content:"(string|element|function)"}),_e={HIDE:"hide".concat(fe),HIDDEN:"hidden".concat(fe),SHOW:"show".concat(fe),SHOWN:"shown".concat(fe),INSERTED:"inserted".concat(fe),CLICK:"click".concat(fe),FOCUSIN:"focusin".concat(fe),FOCUSOUT:"focusout".concat(fe),MOUSEENTER:"mouseenter".concat(fe),MOUSELEAVE:"mouseleave".concat(fe)},ye=function(I){function Popover(){return J()(this,Popover),popover_callSuper(this,Popover,arguments)}return lt()(Popover,I),tt()(Popover,[{key:"isWithContent",value:function isWithContent(){return this.getTitle()||this._getContent()}},{key:"addAttachmentClass",value:function addAttachmentClass(I){z()(this.getTipElement()).addClass("".concat("bs-popover","-").concat(I))}},{key:"getTipElement",value:function getTipElement(){return this.tip=this.tip||z()(this.config.template)[0],this.tip}},{key:"setContent",value:function setContent(){var I=z()(this.getTipElement());this.setElementContent(I.find(".popover-header"),this.getTitle());var N=this._getContent();"function"==typeof N&&(N=N.call(this.element)),this.setElementContent(I.find(".popover-body"),N),I.removeClass("".concat("fade"," ").concat("show"))}},{key:"_getContent",value:function _getContent(){return this.element.getAttribute("data-content")||this.config.content}},{key:"_cleanTipClass",value:function _cleanTipClass(){var I=z()(this.getTipElement()),N=I.attr("class").match(ge);null!==N&&N.length>0&&I.removeClass(N.join(""))}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return ve}},{key:"NAME",get:function get(){return"popover"}},{key:"DATA_KEY",get:function get(){return"bs.popover"}},{key:"Event",get:function get(){return _e}},{key:"EVENT_KEY",get:function get(){return fe}},{key:"DefaultType",get:function get(){return be}},{key:"_jQueryInterface",value:function _jQueryInterface(I){return this.each((function(){var N=z()(this).data("bs.popover"),R="object"===B()(I)?I:null;if((N||!/dispose|hide/.test(I))&&(N||(N=new Popover(this,R),z()(this).data("bs.popover",N)),"string"==typeof I)){if(void 0===N[I])throw new TypeError('No method named "'.concat(I,'"'));N[I]()}}))}}]),Popover}(de);z.a.fn.popover=ye._jQueryInterface,z.a.fn.popover.Constructor=ye,z.a.fn.popover.noConflict=function(){return z.a.fn.popover=me,ye._jQueryInterface};jQuery.fn.bstooltip=jQuery.fn.tooltip,$('[data-toggle="tooltip"]').bstooltip();var xe,we,Te,Ee=R(20),Se=R.n(Ee),ke=R(15),Ce=(xe=function(I,N){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(I,N)},function(I,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function __(){this.constructor=I}xe(I,N),I.prototype=null===N?Object.create(N):(__.prototype=N.prototype,new __)}),__decorate=function(I,N,R,U){var $,B=arguments.length,H=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(I,N,R,U);else for(var V=I.length-1;V>=0;V--)($=I[V])&&(H=(B<3?$(H):B>3?$(N,R,H):$(N,R))||H);return B>3&&H&&Object.defineProperty(N,R,H),H},Oe=function(I){function Texts(){var N=null!==I&&I.apply(this,arguments)||this;return N.doi="",N.apiUrl="",N.isCrossrefEnabled="",N.getFTRContent="",N.getFTRButton="",N.getFTRLink="",N.prevItemDoi="",N.requestSource="",N}return Ce(Texts,I),Texts}(ke.d),Ae=function(I){function ClassList(){var N=null!==I&&I.apply(this,arguments)||this;return N.getFTRPlaceholder="getFTR__placeholder",N}return Ce(ClassList,I),ClassList}(ke.d),Ie=function(I){function Selectors(){var N=null!==I&&I.apply(this,arguments)||this;return N.article="article",N.articleReferences="article .article__references",N.articleCitedBy="article .citedBySection",N.tabContent=".tab--slide .tab__content",N.tabReferences="#pane-pcw-references",N.tabRelated="#pane-pcw-related",N.getFTRPlaceholder=".getFTR__placeholder",N.wrapperItem="",N}return Ce(Selectors,I),Selectors}(ke.f),Ne=function(I){function Elements(){return null!==I&&I.apply(this,arguments)||this}return Ce(Elements,I),Elements}(ke.b),De=function(){function GetFTR(){var I=this;this.isButtonVisible=!1,this.isSafeToFetch=!0,this.handleWindowScroll=function(){var N;if(I.elements.articleReferences||I.elements.articleCitedBy){var R=window.scrollY,U=R>=(null===(N=I.elements.articleCitedBy)||void 0===N?void 0:N.offsetTop)?I.elements.articleCitedBy:I.elements.articleReferences,$=null==U?void 0:U.querySelector(I.selectors.getFTRPlaceholder),B=null==$?void 0:$.offsetTop;$&&I.isSafeToFetch&&B-500<R&&(U===I.elements.articleReferences?I.articleReferences():I.articleCitedBy())}},this.isEntitlement=function(N){N.entitlement?(I.isButtonVisible=!0,I.getFTRButton(N.entitlement)):!I.texts.isCrossrefEnabled&&N.doi&&N.fallback?(I.isButtonVisible=!0,I.getFTRButton(N.fallback.url)):I.texts.isCrossrefEnabled&&N.fallback&&I.getFTRLink(N.fallback)},this.getFTRButton=function(N){var R,U,$=!1,B="",H="object"==typeof N,V=H?N.label:"View",W=H?N.url:N,z=!(!H||!N.tooltip)&&N.tooltip;H&&("yes"===N.entitled||"maybe"===N.entitled&&"vor"===N.type)?($=!0,B="icon-getFTR-na"):H&&"no"===N.entitled&&"av"===N.type&&($=!0,B="icon-getFTR-av"),U=$?'<i aria-hidden="true" class="'+B+'"></i>':"",I.texts.getFTRButton='<a href="'+W+'"  aria-label="'+(z||V)+'" target="_blank" data-tooltip="'+z+'" class="getFTR__btn '+(z?"getFTR__tooltip":"")+'"  tabindex="0">\n               '+U+"\n               "+V+"\n            </a>",null===(R=I.elements.getFTRPlaceholder)||void 0===R||R.insertAdjacentHTML("afterbegin",I.texts.getFTRButton)},this.getFTRLink=function(N){var R;I.texts.getFTRLink='<a href="'+N.url+'"  target="_blank" class="getFTR__link">\n               '+N.label+"\n            </a>",null===(R=I.elements.getFTRPlaceholder)||void 0===R||R.insertAdjacentHTML("afterbegin",I.texts.getFTRLink)}}return GetFTR.prototype.initialize=function(){this.setElements(),this.addEventListeners(),this.getGetFTRConfig()},GetFTR.prototype.setElements=function(){this.elements.articleReferences=this.domUtils.getElement(this.selectors.articleReferences),this.elements.articleCitedBy=this.domUtils.getElement(this.selectors.articleCitedBy),this.elements.tabContent=this.domUtils.getElement(this.selectors.tabContent)},GetFTR.prototype.addEventListeners=function(){window.addEventListener("scroll",this.handleWindowScroll)},GetFTR.prototype.getGetFTRConfig=function(){this.elements.article=this.domUtils.getElement(this.selectors.article),this.texts.isCrossrefEnabled=this.elements.article.getAttribute("data-crossref-enabled"),this.texts.requestSource=this.elements.article.getAttribute("data-getFTR-request-source"),this.texts.doi=this.elements.article.getAttribute("data-getFTR-doi"),this.linksCount=parseInt(this.elements.article.getAttribute("data-getFTR-links-count"))},GetFTR.prototype.getGetFTRElements=function(){var I,N,R=this,U=this.domUtils.getElements(this.selectors.getFTRPlaceholder,this.elements.source).slice(0,this.linksCount),$=U&&U[0],B=null===(I=null==$?void 0:$.closest("[data-doi]"))||void 0===I?void 0:I.getAttribute("data-doi"),H=null==U?void 0:U.map((function(I){var N;return null===(N=I.closest(R.selectors.wrapperItem))||void 0===N?void 0:N.getAttribute("data-doi")})).filter(Boolean);(null==H?void 0:H.length)>0&&this.numberOfPlaceholders&&B!==this.texts.prevItemDoi&&(this.texts.prevItemDoi=B,this.fetchData(H),null===(N=this.elements.tabContent)||void 0===N||N.addEventListener("scroll",(function(){R.handleTabScroll(R.elements.source)})))},GetFTR.prototype.setGetFTRSource=function(I,N,R){var U;this.initialize(),this.elements.source=I,this.selectors.wrapperItem=N,this.numberOfPlaceholders=null===(U=this.elements.source)||void 0===U?void 0:U.querySelectorAll(this.selectors.getFTRPlaceholder).length,this.texts.apiUrl=this.elements.article.getAttribute(R),this.getGetFTRElements()},GetFTR.prototype.referencesTab=function(){this.elements.tabReferences=this.domUtils.getElement(this.selectors.tabReferences),this.setGetFTRSource(this.elements.tabReferences,".references__item","data-getFTR-reference-url")},GetFTR.prototype.relatedTab=function(){this.elements.tabRelated=this.domUtils.getElement(this.selectors.tabRelated),this.setGetFTRSource(this.elements.tabRelated,".citedByEntry","data-getFTR-citedby-url")},GetFTR.prototype.articleReferences=function(){this.setGetFTRSource(this.elements.articleReferences,".references__item","data-getFTR-reference-url")},GetFTR.prototype.articleCitedBy=function(){this.setGetFTRSource(this.elements.articleCitedBy,".citedByEntry","data-getFTR-citedBy-url")},GetFTR.prototype.handleTabScroll=function(I){var N,R=null==I?void 0:I.querySelector(this.selectors.getFTRPlaceholder),U=null==R?void 0:R.offsetTop,$=null===(N=this.elements.tabContent)||void 0===N?void 0:N.scrollTop;R&&U-500<$&&this.isSafeToFetch&&this.getGetFTRElements()},GetFTR.prototype.fetchData=function(I){var N=this,R={pubDoi:this.texts.doi,associatedCitations:I,requestSource:this.texts.requestSource};this.isSafeToFetch=!1,fetch(this.texts.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}).then((function(I){return I.json()})).then((function(I){I.forEach((function(I){var R,U;N.elements.getFTRWrapper=null===(R=N.elements.source)||void 0===R?void 0:R.querySelector('[data-doi="'+I.doi+'"]'),N.elements.getFTRPlaceholder=null===(U=N.elements.getFTRWrapper)||void 0===U?void 0:U.querySelector(N.selectors.getFTRPlaceholder),N.isEntitlement(I),N.getFTRContentEmpty(),N.removePlaceholder()}))})).catch((function(I){console.error("Error:",I)})).finally((function(){N.isSafeToFetch=!0}))},GetFTR.prototype.getFTRContentEmpty=function(){this.texts.getFTRButton="",this.texts.getFTRLink="",this.isButtonVisible=!1},GetFTR.prototype.removePlaceholder=function(){var I;null===(I=this.elements.getFTRPlaceholder)||void 0===I||I.classList.remove("getFTR__placeholder")},GetFTR=__decorate([Object(ke.c)(Ie,Ne,Ae,Oe)],GetFTR)}(),Re=function(){var extendStatics=function(I,N){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(I[R]=N[R])})(I,N)};return function(I,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function __(){this.constructor=I}extendStatics(I,N),I.prototype=null===N?Object.create(N):(__.prototype=N.prototype,new __)}}(),ts_decorate=function(I,N,R,U){var $,B=arguments.length,H=B<3?N:null===U?U=Object.getOwnPropertyDescriptor(N,R):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(I,N,R,U);else for(var V=I.length-1;V>=0;V--)($=I[V])&&(H=(B<3?$(H):B>3?$(N,R,H):$(N,R))||H);return B>3&&H&&Object.defineProperty(N,R,H),H},Le=function(I){function Texts(){return null!==I&&I.apply(this,arguments)||this}return Re(Texts,I),Texts}(Oe),Pe=function(I){function ClassList(){return null!==I&&I.apply(this,arguments)||this}return Re(ClassList,I),ClassList}(Ae),Me=function(I){function Selectors(){return null!==I&&I.apply(this,arguments)||this}return Re(Selectors,I),Selectors}(Ie),je=function(I){function Elements(){return null!==I&&I.apply(this,arguments)||this}return Re(Elements,I),Elements}(Ne),Fe=(function(I){function AxelPublicationContent(){return null!==I&&I.apply(this,arguments)||this}Re(AxelPublicationContent,I),AxelPublicationContent=ts_decorate([Object(ke.c)(Me,je,Pe,Le)],AxelPublicationContent)}(De),De);we=$("body"),(Te={$target:null,$toggle:null,$li:null,$spinner:null,$ul:$(".tab__nav"),$previous:null,$content:null,isTouched:!1,extraMargin:25,elementvPort:null,$controls:null,pointerPosition:0,cumulativeShift:0,vPort:"screen-sm",isSlide:!1,isMobile:[],backToAccessibility:!0,swipeDisableClass:"arrows-slide__single--disabled",article:null,isGetFTREnabled:!1,isGetFTRReferencesEnabled:!1,isGetFTRCitedByEnabled:!1,init:function init(){var I,N,R;Te.$spinner=$(".tab__spinner"),Te.preselectTab(),Te.elementvPort=Te.vPort,Te.vPort=[],Te.article=document.querySelector("article"),Te.isGetFTREnabled=null===(I=Te.article)||void 0===I?void 0:I.getAttribute("data-getFTR-enabled"),Te.isGetFTRReferencesEnabled=null===(N=Te.article)||void 0===N?void 0:N.getAttribute("data-getFTR-references-enabled"),Te.isGetFTRCitedByEnabled=null===(R=Te.article)||void 0===R?void 0:R.getAttribute("data-getFTR-citedBy-enabled"),$(".tab:not(.tab .tab)").each((function(I){var N=$(this);Te.check.viewPort(I,N),Te.responsive(I,N)})),Te.$controls="<li class='arrows-slide' role='presentation'><i class='icon-arrow_l arrows-slide__single prev'></i> <i class='icon-arrow_r arrows-slide__single next'></i></li>",Te.on.build(),Te.control(),$(".tab__nav a").each((function(){Te.check.empty($(this))}))},preselectTab:function preselectTab(){$(".tab").each((function(){var I=$(this);if(!1===I.data("js-preselect"))return!0;var N=I.find(".tab__nav").find("li.active a"),R=Te.getPaneTarget(N),U=null;!R&&sessionStorage.activeTab&&(U=R=sessionStorage.getItem("activeTab"));var B=R?R.match(/#/):null;if(!R||B&&0===B.index){if(0===I.find(R).length?R=null:U&&sessionStorage.setItem("activeTab",""),""!==location.search){var H=/activeTab=\b[\w-]+$/g;if(H.test(location.search)){var V=location.search.match(H)[0];$("#"+V.split("=")[1]).length&&(R="#"+V.split("=")[1])}}var W=I.find(".tab__nav").find("li:first-of-type a");if(R||(R=Te.getPaneTarget(W)),R&&R.split("#").length<2||""===R)return!0;var z=$("[data-target='"+R+"'], [href='"+R+"']");z.closest(".w-slide__btn").length||(z.click(),I.find(R).addClass("active"))}}))},control:function control(){we.on("click",".tab-link",(function(I){I.preventDefault();var N=$(this),R=$(document).scrollTop();N.attr("data-scroll-back-to",R),Te.triggerExternal(N)})),we.on("click",'[data-mobile-toggle="dropdown"] a, .dropblock--tab a',(function(I){Te.on.select.dropdown($(this)),$(".js--open[data-db-target-for]").length&&UX.dropBlock.on.hide()})),we.on("click",".tab__nav a",(function(){var I=$(this),N=Te.getPaneTarget(I);if($(document).trigger("tabs:changeActiveTab",{tabId:N}),I.parents(".tab").hasClass("tab--lazy-load")&&"true"!==$(N).attr("data-ajaxloaded")&&Te.getContent($(N).find(".tab-lazy")),Te.isGetFTREnabled){var R=UX.getFTR||new Fe;Te.isGetFTRReferencesEnabled&&I[0].classList.contains("references-tab")?R.referencesTab():Te.isGetFTRCitedByEnabled&&I[0].classList.contains("related-tab")&&R.relatedTab()}})),we.on("click touchend",".arrows-slide .next",(function(I){I.preventDefault();var N=$(this).closest(".tab__nav").find(".active"),R=$(this).closest(".tab").find(".tab__content .tab__pane.active");if(N.next().not(".arrows-slide").length>0){var U=N.removeClass("active").next().not(".arrows-slide");U.addClass("active").show(),R.removeClass("active").next().addClass("active"),Te.navToExternal(U),N.next().not(".arrows-slide").next().not(".arrows-slide").length||$(this).addClass(Te.swipeDisableClass),$(this).closest(".arrows-slide").find(".prev").removeClass(Te.swipeDisableClass)}})),we.on("click touchend",".arrows-slide .prev",(function(I){I.preventDefault();var N=$(this).closest(".tab__nav").find(".active"),R=$(this).closest(".tab").find(".tab__content .tab__pane.active");if(N.prev().not(".arrows-slide").length>0){var U=N.removeClass("active").prev().not(".arrows-slide");U.addClass("active").show(),R.removeClass("active").prev().addClass("active"),Te.navToExternal(U),N.prev().not(".arrows-slide").prev().not(".arrows-slide").length||$(this).addClass(Te.swipeDisableClass),$(this).closest(".arrows-slide").find(".next").removeClass(Te.swipeDisableClass)}})),Te.setPostbackActiveTab(Te.getPostbackActiveTab()),Te.additionalControl()},additionalControl:function additionalControl(){},navToExternal:function navToExternal(I){var N=I.find(".external");N.length&&(window.location.href=N.attr("href"))},responsive:function responsive(I,N){$(document).on(Te.vPort[I]+"-on",(function(){if(Te.isMobile[I]=!0,N.data("ctrl-res")===Te.vPort[I]&&(N.addClass("tab--res"),Te.additionalControl(),Te.on.rebuild.responsive(N)),N.closest(".swipe-with-arrows").length){var R=N.find(".tab__nav");if(R.children("li").length>1){var U=R.children("li.active").index(),B=R.children("li").length,H=$(Te.$controls);R.children("li:not(.active)").hide(),U+1===B&&H.find(".next").addClass(Te.swipeDisableClass),0===U&&H.find(".prev").addClass(Te.swipeDisableClass),R.append(H)}}})),$(document).on(Te.vPort[I]+"-off",(function(){Te.isMobile[I]=!1,N.data("ctrl-res")===Te.vPort[I]&&(N.removeClass("tab--res"),Te.on.rebuild.original($(this)));var R=$(".swipe-with-arrows").find(".tab__nav");R.children("li").css("display","inline-block"),R.find(".arrows-slide").remove()}))},animate:{scroll:function scroll(I,N){if(N.length){var R=I.scrollTop(),U=I.position().top,$=N.position().top;I.animate({scrollTop:$-U+R},600)}}},set:{target:function target(I,N,R){I.find(N).length?Te.$target=I.find(N):Te.$target=I.find("[data-figure-id='"+R+"']")}},accessibility:{externalLink:function externalLink(I,N){var R=N.$target.attr("tabindex");N.$target.attr("tabindex",void 0===R?-1:R);var U=$('<button class="btn btn--keyboard-accessible">Go back to content</button>');N.backToAccessibility&&(N.$target.is("a, ul, ol, img, table")||N.$target.is(":input")?N.$target.after(U):N.$target.append(U),U.on("click",(function(){I.focus()})).on("focusout",(function(){$(this).remove()}))),N.$target.on("focusout.tablink",(function(I){var B=$(this);void 0===R&&B.removeAttr("tabindex"),$(I.relatedTarget).is(U)||$(I.relatedTarget).parents().filter(N.$target).length||(U.length&&U.remove(),B.off("focusout.tablink"))})).on("keydown.tablink",(function(N){var R=$(this);27===N.which&&(R.off("keydown.tablink"),I.focus(),U.length&&U.remove())})),N.$target.focus()}},on:{select:{external:function external(I){var N=I.attr("href");N=N.split(" ")[0],Te.$toggle="#"+I.data("tab"),Te.$li=$('.tab__nav [href="'+Te.$toggle+'"]');var R=N.split("#")[1],U=$(Te.$toggle).closest(".tab"),B=function animateScroll(){Te.$content=$(Te.$toggle).parents(".tab__content"),!Te.$content.length&&I.is("[data-slide-target]")&&I.hasClass("slide-active")&&(Te.$content=$(".w-slide__content")),U.hasClass("tab--res")?(Te.isSlide=U.hasClass("tab--slide"),Te.isSlide&&(Te.set.target($(".w-slide__content"),N,R),Te.$target.length&&(Te.animate.scroll($(".w-slide__content"),Te.$target),Te.$target.attr("tab-index","1"),Te.$target.focus()))):(Te.set.target(Te.$content,N,R),Te.animate.scroll(Te.$content,Te.$target),Te.accessibility.externalLink(I,Te))};$(Te.$toggle).is(":visible")?(Te.$li.click(),B()):$(Te.$toggle).hasClass("empty")?($(Te.$toggle).on("content-loaded",(function(){B()})),Te.$li.click()):(Te.$li.click(),B())}},build:function build(){Te.$ul.each((function(I){$(this).is(".swipe__list")&&Te.on.swipeBuild($(this)),$(this).is(".dropblock--tab")&&Te.on.dropdownBuild($(this),I)})),$(".tab--lazy-load").each((function(){Te.getContent($(this).find(".tab__pane.active").find(".tab-lazy"))}))},slideDestroy:function slideDestroy(I){I.find("[data-slide-target]").removeClass("w-slide__btn slide-active")},rebuild:{original:function original(I){Te.$ul=I.find(".tab__nav"),Te.$ul.each((function(I){switch($(this).data("mobile-toggle")||$(this).closest("[data-mobile-toggle]").data("mobile-toggle")){case"swipe":Te.on.swipeDestroy($(this));break;case"dropdown":Te.on.dropdownDestroy($(this));break;case"accordion":Te.on.accordionDestroy($(this));break;case"slide":Te.on.slideDestroy($(this))}})),$(document).trigger("init.bs.tab")},responsive:function responsive(I){Te.$ul=I.find(".tab__nav"),$(".tab__nav").find("[data-slide-target]").addClass("w-slide__btn slide-active"),Te.$ul.each((function(I){switch($(this).data("mobile-toggle")||$(this).closest("[data-mobile-toggle]").data("mobile-toggle")){case"swipe":$(this).parent().is(".scroll")||Te.on.swipeBuild($(this));break;case"dropdown":$(this).parent().is(".dropBlock")||Te.on.dropdownBuild($(this),I);break;case"accordion":$(this).next().hasClass("accordion")||Te.on.accordionBuild($(this))}})),$(document).trigger("init.bs.tab")}}},check:{empty:function empty(I){var N=Te.getPaneTarget(I);if(!I.is('a:not([href^="#"])')&&!I.hasClass("external")){$(N).length||I.addClass("empty");var R=$(N),U=!R.text().trim().length||R.find(".emptyTab").length||R.is(":empty");if(R.length&&U){if(R.addClass("empty"),I.addClass("empty"),R.is("#pane-pcw-related")){var B=R.data("empty-text");R.append('<div class="is-empty">'.concat(B,"</div>")),R.find(".show-recommended-placeholder").length&&$(document).on("showRecommended:loaded",(function(){R.find(".is-empty").remove(),R.removeClass("empty"),I.removeClass("empty")}))}return!0}return R.removeClass("empty"),R.find(".is-empty").remove(),I.removeClass("empty"),!1}},viewPort:function viewPort(I,N){void 0!==N.data("ctrl-res")||""===N.data("ctrl-res")?Te.vPort[I]=N.data("ctrl-res"):(N.data("ctrl-res",Te.elementvPort),Te.vPort[I]=Te.elementvPort)}},triggerExternal:function triggerExternal(I){Te.on.select.external(I)},getPaneTarget:function getPaneTarget(I){return I.data("target")||I.attr("href")},getPostbackActiveTab:function getPostbackActiveTab(){var I="tabActivePane";I=I.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var N=new RegExp("[\\?&]"+I+"=([^&#]*)").exec(location.search);return null==N?"":decodeURIComponent(N[1].replace(/\+/g," "))},setPostbackActiveTab:function setPostbackActiveTab(I){if(""!==I){var N=$("a[data-simple-tab-id='"+I+"']");N.length>0&&N.each((function(){N.trigger("click")}))}},additionalAjaxSuccess:function additionalAjaxSuccess(I){},getContent:function getContent(I){var N=I.attr("data-tabId"),R=I.attr("data-widgetId"),U=encodeURIComponent($("meta[name=pbContext]").attr("content")),B=I.parents(".tab__pane");$.ajax({url:"/pb/widgets/ux3/lazyTabs/loadTab?pbContext="+U+"&tabId="+N+"&widgetId="+R,success:function success(N){B.attr("data-ajaxLoaded","true"),I.replaceWith(N),B.find(".tab__pane.active").find(".tab-lazy").length&&Te.getContent(B.find(".tab__pane.active").find(".tab-lazy")),B.find(">.tab__spinner").hide(),Te.showcaseSlideshowCheck(B.find(".js-showcase-slideshow")),Te.additionalAjaxSuccess(N)},error:function error(){}})},showcaseSlideshowCheck:function showcaseSlideshowCheck(I){I.length&&UX.showcaseSlideshow&&UX.showcaseSlideshow.initInstance(I,UX.showcaseSlideshow.defaultOptions)}}).on.select.dropdown=function(I){("dropdown"===I.closest("ul").data("mobile-toggle")||I.closest("ul").hasClass("dropblock--tab"))&&I.closest(".dropBlock").children("a").find("span").text(I.text())},Te.on.dropdownBuild=function(I,N){UX.dropBlock&&UX.dropBlock.init(),I.wrap('<div class="dropBlock" data-db-parent-of="dbTab-'+N+'"></div>');var R=I.closest(".dropBlock"),U=I.find(".active a");R.prepend('<a href="#"class="dropBlock__link" data-db-target-for="dbTab-'+N+'"><span>'+U.text()+'</span><i class="icon-arrow_d_n" aria-hidden="true"></i></a>'),I.attr("data-db-target-of","dbTab-"+N)},Te.on.dropdownDestroy=function(I){I.closest(".dropBlock").children("a").remove(),I.removeAttr("data-db-target-of").removeClass("js--open").removeAttr("style").unwrap(".dropBlock")},Te.on.swipeBuild=function(I,N){I.wrap('<div class="swipe__wrapper"><div class="scroll"></div></div>'),N||(N=Te.extraMargin,I.closest(".tab__pane").css("display","block"),I.find("li").each((function(I){N+=$(this).innerWidth()})),I.closest(".tab__pane").css("display","")),I.width(N)},Te.on.swipeDestroy=function(I){I.removeAttr("style"),I.unwrap(".scroll").unwrap(".swipe__wrapper")},Te.on.accordionBuild=function(I){I.next(".tab__content").addClass("accordion-tabbed").wrap('<div class="accordion"></div>'),I.find("a").each((function(I){var N=$(this),R=Te.getPaneTarget(N);$(R).addClass("accordion-tabbed__tab").removeClass("tab__pane").wrapInner('<div class="accordion-tabbed__content"></div>'),N.clone().prependTo(R).addClass("accordion-tabbed__control")})),I.hide(),UX.accordion.init(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab").removeClass("js--open").find(".accordion-tabbed__content").hide(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab.active").addClass("js--open").find(".accordion-tabbed__content").show()},Te.on.accordionDestroy=function(I){I.next(".accordion").find(".tab__content").removeClass("accordion-tabbed").unwrap(".accordion").find(".accordion-tabbed__tab").each((function(N){var R=$(this);R.addClass("tab__pane").removeClass("accordion-tabbed__tab js--open");var U=R.find(".accordion-tabbed__content").text();R.html(U),I.show()}));var N=I.next(".tab__content").find(".active").attr("id");I.find(".active").removeClass("active"),$('[href="#'+N+'"]').closest("li").addClass("active")},UX.tab=Te,UX.tab.on.dropdownBuild=function(I,N){UX.dropBlock&&UX.dropBlock.init(),I.wrap('<div class="dropBlock no-auto-width" data-db-parent-of="dbTab-'+N+'"></div>');var R=I.closest(".dropBlock"),U=I.find(".active a");1===I.find(">li").length?(R.prepend("<a href='#' class='dropBlock__link no-pointer-events' data-db-target-for='dbTab-".concat(N,"'><span>").concat(U.text(),"</span></a>")),I.hide()):(R.prepend("<a href='#'class='dropBlock__link' data-db-target-for='dbTab-".concat(N,"'><span>").concat(U.text(),"</span><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><path d='M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z'/></svg></a>")),I.attr("data-db-target-of","dbTab-"+N))};var Ue=".".concat("bs.tab"),$e=z.a.fn.tab,qe={HIDE:"hide".concat(Ue),HIDDEN:"hidden".concat(Ue),SHOW:"show".concat(Ue),SHOWN:"shown".concat(Ue),CLICK_DATA_API:"click".concat(Ue).concat(".data-api")},Be="dropdown-menu",He="active",Ve="disabled",We="fade",ze="show",Ge=".dropdown",Xe=".tab__nav",Ke=".active",Ye="> li > .active, > .active",Qe='.tab__nav > li:not(.arrows-slide), [data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Je=".dropdown-toggle",Ze="> .dropdown-menu .active",ti=function(){function Tab(I){J()(this,Tab),this._element=I}return tt()(Tab,[{key:"show",value:function show(){var I=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&z()(this._element).hasClass(He)||z()(this._element).hasClass(Ve))){var N,R,U=z()(this._element).closest(Xe)[0],$=X.a.getSelectorFromElement(this._element);if(U){var B="UL"===U.nodeName||"OL"===U.nodeName?Ye:Ke;R=(R=z.a.makeArray(z()(U).find(B)))[R.length-1]}var H=z.a.Event(qe.HIDE,{relatedTarget:this._element}),V=z.a.Event(qe.SHOW,{relatedTarget:R});if(R&&z()(R).trigger(H),z()(this._element).trigger(V),!V.isDefaultPrevented()&&!H.isDefaultPrevented()){$&&(N=document.querySelector($)),this._activate(this._element,U);var W=function complete(){var N=z.a.Event(qe.HIDDEN,{relatedTarget:I._element}),U=z.a.Event(qe.SHOWN,{relatedTarget:R});z()(R).trigger(N),z()(I._element).trigger(U)};N?this._activate(N,N.parentNode,W):W()}}}},{key:"dispose",value:function dispose(){z.a.removeData(this._element,"bs.tab"),this._element=null}},{key:"_activate",value:function _activate(I,N,R){var U=this,$=(!N||"UL"!==N.nodeName&&"OL"!==N.nodeName?z()(N).children(Ke):z()(N).find(Ye)).toArray(),B=Se()($,2),H=B[0],V=B[1],W=R&&H&&z()(H).hasClass(We),Q=function complete(){return U._transitionComplete(I,H,R,V)};if(H&&W){var J=X.a.getTransitionDurationFromElement(H);z()(H).removeClass(ze).one(X.a.TRANSITION_END,Q).emulateTransitionEnd(J)}else Q()}},{key:"_transitionComplete",value:function _transitionComplete(I,N,R,U){var $,B=null===($=document)||void 0===$?void 0:$.activeElement;if(N){z()(N).removeClass(He),"a"===(null==U?void 0:U.localName)&&U.classList.remove(He);var H=z()(N.parentNode).find(Ze)[0];H&&z()(H).removeClass(He),"tab"===(null==U?void 0:U.getAttribute("role"))&&U.setAttribute("aria-selected",!1)}if(z()(I).addClass(He),"tab"===(null==B?void 0:B.getAttribute("role"))&&B.setAttribute("aria-selected",!0),X.a.reflow(I),I.classList.contains(We)&&I.classList.add(ze),I.parentNode&&z()(I.parentNode).hasClass(Be)){var V=z()(I).closest(Ge)[0];if(V){var W=[].slice.call(V.querySelectorAll(Je));z()(W).addClass(He)}I.setAttribute("aria-expanded",!0)}R&&R()}}],[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"_jQueryInterface",value:function _jQueryInterface(I){return this.each((function(){var N=z()(this),R=N.data("bs.tab");if(R||(R=new Tab(this),N.data("bs.tab",R)),"string"==typeof I){if(void 0===R[I])throw new TypeError('No method named "'.concat(I,'"'));R[I]()}}))}}]),Tab}();z()(document).on(qe.CLICK_DATA_API,Qe,(function(I){"tab"==z()(this).attr("data-toggle")&&I.preventDefault(),ti._jQueryInterface.call(z()(this),"show")})),z.a.fn.tab=ti._jQueryInterface,z.a.fn.tab.Constructor=ti,z.a.fn.tab.noConflict=function(){return z.a.fn.tab=$e,ti._jQueryInterface};var ei=ti,ii=(R(43),!1),ni=".".concat("bs.tab"),si=pt.b,ri="dropdown-menu",ai="active",oi="fade",li="show",ci=".dropdown",ui=".active",hi=".active",pi='.tab__nav > li:not(.arrows-slide), [data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',di='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',fi=".dropdown-toggle",mi="> .dropdown-menu .active",gi=".tab",vi=".tab__content",bi={HIDE:"hide".concat(ni),HIDDEN:"hidden".concat(ni),SHOW:"show".concat(ni),SHOWN:"shown".concat(ni),CLICK_DATA_API:"click".concat(ni).concat(".data-api")};$(document).off(bi.CLICK_DATA_API,pi),$(document).on(bi.CLICK_DATA_API,di,(function(I){"tab"===$(this).attr("data-toggle")&&I.preventDefault(),ei._jQueryInterface.call($(this),"show"),document.querySelector(".issue-item__authors")&&UX.issueItem.truncate()})),ei.prototype._activate=function(I,N,R){var U=this,B=(!N||"UL"!==N.nodeName&&"OL"!==N.nodeName?$(N).children(ui):$(N).find(hi)).toArray(),H=Se()(B,2),V=H[0],W=H[1],z=R&&V&&$(V).hasClass(oi),Q=function complete(){return U._transitionComplete(I,V,R,W)};if(V&&z){var J=X.a.getTransitionDurationFromElement(V);$(V).removeClass(li).one(X.a.TRANSITION_END,Q).emulateTransitionEnd(J)}else Q()},ei.prototype._transitionComplete=function(I,N,R,U){if(U&&U.classList.remove(ai),N){N.classList.remove(ai),"tab"===(null==N?void 0:N.getAttribute("role"))&&N.setAttribute("aria-selected",!1);var B=$(N.parentNode).find(mi)[0];B&&$(B).removeClass(ai)}if(I.classList.add(ai),"tab"===I.getAttribute("role")&&(I.setAttribute("aria-selected",!0),I.setAttribute("tabindex",0)),X.a.reflow(I),I.classList.contains(oi)&&I.classList.add(li),I.parentNode&&$(I.parentNode).hasClass(ri)){var H=$(I).closest(ci)[0];if(H){var V=[].slice.call(H.querySelectorAll(fi));$(V).addClass(ai)}I.setAttribute("aria-expanded",!0)}R&&R()},function(I){var N=I.tab||{};N.classes=N.classes||{},N.classes.HIDE="hide",N.selectors=N.selectors||{},N.selectors.ACTIVE=".active",N.selectors.DROPBLOCK=".dropBlock",N.selectors.ROLE_TABLIST='[role="tablist"]',N.selectors.ROLE_TAB='[role="tab"]',N.additionalControl=function(){document.querySelectorAll(di).forEach((function(I){N.check.empty($(I))})),document.querySelectorAll(N.selectors.ROLE_TABLIST).forEach((function(I){I.tabs=I.querySelectorAll(N.selectors.ROLE_TAB),I.tabFocus=0,I.addEventListener("keydown",N.on.keyDownHandler),I.addEventListener("click",N.on.mouseClick),N.checkActive(I),N.tabActiveFocus()}))},N.setTabFocusIndexOnLoad=function(I,N){var R=I.querySelector(this.selectors.ACTIVE),U=this.getNodeListElementIndex(N.tabs,R);U<0||(N.tabFocus=U)},N.checkActive=function(I){var R=I.querySelector(N.selectors.ACTIVE);return R?this.setTabFocusIndexOnLoad(R,I):this.setFirstActive(I)},N.tabActiveFocus=function(){var I=document.querySelector(".tab nav"),N=function handleTabFocus(N){var R=null==I?void 0:I.querySelector(".tab__nav__item__link.active");R&&(null==R||R.focus())};null==I||I.addEventListener("focusin",N);document.addEventListener("focusin",(function removeListenerInsideNav(R){R.target.closest("nav")&&(null==I||I.removeEventListener("focusin",N))}));document.addEventListener("focusin",(function addListenerOutsideNav(R){R.target.closest("nav")||null==I||I.addEventListener("focusin",N)}))},N.setFirstActive=function(I){var R=I.querySelector(N.selectors.ACTIVE);ii=window.innerWidth<=767;var U=document.querySelector(".pill--open");if(!(ii&&U||R)){var $=I.querySelector("".concat(N.selectors.ROLE_TAB,":first-of-type"));return null==$||$.click(),$}},N.on.mouseClick=function(I){var R;document.querySelector(".quick-search__searchbox").contains(this.tabs[this.tabFocus])||(null===(R=this.tabs[this.tabFocus])||void 0===R||R.setAttribute("tabindex",-1),I.target&&I.target.matches(".tab__nav__item__link")&&(this.tabFocus=N.getNodeListElementIndex(this.tabs,I.target)))},N.on.keyDownHandler=function(I){[si.LEFT,si.RIGHT].includes(I.keyCode)&&(this.tabs[this.tabFocus].setAttribute("tabindex",-1),[si.RIGHT].includes(I.keyCode)?(this.tabFocus++,this.tabFocus>=this.tabs.length&&(this.tabFocus=0)):[si.LEFT].includes(I.keyCode)&&(this.tabFocus--,this.tabFocus<0&&(this.tabFocus=this.tabs.length-1)),this.tabs[this.tabFocus].setAttribute("tabindex",0),this.tabs[this.tabFocus].focus()),I.keyCode===si.SPACE&&$(this.tabs[this.tabFocus]).click()},N.on.dropdownBuild=function(R,U){I.dropBlock&&I.dropBlock.init(),R.wrap('<div class="dropBlock no-auto-width" data-db-parent-of="dbTab-'+U+'"></div>');var $=R.closest(N.selectors.DROPBLOCK),B=R.find(N.selectors.ACTIVE);1===R.find(">li").length?($.prepend("<a class='dropBlock__link no-pointer-events' ><span>".concat(B.text(),"</span></a>")),R.hide()):($.prepend("<a href='#'class='dropBlock__link' data-db-target-for='dbTab-".concat(U,"'><span>").concat(B.text(),"</span><i class='icon-arrow_down' aria-hidden='true'></i></a>")),R.attr("data-db-target-of","dbTab-"+U))},N.on.swipeBuild=function(I,N){if(I.wrap('<div class="swipe__wrapper"><div class="scroll"></div></div>'),!N){var R;N=0;var U=I[0].closest(gi).cloneNode(!0);null===(R=U.querySelector(vi))||void 0===R||R.remove(),U.visibility="hidden",U.position="absolute",U.left="-9999px",document.body.appendChild(U),N=mt()(U.querySelectorAll("li")).reduce((function(I,N){var R=N.getBoundingClientRect().width,U=window.getComputedStyle(N);return I+R+parseInt(U["margin-left"])+parseInt(U["margin-right"])}),0),U.remove()}I.width(N)},N.check.empty=function(I){if(!I.is('a:not([href^="#"])')&&!I.hasClass("external")){if("BUTTON"===I[0].tagName&&null!==I[0].querySelector("h3")){var R=document.querySelector("nav + ".concat(vi)),U=null==R?void 0:R.querySelector(I[0].getAttribute("data-target")),B=null==U?void 0:U.innerText,H=I[0].closest("ul");if((""===B||null!=U&&U.querySelector(".search-result__no-result"))&&I[0].closest("li").remove(),!H.querySelectorAll("li").length){var V=null==H?void 0:H.closest("div"),W=document.createElement("h4");H.closest("nav").remove(),W.textContent="No data are found.",V.appendChild(W)}}var z=N.getPaneTarget(I),X=$(z),Q=!X.text().trim().length||X.find(".emptyTab").length||X.is(":empty");return X.length||I.parent().addClass(N.classes.HIDE),X.length&&Q&&!N.isPbEditMode()?(X.remove(),I.parent().remove(),!0):(X.removeClass(N.classes.HIDE),I.parent().removeClass(N.classes.HIDE),!1)}},N.isPbEditMode=function(){var I=window.location.search;return new URLSearchParams(I).get("pbEdit")},N.getNodeListElementIndex=function(I,N){return Array.from(I).indexOf(N)},I.tab=N}(UX);R(80),R(81);function _phone_format_validation_callSuper(I,N,R){return N=at()(N),it()(I,function _phone_format_validation_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var _i=function(I){function PhoneFormatValidation(I){var N;return J()(this,PhoneFormatValidation),(N=_phone_format_validation_callSuper(this,PhoneFormatValidation)).form=I,N.isValid=!0,N}return lt()(PhoneFormatValidation,I),tt()(PhoneFormatValidation,[{key:"selectors",get:function get(){return{FORM:"form",FORM_GROUP:".form-group",phone_INPUT:'[type="tel"]',MESSAGE:".message"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"texts",get:function get(){return{MESSAGE:"This is not a valid mobile number."}}},{key:"initialize",value:function initialize(){st()(at()(PhoneFormatValidation.prototype),"initialize",this).call(this)}},{key:"checkPhoneFormat",value:function checkPhoneFormat(){var I=this;this.isValid=!0;var N=this.form.querySelectorAll(this.selectors.phone_INPUT),R="",U="",$=null,B=null;return N.length>0&&N.forEach((function(N){var H,V;if((B=N.closest(I._selectors.FORM_GROUP),N.setAttribute("aria-invalid","false"),$=null===(H=B)||void 0===H?void 0:H.querySelector("[aria-describedby]"),N.classList.remove(I._classList.IS_INVALID),B.classList.remove(I._classList.IS_INVALID),null===(V=B.querySelector(I._selectors.MESSAGE))||void 0===V||V.remove(),R=N.value)&&!new RegExp("^[0-9]+$","gm").test(R)){var W,z,X;N.setAttribute("aria-invalid","true"),N.classList.add(I._classList.IS_INVALID),B.classList.add(I._classList.IS_INVALID),U=I._texts.MESSAGE,null===(W=N.parentElement)||void 0===W||W.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(U,"</div>")),I.isValid=!1;var Q=null===(z=B)||void 0===z?void 0:z.querySelector(".message.error");null==Q||Q.setAttribute("id",null===(X=$)||void 0===X?void 0:X.getAttribute("aria-describedby"))}})),this.isValid}}]),PhoneFormatValidation}(ct.a),yi=R(17),xi=R(22),wi=R(23);function _reset_password_callSuper(I,N,R){return N=at()(N),it()(I,function _reset_password_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var Ti=function(I){function ResetPassword(){var I;return J()(this,ResetPassword),(I=_reset_password_callSuper(this,ResetPassword)).form=document.querySelector(I._selectors.FORM),I.form&&I.initialize(),I}return lt()(ResetPassword,I),tt()(ResetPassword,[{key:"selectors",get:function get(){return{FORM:".reset-password__form",DROPDOWN_TOGGLE:".dropdown-toggle",FORM_GROUP:".form-group",FORM_CONTROL:".form-control",PASSWORD_INPUT_FORMAT_VALIDATE:".js-format-validate"}}},{key:"initialize",value:function initialize(){st()(at()(ResetPassword.prototype),"initialize",this).call(this),this.requiredFieldsValidation=new yi.a(this.form),this.passwordFormatValidation=new xi.a(this.form),this.passwordEqualityValidation=new wi.a(this.form),this.control()}},{key:"control",value:function control(){this.form.setAttribute("novalidate","true"),this.form.addEventListener("submit",this.onSubmit.bind(this))}},{key:"onSubmit",value:function onSubmit(I){var N=I.target.closest(this._selectors.FORM).querySelector(this._selectors.PASSWORD_INPUT_FORMAT_VALIDATE),R=this.checkPasswordFormat(N),U=this.checkPasswordEquality();if(R&&U)return!0;I.preventDefault(),this.focusFirstInvalid(),this.form.scrollIntoView()}},{key:"focusFirstInvalid",value:function focusFirstInvalid(){var I=this.form.querySelector(".form-group.is-invalid"),N=I.querySelector(this._selectors.DROPDOWN_TOGGLE)||I.querySelector(this._selectors.FORM_CONTROL);I.querySelector(".message").setAttribute("aria-live","assertive"),null==N||N.focus()}},{key:"checkPasswordFormat",value:function checkPasswordFormat(I){return this.passwordFormatValidation.checkPasswordFormat(I,!0)}},{key:"checkPasswordEquality",value:function checkPasswordEquality(){return this.passwordEqualityValidation.checkPasswordEquality()}}]),ResetPassword}(ct.a),Ei=R(18),Si=R(21);function _profile_update_callSuper(I,N,R){return N=at()(N),it()(I,function _profile_update_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var ki=function(I){function ProfileUpdate(){var I;return J()(this,ProfileUpdate),(I=_profile_update_callSuper(this,ProfileUpdate)).form=document.querySelector(I._selectors.FORM),I.form&&(I.form.setAttribute("novalidate","true"),I.submitBtn=I.form.querySelector(I._selectors.SUBMIT_BTN),I.initialize()),I}return lt()(ProfileUpdate,I),tt()(ProfileUpdate,[{key:"selectors",get:function get(){return{FORM:'[name="userProfileForm"]',EMAIL_INPUT:'[type="email"]',REQUIRED_FIELD:"[required]",SUBMIT_BTN:".btn-submit",FORM_GROUP:".form-group",FORM_CONTROL:".form-control",FORM_ROW:".form-row",MESSAGE:".message",LABEL:"label"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"texts",get:function get(){return{FILL_FIELD:"This required field was missing. Please enter your %form_label%.",ONLY_ALPHANUMERIC:"Please use only alpha-numeric characters.",SELECT_OPTION:"This required field was missing. Please select your %form_label% from the drop-down."}}},{key:"initialize",value:function initialize(){st()(at()(ProfileUpdate.prototype),"initialize",this).call(this),this.emailFormatValidation=new Ei.a(this.form),this.phoneFormatValidation=new _i(this.form),this.excludedCharacters=new Si.default(this.form),this.control()}},{key:"control",value:function control(){this.form&&this.form.addEventListener("submit",this.onSubmit.bind(this))}},{key:"onSubmit",value:function onSubmit(I){var N=this.validateRequired(),R=this.emailFormatValidation.checkEmailFormat(),U=this.phoneFormatValidation.checkPhoneFormat(),$=this.excludedCharacters.checkExcludedCharacters();return N&&R&&U&&$?(this.addData("submit","submit"),!0):(I.preventDefault(),this.focusFirstInvalid(),this.form.scrollIntoView(),!1)}},{key:"focusFirstInvalid",value:function focusFirstInvalid(){var I=this.form.querySelector(".form-group.is-invalid"),N=I.querySelector("select")||I.querySelector(this._selectors.FORM_CONTROL),R=I.querySelector(".message");null==R||R.setAttribute("aria-live","assertive"),null==N||N.focus()}},{key:"validateRequired",value:function validateRequired(){var I=this,N=!0;return this.form.querySelectorAll(this._selectors.REQUIRED_FIELD).forEach((function(R,U){I.setValid(R),(!R.value||""===R.value||"checkbox"===R.type&&!1===R.checked)&&(I.setInvalid(R),N=!1)}),this),N}},{key:"setValid",value:function setValid(I){var N,R=I.closest(this._selectors.FORM_GROUP);I.setAttribute("aria-invalid","false"),I.classList.remove(this._classList.IS_INVALID),null==R||R.classList.remove(this._classList.IS_INVALID),null==R||null===(N=R.querySelector(this._selectors.MESSAGE))||void 0===N||N.remove(),null==I||I.classList.remove(this._classList.IS_INVALID)}},{key:"setInvalid",value:function setInvalid(I){var N,R,U,$,B,H;I.setAttribute("aria-invalid","true"),I.classList.add(this._classList.IS_INVALID);var V,W,z,X=null,Q=null,J="";if(W=null===(N=V=I.closest(this._selectors.FORM_GROUP))||void 0===N?void 0:N.querySelector(this._selectors.LABEL).innerText.replace(":",""),"INPUT"===I.tagName)Q=null===(z=V)||void 0===z?void 0:z.querySelector("input[aria-describedby]");else if("SELECT"===I.tagName){var Z;Q=null===(Z=V)||void 0===Z?void 0:Z.querySelector("select[aria-describedby]")}switch(null===(R=V)||void 0===R||R.classList.add(this._classList.IS_INVALID),I.name){case"sageCountryInstitution.countryCode":case"sageprofession.profession1":case"sageprofession.profession2":J=this._texts.SELECT_OPTION.replace("%form_label%",Object(xt.a)(W)),(X=I).classList.add(this._classList.IS_INVALID),null===(U=X)||void 0===U||U.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(J,"</div>"));break;case"terms.value":J=this._texts.CONFIRM_TERMS,null===($=I.closest(this._selectors.FORM_ROW))||void 0===$||$.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(J,"</div>"));break;default:J=this._texts.FILL_FIELD.replace("%form_label%",Object(xt.a)(W)),I.insertAdjacentHTML("beforebegin",'<div class="message error">'.concat(J,"</div>"))}var tt=null===(B=V)||void 0===B?void 0:B.querySelector(".message.error");null==tt||tt.setAttribute("id",null===(H=Q)||void 0===H?void 0:H.getAttribute("aria-describedby"))}},{key:"addData",value:function addData(I){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",R=this.form.querySelector('[name="'+I+'"]');R&&(N=R.getAttribute("value"),R.removeAttribute("name"));var U=document.createElement("input");U.setAttribute("name",I),U.setAttribute("value",N),U.setAttribute("type","hidden"),this.form.appendChild(U)}}]),ProfileUpdate}(ct.a);R(82);function _registration_callSuper(I,N,R){return N=at()(N),it()(I,function _registration_isNativeReflectConstruct(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(I){}return function _isNativeReflectConstruct(){return!!I}()}()?Reflect.construct(N,R||[],at()(I).constructor):N.apply(I,R))}var Ci=function(I){function Registration(){var I;return J()(this,Registration),(I=_registration_callSuper(this,Registration)).form=document.querySelector(I._selectors.FORM),I.form&&(I.form.setAttribute("novalidate","true"),I.form.setAttribute("autocomplete","off"),I.passwordInputs=I.form.querySelectorAll(I._selectors.PASSWORD_INPUT),I.submitBtn=I.form.querySelector(I._selectors.SUBMIT_BTN),I.initialize()),I}return lt()(Registration,I),tt()(Registration,[{key:"selectors",get:function get(){return{FORM:'[name="regForm"]',PASSWORD_INPUT:'[type="password"]',EMAIL_INPUT:'[type="email"]',SWITCHER:".custom-control-input",PASSWORD_INPUT_FORMAT_VALIDATE:".js-format-validate",REQUIRED_FIELD:"[required]",SUBMIT_BTN:".btn-submit",FORM_GROUP:".form-group",FORM_CONTROL:".form-control",FORM_ROW:".form-row",MESSAGE:".message",LABEL:"label",GLOBAL_ERROR:".global-error"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid",ERROR:"error",GLOBAL_ERROR:"global-error"}}},{key:"texts",get:function get(){return{REGISTRATION_CANNOT_BE_COMPLETED:"Your registration cannot be completed. Missing fields and other types of errors are highlighted in red.",FILL_FIELD:"This required field was missing. Please enter your %form_label%.",ONLY_ALPHANUMERIC:"Please use only alpha-numeric characters.",SELECT_OPTION:"This required field was missing. Please select your %form_label% from the drop-down.",CONFIRM_TERMS:"Please, confirm that you have read and agreed to the Privacy Policy and the Terms and Conditions.",WRONG_EMAIL_FORMAT:"Email has wrong format."}}},{key:"initialize",value:function initialize(){st()(at()(Registration.prototype),"initialize",this).call(this),this.requiredFieldsValidation=new yi.a(this.form),this.passwordFormatValidation=new xi.a(this.form),this.passwordEqualityValidation=new wi.a(this.form),this.emailFormatValidation=new Ei.a(this.form),this.excludedCharacters=new Si.default(this.form),this.control()}},{key:"control",value:function control(){if(this.form){var I=this.form.querySelector(this._selectors.SWITCHER);I&&I.addEventListener("click",this.onSwitcherClick),this.form.addEventListener("submit",this.onSubmitHandler.bind(this))}}},{key:"onSubmitHandler",value:function onSubmitHandler(I){var N=this.requiredFieldsValidation.checkRequired(),R=this.checkPasswordFormat(I.target.closest(this._selectors.FORM).querySelector(this._selectors.PASSWORD_INPUT_FORMAT_VALIDATE)),U=this.emailFormatValidation.checkEmailFormat(),$=this.excludedCharacters.checkExcludedCharacters();return N&&R&&U&&$?(this.addData("submit","submit"),!0):(I.preventDefault(),this.form.insertAdjacentElement("afterbegin",this.createErrorMessage(this._texts.REGISTRATION_CANNOT_BE_COMPLETED)),this.focusFirstInvalid(),this.form.scrollIntoView(),!1)}},{key:"createErrorMessage",value:function createErrorMessage(I){var N=document.querySelector(this._selectors.GLOBAL_ERROR);return N||((N=document.createElement("div")).classList.add(this._classList.ERROR),N.classList.add(this._classList.GLOBAL_ERROR),N.setAttribute("aria-live","assertive")),N.innerText=I,N}},{key:"focusFirstInvalid",value:function focusFirstInvalid(){var I=this.form.querySelector(".form-group.is-invalid"),N=I.querySelector("select")||I.querySelector(this._selectors.FORM_CONTROL);null==N||N.focus()}},{key:"checkPasswordFormat",value:function checkPasswordFormat(I){return this.passwordFormatValidation.checkPasswordFormat(I,!0)}},{key:"addData",value:function addData(I){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",R=this.form.querySelector('[name="'+I+'"]');R&&R.removeAttribute("name");var U=document.createElement("input");U.setAttribute("name",I),U.setAttribute("value",N),U.setAttribute("type","hidden"),this.form.appendChild(U)}},{key:"onSwitcherClick",value:function onSwitcherClick(){var I=$(this);I.is(":checked")?I.attr("aria-checked","true"):I.attr("aria-checked","false")}}]),Registration}(ct.a);R(83);UX,$(document).ready((function(){Object(pt.e)("commerce",(function(){commerce.CartIndicatorWidget.prototype.update=function(I){var N=this.find('[data-id="cart-size"]'),R=this.find("#cartLabel"),U=R.find('[class^="icon-"], [class*="icon-"]'),$="";0===I.size?(N.hide(),N.html(I.size),$="Empty cart",R.attr("alt",$),R.attr("aria-label",R.attr("aria-label")+": "+$),U.attr("class","icon-shopping_cart")):(N.show("hidden"),N.removeClass("hidden"),N.html(I.size),$=I.size+" item"+(I.size>1?"s":"")+" in cart",R.attr("alt",$),R.attr("aria-label","Shopping Cart: "+$),U.attr("class","icon-cart-filled"))}})),window.addEventListener("load",(function(I){var N=document.querySelector("#cartLabel");null==N||N.setAttribute("aria-label","Shopping Cart: "+N.getAttribute("alt"))}))})),function(I){var N={widget:null,radios:null,selectors:{WIDGET_CONTAINER:".eCommercePurchaseAccessWidget",RADIO:'[type="radio"]',ADD_TO_CART_BUTTON:'[data-bind="addItem"]',ADDED_MESSAGE:".addedMessage"},init:function init(){var I;this.widget=document.querySelector(this.selectors.WIDGET_CONTAINER),this.radios=null===(I=this.widget)||void 0===I?void 0:I.querySelectorAll(this.selectors.RADIO),this.widget&&this.radios.length>0&&this.control()},control:function control(){this.radios.forEach((function(I){(I.addEventListener("change",N.onChangeHandler),I.checked)&&N.onChangeHandler.bind(I)()}))},addToCart:function addToCart(){N.radios.forEach((function(I){I.setAttribute("disabled",!0)}))},onChangeHandler:function onChangeHandler(I){var R=this.dataset.key,U=N.widget.querySelector(N.selectors.ADD_TO_CART_BUTTON);U.dataset.key=R,U.dataset.entity=R,U.classList.remove("disabled"),U.setAttribute("aria-disabled","false"),U.addEventListener("click",N.addToCart),N.widget.querySelector(N.selectors.ADDED_MESSAGE).dataset.item=R}};I.purchaseOptions=N,$(document).ready((function(){I.purchaseOptions.init(),Object(pt.e)("commerce",(function(){commerce.cart.buyingList.refresh=function(I){commerce.cart.notify(commerce.cart.buyingList,I)}}))}))}(UX);var Oi;R(84);UX,Oi={selectors:{ITEM_CONTAINER:".item-container",ITEM_TITLE:".item-title"},overrides:function overrides(){var I="";commerce.cart.buyingList.remove=function(N){I=document.querySelector("[data-item-id='".concat(N,"']")).closest(Oi.selectors.ITEM_CONTAINER).querySelector(Oi.selectors.ITEM_TITLE).innerText,literatum.utils.send({action:"removeCartItem",id:N},commerce.cart.buyingList.sageRefresh,void 0)},commerce.cart.buyingList.sageRefresh=function(N){commerce.cart.buyingList.refresh(N),Object(pt.c)(!0,"".concat(I," has been removed from your shopping cart"))}}},$(document).ready((function(){Object(pt.e)("commerce",(function(){Object(pt.e)("literatum",Oi.overrides)}))})),UX,$(document).ready((function(){Object(pt.e)("literatum",(function(){literatum.Widget.prototype.updateView=function(I,N){var R=this.get(),U=$(I.trim());U.length>0?(R.replaceWith(U),this.$element=$("*[widget-id='"+U.attr("widget-id")+"']"),0===this.$element.length&&U.attr("id")&&(this.$element=$("#"+U.attr("id"))),0===this.$element.length&&(this.$element=$("*[data-widget-id='"+U.attr("data-widget-id")+"']"))):this.$element.html(""),this.registerListeners(),this.triggerInfoHandlers(this,N)}}))}));R(85),R(86),R(87),R(88),R(89),R(90),R(91),R(92),R(93),R(94),R(95),R(96),R(97),R(98);function _regeneratorRuntime(){/*!regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE*/_regeneratorRuntime=function _regeneratorRuntime(){return N};var I,N={},R=Object.prototype,U=R.hasOwnProperty,$=Object.defineProperty||function(I,N,R){I[N]=R.value},H="function"==typeof Symbol?Symbol:{},V=H.iterator||"@@iterator",W=H.asyncIterator||"@@asyncIterator",z=H.toStringTag||"@@toStringTag";function define(I,N,R){return Object.defineProperty(I,N,{value:R,enumerable:!0,configurable:!0,writable:!0}),I[N]}try{define({},"")}catch(I){define=function define(I,N,R){return I[N]=R}}function wrap(I,N,R,U){var B=N&&N.prototype instanceof Generator?N:Generator,H=Object.create(B.prototype),V=new Context(U||[]);return $(H,"_invoke",{value:makeInvokeMethod(I,R,V)}),H}function tryCatch(I,N,R){try{return{type:"normal",arg:I.call(N,R)}}catch(I){return{type:"throw",arg:I}}}N.wrap=wrap;var X="suspendedStart",Q="executing",J="completed",Z={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var tt={};define(tt,V,(function(){return this}));var et=Object.getPrototypeOf,it=et&&et(et(values([])));it&&it!==R&&U.call(it,V)&&(tt=it);var nt=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(tt);function defineIteratorMethods(I){["next","throw","return"].forEach((function(N){define(I,N,(function(I){return this._invoke(N,I)}))}))}function AsyncIterator(I,N){function invoke(R,$,H,V){var W=tryCatch(I[R],I,$);if("throw"!==W.type){var z=W.arg,X=z.value;return X&&"object"==B()(X)&&U.call(X,"__await")?N.resolve(X.__await).then((function(I){invoke("next",I,H,V)}),(function(I){invoke("throw",I,H,V)})):N.resolve(X).then((function(I){z.value=I,H(z)}),(function(I){return invoke("throw",I,H,V)}))}V(W.arg)}var R;$(this,"_invoke",{value:function value(I,U){function callInvokeWithMethodAndArg(){return new N((function(N,R){invoke(I,U,N,R)}))}return R=R?R.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(N,R,U){var $=X;return function(B,H){if($===Q)throw new Error("Generator is already running");if($===J){if("throw"===B)throw H;return{value:I,done:!0}}for(U.method=B,U.arg=H;;){var V=U.delegate;if(V){var W=maybeInvokeDelegate(V,U);if(W){if(W===Z)continue;return W}}if("next"===U.method)U.sent=U._sent=U.arg;else if("throw"===U.method){if($===X)throw $=J,U.arg;U.dispatchException(U.arg)}else"return"===U.method&&U.abrupt("return",U.arg);$=Q;var z=tryCatch(N,R,U);if("normal"===z.type){if($=U.done?J:"suspendedYield",z.arg===Z)continue;return{value:z.arg,done:U.done}}"throw"===z.type&&($=J,U.method="throw",U.arg=z.arg)}}}function maybeInvokeDelegate(N,R){var U=R.method,$=N.iterator[U];if($===I)return R.delegate=null,"throw"===U&&N.iterator.return&&(R.method="return",R.arg=I,maybeInvokeDelegate(N,R),"throw"===R.method)||"return"!==U&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+U+"' method")),Z;var B=tryCatch($,N.iterator,R.arg);if("throw"===B.type)return R.method="throw",R.arg=B.arg,R.delegate=null,Z;var H=B.arg;return H?H.done?(R[N.resultName]=H.value,R.next=N.nextLoc,"return"!==R.method&&(R.method="next",R.arg=I),R.delegate=null,Z):H:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,Z)}function pushTryEntry(I){var N={tryLoc:I[0]};1 in I&&(N.catchLoc=I[1]),2 in I&&(N.finallyLoc=I[2],N.afterLoc=I[3]),this.tryEntries.push(N)}function resetTryEntry(I){var N=I.completion||{};N.type="normal",delete N.arg,I.completion=N}function Context(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(pushTryEntry,this),this.reset(!0)}function values(N){if(N||""===N){var R=N[V];if(R)return R.call(N);if("function"==typeof N.next)return N;if(!isNaN(N.length)){var $=-1,H=function next(){for(;++$<N.length;)if(U.call(N,$))return next.value=N[$],next.done=!1,next;return next.value=I,next.done=!0,next};return H.next=H}}throw new TypeError(B()(N)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,$(nt,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),$(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,z,"GeneratorFunction"),N.isGeneratorFunction=function(I){var N="function"==typeof I&&I.constructor;return!!N&&(N===GeneratorFunction||"GeneratorFunction"===(N.displayName||N.name))},N.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,GeneratorFunctionPrototype):(I.__proto__=GeneratorFunctionPrototype,define(I,z,"GeneratorFunction")),I.prototype=Object.create(nt),I},N.awrap=function(I){return{__await:I}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,W,(function(){return this})),N.AsyncIterator=AsyncIterator,N.async=function(I,R,U,$,B){void 0===B&&(B=Promise);var H=new AsyncIterator(wrap(I,R,U,$),B);return N.isGeneratorFunction(R)?H:H.next().then((function(I){return I.done?I.value:H.next()}))},defineIteratorMethods(nt),define(nt,z,"Generator"),define(nt,V,(function(){return this})),define(nt,"toString",(function(){return"[object Generator]"})),N.keys=function(I){var N=Object(I),R=[];for(var U in N)R.push(U);return R.reverse(),function next(){for(;R.length;){var I=R.pop();if(I in N)return next.value=I,next.done=!1,next}return next.done=!0,next}},N.values=values,Context.prototype={constructor:Context,reset:function reset(N){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(resetTryEntry),!N)for(var R in this)"t"===R.charAt(0)&&U.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=I)},stop:function stop(){this.done=!0;var I=this.tryEntries[0].completion;if("throw"===I.type)throw I.arg;return this.rval},dispatchException:function dispatchException(N){if(this.done)throw N;var R=this;function handle(U,$){return H.type="throw",H.arg=N,R.next=U,$&&(R.method="next",R.arg=I),!!$}for(var $=this.tryEntries.length-1;$>=0;--$){var B=this.tryEntries[$],H=B.completion;if("root"===B.tryLoc)return handle("end");if(B.tryLoc<=this.prev){var V=U.call(B,"catchLoc"),W=U.call(B,"finallyLoc");if(V&&W){if(this.prev<B.catchLoc)return handle(B.catchLoc,!0);if(this.prev<B.finallyLoc)return handle(B.finallyLoc)}else if(V){if(this.prev<B.catchLoc)return handle(B.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return handle(B.finallyLoc)}}}},abrupt:function abrupt(I,N){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.tryLoc<=this.prev&&U.call($,"finallyLoc")&&this.prev<$.finallyLoc){var B=$;break}}B&&("break"===I||"continue"===I)&&B.tryLoc<=N&&N<=B.finallyLoc&&(B=null);var H=B?B.completion:{};return H.type=I,H.arg=N,B?(this.method="next",this.next=B.finallyLoc,Z):this.complete(H)},complete:function complete(I,N){if("throw"===I.type)throw I.arg;return"break"===I.type||"continue"===I.type?this.next=I.arg:"return"===I.type?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):"normal"===I.type&&N&&(this.next=N),Z},finish:function finish(I){for(var N=this.tryEntries.length-1;N>=0;--N){var R=this.tryEntries[N];if(R.finallyLoc===I)return this.complete(R.completion,R.afterLoc),resetTryEntry(R),Z}},catch:function _catch(I){for(var N=this.tryEntries.length-1;N>=0;--N){var R=this.tryEntries[N];if(R.tryLoc===I){var U=R.completion;if("throw"===U.type){var $=U.arg;resetTryEntry(R)}return $}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(N,R,U){return this.delegate={iterator:values(N),resultName:R,nextLoc:U},"next"===this.method&&(this.arg=I),Z}},N}var Ai=function main(I){var N=Array.prototype.slice.call(document.querySelectorAll("body")),R=Array.prototype.slice.call(document.getElementsByClassName("password-recaptcha-ajax")),U=Array.prototype.slice.call(document.getElementsByClassName("js-copy-to-clipboard")),$=Array.prototype.slice.call(document.querySelectorAll("[data-autodismiss]")),B=Array.prototype.slice.call(document.querySelectorAll("body")),H=Array.prototype.slice.call(document.querySelectorAll("body")),V=Array.prototype.slice.call(document.querySelectorAll('[data-toggle="transplant"]')),W=Array.prototype.slice.call(document.getElementsByClassName("table--sortable")),z=Array.prototype.slice.call(document.querySelectorAll('[name="getAccessChinaLabel"]')),X=Array.prototype.slice.call(document.getElementsByClassName("js--selectable")),Q=Array.prototype.slice.call(document.getElementsByClassName("expandable-list")),J=Array.prototype.slice.call(document.querySelectorAll("body")),Z=Array.prototype.slice.call(document.querySelectorAll("body")),tt=Array.prototype.slice.call(document.querySelectorAll(".twitter-feed--horizontal, .twitter-timeline")),et=Array.prototype.slice.call(document.querySelectorAll("body")),it=Array.prototype.slice.call(document.querySelectorAll("body")),nt=Array.prototype.slice.call(document.querySelectorAll("body")),st=Array.prototype.slice.call(document.querySelectorAll("body")),rt=Array.prototype.slice.call(document.querySelectorAll("body")),at=Array.prototype.slice.call(document.querySelectorAll("body")),ot=Array.prototype.slice.call(document.querySelectorAll("body"));try{N.length&&(I.SearchUtil=new ht(N))}catch(I){console.error(I)}try{R.length&&I.insertCaptcha.init(R)}catch(I){console.error(I)}try{U.length&&I.copyToClipboard.init(U)}catch(I){console.error(I)}try{$.length&&I.autoDismiss.init($)}catch(I){console.error(I)}try{B.length&&I.ariaLive.init(B)}catch(I){console.error(I)}try{H.length&&I.selectableDropdown.init(H)}catch(I){console.error(I)}try{I.controller.init()}catch(I){console.error(I)}try{V.length&&I.transplant.init(V)}catch(I){console.error(I)}try{W.length&&I.sortableTable.init(W)}catch(I){console.error(I)}try{z.length&&(I.ChinaRegionUtils=new dt(z))}catch(I){console.error(I)}try{X.length&&(I.CreateSelectableDropdown=new _t(X))}catch(I){console.error(I)}try{Q.length&&I.list.init(Q)}catch(I){console.error(I)}try{I.fieldsCtrl.init()}catch(I){console.error(I)}try{J.length&&(I.A11y=new wt(J))}catch(I){console.error(I)}try{I.tab.init()}catch(I){console.error(I)}try{Z.length&&I.journalCoverBox.init(Z)}catch(I){console.error(I)}try{tt.length&&I.tweets.init(tt)}catch(I){console.error(I)}try{et.length&&(I.PhoneFormatValidation=new _i(et))}catch(I){console.error(I)}try{it.length&&(I.RequiredFieldsValidation=new yi.a(it))}catch(I){console.error(I)}try{nt.length&&(I.ResetPassword=new Ti(nt))}catch(I){console.error(I)}try{st.length&&(I.ProfileUpdate=new ki(st))}catch(I){console.error(I)}try{rt.length&&(I.Registration=new Ci(rt))}catch(I){console.error(I)}try{at.length&&(I.EmailFormatValidation=new Ei.a(at))}catch(I){console.error(I)}try{ot.length&&I.doLogin.init(ot)}catch(I){console.error(I)}},Ii=function(){var I=V()(_regeneratorRuntime().mark((function _callee2(){var I,N,U,$;return _regeneratorRuntime().wrap((function _callee2$(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,R.e(50).then(R.bind(null,856));case 2:return I=B.sent,N=I.default,B.t0=Object,B.next=7,N(UX);case 7:return B.t1=B.sent,U=B.t0.values.call(B.t0,B.t1),B.t2=U,B.next=12,R.e(37).then(R.t.bind(null,857,7));case 12:return B.t3=B.sent,B.t2.push.call(B.t2,B.t3),$=new Promise((function(I){window.requestIdleCallback(V()(_regeneratorRuntime().mark((function _callee(){var N,U;return _regeneratorRuntime().wrap((function _callee$($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Promise.all([R.e(53),R.e(30)]).then(R.bind(null,859));case 2:return N=$.sent,U=N.default,$.next=6,U(UX);case 6:I();case 7:case"end":return $.stop()}}),_callee)}))),{timeout:5e3})})),U.push($),B.abrupt("return",Promise.all(U));case 17:case"end":return B.stop()}}),_callee2)})));return function importPromises(){return I.apply(this,arguments)}}();(function(){var I=V()(_regeneratorRuntime().mark((function _callee3(I){return _regeneratorRuntime().wrap((function _callee3$(N){for(;;)switch(N.prev=N.next){case 0:if(!(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1)){N.next=4;break}return N.next=4,R.e(52).then(R.bind(null,858));case 4:return Ai(I),N.next=7,Ii();case 7:try{I.abLogger.init()}catch(I){console.error(I)}try{I.enquireIt.init()}catch(I){console.error(I)}case 9:case"end":return N.stop()}}),_callee3)})));return function build(N){return I.apply(this,arguments)}})()(UX).then((function(){console.debug("JS LOADED")}))}]);