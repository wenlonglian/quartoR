var __async=(t,i,r)=>new Promise(((o,n)=>{var a=t=>{try{b(r.next(t))}catch(i){n(i)}},e=t=>{try{b(r.throw(t))}catch(i){n(i)}},b=t=>t.done?o(t.value):Promise.resolve(t.value).then(a,e);b((r=r.apply(t,i)).next())}));!function(){"use strict";(t=>{__async(this,null,(function*(){window.__ribbonStyles='@import"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap";.ribbon-widget *,.ribbon-widget :before,.ribbon-widget :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.ribbon-widget :before,.ribbon-widget :after{--tw-content: ""}.ribbon-widget html,.ribbon-widget :host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,Helvetica,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}.ribbon-widget body{margin:0;line-height:inherit}.ribbon-widget hr{height:0;color:inherit;border-top-width:1px}.ribbon-widget abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.ribbon-widget h1,.ribbon-widget h2,.ribbon-widget h3,.ribbon-widget h4,.ribbon-widget h5,.ribbon-widget h6{font-size:inherit;font-weight:inherit}.ribbon-widget a{color:inherit;text-decoration:inherit}.ribbon-widget b,.ribbon-widget strong{font-weight:bolder}.ribbon-widget code,.ribbon-widget kbd,.ribbon-widget samp,.ribbon-widget pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}.ribbon-widget small{font-size:80%}.ribbon-widget sub,.ribbon-widget sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.ribbon-widget sub{bottom:-.25em}.ribbon-widget sup{top:-.5em}.ribbon-widget table{text-indent:0;border-color:inherit;border-collapse:collapse}.ribbon-widget button,.ribbon-widget input,.ribbon-widget optgroup,.ribbon-widget select,.ribbon-widget textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}.ribbon-widget button,.ribbon-widget select{text-transform:none}.ribbon-widget button,.ribbon-widget [type=button],.ribbon-widget [type=reset],.ribbon-widget [type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}.ribbon-widget :-moz-focusring{outline:auto}.ribbon-widget :-moz-ui-invalid{box-shadow:none}.ribbon-widget progress{vertical-align:baseline}.ribbon-widget ::-webkit-inner-spin-button,.ribbon-widget ::-webkit-outer-spin-button{height:auto}.ribbon-widget [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.ribbon-widget ::-webkit-search-decoration{-webkit-appearance:none}.ribbon-widget ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.ribbon-widget summary{display:list-item}.ribbon-widget blockquote,.ribbon-widget dl,.ribbon-widget dd,.ribbon-widget h1,.ribbon-widget h2,.ribbon-widget h3,.ribbon-widget h4,.ribbon-widget h5,.ribbon-widget h6,.ribbon-widget hr,.ribbon-widget figure,.ribbon-widget p,.ribbon-widget pre{margin:0}.ribbon-widget fieldset{margin:0;padding:0}.ribbon-widget legend{padding:0}.ribbon-widget ol,.ribbon-widget ul,.ribbon-widget menu{list-style:none;margin:0;padding:0}.ribbon-widget dialog{padding:0}.ribbon-widget textarea{resize:vertical}.ribbon-widget input::-moz-placeholder,.ribbon-widget textarea::-moz-placeholder{opacity:1;color:#9ca3af}.ribbon-widget input::placeholder,.ribbon-widget textarea::placeholder{opacity:1;color:#9ca3af}.ribbon-widget button,.ribbon-widget [role=button]{cursor:pointer}.ribbon-widget :disabled{cursor:default}.ribbon-widget img,.ribbon-widget svg,.ribbon-widget video,.ribbon-widget canvas,.ribbon-widget audio,.ribbon-widget iframe,.ribbon-widget embed,.ribbon-widget object{display:block;vertical-align:middle}.ribbon-widget img,.ribbon-widget video{max-width:100%;height:auto}.ribbon-widget [hidden]{display:none}.ribbon-widget *,.ribbon-widget :before,.ribbon-widget :after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.ribbon-widget ::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.ribbon-widget .container{width:100%}.ribbon-widget .pointer-events-none{pointer-events:none!important}.ribbon-widget .\\!visible,.ribbon-widget .visible{visibility:visible!important}.ribbon-widget .invisible{visibility:hidden!important}.ribbon-widget .fixed{position:fixed!important}.ribbon-widget .absolute{position:absolute!important}.ribbon-widget .relative{position:relative!important}.ribbon-widget .sticky{position:sticky!important}.ribbon-widget .inset-0{inset:0!important}.ribbon-widget .-right-\\[24px\\]{right:-24px!important}.ribbon-widget .-top-3{top:-12px!important}.ribbon-widget .-top-\\[160px\\]{top:-160px!important}.ribbon-widget .left-0{left:0!important}.ribbon-widget .left-1\\/2{left:50%!important}.ribbon-widget .right-0{right:0!important}.ribbon-widget .right-4{right:16px!important}.ribbon-widget .right-\\[3\\.2px\\]{right:3.2px!important}.ribbon-widget .right-\\[56px\\]{right:56px!important}.ribbon-widget .right-\\[calc\\(50\\%-40px\\)\\]{right:calc(50% - 40px)!important}.ribbon-widget .right-\\[calc\\(50\\%-64px\\)\\]{right:calc(50% - 64px)!important}.ribbon-widget .right-\\[calc\\(50\\%-72px\\)\\]{right:calc(50% - 72px)!important}.ribbon-widget .top-0{top:0!important}.ribbon-widget .top-1\\/2{top:50%!important}.ribbon-widget .top-4{top:16px!important}.ribbon-widget .top-\\[64px\\]{top:64px!important}.ribbon-widget .z-10{z-index:10!important}.ribbon-widget .z-20{z-index:20!important}.ribbon-widget .z-\\[2147483647\\]{z-index:2147483647!important}.ribbon-widget .col-span-2{grid-column:span 2 / span 2!important}.ribbon-widget .col-span-full{grid-column:1 / -1!important}.ribbon-widget .m-0{margin:0!important}.ribbon-widget .m-1{margin:4px!important}.ribbon-widget .m-10{margin:40px!important}.ribbon-widget .m-3{margin:12px!important}.ribbon-widget .mx-auto{margin-left:auto!important;margin-right:auto!important}.ribbon-widget .my-3{margin-top:12px!important;margin-bottom:12px!important}.ribbon-widget .-mt-1{margin-top:-4px!important}.ribbon-widget .-mt-2{margin-top:-8px!important}.ribbon-widget .mb-0{margin-bottom:0!important}.ribbon-widget .mb-3{margin-bottom:12px!important}.ribbon-widget .mb-6{margin-bottom:24px!important}.ribbon-widget .me-12{margin-inline-end:48px!important}.ribbon-widget .ml-6{margin-left:24px!important}.ribbon-widget .mr-8{margin-right:32px!important}.ribbon-widget .mr-\\[2px\\]{margin-right:2px!important}.ribbon-widget .mr-\\[64px\\]{margin-right:64px!important}.ribbon-widget .mt-1{margin-top:4px!important}.ribbon-widget .mt-3{margin-top:12px!important}.ribbon-widget .mt-auto{margin-top:auto!important}.ribbon-widget .\\!block,.ribbon-widget .block{display:block!important}.ribbon-widget .inline-block{display:inline-block!important}.ribbon-widget .flex{display:flex!important}.ribbon-widget .grid{display:grid!important}.ribbon-widget .contents{display:contents!important}.ribbon-widget .hidden{display:none!important}.ribbon-widget .aspect-\\[9\\/19\\.5\\]{aspect-ratio:9/19.5!important}.ribbon-widget .aspect-square{aspect-ratio:1 / 1!important}.ribbon-widget .h-0{height:0!important}.ribbon-widget .h-12{height:48px!important}.ribbon-widget .h-20{height:80px!important}.ribbon-widget .h-3{height:12px!important}.ribbon-widget .h-4{height:16px!important}.ribbon-widget .h-5{height:20px!important}.ribbon-widget .h-6{height:24px!important}.ribbon-widget .h-8{height:32px!important}.ribbon-widget .h-\\[100dvh\\]{height:100dvh!important}.ribbon-widget .h-\\[15\\.2px\\]{height:15.2px!important}.ribbon-widget .h-\\[24px\\]{height:24px!important}.ribbon-widget .h-\\[2px\\]{height:2px!important}.ribbon-widget .h-\\[48px\\]{height:48px!important}.ribbon-widget .h-\\[56px\\]{height:56px!important}.ribbon-widget .h-\\[72px\\]{height:72px!important}.ribbon-widget .h-\\[80px\\]{height:80px!important}.ribbon-widget .h-\\[9px\\]{height:9px!important}.ribbon-widget .h-\\[calc\\(100\\%-64px\\)\\]{height:calc(100% - 64px)!important}.ribbon-widget .h-auto{height:auto!important}.ribbon-widget .h-full{height:100%!important}.ribbon-widget .max-h-9{max-height:36px!important}.ribbon-widget .max-h-\\[104px\\]{max-height:104px!important}.ribbon-widget .max-h-\\[calc\\(100vh-16px\\)\\]{max-height:calc(100vh - 16px)!important}.ribbon-widget .max-h-full{max-height:100%!important}.ribbon-widget .max-h-screen{max-height:100vh!important}.ribbon-widget .min-h-\\[36px\\]{min-height:36px!important}.ribbon-widget .min-h-\\[56px\\]{min-height:56px!important}.ribbon-widget .w-0{width:0!important}.ribbon-widget .w-12{width:48px!important}.ribbon-widget .w-4{width:16px!important}.ribbon-widget .w-5{width:20px!important}.ribbon-widget .w-6{width:24px!important}.ribbon-widget .w-8{width:32px!important}.ribbon-widget .w-\\[24\\.8px\\]{width:24.8px!important}.ribbon-widget .w-\\[24px\\]{width:24px!important}.ribbon-widget .w-\\[400px\\]{width:400px!important}.ribbon-widget .w-\\[42px\\]{width:42px!important}.ribbon-widget .w-\\[48px\\]{width:48px!important}.ribbon-widget .w-\\[50\\%\\]{width:50%!important}.ribbon-widget .w-\\[72px\\]{width:72px!important}.ribbon-widget .w-\\[80px\\]{width:80px!important}.ribbon-widget .w-auto{width:auto!important}.ribbon-widget .w-fit{width:-moz-fit-content!important;width:fit-content!important}.ribbon-widget .w-full{width:100%!important}.ribbon-widget .min-w-\\[164\\.75px\\]{min-width:164.75px!important}.ribbon-widget .min-w-\\[400px\\]{min-width:400px!important}.ribbon-widget .min-w-\\[48px\\]{min-width:48px!important}.ribbon-widget .max-w-\\[1000px\\]{max-width:1000px!important}.ribbon-widget .max-w-\\[350px\\]{max-width:350px!important}.ribbon-widget .max-w-\\[700px\\]{max-width:700px!important}.ribbon-widget .max-w-full{max-width:100%!important}.ribbon-widget .flex-1{flex:1 1 0%!important}.ribbon-widget .flex-\\[0_0_320px\\]{flex:0 0 320px!important}.ribbon-widget .-translate-x-\\[50\\%\\]{--tw-translate-x: -50% !important;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.ribbon-widget .-translate-y-\\[50\\%\\]{--tw-translate-y: -50% !important;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.ribbon-widget .scale-0{--tw-scale-x: 0 !important;--tw-scale-y: 0 !important;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.ribbon-widget .scale-\\[0\\.8\\]{--tw-scale-x: .8 !important;--tw-scale-y: .8 !important;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.ribbon-widget .transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.ribbon-widget .animate-\\[spin_2s_infinite_linear\\]{animation:spin 2s infinite linear!important}@keyframes spin{to{transform:rotate(360deg)}to{transform:rotate(360deg)}}.ribbon-widget .animate-spin{animation:spin 1s linear infinite!important}@keyframes spin-ease{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ribbon-widget .animate-spin-ease{animation:spin-ease 1.5s cubic-bezier(.7,-.3,.3,1.5) infinite!important}.ribbon-widget .cursor-default{cursor:default!important}.ribbon-widget .cursor-pointer{cursor:pointer!important}.ribbon-widget .select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.ribbon-widget .resize-none{resize:none!important}.ribbon-widget .resize{resize:both!important}.ribbon-widget .grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))!important}.ribbon-widget .grid-cols-\\[0px\\,0px\\]{grid-template-columns:0px 0px!important}.ribbon-widget .grid-cols-\\[1fr\\,1fr\\]{grid-template-columns:1fr 1fr!important}.ribbon-widget .grid-cols-\\[1fr\\,auto\\]{grid-template-columns:1fr auto!important}.ribbon-widget .grid-cols-\\[auto\\,1fr\\,auto\\]{grid-template-columns:auto 1fr auto!important}.ribbon-widget .grid-cols-\\[auto\\,1fr\\]{grid-template-columns:auto 1fr!important}.ribbon-widget .flex-col{flex-direction:column!important}.ribbon-widget .place-content-center{place-content:center!important}.ribbon-widget .content-center{align-content:center!important}.ribbon-widget .content-start{align-content:flex-start!important}.ribbon-widget .items-start{align-items:flex-start!important}.ribbon-widget .items-center{align-items:center!important}.ribbon-widget .justify-normal{justify-content:normal!important}.ribbon-widget .justify-start{justify-content:flex-start!important}.ribbon-widget .justify-end{justify-content:flex-end!important}.ribbon-widget .justify-center{justify-content:center!important}.ribbon-widget .justify-between{justify-content:space-between!important}.ribbon-widget .justify-items-start{justify-items:start!important}.ribbon-widget .justify-items-center{justify-items:center!important}.ribbon-widget .gap-1{gap:4px!important}.ribbon-widget .gap-2{gap:8px!important}.ribbon-widget .gap-3{gap:12px!important}.ribbon-widget .gap-4{gap:16px!important}.ribbon-widget .gap-6{gap:24px!important}.ribbon-widget .gap-8{gap:32px!important}.ribbon-widget .gap-x-1{-moz-column-gap:4px!important;column-gap:4px!important}.ribbon-widget .gap-y-2{row-gap:8px!important}.ribbon-widget .gap-y-3{row-gap:12px!important}.ribbon-widget .place-self-stretch{place-self:stretch!important}.ribbon-widget .overflow-auto{overflow:auto!important}.ribbon-widget .overflow-hidden{overflow:hidden!important}.ribbon-widget .overflow-x-auto{overflow-x:auto!important}.ribbon-widget .overflow-y-auto{overflow-y:auto!important}.ribbon-widget .overflow-x-hidden{overflow-x:hidden!important}.ribbon-widget .overflow-y-scroll{overflow-y:scroll!important}.ribbon-widget .whitespace-nowrap{white-space:nowrap!important}.ribbon-widget .whitespace-pre-line{white-space:pre-line!important}.ribbon-widget .text-nowrap{text-wrap:nowrap!important}.ribbon-widget .break-words{overflow-wrap:break-word!important}.ribbon-widget .break-all{word-break:break-all!important}.ribbon-widget .rounded{border-radius:4px!important}.ribbon-widget .rounded-\\[28px\\]{border-radius:28px!important}.ribbon-widget .rounded-\\[2px\\]{border-radius:2px!important}.ribbon-widget .rounded-\\[50px\\]{border-radius:50px!important}.ribbon-widget .rounded-full{border-radius:9999px!important}.ribbon-widget .rounded-lg{border-radius:8px!important}.ribbon-widget .rounded-b-none{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.ribbon-widget .rounded-r-lg{border-top-right-radius:8px!important;border-bottom-right-radius:8px!important}.ribbon-widget .border{border-width:1px!important}.ribbon-widget .border-0{border-width:0px!important}.ribbon-widget .border-2{border-width:2px!important}.ribbon-widget .border-\\[1\\.5px\\]{border-width:1.5px!important}.ribbon-widget .border-solid{border-style:solid!important}.ribbon-widget .border-dashed{border-style:dashed!important}.ribbon-widget .border-\\[\\#001F48\\]{--tw-border-opacity: 1 !important;border-color:rgb(0 31 72 / var(--tw-border-opacity))!important}.ribbon-widget .border-\\[\\#151d3a\\]{--tw-border-opacity: 1 !important;border-color:rgb(21 29 58 / var(--tw-border-opacity))!important}.ribbon-widget .border-blue-400{--tw-border-opacity: 1 !important;border-color:rgb(96 165 250 / var(--tw-border-opacity))!important}.ribbon-widget .border-red-500{--tw-border-opacity: 1 !important;border-color:rgb(239 68 68 / var(--tw-border-opacity))!important}.ribbon-widget .border-red-700{--tw-border-opacity: 1 !important;border-color:rgb(185 28 28 / var(--tw-border-opacity))!important}.ribbon-widget .border-slate-300{--tw-border-opacity: 1 !important;border-color:rgb(203 213 225 / var(--tw-border-opacity))!important}.ribbon-widget .border-teal-500{--tw-border-opacity: 1 !important;border-color:rgb(20 184 166 / var(--tw-border-opacity))!important}.ribbon-widget .border-white{--tw-border-opacity: 1 !important;border-color:rgb(255 255 255 / var(--tw-border-opacity))!important}.ribbon-widget .border-zinc-700{--tw-border-opacity: 1 !important;border-color:rgb(63 63 70 / var(--tw-border-opacity))!important}.ribbon-widget .border-zinc-900{--tw-border-opacity: 1 !important;border-color:rgb(24 24 27 / var(--tw-border-opacity))!important}.ribbon-widget .border-l-transparent{border-left-color:transparent!important}.ribbon-widget .bg-black{--tw-bg-opacity: 1 !important;background-color:rgb(0 0 0 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-red-50{--tw-bg-opacity: 1 !important;background-color:rgb(254 242 242 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-red-500{--tw-bg-opacity: 1 !important;background-color:rgb(239 68 68 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-teal-500{--tw-bg-opacity: 1 !important;background-color:rgb(20 184 166 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-zinc-100{--tw-bg-opacity: 1 !important;background-color:rgb(244 244 245 / var(--tw-bg-opacity))!important}.ribbon-widget .bg-zinc-100\\/70{background-color:#f4f4f5b3!important}.ribbon-widget .bg-zinc-900{--tw-bg-opacity: 1 !important;background-color:rgb(24 24 27 / var(--tw-bg-opacity))!important}.ribbon-widget .fill-none{fill:none!important}.ribbon-widget .fill-slate-500{fill:#64748b!important}.ribbon-widget .fill-zinc-900{fill:#18181b!important}.ribbon-widget .stroke-slate-500{stroke:#64748b!important}.ribbon-widget .stroke-zinc-900{stroke:#18181b!important}.ribbon-widget .object-contain{-o-object-fit:contain!important;object-fit:contain!important}.ribbon-widget .object-cover{-o-object-fit:cover!important;object-fit:cover!important}.ribbon-widget .p-0{padding:0!important}.ribbon-widget .p-0\\.5{padding:2px!important}.ribbon-widget .p-1{padding:4px!important}.ribbon-widget .p-3{padding:12px!important}.ribbon-widget .p-4{padding:16px!important}.ribbon-widget .p-6{padding:24px!important}.ribbon-widget .px-0{padding-left:0!important;padding-right:0!important}.ribbon-widget .px-1{padding-left:4px!important;padding-right:4px!important}.ribbon-widget .px-2{padding-left:8px!important;padding-right:8px!important}.ribbon-widget .px-3{padding-left:12px!important;padding-right:12px!important}.ribbon-widget .px-6{padding-left:24px!important;padding-right:24px!important}.ribbon-widget .px-8{padding-left:32px!important;padding-right:32px!important}.ribbon-widget .py-1{padding-top:4px!important;padding-bottom:4px!important}.ribbon-widget .py-2{padding-top:8px!important;padding-bottom:8px!important}.ribbon-widget .py-3{padding-top:12px!important;padding-bottom:12px!important}.ribbon-widget .py-4{padding-top:16px!important;padding-bottom:16px!important}.ribbon-widget .py-6{padding-top:24px!important;padding-bottom:24px!important}.ribbon-widget .py-\\[14px\\]{padding-top:14px!important;padding-bottom:14px!important}.ribbon-widget .py-\\[8px\\]{padding-top:8px!important;padding-bottom:8px!important}.ribbon-widget .pb-0{padding-bottom:0!important}.ribbon-widget .pb-0\\.5{padding-bottom:2px!important}.ribbon-widget .pb-2{padding-bottom:8px!important}.ribbon-widget .pb-3{padding-bottom:12px!important}.ribbon-widget .pb-4{padding-bottom:16px!important}.ribbon-widget .pb-6{padding-bottom:24px!important}.ribbon-widget .pb-8{padding-bottom:32px!important}.ribbon-widget .pl-0{padding-left:0!important}.ribbon-widget .pl-\\[10px\\]{padding-left:10px!important}.ribbon-widget .pr-0{padding-right:0!important}.ribbon-widget .pr-7{padding-right:28px!important}.ribbon-widget .pr-\\[80px\\]{padding-right:80px!important}.ribbon-widget .pt-0{padding-top:0!important}.ribbon-widget .pt-1{padding-top:4px!important}.ribbon-widget .pt-10{padding-top:40px!important}.ribbon-widget .pt-3{padding-top:12px!important}.ribbon-widget .pt-\\[6px\\]{padding-top:6px!important}.ribbon-widget .text-left{text-align:left!important}.ribbon-widget .text-center{text-align:center!important}.ribbon-widget .text-right{text-align:right!important}.ribbon-widget .font-sans{font-family:Inter,Helvetica,sans-serif!important}.ribbon-widget .text-2xl{font-size:24px!important;line-height:32px!important}.ribbon-widget .text-\\[14px\\]{font-size:14px!important}.ribbon-widget .text-\\[16px\\]{font-size:16px!important}.ribbon-widget .text-\\[20px\\]{font-size:20px!important}.ribbon-widget .text-base{font-size:16px!important;line-height:24px!important}.ribbon-widget .text-lg{font-size:18px!important;line-height:28px!important}.ribbon-widget .text-sm{font-size:14px!important;line-height:20px!important}.ribbon-widget .text-xs{font-size:12px!important;line-height:16px!important}.ribbon-widget .font-\\[400\\]{font-weight:400!important}.ribbon-widget .font-\\[500\\]{font-weight:500!important}.ribbon-widget .font-\\[600\\]{font-weight:600!important}.ribbon-widget .font-light{font-weight:300!important}.ribbon-widget .font-medium{font-weight:500!important}.ribbon-widget .font-normal{font-weight:400!important}.ribbon-widget .font-semibold{font-weight:600!important}.ribbon-widget .tabular-nums{--tw-numeric-spacing: tabular-nums !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ribbon-widget .leading-5{line-height:20px!important}.ribbon-widget .leading-\\[30px\\]{line-height:30px!important}.ribbon-widget .leading-none{line-height:16px!important}.ribbon-widget .tracking-normal{letter-spacing:0em!important}.ribbon-widget .text-\\[\\#151d3a\\]{--tw-text-opacity: 1 !important;color:rgb(21 29 58 / var(--tw-text-opacity))!important}.ribbon-widget .text-black{--tw-text-opacity: 1 !important;color:rgb(0 0 0 / var(--tw-text-opacity))!important}.ribbon-widget .text-blue-500{--tw-text-opacity: 1 !important;color:rgb(59 130 246 / var(--tw-text-opacity))!important}.ribbon-widget .text-blue-600{--tw-text-opacity: 1 !important;color:rgb(37 99 235 / var(--tw-text-opacity))!important}.ribbon-widget .text-blue-700{--tw-text-opacity: 1 !important;color:rgb(29 78 216 / var(--tw-text-opacity))!important}.ribbon-widget .text-gray-400{--tw-text-opacity: 1 !important;color:rgb(156 163 175 / var(--tw-text-opacity))!important}.ribbon-widget .text-red-800{--tw-text-opacity: 1 !important;color:rgb(153 27 27 / var(--tw-text-opacity))!important}.ribbon-widget .text-slate-700{--tw-text-opacity: 1 !important;color:rgb(51 65 85 / var(--tw-text-opacity))!important}.ribbon-widget .text-white{--tw-text-opacity: 1 !important;color:rgb(255 255 255 / var(--tw-text-opacity))!important}.ribbon-widget .text-zinc-500{--tw-text-opacity: 1 !important;color:rgb(113 113 122 / var(--tw-text-opacity))!important}.ribbon-widget .text-zinc-900{--tw-text-opacity: 1 !important;color:rgb(24 24 27 / var(--tw-text-opacity))!important}.ribbon-widget .accent-current{accent-color:currentColor!important}.ribbon-widget .opacity-0{opacity:0!important}.ribbon-widget .opacity-100{opacity:1!important}.ribbon-widget .opacity-30{opacity:.3!important}.ribbon-widget .opacity-50{opacity:.5!important}.ribbon-widget .opacity-70{opacity:.7!important}.ribbon-widget .shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-\\[0px_0px_10px_rgba\\(0\\,0\\,0\\,0\\.1\\)\\]{--tw-shadow: 0px 0px 10px rgba(0,0,0,.1) !important;--tw-shadow-colored: 0px 0px 10px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-none{--tw-shadow: 0 0 #0000 !important;--tw-shadow-colored: 0 0 #0000 !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05) !important;--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.ribbon-widget .outline-none{outline:2px solid transparent!important;outline-offset:2px!important}.ribbon-widget .outline-zinc-900{outline-color:#18181b!important}.ribbon-widget .ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important}.ribbon-widget .ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important}.ribbon-widget .ring-8{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(8px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important}.ribbon-widget .ring-inset{--tw-ring-inset: inset !important}.ribbon-widget .ring-\\[\\#e7eaf3\\]{--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(231 234 243 / var(--tw-ring-opacity)) !important}.ribbon-widget .ring-black{--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity)) !important}.ribbon-widget .ring-zinc-300{--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(212 212 216 / var(--tw-ring-opacity)) !important}.ribbon-widget .ring-opacity-5{--tw-ring-opacity: .05 !important}.ribbon-widget .blur{--tw-blur: blur(8px) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .blur-lg{--tw-blur: blur(16px) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.ribbon-widget .transition-all{transition-property:all!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.ribbon-widget .transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.ribbon-widget .transition-opacity{transition-property:opacity!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.ribbon-widget .duration-1000{transition-duration:1s!important}.ribbon-widget .duration-200{transition-duration:.2s!important}.ribbon-widget .duration-300{transition-duration:.3s!important}.ribbon-widget .duration-500{transition-duration:.5s!important}.ribbon-widget .ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)!important}.ribbon-widget .no-scrollbar{scrollbar-width:none!important;-ms-overflow-style:none!important}.ribbon-widget .no-scrollbar::-webkit-scrollbar{display:none!important}@media screen and (max-width: 450px){.ribbon-widget #ribbon-widget-form{bottom:0!important;top:auto!important;margin:0!important;width:100%!important}.ribbon-widget #task-controls-button{bottom:0!important;width:100%!important;justify-content:center!important;border-radius:0!important}}@media screen and (min-width: 451px){.ribbon-widget #ribbon-widget-form.v1{margin:8px;width:300px}.ribbon-widget #ribbon-widget-form.v2{margin:8px}.ribbon-widget #ribbon-widget-form.v2.widget.expanded{margin:0}.ribbon-widget #ribbon-widget-form.widget.expanded.v1{margin-top:50px!important;width:100%!important;max-width:500px!important}.ribbon-widget #task-controls-button{top:50%!important;transform-origin:bottom left!important;--tw-rotate: 90deg !important;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}}.ribbon-widget ::-webkit-scrollbar{width:8px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.ribbon-widget .scrollbar-thin::-webkit-scrollbar{width:6px}.ribbon-widget ::-webkit-scrollbar-thumb{border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(228 228 231 / var(--tw-bg-opacity))}.ribbon-widget ::-webkit-scrollbar-corner{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.ribbon-widget ::-moz-selection{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.ribbon-widget ::selection{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.ribbon-widget .loader{width:30px;aspect-ratio:2;--_g: no-repeat radial-gradient(circle closest-side, #000 90%, #0000) !important;background:var(--_g) 0% 50%,var(--_g) 50% 50%,var(--_g) 100% 50%;background-size:calc(100% / 3) 50%;animation:l3 1s infinite linear}@keyframes l3{20%{background-position:0% 0%,50% 50%,100% 50%}40%{background-position:0% 100%,50% 0%,100% 50%}60%{background-position:0% 50%,50% 100%,100% 0%}80%{background-position:0% 50%,50% 50%,100% 100%}}@keyframes beat{to{transform:scale(1.2)}}.ribbon-widget .checked\\:border-gray-700:checked{--tw-border-opacity: 1 !important;border-color:rgb(55 65 81 / var(--tw-border-opacity))!important}.ribbon-widget .checked\\:bg-gray-200:checked{--tw-bg-opacity: 1 !important;background-color:rgb(229 231 235 / var(--tw-bg-opacity))!important}.ribbon-widget .checked\\:font-\\[500\\]:checked{font-weight:500!important}.ribbon-widget .hover\\:border-gray-700:hover{--tw-border-opacity: 1 !important;border-color:rgb(55 65 81 / var(--tw-border-opacity))!important}.ribbon-widget .hover\\:border-zinc-900:hover{--tw-border-opacity: 1 !important;border-color:rgb(24 24 27 / var(--tw-border-opacity))!important}.ribbon-widget .hover\\:bg-\\[\\#ecedef\\]:hover{--tw-bg-opacity: 1 !important;background-color:rgb(236 237 239 / var(--tw-bg-opacity))!important}.ribbon-widget .hover\\:bg-zinc-200:hover{--tw-bg-opacity: 1 !important;background-color:rgb(228 228 231 / var(--tw-bg-opacity))!important}.ribbon-widget .hover\\:bg-zinc-50:hover{--tw-bg-opacity: 1 !important;background-color:rgb(250 250 250 / var(--tw-bg-opacity))!important}.ribbon-widget .hover\\:fill-slate-800:hover{fill:#1e293b!important}.ribbon-widget .hover\\:stroke-slate-800:hover{stroke:#1e293b!important}.ribbon-widget .hover\\:text-blue-500:hover{--tw-text-opacity: 1 !important;color:rgb(59 130 246 / var(--tw-text-opacity))!important}.ribbon-widget .hover\\:brightness-105:hover{--tw-brightness: brightness(1.05) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .hover\\:brightness-90:hover{--tw-brightness: brightness(.9) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .focus\\:border-slate-500:focus{--tw-border-opacity: 1 !important;border-color:rgb(100 116 139 / var(--tw-border-opacity))!important}.ribbon-widget .focus\\:border-zinc-300:focus{--tw-border-opacity: 1 !important;border-color:rgb(212 212 216 / var(--tw-border-opacity))!important}.ribbon-widget .focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important}.ribbon-widget .focus\\:ring-zinc-200:focus{--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(228 228 231 / var(--tw-ring-opacity)) !important}.ribbon-widget .focus\\:ring-zinc-600:focus{--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(82 82 91 / var(--tw-ring-opacity)) !important}.ribbon-widget .focus-visible\\:outline-none:focus-visible{outline:2px solid transparent!important;outline-offset:2px!important}.ribbon-widget .active\\:bg-gray-300:active{--tw-bg-opacity: 1 !important;background-color:rgb(209 213 219 / var(--tw-bg-opacity))!important}.ribbon-widget .active\\:brightness-90:active{--tw-brightness: brightness(.9) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .active\\:brightness-95:active{--tw-brightness: brightness(.95) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.ribbon-widget .disabled\\:opacity-50:disabled{opacity:.5!important}.ribbon-widget .group:hover .group-hover\\:inline-block{display:inline-block!important}@media (min-height: 450px) and (min-width: 640px){.ribbon-widget .laptop\\:flex{display:flex!important}.ribbon-widget .laptop\\:hidden{display:none!important}.ribbon-widget .laptop\\:px-6{padding-left:24px!important;padding-right:24px!important}.ribbon-widget .laptop\\:pt-20{padding-top:80px!important}.ribbon-widget .laptop\\:pt-6{padding-top:24px!important}}'}))})()}();
var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp(e,n,t[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))__propIsEnum.call(t,n)&&__defNormalProp(e,n,t[n]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var n={};for(var r in e)__hasOwnProp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))t.indexOf(r)<0&&__propIsEnum.call(e,r)&&(n[r]=e[r]);return n},__publicField=(e,t,n)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,n),n),__async=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{l(n.next(e))}catch(t){o(t)}},a=e=>{try{l(n.throw(e))}catch(t){o(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);l((n=n.apply(e,t)).next())}));!function(){"use strict";function e(){var e;if(!(null==(e=window.ribbon)?void 0:e.ribbonSrcUrl))return null;const t=new RegExp("^https?://([wd]+.)?(.*?)/"),n=window.ribbon.ribbonSrcUrl.match(t);if(null===n)return"";let r=n[0];return r.includes("tryribbon")&&(r=r.replace("tryribbon","ribbonapp")),r.includes("://ribbonapp")&&!r.includes("www")&&(r=r.replace("://","://www.")),r.includes("cdn")||r.includes("www")||!r.includes("ribbonapp")||(r=r.replace("://","://api.")),r.includes("ribbonapp")&&r.includes("cdn")&&(r=r.replace("cdn.","api.")),r.includes("cdn.wondering")&&(r=r.replace("cdn.","api.")),r.includes("://www.ribbonapp")&&(r=r.replace("www.","api.")),r.includes("://app.wondering")&&(r=r.replace("app.","api.")),r.includes("api.ribbonapp")&&(r=r.replace("ribbonapp","wondering")),r}var t,n,r,o,i,a,l,s,c,u={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,n,r){var o,i,a,l={};for(a in n)"key"==a?o=n[a]:"ref"==a?i=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?t.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===l[a]&&(l[a]=e.defaultProps[a]);return v(e,l,o,i,null)}function v(e,t,o,i,a){var l={type:e,props:t,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==a?++r:a,__i:-1,__u:0};return null==a&&null!=n.vnode&&n.vnode(l),l}function m(e){return e.children}function b(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function w(e,t,r){var o,i=e.__v,a=i.__e,l=e.__P;if(l)return(o=f({},i)).__v=i.__v+1,n.vnode&&n.vnode(o),A(l,o,i,e.__n,void 0!==l.ownerSVGElement,32&i.__u?[a]:null,t,null==a?y(i):a,!!(32&i.__u),r),o.__v=i.__v,o.__.__k[o.__i]=o,o.__d=void 0,o.__e!=a&&x(o),o}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function C(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!k.__r++||a!==n.debounceRendering)&&((a=n.debounceRendering)||l)(k)}function k(){var e,t,r,o=[],a=[];for(i.sort(s);e=i.shift();)e.__d&&(r=i.length,t=w(e,o,a)||t,0===r||i.length>r?(D(o,t,a),a.length=o.length=0,t=void 0,i.sort(s)):t&&n.__c&&n.__c(t,d));t&&D(o,t,a),k.__r=0}function T(e,t,n,r,o,i,a,l,s,c,p){var f,g,_,b,w,x=r&&r.__k||d,C=t.length;for(n.__d=s,function(e,t,n){var r,o,i,a,l,s=t.length,c=n.length,u=c,d=0;for(e.__k=[],r=0;r<s;r++)a=r+d,null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?v(null,o,null,null,null):h(o)?v(m,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?v(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,l=I(o,n,a,u),o.__i=l,i=null,-1!==l&&(u--,(i=n[l])&&(i.__u|=131072)),null==i||null===i.__v?(-1==l&&d--,"function"!=typeof o.type&&(o.__u|=65536)):l!==a&&(l===a+1?d++:l>a?u>s-a?d+=l-a:d--:l<a?l==a-1&&(d=l-a):d=0,l!==r+d&&(o.__u|=65536))):(i=n[a])&&null==i.key&&i.__e&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=y(i)),L(i,i,!1),n[a]=null,u--);if(u)for(r=0;r<c;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=y(i)),L(i,i))}(n,t,x),s=n.__d,f=0;f<C;f++)null!=(_=n.__k[f])&&"boolean"!=typeof _&&"function"!=typeof _&&(g=-1===_.__i?u:x[_.__i]||u,_.__i=f,A(e,_,g,o,i,a,l,s,c,p),b=_.__e,_.ref&&g.ref!=_.ref&&(g.ref&&O(g.ref,null,_),p.push(_.ref,_.__c||b,_)),null==w&&null!=b&&(w=b),65536&_.__u||g.__k===_.__k?s=N(_,s,e):"function"==typeof _.type&&void 0!==_.__d?s=_.__d:b&&(s=b.nextSibling),_.__d=void 0,_.__u&=-196609);n.__d=s,n.__e=w}function N(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=N(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function S(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){S(e,t)})):t.push(e)),t}function I(e,t,n,r){var o=e.key,i=e.type,a=n-1,l=n+1,s=t[n];if(null===s||s&&o==s.key&&i===s.type&&0==(131072&s.__u))return n;if(r>(null!=s&&0==(131072&s.__u)?1:0))for(;a>=0||l<t.length;){if(a>=0){if((s=t[a])&&0==(131072&s.__u)&&o==s.key&&i===s.type)return a;a--}if(l<t.length){if((s=t[l])&&0==(131072&s.__u)&&o==s.key&&i===s.type)return l;l++}}return-1}function E(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function P(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||E(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||E(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?M:R,i)):e.removeEventListener(t,i?M:R,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(a){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function R(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(n.event?n.event(e):e)}}function M(e){if(this.l)return this.l[e.type+!0](n.event?n.event(e):e)}function A(e,r,o,i,a,l,s,c,d,p){var _,v,w,x,C,k,N,S,I,E,R,M,A,D,O,L=r.type;if(void 0!==r.constructor)return null;128&o.__u&&(d=!!(32&o.__u),l=[c=r.__e=o.__e]),(_=n.__b)&&_(r);e:if("function"==typeof L)try{if(S=r.props,I=(_=L.contextType)&&i[_.__c],E=_?I?I.props.value:_.__:i,o.__c?N=(v=r.__c=o.__c).__=v.__E:("prototype"in L&&L.prototype.render?r.__c=v=new L(S,E):(r.__c=v=new b(S,E),v.constructor=L,v.render=j),I&&I.sub(v),v.props=S,v.state||(v.state={}),v.context=E,v.__n=i,w=v.__d=!0,v.__h=[],v._sb=[]),null==v.__s&&(v.__s=v.state),null!=L.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=f({},v.__s)),f(v.__s,L.getDerivedStateFromProps(S,v.__s))),x=v.props,C=v.state,v.__v=r,w)null==L.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==L.getDerivedStateFromProps&&S!==x&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(S,E),!v.__e&&(null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(S,v.__s,E)||r.__v===o.__v)){for(r.__v!==o.__v&&(v.props=S,v.state=v.__s,v.__d=!1),r.__e=o.__e,r.__k=o.__k,r.__k.forEach((function(e){e&&(e.__=r)})),R=0;R<v._sb.length;R++)v.__h.push(v._sb[R]);v._sb=[],v.__h.length&&s.push(v);break e}null!=v.componentWillUpdate&&v.componentWillUpdate(S,v.__s,E),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(x,C,k)}))}if(v.context=E,v.props=S,v.__P=e,v.__e=!1,M=n.__r,A=0,"prototype"in L&&L.prototype.render){for(v.state=v.__s,v.__d=!1,M&&M(r),_=v.render(v.props,v.state,v.context),D=0;D<v._sb.length;D++)v.__h.push(v._sb[D]);v._sb=[]}else do{v.__d=!1,M&&M(r),_=v.render(v.props,v.state,v.context),v.state=v.__s}while(v.__d&&++A<25);v.state=v.__s,null!=v.getChildContext&&(i=f(f({},i),v.getChildContext())),w||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(x,C)),T(e,h(O=null!=_&&_.type===m&&null==_.key?_.props.children:_)?O:[O],r,o,i,a,l,s,c,d,p),v.base=r.__e,r.__u&=-161,v.__h.length&&s.push(v),N&&(v.__E=v.__=null)}catch(B){r.__v=null,d||null!=l?(r.__e=c,r.__u|=d?160:32,l[l.indexOf(c)]=null):(r.__e=o.__e,r.__k=o.__k),n.__e(B,r,o)}else null==l&&r.__v===o.__v?(r.__k=o.__k,r.__e=o.__e):r.__e=function(e,n,r,o,i,a,l,s,c){var d,p,f,_,v,m,b,w=r.props,x=n.props,C=n.type;if("svg"===C&&(i=!0),null!=a)for(d=0;d<a.length;d++)if((v=a[d])&&"setAttribute"in v==!!C&&(C?v.localName===C:3===v.nodeType)){e=v,a[d]=null;break}if(null==e){if(null===C)return document.createTextNode(x);e=i?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,x.is&&x),a=null,s=!1}if(null===C)w===x||s&&e.data===x||(e.data=x);else{if(a=a&&t.call(e.childNodes),w=r.props||u,!s&&null!=a)for(w={},d=0;d<e.attributes.length;d++)w[(v=e.attributes[d]).name]=v.value;for(d in w)v=w[d],"children"==d||("dangerouslySetInnerHTML"==d?f=v:"key"===d||d in x||P(e,d,null,v,i));for(d in x)v=x[d],"children"==d?_=v:"dangerouslySetInnerHTML"==d?p=v:"value"==d?m=v:"checked"==d?b=v:"key"===d||s&&"function"!=typeof v||w[d]===v||P(e,d,v,w[d],i);if(p)s||f&&(p.__html===f.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),n.__k=[];else if(f&&(e.innerHTML=""),T(e,h(_)?_:[_],n,r,o,i&&"foreignObject"!==C,a,l,a?a[0]:r.__k&&y(r,0),s,c),null!=a)for(d=a.length;d--;)null!=a[d]&&g(a[d]);s||(d="value",void 0!==m&&(m!==e[d]||"progress"===C&&!m||"option"===C&&m!==w[d])&&P(e,d,m,w[d],!1),d="checked",void 0!==b&&b!==e[d]&&P(e,d,b,w[d],!1))}return e}(o.__e,r,o,i,a,l,s,d,p);(_=n.diffed)&&_(r)}function D(e,t,r){for(var o=0;o<r.length;o++)O(r[o],r[++o],r[++o]);n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(r){n.__e(r,t.__v)}}))}function O(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(o){n.__e(o,r)}}function L(e,t,r){var o,i;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||O(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){n.__e(a,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&L(o[i],t,r||"function"!=typeof e.type);r||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function j(e,t,n){return this.constructor(e,n)}function B(e,r,o){var i,a,l,s;n.__&&n.__(e,r),a=(i="function"==typeof o)?null:o&&o.__k||r.__k,l=[],s=[],A(r,e=(!i&&o||r).__k=_(m,null,[e]),a||u,u,void 0!==r.ownerSVGElement,!i&&o?[o]:a?null:r.firstChild?t.call(r.childNodes):null,l,!i&&o?o:a?a.__e:r.firstChild,i,s),e.__d=void 0,D(l,e,s)}t=d.slice,n={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(l){e=l}throw e}},r=0,o=function(e){return null!=e&&null==e.constructor},b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},b.prototype.render=m,i=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,c=0;var U,$,z,F,q=0,V=[],H=[],W=n,Q=W.__b,J=W.__r,Z=W.diffed,K=W.__c,G=W.unmount,Y=W.__;function X(e,t){W.__h&&W.__h($,e,q||t),q=0;var n=$.__H||($.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:H}),n.__[e]}function ee(e){return q=1,function(e,t,n){var r=X(U++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):he(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=$,!$.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return!!e.__c}));if(o.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var a=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};$.u=!0;var i=$.shouldComponentUpdate,a=$.componentWillUpdate;$.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}a&&a.call(this,e,t,n)},$.shouldComponentUpdate=o}return r.__N||r.__}(he,e)}function te(e,t){var n=X(U++,3);!W.__s&&pe(n.__H,t)&&(n.__=e,n.i=t,$.__H.__h.push(n))}function ne(e){return q=5,oe((function(){return{current:e}}),[])}function re(e,t,n){q=6,function(e,t){var n=X(U++,4);!W.__s&&pe(n.__H,t)&&(n.__=e,n.i=t,$.__h.push(n))}((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function oe(e,t){var n=X(U++,7);return pe(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ie(e,t){return q=8,oe((function(){return e}),t)}function ae(e){var t=$.context[e.__c],n=X(U++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub($)),t.props.value):e.__}function le(){for(var e;e=V.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ue),e.__H.__h.forEach(de),e.__H.__h=[]}catch(t){e.__H.__h=[],W.__e(t,e.__v)}}W.__b=function(e){$=null,Q&&Q(e)},W.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Y&&Y(e,t)},W.__r=function(e){J&&J(e),U=0;var t=($=e.__c).__H;t&&(z===$?(t.__h=[],$.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=H,e.__N=e.i=void 0}))):(t.__h.forEach(ue),t.__h.forEach(de),t.__h=[],U=0)),z=$},W.diffed=function(e){Z&&Z(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==V.push(t)&&F===W.requestAnimationFrame||((F=W.requestAnimationFrame)||ce)(le)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==H&&(e.__=e.__V),e.i=void 0,e.__V=H}))),z=$=null},W.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ue),e.__h=e.__h.filter((function(e){return!e.__||de(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],W.__e(n,e.__v)}})),K&&K(e,t)},W.unmount=function(e){G&&G(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{ue(e)}catch(n){t=n}})),n.__H=void 0,t&&W.__e(t,n.__v))};var se="function"==typeof requestAnimationFrame;function ce(e){var t,n=function(){clearTimeout(r),se&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);se&&(t=requestAnimationFrame(n))}function ue(e){var t=$,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),$=t}function de(e){var t=$;e.__c=e.__(),$=t}function pe(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function he(e,t){return"function"==typeof t?t(e):t}function fe(){throw new Error("Cycle detected")}var ge=Symbol.for("preact-signals");function _e(){if(ye>1)ye--;else{for(var e,t=!1;void 0!==be;){var n=be;for(be=void 0,we++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Ne(n))try{n.c()}catch(o){t||(e=o,t=!0)}n=r}}if(we=0,ye--,t)throw e}}var ve,me=void 0,be=void 0,ye=0,we=0,xe=0;function Ce(e){if(void 0!==me){var t=e.n;if(void 0===t||t.t!==me)return t={i:0,S:e,p:me.s,n:void 0,t:me,e:void 0,x:void 0,r:t},void 0!==me.s&&(me.s.n=t),me.s=t,e.n=t,32&me.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=me.s,t.n=void 0,me.s.n=t,me.s=t),t}}function ke(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function Te(e){return new ke(e)}function Ne(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Se(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function Ie(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function Ee(e){ke.call(this,void 0),this.x=e,this.s=void 0,this.g=xe-1,this.f=4}function Pe(e){return new Ee(e)}function Re(e){var t=e.u;if(e.u=void 0,"function"==typeof t){ye++;var n=me;me=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,Me(e),r}finally{me=n,_e()}}}function Me(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Re(e)}function Ae(e){if(me!==this)throw new Error("Out-of-order effect");Ie(this),me=e,this.f&=-2,8&this.f&&Me(this),_e()}function De(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function Oe(e){var t=new De(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}function Le(e,t){n[e]=t.bind(null,n[e]||function(){})}function je(e){ve&&ve(),ve=e&&e.S()}function Be(e){var t=this,n=e.data,r=function(e){return oe((function(){return Te(e)}),[])}(n);r.value=n;var i=oe((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){var e;o(i.peek())||3!==(null==(e=t.base)?void 0:e.nodeType)?(t.__$f|=1,t.setState({})):t.base.data=i.peek()},Pe((function(){var e=r.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return i.value}function Ue(e,t,n,r){var o=t in e&&void 0===e.ownerSVGElement,i=Te(n);return{o:function(e,t){i.value=e,r=t},d:Oe((function(){var n=i.value.value;r[t]!==n&&(r[t]=n,o?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))}))}}function $e(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null}function ze(){return window.ribbon&&localStorage.getItem("ribbon_id."+window.ribbon.ribbonID)||null}function Fe(){return window.ribbon?localStorage.getItem("ribbon_apid."+window.ribbon.ribbonID):null}function qe(e){return window.ribbon?localStorage.setItem("ribbon_apid."+window.ribbon.ribbonID,e):null}function Ve(e){return window.ribbon?localStorage.setItem("ribbon_prolific_id."+window.ribbon.ribbonID,e):null}function He(){return window.ribbon?localStorage.getItem("ribbon_token."+window.ribbon.ribbonID):null}function We(e){return window.ribbon?localStorage.setItem("ribbon_token."+window.ribbon.ribbonID,e):null}function Qe(){return window.ribbon?$e("ribbon_attributes."+window.ribbon.ribbonID):null}function Je(e){var t,n;if(1===e.version)return window.ribbon?(t="ribbon_trigger_recruit_props."+window.ribbon.ribbonID,n=e,localStorage.setItem(t,JSON.stringify(n))):null}function Ze({fallbackRibbonID:e}={}){var t;const n=e||(null==(t=window.ribbon)?void 0:t.ribbonID);if(!n)return null;return $e("ribbon_trigger_recruit_props."+n)}function Ke(){return window.ribbon?(Rt({message:"Clearing study",ctr:(null==ft?void 0:ft.peek().ctr)||null,data:{}}),localStorage.removeItem("ribbon_trigger_recruit_props."+window.ribbon.ribbonID)):null}function Ge({blockIndex:e,fallbackRibbonID:t}={}){const n=Ze({fallbackRibbonID:t});n&&(void 0!==e?n.currentBlockIndex=e:n.currentBlockIndex+=1,n.lastInteractionTime=Date.now(),Je(n))}function Ye({fallbackRibbonID:e}={}){const t=Ze({fallbackRibbonID:e});t&&Date.now()-t.lastInteractionTime>18e5&&Ke()}function Xe(){var e;if(!(null==(e=window.ribbon)?void 0:e.ribbonID))return;const t=ze(),n=Fe(),r=window.ribbon?localStorage.getItem("ribbon_prolific_id."+window.ribbon.ribbonID):null,o=He();return __spreadValues(__spreadValues(__spreadValues(__spreadValues({},t?{identity:t}:{}),n?{apid:n}:{}),o?{token:o}:{}),r?{prolificId:r}:{})}ke.prototype.brand=ge,ke.prototype.h=function(){return!0},ke.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},ke.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},ke.prototype.subscribe=function(e){var t=this;return Oe((function(){var n=t.value,r=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=r}}))},ke.prototype.valueOf=function(){return this.value},ke.prototype.toString=function(){return this.value+""},ke.prototype.toJSON=function(){return this.value},ke.prototype.peek=function(){return this.v},Object.defineProperty(ke.prototype,"value",{get:function(){var e=Ce(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(me instanceof Ee&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){we>100&&fe(),this.v=e,this.i++,xe++,ye++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{_e()}}}}),(Ee.prototype=new ke).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===xe)return!0;if(this.g=xe,this.f|=1,this.i>0&&!Ne(this))return this.f&=-2,!0;var e=me;try{Se(this),me=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return me=e,Ie(this),this.f&=-2,!0},Ee.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}ke.prototype.S.call(this,e)},Ee.prototype.U=function(e){if(void 0!==this.t&&(ke.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},Ee.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Ee.prototype.peek=function(){if(this.h()||fe(),16&this.f)throw this.v;return this.v},Object.defineProperty(Ee.prototype,"value",{get:function(){1&this.f&&fe();var e=Ce(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),De.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},De.prototype.S=function(){1&this.f&&fe(),this.f|=1,this.f&=-9,Re(this),Se(this),ye++;var e=me;return me=this,Ae.bind(this,e)},De.prototype.N=function(){2&this.f||(this.f|=2,this.o=be,be=this)},De.prototype.d=function(){this.f|=8,1&this.f||Me(this)},Be.displayName="_st",Object.defineProperties(ke.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Be},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),Le("__b",(function(e,t){if("string"==typeof t.type){var n,r=t.props;for(var o in r)if("children"!==o){var i=r[o];i instanceof ke&&(n||(t.__np=n={}),n[o]=i,r[o]=i.peek())}}e(t)})),Le("__r",(function(e,t){je();var n,r,o=t.__c;o&&(o.__$f&=-2,void 0===(n=o.__$u)&&(o.__$u=(Oe((function(){r=this})),r.c=function(){o.__$f|=1,o.setState({})},n=r))),je(n),e(t)})),Le("__e",(function(e,t,n,r){je(),e(t,n,r)})),Le("diffed",(function(e,t){var n;if(je(),"string"==typeof t.type&&(n=t.__e)){var r=t.__np,o=t.props;if(r){var i=n.U;if(i)for(var a in i){var l=i[a];void 0===l||a in r||(l.d(),i[a]=void 0)}else n.U=i={};for(var s in r){var c=i[s],u=r[s];void 0===c?(c=Ue(n,s,u,o),i[s]=c):c.o(u,o)}}}e(t)})),Le("unmount",(function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var r=n.U;if(r)for(var o in n.U=void 0,r){var i=r[o];i&&i.d()}}}else{var a=t.__c;if(a){var l=a.__$u;l&&(a.__$u=void 0,l.d())}}e(t)})),Le("__h",(function(e,t,n,r){(r<3||9===r)&&(t.__$f|=2),e(t,n,r)})),b.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var r in t)return!0;for(var o in e)if("__source"!==o&&e[o]!==this.props[o])return!0;for(var i in this.props)if(!(i in e))return!0;return!1};const et=new class{constructor(e,t=100){__publicField(this,"storage",[]),this.queueKey=e,this.maxQueueSize=t;const n=this.tryGetLocalStorageItem(e);n&&Array.isArray(n)&&this.storage.push(...n)}enqueue(...e){e.forEach((e=>{const t=this.generateErrorHash(e);this.storage.push([e,t,"p"])})),this.storage.length>this.maxQueueSize&&this.storage.splice(0,this.storage.length-this.maxQueueSize),this.save()}dequeueFailed(){const e=this.storage.findIndex((([,,e])=>"f"===e));if(e<0)return null;const[t]=this.storage.splice(e,1);if(!t)return null;this.save();const[n]=t;return n}remove(e){const t=this.generateErrorHash(e),n=this.storage.findIndex((([,e])=>e===t));if(n<0)return null;const[r]=this.storage.splice(n,1);if(!r)return null;this.save();const[,,o]=r;return o}markAsFailed(e){const t=this.generateErrorHash(e),n=this.storage.findIndex((([,e])=>e===t));return!(n<0)&&(this.storage[n][2]="f",this.save(),!0)}save(){this.trySetLocalStorageItem(this.queueKey,JSON.stringify(this.storage))}generateErrorHash(e){return(JSON.stringify(e).split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e),0)>>>0).toString(16)}tryGetLocalStorageItem(e,t=1){try{const n=localStorage.getItem(e);if(!n)return null;const r=JSON.parse(n);return r&&"object"==typeof r&&"version"in r&&r.version===t?r.data:null}catch(n){return null}}trySetLocalStorageItem(e,t,n=1){try{const r=JSON.stringify({version:n,data:t});return localStorage.setItem(e,r),!0}catch(r){return!1}}}("ribbonjs-error-queue",100);let tt=null;const nt={apid:null,timestamp:0};function rt(e){ft.peek().previewDivID||(e.apid=e.apid||function(){if(!window.ribbon)return null;if(!nt.timestamp){try{nt.apid=Fe()}catch(e){nt.apid=null}nt.timestamp=Date.now()}return nt.apid}(),"error"in e&&e.error instanceof Error&&"errorBoundary"===e.type&&(e.error={message:e.error.message,stack:e.error.stack,name:e.error.name}),et.enqueue(e),lt(e).then((()=>{et.remove(e)})).catch((t=>{at(e,t)})))}function ot(){it(0)}function it(e=1e4){tt&&clearTimeout(tt),tt=setTimeout((()=>__async(this,null,(function*(){let e=null;for(;e=et.dequeueFailed();){const t=e;yield lt(t).catch((e=>{at(t,e)}))}}))),e)}function at(e,t){et.markAsFailed(e);const n=__spreadProps(__spreadValues({},e),{error:"Network error while sending error message: message"in t?t.message:"unknown error",type:"error",data:null});et.enqueue(n),it()}function lt(t){return __async(this,null,(function*(){const n=e();if(!n)return;const r=`${n}api/recruit/v1/log`;yield fetch(r,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(__spreadValues(__spreadValues({},t),Xe()))}).then((e=>{if(e.status>499)return Promise.reject(new Error("Server error sending log: response status "+e.status))}))}))}function st({error:e,errorTopic:t,componentStack:n,ctr:r,type:o="error",mirrorToConsole:i=!1}){var a;const l=(new Date).toISOString();if("errorBoundary"===o&&e instanceof Error)return void rt({type:"errorBoundary",ctr:r||"",error:e,componentStack:n,timestamp:l});const s=t+`: ${null!=(a=ct(e))?a:"unknown error"}`;i&&console.error(t,s),rt({type:"error",ctr:r||"",error:s,timestamp:l})}function ct(e){return"object"==typeof e&&e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:null}function ut(e){const t=ct(e);return!!(t&&["Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"].includes(t))}function dt(t){const{ctr:n,isWidget:r}=ft.value;if(!n)throw st({error:"No ctr provided to answerQuestion",errorTopic:"answerQuestion"}),new Error("No ctr provided to answerQuestion");return fetch(`${e()}api/recruit/v1/${n}/answer`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},body:JSON.stringify(__spreadProps(__spreadValues({answer:t,attributes:Qe()},Xe()),{startTime:ft.value.startTime})),redirect:"follow",referrerPolicy:"no-referrer"}).then((e=>e.json())).then((e=>{if(!r){const t=new URL(window.location.href);t.searchParams.set("apidtoken",e.token),window.history.pushState({},"",t.toString())}return e.apid&&qe(e.apid),e.token&&We(e.token),e}))}const pt=(t,n)=>{const r=e();if(!r)return;const o=`${r}api/recruit/v1/update`,i=__spreadValues({ctr:n,state:t},Xe());fetch(o,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(i)})};function ht(e,t){var n;if(!t||!t.length)return{action:"nextBlock"};const r=e.map((e=>function(e,t){for(const n of t){const t="string"==typeof e?n.option:Number(n.option);switch(n.operator){case"is_equal_to":if(e===t)return n.outcome;break;case"is_not_equal_to":if(e!==t)return n.outcome;break;case"is_greater_than":if(Number(e)>Number(t))return n.outcome;break;case"is_greater_than_or_equal_to":if(Number(e)>=Number(t))return n.outcome;break;case"is_less_than":if(Number(e)<Number(t))return n.outcome;break;case"is_less_than_or_equal_to":if(Number(e)<=Number(t))return n.outcome}}return{action:"nextBlock"}}(e,t)));return null!=(n=r.find((e=>"nextBlock"!==e.action)))?n:{action:"nextBlock"}}const ft=Te({}),gt=Te(0),_t=Te("open"),vt=Te(!1),mt=Te(0),bt=Pe((()=>{var e;return null==(e=ft.value.blocks)?void 0:e[gt.value]})),yt=Pe((()=>{var e;return gt.value===(null==(e=ft.value.blocks)?void 0:e.length)-1})),wt=Te(!1),xt=Te(!1);function Ct(){Ke(),_t.value="denied"}function kt(){Ke(),_t.value="closed"}function Tt(){_t.value="open",gt.value=0,mt.value=0}function Nt(){const e="moderated-video-interview"===ft.value.studyType;ft.value.previewDivID&&ft.value.isWidget&&"moderated-video-interview"===ft.value.studyType||(Ke(),_t.value="done",yt.peek()&&e&&localStorage.setItem("showScheduler","true"))}function St(){yt.peek()?Nt():(wt.value=!1,gt.value++,Ge())}function It(e){gt.value=e,Ge({blockIndex:e})}function Et(e){ft.value.preview||(ft.value.ctr?pt(e,ft.value.ctr):st({error:"No ctr found in props",errorTopic:"track"}))}function Pt(e){return __async(this,null,(function*(){const t=bt.peek();if(!t||!("nextBlock"in t))return;if("Unmoderated_PrototypeTest"===t.type)return;const n=function({block:e,value:t}){var n,r,o,i;switch(e.type){case"Question_MultiChoiceSingleAnswer":{const r=e.data.options.at(Number(t));return r?ht([r.optionText],null!=(n=e.data.logic)?n:[]):(st({error:"Invalid option selected",errorTopic:"getLogicOutcome"}),{action:"rejectUser"})}case"Question_MultiChoiceMultiAnswer":return Array.isArray(t)?ht(e.data.options.filter(((e,n)=>1===t[n])).map((e=>e.optionText)),null!=(r=e.data.logic)?r:[]):(st({error:"Invalid option selected",errorTopic:"getLogicOutcome"}),{action:"rejectUser"});case"Question_Rating":{const n=Number(t);return n<1||n>e.data.highestScore?(st({error:`Invalid rating selected: ${n}`,errorTopic:"getLogicOutcome"}),{action:"rejectUser"}):ht([n],null!=(o=e.data.logic)?o:[])}case"Question_NPS":{const n=Number(t);return n<0||n>10?(st({error:`Invalid rating selected: ${n}`,errorTopic:"getLogicOutcome"}),{action:"rejectUser"}):ht([n],null!=(i=e.data.logic)?i:[])}default:return{action:"nextBlock"}}}({block:t,value:e.value}),r=t.nextBlock;switch(ft.value.preview||dt(e),n.action){case"rejectUser":Ct();break;case"goToBlock":It(n.blockPosition-1);break;case"nextBlock":if("next"===r&&St(),"fail"===r&&Ct(),"end"===r&&Nt(),"number"==typeof r){const e=Number(r);Number.isInteger(e)&&e>0?It(r-1):St()}break;default:St()}}))}function Rt(t){if(ft.peek().previewDivID)return;const n=e();if(!n)return;const r=`${n}api/recruit/v1/log`,o=__spreadProps(__spreadValues(__spreadValues({apid:"none",type:"info"},t),Xe()),{data:t.data||{}});fetch(r,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o)})}function Mt(e,t,n){let r;switch(t){case"contains":r=e.includes(n);break;case"ends-with":r=e.endsWith(n);break;case"starts-with":r=e.startsWith(n);break;case"regex":try{r=!!e.match(RegExp(n))}catch(o){r=!1}break;default:r=!1}return r}const At="ribbon_delayedTrigger.",Dt="ribbon_delayedTrigger_args.",Ot="ribbon_hasRunBefore.";function Lt(e){const t=function(e){var t;return`${At}${e}.${null==(t=window.ribbon)?void 0:t.ribbonID}`}(e),n=function(e){var t;return`${Dt}${e}.${null==(t=window.ribbon)?void 0:t.ribbonID}`}(e),r=function(e){var t;return`${Ot}${e}.${null==(t=window.ribbon)?void 0:t.ribbonID}`}(e);return{delayedTriggerKey:t,delayedTriggerArgsKey:n,hasRunBeforeKey:r}}function jt(e,t){const{delaySeconds:n=10,ctrId:r,args:o}=t,{delayedTriggerKey:i,delayedTriggerArgsKey:a,hasRunBeforeKey:l}=Lt(r);new URLSearchParams(window.location.search).get("ribbonpreview")&&function(e){const{delayedTriggerKey:t,delayedTriggerArgsKey:n,hasRunBeforeKey:r}=Lt(e);localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r)}(r);const s=localStorage.getItem(i),c=localStorage.getItem(l);if(!s||!c){const t=`${(new Date).getTime()}-${Math.random().toString().substring(2)}`;localStorage.setItem(i,t);const r=JSON.stringify(o);localStorage.setItem(a,r),setTimeout((()=>{const n=localStorage.getItem(l);if(localStorage.getItem(i)===t&&!n){const t=JSON.parse(localStorage.getItem(a)||"");e(t),localStorage.setItem(l,"true")}}),1e3*n)}}function Bt(e){var t;if(!(null==(t=window.ribbon)?void 0:t.ribbonID))return;const n=ze();localStorage.setItem("ribbon_id."+window.ribbon.ribbonID,e),n!==e&&function(){if(!window.ribbon)return void st({error:"clearAttributes: no window.ribbon",errorTopic:"Error clearing attributes",mirrorToConsole:!0});localStorage.removeItem("ribbon_attributes."+window.ribbon.ribbonID)}()}function Ut(e){var t;if(!(null==(t=window.ribbon)?void 0:t.ribbonID))return;const n=Qe(),r=__spreadValues(__spreadValues({},n),e);if(function(e){const t=Object.keys(e).length,n=JSON.stringify(e).length;return!(t>100)&&!(n>102400)}(r)){const e=JSON.stringify(r);localStorage.setItem("ribbon_attributes."+window.ribbon.ribbonID,e)}else st({error:"failed to validate attributes - cannot set new attributes",errorTopic:"Error handling attributes",mirrorToConsole:!0})}function $t(e,t){Ut({[e]:t})}const zt=e=>{te((()=>{"block"in e?(e.block,Rt({ctr:ft.peek().ctr||null,message:`show block ${e.block.type}`,data:e})):Rt({ctr:ft.peek().ctr||null,message:`show component ${e.component}`,data:e})}),[])};function Ft(...e){return[...new Set(e.filter((e=>"string"==typeof e)).map((e=>e.replace(/\n\s+|\s+/g," "))))].join(" ")}var qt=0;function Vt(e,t,r,o,i,a){var l,s,c={};for(s in t)"ref"==s?l=t[s]:c[s]=t[s];var u={type:e,props:c,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--qt,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(l=e.defaultProps))for(s in l)void 0===c[s]&&(c[s]=l[s]);return n.vnode&&n.vnode(u),u}function Ht(e){var t=e,{children:n,className:r}=t,o=__objRest(t,["children","className"]);return Vt("div",__spreadProps(__spreadValues({class:Ft("m-0 grid gap-4 overflow-y-auto px-6 text-zinc-900",r)},o),{children:n}))}function Wt({children:e,className:t,isWidget:n=!0}){return Vt("h1",{style:{wordBreak:"break-word"},class:Ft("grid text-left font-sans text-[20px] font-[600] leading-[30px] tracking-normal text-black",n&&"pr-7",t),children:e})}const Qt={primaryColor:"#1e88e5",darkButtonText:!1,widgetBorderRadius:3,buttonBorderRadius:4,widgetPosition:"topLeft",fullWidthButton:!1,highlightBackground:"#f4f5f6"},Jt={position:"fixed",top:0,bottom:void 0,left:0,right:void 0};function Zt(e){var t=e,{children:n,variant:r="primary",className:o,class:i}=t,a=__objRest(t,["children","variant","className","class"]);const l="primary"===r?{backgroundColor:Qt.primaryColor,color:Qt.darkButtonText?"black":"white",borderColor:Qt.primaryColor,borderRadius:Qt.buttonBorderRadius}:{backgroundColor:"white",color:Qt.primaryColor,borderColor:Qt.primaryColor,borderRadius:Qt.buttonBorderRadius};return Vt("button",__spreadProps(__spreadValues({class:Ft("border-2 border-solid px-2 py-[14px] text-center font-sans font-[500] leading-none hover:brightness-105\n        active:brightness-95",o,i),style:l},a),{children:n}))}function Kt(){return te((()=>{Et("show-thank-you")}),[]),Vt(Ht,{children:[Vt(Wt,{className:ft.value.isWidget&&!1===vt.value?"":"pr-0 text-center",children:"Thank you for your feedback"}),ft.peek().isPanel&&Vt(Zt,{onClick:()=>{if(ft.peek().isPanel){const e=`https://app.prolific.co/submissions/complete?cc=${window.location.href.split("/")[4].split("?")[0]}`;window.location.href=e}else;},children:"Finish"})]})}function Gt(){const{isWidget:e,rLink:t,studyType:n,previewDivID:r}=ft.value;return zt({component:"end"}),te((()=>{e&&r?setTimeout(Tt,3e3):(e&&setTimeout(kt,5e3),"denied"!==_t.value&&"moderated-video-interview"===n&&(Et("show-link-to-study"),""!==t?window.open(t,"_blank"):e||setTimeout((()=>{window.location.reload()}),500),kt()))}),[]),Vt(Kt,{})}function Yt(){return Vt("svg",{class:"fill-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"#006afa",style:"width:16px; height:16px;",children:Vt("path",{d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}const Xt={af:{nativeName:"Afrikaans",englishName:"Afrikaans"},ar:{nativeName:"",englishName:"Arabic"},az:{nativeName:"Azrbaycan",englishName:"Azerbaijani"},be:{nativeName:"",englishName:"Belarusian"},bg:{nativeName:"",englishName:"Bulgarian"},bs:{nativeName:"Bosanski",englishName:"Bosnian"},ca:{nativeName:"Catal",englishName:"Catalan"},cs:{nativeName:"etina",englishName:"Czech"},cy:{nativeName:"Cymraeg",englishName:"Welsh"},da:{nativeName:"Dansk",englishName:"Danish"},de:{nativeName:"Deutsch",englishName:"German"},el:{nativeName:"",englishName:"Greek"},en:{nativeName:"English",englishName:"English"},es:{nativeName:"Espaol",englishName:"Spanish"},et:{nativeName:"Eesti",englishName:"Estonian"},fa:{nativeName:"",englishName:"Persian"},fi:{nativeName:"Suomi",englishName:"Finnish"},fr:{nativeName:"Franais",englishName:"French"},gl:{nativeName:"Galego",englishName:"Galician"},he:{nativeName:"",englishName:"Hebrew"},hi:{nativeName:"",englishName:"Hindi"},hr:{nativeName:"Hrvatski",englishName:"Croatian"},hu:{nativeName:"Magyar",englishName:"Hungarian"},hy:{nativeName:"",englishName:"Armenian"},id:{nativeName:"Indonesia",englishName:"Indonesian"},is:{nativeName:"slenska",englishName:"Icelandic"},it:{nativeName:"Italiano",englishName:"Italian"},ja:{nativeName:"",englishName:"Japanese"},kk:{nativeName:"",englishName:"Kazakh"},kn:{nativeName:"",englishName:"Kannada"},ko:{nativeName:"",englishName:"Korean"},lt:{nativeName:"Lietuvi",englishName:"Lithuanian"},lv:{nativeName:"Latvieu",englishName:"Latvian"},mi:{nativeName:"Mori",englishName:"Maori"},mk:{nativeName:"",englishName:"Macedonian"},mr:{nativeName:"",englishName:"Marathi"},ms:{nativeName:"Bahasa Melayu",englishName:"Malay"},ne:{nativeName:"",englishName:"Nepali"},nl:{nativeName:"Nederlands",englishName:"Dutch"},no:{nativeName:"Norsk",englishName:"Norwegian"},pl:{nativeName:"Polski",englishName:"Polish"},pt:{nativeName:"Portugus",englishName:"Portuguese"},ro:{nativeName:"Romn",englishName:"Romanian"},ru:{nativeName:"",englishName:"Russian"},sk:{nativeName:"Slovenina",englishName:"Slovak"},sl:{nativeName:"Slovenina",englishName:"Slovenian"},sr:{nativeName:"",englishName:"Serbian"},sv:{nativeName:"Svenska",englishName:"Swedish"},sw:{nativeName:"Kiswahili",englishName:"Swahili"},ta:{nativeName:"",englishName:"Tamil"},th:{nativeName:"",englishName:"Thai"},tl:{nativeName:"Tagalog",englishName:"Tagalog"},tr:{nativeName:"Trke",englishName:"Turkish"},uk:{nativeName:"",englishName:"Ukrainian"},ur:{nativeName:"",englishName:"Urdu"},vi:{nativeName:"Ting Vit",englishName:"Vietnamese"},zh:{nativeName:"",englishName:"Chinese"}},en={button:{finish:"Finish",next:"Next",studyEnded:"Conversation ended",tryAgain:"Try again"},conversation:{desktopOnly:" Hello there!\n\nThis particular study is designed for desktop use only to provide the best experience.\n\nFeel free to open it on your desktop computer to participate.\n\nWe appreciate your understanding and can't wait to see you there!"},error:{language:{retrievalFailed:"Failed to retrieve the language. Please try again."},nextQuestion:'We were unable to get the next question. Check you\'re connected to the internet and press "Try again"',audio:{sending:"Seems there are some issues with your internet connection. Check your connection and try resending the audio.",transcribe:{audioAndText:"There was a problem transcribing your audio message. Please try typing your response instead.",audioOnly:"There was a problem transcribing your audio message. Please try recording your messsage again."},micAccess:{audioAndText:"Seems there was a problem trying to access your microphone. Try typing instead or enable audio permissions for this site.",audioOnly:"Seems there was a problem trying to access your microphone. Enable audio permissions for this site and try again."},tryAgain:"Please try recording your message again.",tooQuiet:{audioAndText:"I'm sorry, but your sound seems a little quiet. Try speaking up or typing instead.",audioOnly:"I'm sorry, but your sound seems a little quiet. Try speaking up."}}}},tn=(rn={__c:nn="__cC"+c++,__:{language:"en",translations:en,setLanguage:()=>{},loading:!1,networkError:!1,retryRetrieveTranslation:()=>{}},Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,n;return this.getChildContext||(t=[],(n={})[nn]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some((function(e){e.__e=!0,C(e)}))},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}}).Provider.__=rn.Consumer.contextType=rn;var nn,rn;function on(){const{translations:e}=ae(tn);return function(t){const n=t.split(".");let r=e;for(const e of n){if("object"!=typeof r||!(e in r))break;r=r[e]}return"string"!=typeof r?(console.warn(`Translation key "${t}" not found.`),Vt(m,{children:t})):Vt(m,{children:r})}}function an({text:e}){return Vt("span",{children:(e=>{const t=/https?:\/\/[^\s]+/g;return e.split(t).reduce(((n,r,o)=>{var i,a;if(0===o)return[Vt(m,{children:[" ",r," "]})];const l=null!=(a=null==(i=e.match(t))?void 0:i[o-1])?a:"";return[...n,Vt("a",{className:"group items-center break-all text-blue-700 hover:text-blue-500",href:l,target:"_blank",rel:"noopener noreferrer",children:[l," ",Vt("span",{className:"hidden text-blue-500 group-hover:inline-block",children:Vt(Yt,{})})]}),Vt(m,{children:[" ",r," "]})]}),[])})(e)})}function ln({content:e,loadingResponse:t=!1,errorKey:n}){const r=on();let o="text-lg";return(ft.value.isWidget||"small"===ft.value.preview)&&(o="text-base"),"small"===ft.value.preview&&(o="text-[16px]"),Vt("div",{className:"-mt-2 grid content-start overflow-y-auto p-6 pb-4",children:[!n&&(t||""===e)&&Vt("div",{class:Ft("flex content-center justify-start pl-[10px] pt-[6px] opacity-70"),children:Vt("div",{class:"loader"})}),!e&&!n||t?null:Vt("div",{class:Ft("break-words font-light text-slate-700",o),children:Vt("span",{class:"grid justify-items-start overflow-x-auto whitespace-pre-line break-words text-left",children:n?Vt("span",{children:r(n)}):Vt(an,{text:e})})})]})}function sn(){return"small"===ft.value.preview?null:Vt("button",{class:"absolute right-4 top-4 z-10 m-1 flex items-start justify-end p-1 text-zinc-900",type:"button",onClick:()=>{"small"!==ft.value.preview&&(Et("close-widget"),kt())},children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"h-5 w-5",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})})})}let cn=0,un=0;function dn(){var e;const[,t]=ee({});return te((()=>{const e=()=>t({});return window.addEventListener("debugModeChange",e),()=>window.removeEventListener("debugModeChange",e)}),[]),{handleDebugClick:function(){if((!ft.peek().ctr||window.location.hostname.includes("localhost"))&&(cn++,clearTimeout(un),un=setTimeout((()=>cn=0),1e3),9===cn)){const e=new CustomEvent("debugModeChange",{bubbles:!0,cancelable:!0});window.dispatchEvent(e),window.ribbon?window.ribbon.debugMode=!window.ribbon.debugMode:st({error:"useDebugMode: window.ribbon not defined",errorTopic:"Error handling debug click",mirrorToConsole:!0}),cn=0}},debugMode:null==(e=window.ribbon)?void 0:e.debugMode}}function pn(){const{handleDebugClick:e,debugMode:t}=dn(),{profilePicture:n,jobRole:r,name:o}=ft.peek().user;return Vt("div",{className:"flex gap-3 px-6 text-zinc-900",children:[n?Vt("div",{className:"grid min-w-[48px] place-content-center",children:Vt("img",{src:n,className:Ft("aspect-square w-12 rounded-full border-2 border-zinc-900 object-cover",t&&"border-dashed"),onClick:e})}):null,Vt("div",{class:"grid",children:[Vt("h2",{class:"text-lg font-semibold text-zinc-900",children:o}),Vt("p",{class:Ft("text-sm font-medium text-slate-700"),children:"UXR"===r?"User Researcher":r})]})]})}function hn({children:e,className:t,fullWidth:n}){return Vt("section",{class:Ft("grid gap-1 px-6 pt-0 text-zinc-900",n||Qt.fullWidthButton?"justify-normal":"justify-end",t),children:e})}function fn(){return Vt("a",{href:"https://wondering.com",target:"_blank",rel:"noreferrer noopener",children:Vt("img",{className:"h-4",src:"/assets/img/poweredByWondering.png"})})}function gn(){const{poweredByRibbon:e}=ft.value;return Vt("div",{className:"grid justify-items-center gap-4 text-center text-xs text-zinc-900",children:[e&&Vt(fn,{}),Vt("p",{className:"mb-0",children:["By interacting with this page you agree to the"," ",Vt("a",{rel:"noreferrer noopener",href:"https://wondering.com/participant-terms",target:"_blank",className:"whitespace-nowrap text-blue-600",children:"Wondering Participant Terms"}),"."]})]})}function _n(e){return"Explore"===e.type||"Show"===e.type}function vn({chatHistoryLength:e,chatEnded:t,blocks:n}){const r=Ft("absolute top-0 left-0 h-[9px] transition-all duration-1000 ease-in-out rounded-r-lg col-span-2");let o=10;n&&(o=n.reduce(((e,t)=>_n(t)?e+1+t.data.followUps:e+1),0));const i=Math.floor(e/2)/o;return Vt("div",t?{class:r,style:{width:"102%",background:Qt.primaryColor}}:{"data-curr":e,"data-max":o,class:r,style:{width:100*i+"%",background:Qt.primaryColor}})}function mn({className:e}){return Vt("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[Vt("g",{"clip-path":"url(#clip0_3196_1641)",children:Vt("path",{d:"M2.56462 6.23564L6.13799 8.788C6.32393 8.92082 6.4169 8.98722 6.5142 9.00252C6.59981 9.01599 6.6875 9.00242 6.76504 8.9637C6.85316 8.91971 6.92171 8.82831 7.05881 8.64551L7.8139 7.63872C7.85267 7.58703 7.87205 7.56118 7.89484 7.53889C7.91507 7.51909 7.93726 7.5014 7.96108 7.48611C7.9879 7.46888 8.01743 7.45576 8.07647 7.42951L11.3003 5.9967C11.4339 5.93731 11.5008 5.90761 11.5511 5.86123C11.5957 5.82021 11.6308 5.76996 11.654 5.71399C11.6801 5.65071 11.685 5.57776 11.6947 5.43184L11.9308 1.89113M11.2513 11.25L13.4313 12.1842C13.6842 12.2926 13.8107 12.3468 13.8777 12.4369C13.9365 12.5159 13.9654 12.6131 13.9593 12.7114C13.9524 12.8234 13.876 12.9379 13.7234 13.1668L12.6992 14.7031C12.6269 14.8116 12.5907 14.8659 12.5429 14.9052C12.5006 14.94 12.4518 14.9661 12.3994 14.982C12.3402 15 12.275 15 12.1445 15H10.4818C10.309 15 10.2226 15 10.1491 14.9711C10.0842 14.9455 10.0267 14.9041 9.98199 14.8506C9.93131 14.79 9.90399 14.708 9.84935 14.5441L9.25529 12.7619C9.22306 12.6652 9.20695 12.6169 9.20271 12.5678C9.19895 12.5242 9.20207 12.4803 9.21195 12.4377C9.2231 12.3897 9.24589 12.3441 9.29146 12.253L9.74272 11.3504C9.83441 11.1671 9.88025 11.0754 9.95087 11.0185C10.0131 10.9683 10.0884 10.9371 10.1679 10.9286C10.2581 10.9189 10.3553 10.9513 10.5498 11.0161L11.2513 11.25ZM18.3346 9.99996C18.3346 14.6023 14.6037 18.3333 10.0013 18.3333C5.39893 18.3333 1.66797 14.6023 1.66797 9.99996C1.66797 5.39759 5.39893 1.66663 10.0013 1.66663C14.6037 1.66663 18.3346 5.39759 18.3346 9.99996Z",stroke:"currentColor","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})}),Vt("defs",{children:Vt("clipPath",{id:"clip0_3196_1641",children:Vt("rect",{width:"20",height:"20",fill:"white"})})})]})}function bn(e){return e?function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e.toLowerCase()):""}function yn({icon:e,options:t,onChange:n,value:r}){var o;const{isWidget:i,preview:a,previewDivID:l}=ft.peek(),[s,c]=ee(!1),[u,d]=ee(""),[p,h]=ee(""),f=bt.peek(),g="Show"===(null==f?void 0:f.type)&&!a&&"done"!==_t.value,_=oe((()=>t.map((e=>__spreadProps(__spreadValues({},e),{filterText:`${bn(e.displayText)} ${bn(e.filterText)} ${bn(e.value)}`})))),[t]).filter((e=>{const t=bn(p);return e.filterText.includes(t)}));te((()=>{var e,t,n;function r(){var e;let t=null;if(l){const e=document.getElementById(l);a?t=e:e.shadowRoot&&(t=e.shadowRoot.firstElementChild)}else{const n=document.querySelector(".ribbon-widget-shadow-dom-container");(null==n?void 0:n.shadowRoot)&&(t=null==(e=n.shadowRoot.firstElementChild)?void 0:e.firstElementChild)}if(t){const e=24,n=8,r=9,o=4,l=36,s=80,c=t.offsetHeight;let u=e+n;(a||i)&&(u=n),g&&(u+=s);const p=c-(r+o+l+o+u);d(`${Math.min(300,p)}px`)}}r();const o=new ResizeObserver(r);if(l){const r=document.getElementById(l);if(r)a?o.observe(r):(null==(e=r.shadowRoot)?void 0:e.firstElementChild)&&o.observe(r.shadowRoot.firstElementChild);else{const e=document.querySelector(".ribbon-widget-shadow-dom-container");(null==(n=null==(t=null==e?void 0:e.shadowRoot)?void 0:t.firstElementChild)?void 0:n.firstElementChild)&&o.observe(e.shadowRoot.firstElementChild.firstElementChild)}}return()=>o.disconnect()}),[l,a,i]);const v=ne(null);return Vt("div",{className:"relative",children:[Vt("div",{"data-testid":"select-trigger",className:"flex cursor-pointer items-center justify-start gap-2 rounded-lg px-3 py-2 text-sm text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 focus:ring-2 focus:ring-zinc-600",onClick:()=>{setTimeout((()=>{var e;null==(e=v.current)||e.focus()}),0),c(!s)},children:[e,Vt("span",{children:null==(o=t.find((e=>e.value===r)))?void 0:o.value.toUpperCase()})]}),s&&Vt("div",{className:Ft("absolute right-0 z-10 mt-1 min-w-[164.75px] overflow-hidden rounded-lg border-0 bg-white shadow-lg ring-1 ring-zinc-300"),style:{maxHeight:u},children:[Vt("div",{className:"p-1 pb-0.5",children:Vt("input",{"data-testid":"select-search-input",type:"text",className:"w-full rounded-lg border px-2 py-1 text-sm text-zinc-900 shadow-sm focus:border-zinc-300 focus:ring-2 focus:ring-zinc-200 focus-visible:outline-none",placeholder:"Search languages...",value:p,onInput:e=>h(e.currentTarget.value),ref:v,onBlur:()=>{c(!1)},onKeyDown:e=>{"Escape"===e.key&&s&&c(!1)}})}),Vt("div",{className:"scrollbar-thin overflow-y-auto overflow-x-hidden rounded-lg p-0.5",style:{maxHeight:parseInt(u.replace("px",""),10)-8+"px"},children:[_.map((e=>Vt("div",{className:"cursor-pointer text-zinc-900",onMouseDown:e=>{e.preventDefault()},onClick:t=>{return r=t,o=e.value,r.stopPropagation(),n(o),c(!1),void h("");var r,o},children:Vt("div",{className:Ft("flex items-center text-nowrap rounded-lg px-3 py-1 text-sm hover:bg-zinc-200",e.value===r&&"bg-zinc-100"),children:[e.displayText,"(",e.value.toUpperCase(),")"]})},e.value))),0===_.length&&Vt("div",{className:"py-1 text-center text-zinc-500",children:"No languages found"})]})]})]})}function wn(){const e=Object.keys(Xt).map((e=>({value:e,displayText:Xt[e].nativeName,filterText:Xt[e].englishName})));return Vt(tn.Consumer,{children:({setLanguage:t,language:n,networkError:r,retryRetrieveTranslation:o})=>Vt(yn,{icon:Vt(mn,{className:"h-4 w-4 text-zinc-900"}),options:e,onChange:e=>{r&&e===n&&o(),t(e)},value:n})})}function xn(e,t){for(var n in t)e[n]=t[n];return e}function Cn(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function kn(e,t){this.props=e,this.context=t}(kn.prototype=new b).isPureReactComponent=!0,kn.prototype.shouldComponentUpdate=function(e,t){return Cn(this.props,e)||Cn(this.state,t)};var Tn=n.__b;n.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Tn&&Tn(e)};var Nn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Sn(e){function t(t){var n=xn({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Nn,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var In=n.__e;n.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);In(e,t,n,r)};var En=n.unmount;function Pn(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=xn({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Pn(e,t,n)}))),e}function Rn(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Rn(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Mn(){this.__u=0,this.t=null,this.__b=null}function An(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Dn(){this.u=null,this.o=null}n.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),En&&En(e)},(Mn.prototype=new b).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=An(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(l):l())};n.__R=a;var l=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Rn(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},Mn.prototype.componentWillUnmount=function(){this.t=[]},Mn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Pn(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&_(m,null,e.fallback);return o&&(o.__u&=-33),[_(m,null,t.__a?null:e.children),o]};var On=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(Dn.prototype=new b).__a=function(e){var t=this,n=An(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),On(t,e,r)):o()};n?n(i):i()}},Dn.prototype.render=function(e){this.u=null,this.o=new Map;var t=S(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Dn.prototype.componentDidUpdate=Dn.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){On(e,n,t)}))};var Ln="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,jn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Bn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Un=/[A-Z0-9]/g,$n="undefined"!=typeof document,zn=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};b.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(b.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Fn=n.event;function qn(){}function Vn(){return this.cancelBubble}function Hn(){return this.defaultPrevented}n.event=function(e){return Fn&&(e=Fn(e)),e.persist=qn,e.isPropagationStopped=Vn,e.isDefaultPrevented=Hn,e.nativeEvent=e};var Wn={enumerable:!1,configurable:!0,get:function(){return this.class}},Qn=n.vnode;n.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var o in t){var i=t[o];if(!("value"===o&&"defaultValue"in t&&null==i||$n&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var a=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===i?i="":"translate"===a&&"no"===i?i=!1:"ondoubleclick"===a?o="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||zn(t.type)?"onfocus"===a?o="onfocusin":"onblur"===a?o="onfocusout":Bn.test(o)?o=a:-1===n.indexOf("-")&&jn.test(o)?o=o.replace(Un,"-$&").toLowerCase():null===i&&(i=void 0):a=o="oninput","oninput"===a&&r[o=a]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=S(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=S(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Wn)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=Ln,Qn&&Qn(e)};var Jn=n.__r;n.__r=function(e){Jn&&Jn(e),e.__c};var Zn=n.diffed;n.diffed=function(e){Zn&&Zn(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};const Kn=Sn((({analyserRef:e},t)=>{var n;const r=100,o=40,i=40,a=2,l=3,s=1.2,c=8,u="#0a0a0a",d=ne(new Float32Array((null==(n=e.current)?void 0:n.fftSize)||0)),p=ne([]),h=ne(),f=ne(Math.floor(performance.now()/r)),g=ne(null);function _(e){e.style.width="100%",e.style.height=`${o}px`;const t=window.devicePixelRatio||1,n=e.getBoundingClientRect();e.width=n.width,e.height=n.height*t;const r=e.getContext("2d");return null==r||r.scale(1,t),r}function v(){var t;const n=Math.floor(performance.now()/r);if(n>f.current){f.current=n;const r=e.current,o=d.current;if(!r)throw new Error("analyser has not been intialized");r.getFloatTimeDomainData(o);let l=0;for(let e=0;e<o.length;e++)o[e]>l&&(l=o[e]);const s=Math.log10(9*l+1),c=Math.max(s*i,a),u={x:(null==(t=g.current)?void 0:t.width)||0,y:i/2-c/2,height:c};p.current.push(u)}!function(){const e=g.current;if(!e)return;const t=_(e);if(t){t.clearRect(0,0,e.width,e.height);for(let e=0;e<p.current.length;e++){const n=p.current[e];t.fillStyle=u,t.roundRect(n.x,n.y,l,n.height,c),t.fill(),n.x-=s,n.x<1&&p.current.shift()}}}(),h.current=requestAnimationFrame(v)}function m(){e.current?(d.current=new Float32Array(e.current.fftSize),_(g.current),v()):console.error("no audio analyser ref, unable to start")}function b(){h.current&&cancelAnimationFrame(h.current),p.current=[],g.current&&function(e){const t=_(e);t&&t.clearRect(0,0,e.width,e.height)}(g.current)}function y(){h.current?(cancelAnimationFrame(h.current),h.current=void 0):v()}return re(t,(()=>({start:m,stop:b,togglePause:y}))),Vt("div",{style:{transform:"translate(2,0)"},children:Vt("canvas",{id:"waveform",ref:g,height:o,width:"100%"})})})),Gn=e=>{let t=0,n=0;for(let r=0;r<e.numberOfChannels;r++){const o=e.getChannelData(r);for(let e=0;e<o.length;e++)t+=Math.abs(o[e]),n++}return t/n};function Yn(e,t,n=1e-4){return __async(this,null,(function*(){return new Promise(((r,o)=>{const i=new FileReader;i.onloadend=()=>{const t=i.result;e.decodeAudioData(t).then((e=>{const t=Gn(e);r(t<n)})).catch(o)},i.onerror=e=>{o(e)},i.readAsArrayBuffer(t)}))}))}class Xn extends Error{}class er extends Error{}function tr({error:e}){return Vt("div",{className:"text-md mb-6 break-words rounded-lg bg-red-50 p-4 font-light text-red-800",children:Vt("p",{className:"whitespace-pre-line break-words",children:on()(e.translationKey)})})}function nr({mode:e,disabled:t,onClick:n}){const r="recording"===e?"Finish recording":"idle"===e?"Start recording":"text"===e?"Send":"ended"===e?"Next":"error"===e?"Retry":"Continue";return Vt("div",{class:Ft("absolute grid items-center justify-items-center",["idle","transcribing","error","preparing"].includes(e)&&"right-[calc(50%-40px)] h-[80px] w-[80px]","recording"===e&&"right-0 h-[80px] w-[80px]","ended"===e&&"right-0 h-[72px] w-full","text"===e&&"right-[3.2px] h-[56px] w-[48px]",t&&"pointer-events-none opacity-50"),style:{transition:"all 0.5s"},children:[Vt("div",{class:Ft("absolute rounded-full transition-all duration-500",["idle","recording","text","ended","preparing"].includes(e)&&"hidden opacity-0","transcribing"===e&&"h-[72px] w-[72px] animate-[spin_2s_infinite_linear] border border-blue-400 border-l-transparent","error"===e&&"h-[72px] w-[72px] border border-red-700","ended"===e&&"hidden opacity-0")}),Vt("button",{"aria-label":r,class:Ft("absolute grid aspect-square items-center justify-items-center\n         transition-all",["idle","recording","ended","preparing"].includes(e)&&"hover:brightness-90 active:brightness-90",["idle","preparing"].includes(e)&&"h-[72px] w-[72px] rounded-[50px] duration-300","recording"===e&&"h-[48px] w-[48px] rounded-[50px] duration-500","transcribing"===e&&"h-[48px] w-[48px] cursor-default rounded-[50px] duration-500","text"===e&&"mr-[2px] h-[48px] w-[48px] rounded-[50px] duration-300","ended"===e&&"h-[48px] w-full rounded duration-500","error"===e&&"h-[48px] w-[48px] rounded-[50px] duration-500"),style:{willChange:"height, width, right, opacity",transition:"all 0.5s, filter 0.2s",background:Qt.primaryColor},type:"button",onClick:n,children:[Vt("p",{class:Ft("absolute text-white transition-opacity duration-300","ended"===e?"opacity-100":"opacity-0"),children:r}),Vt("svg",{xmlns:"http:www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:Ft("transition-all","idle"===e&&"h-8 w-8 duration-500","preparing"===e&&"h-8 w-8 animate-spin-ease duration-300 ease-in-out","recording"===e&&"h-6 w-6 duration-500","transcribing"===e&&"h-6 w-6 duration-500","text"===e&&"h-6 w-6 duration-300","ended"===e&&"h-0 w-0 duration-300","error"===e&&"h-5 w-5 duration-300"),children:[Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75\n         0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z",class:Ft("transition-opacity duration-300","idle"===e||"preparing"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5",class:Ft("transition-opacity duration-300","recording"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75",class:Ft("transition-opacity duration-300","text"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181\n            3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99",class:Ft("transition-opacity duration-300","error"===e?"opacity-100":"opacity-0")})]})]})]})}const rr=Sn((function({tabIndex:e,className:t,onInput:n,value:r,onSubmit:o},i){const a=ne(null);function l(){a.current&&(a.current.style.height="auto",a.current.style.height=a.current.scrollHeight+"px")}return re(i,(()=>({focus:()=>{var e;return null==(e=a.current)?void 0:e.focus()},blur:()=>{var e;return null==(e=a.current)?void 0:e.blur()}}))),te((()=>{l()}),[r]),Vt("textarea",{ref:a,value:r,className:Ft("resize-none overflow-y-auto overflow-x-hidden text-base outline-none",t),onInput:function(e){n(e.currentTarget.value),l()},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o())},rows:1,tabIndex:e})}));function or({mode:e,setMode:t,disabled:n,textInputRef:r,setValue:o,value:i,onSubmit:a}){return Vt("div",{class:Ft("absolute grid items-center justify-items-center border-[1.5px] transition-all duration-300",["recording","transcribing","ended","preparing"].includes(e)&&"right-[calc(50%-64px)] hidden h-0 w-0 border-[#001F48] opacity-0","idle"===e&&"right-[calc(50%-72px)] h-[15.2px] w-[24.8px] rounded-[2px] border-[#001F48] hover:border-zinc-900","text"===e&&"right-0 min-h-[56px] w-full rounded-[28px] border-[#001F48]",n&&"idle"===e&&"pointer-events-none opacity-50"),onClick:()=>{"text"!==e&&t("text")},style:{willChange:"right, height, width, opacity"},children:[Vt("svg",{width:"23",height:"14",viewBox:"0 0 23 14",fill:"currentColor",stroke:"none",xmlns:"http://www.w3.org/2000/svg",class:Ft("absolute cursor-pointer fill-slate-500 transition-all duration-300 hover:fill-slate-800","idle"===e?"":"scale-0 opacity-0"),children:Vt("path",{d:"M 4.072 3.099 C 3.885 3.099 3.705 3.17 3.573 3.298 C 3.441 3.426 3.366 3.6 3.366 3.781 C 3.366 3.87 3.385 3.959 3.42 4.042 C 3.456 4.124 3.508 4.2 3.573 4.263 C 3.639 4.326 3.716 4.377 3.802 4.411 C 3.888 4.445 3.979 4.463 4.072 4.463 C 4.259 4.463 4.439 4.391 4.571 4.263 C 4.703 4.135 4.778 3.962 4.778 3.781 C 4.778 3.6 4.703 3.426 4.571 3.298 C 4.439 3.17 4.259 3.099 4.072 3.099 Z M 6.963 3.099 C 6.776 3.099 6.597 3.17 6.465 3.298 C 6.332 3.426 6.258 3.6 6.258 3.781 C 6.258 3.87 6.276 3.959 6.312 4.042 C 6.347 4.124 6.399 4.2 6.465 4.263 C 6.53 4.326 6.608 4.377 6.693 4.411 C 6.779 4.445 6.871 4.463 6.963 4.463 C 7.056 4.463 7.148 4.445 7.234 4.411 C 7.319 4.377 7.397 4.326 7.462 4.263 C 7.528 4.2 7.58 4.124 7.615 4.042 C 7.651 3.959 7.669 3.87 7.669 3.781 C 7.669 3.6 7.595 3.426 7.462 3.298 C 7.33 3.17 7.151 3.099 6.963 3.099 Z M 9.85 3.099 C 9.663 3.099 9.484 3.17 9.351 3.298 C 9.219 3.426 9.145 3.6 9.145 3.781 C 9.145 3.962 9.219 4.135 9.351 4.263 C 9.484 4.391 9.663 4.463 9.85 4.463 C 9.943 4.463 10.035 4.445 10.12 4.411 C 10.206 4.377 10.284 4.326 10.349 4.263 C 10.415 4.2 10.467 4.124 10.502 4.042 C 10.538 3.959 10.556 3.87 10.556 3.781 C 10.556 3.6 10.482 3.426 10.349 3.298 C 10.217 3.17 10.037 3.099 9.85 3.099 Z M 12.742 3.099 C 12.555 3.099 12.375 3.17 12.243 3.298 C 12.111 3.426 12.036 3.6 12.036 3.781 C 12.036 3.87 12.054 3.959 12.09 4.042 C 12.125 4.124 12.177 4.2 12.243 4.263 C 12.308 4.326 12.386 4.377 12.472 4.411 C 12.557 4.445 12.649 4.463 12.742 4.463 C 12.929 4.463 13.108 4.391 13.241 4.263 C 13.373 4.135 13.447 3.962 13.447 3.781 C 13.447 3.6 13.373 3.426 13.241 3.298 C 13.108 3.17 12.929 3.099 12.742 3.099 Z M 15.633 3.099 C 15.446 3.099 15.267 3.17 15.134 3.298 C 15.002 3.426 14.928 3.6 14.928 3.781 C 14.928 3.87 14.946 3.959 14.981 4.042 C 15.017 4.124 15.069 4.2 15.134 4.263 C 15.2 4.326 15.278 4.377 15.363 4.411 C 15.449 4.445 15.541 4.463 15.633 4.463 C 15.726 4.463 15.818 4.445 15.903 4.411 C 15.989 4.377 16.067 4.326 16.132 4.263 C 16.198 4.2 16.25 4.124 16.285 4.042 C 16.321 3.959 16.339 3.87 16.339 3.781 C 16.339 3.6 16.265 3.426 16.132 3.298 C 16 3.17 15.82 3.099 15.633 3.099 Z M 18.525 3.099 C 18.338 3.099 18.158 3.17 18.026 3.298 C 17.894 3.426 17.819 3.6 17.819 3.781 C 17.819 3.962 17.893 4.135 18.026 4.263 C 18.158 4.391 18.338 4.463 18.525 4.463 C 18.617 4.463 18.709 4.445 18.795 4.411 C 18.88 4.377 18.958 4.326 19.024 4.263 C 19.089 4.2 19.141 4.124 19.177 4.042 C 19.212 3.959 19.23 3.87 19.23 3.781 C 19.23 3.6 19.156 3.426 19.024 3.298 C 18.891 3.17 18.712 3.099 18.525 3.099 Z M 5.52 5.992 C 5.333 5.992 5.153 6.064 5.021 6.192 C 4.889 6.32 4.814 6.493 4.814 6.674 C 4.814 6.855 4.889 7.029 5.021 7.157 C 5.153 7.284 5.333 7.356 5.52 7.356 C 5.613 7.356 5.704 7.339 5.79 7.304 C 5.876 7.27 5.953 7.22 6.019 7.157 C 6.084 7.093 6.136 7.018 6.172 6.935 C 6.207 6.852 6.226 6.764 6.226 6.674 C 6.226 6.585 6.207 6.496 6.172 6.413 C 6.136 6.33 6.084 6.255 6.019 6.192 C 5.953 6.128 5.876 6.078 5.79 6.044 C 5.704 6.01 5.613 5.992 5.52 5.992 Z M 8.407 5.992 C 8.314 5.992 8.223 6.01 8.137 6.044 C 8.051 6.078 7.974 6.128 7.908 6.192 C 7.842 6.255 7.79 6.33 7.755 6.413 C 7.72 6.496 7.701 6.585 7.701 6.674 C 7.701 6.764 7.72 6.852 7.755 6.935 C 7.79 7.018 7.842 7.093 7.908 7.157 C 7.974 7.22 8.051 7.27 8.137 7.304 C 8.223 7.339 8.314 7.356 8.407 7.356 C 8.594 7.356 8.774 7.284 8.906 7.157 C 9.038 7.029 9.112 6.855 9.112 6.674 C 9.112 6.493 9.038 6.32 8.906 6.192 C 8.774 6.064 8.594 5.992 8.407 5.992 Z M 11.298 5.992 C 11.206 5.992 11.114 6.01 11.028 6.044 C 10.943 6.078 10.865 6.128 10.799 6.192 C 10.734 6.255 10.682 6.33 10.646 6.413 C 10.611 6.496 10.593 6.585 10.593 6.674 C 10.593 6.764 10.611 6.852 10.646 6.935 C 10.682 7.018 10.734 7.093 10.799 7.157 C 10.865 7.22 10.943 7.27 11.028 7.304 C 11.114 7.339 11.206 7.356 11.298 7.356 C 11.391 7.356 11.483 7.339 11.568 7.304 C 11.654 7.27 11.732 7.22 11.797 7.157 C 11.863 7.093 11.915 7.018 11.95 6.935 C 11.986 6.852 12.004 6.764 12.004 6.674 C 12.004 6.585 11.986 6.496 11.95 6.413 C 11.915 6.33 11.863 6.255 11.797 6.192 C 11.732 6.128 11.654 6.078 11.568 6.044 C 11.483 6.01 11.391 5.992 11.298 5.992 Z M 14.185 5.992 C 13.998 5.992 13.819 6.064 13.686 6.192 C 13.554 6.32 13.48 6.493 13.48 6.674 C 13.48 6.855 13.554 7.029 13.686 7.157 C 13.819 7.284 13.998 7.356 14.185 7.356 C 14.278 7.356 14.37 7.339 14.455 7.304 C 14.541 7.27 14.619 7.22 14.684 7.157 C 14.75 7.093 14.802 7.018 14.837 6.935 C 14.873 6.852 14.891 6.764 14.891 6.674 C 14.891 6.585 14.873 6.496 14.837 6.413 C 14.802 6.33 14.75 6.255 14.684 6.192 C 14.619 6.128 14.541 6.078 14.455 6.044 C 14.37 6.01 14.278 5.992 14.185 5.992 Z M 17.077 5.992 C 16.685 5.992 16.371 6.3 16.371 6.674 C 16.371 7.053 16.689 7.356 17.077 7.356 C 17.469 7.356 17.782 7.049 17.782 6.674 C 17.782 6.295 17.469 5.992 17.077 5.992 Z M 6.258 9.024 C 5.944 9.024 5.691 9.269 5.691 9.572 C 5.691 9.875 5.944 10.121 6.258 10.121 L 16.339 10.121 C 16.652 10.121 16.906 9.875 16.906 9.572 C 16.906 9.269 16.652 9.024 16.339 9.024 L 6.258 9.024 Z"})}),Vt("div",{class:Ft("grid min-h-[56px] w-full items-center overflow-hidden","text"===e?"grid-cols-[1fr,auto]":"scale-0 grid-cols-[0px,0px]"),children:[Vt(rr,{ref:r,value:i,onInput:o,onSubmit:a,tabIndex:"text"===e?0:-1,className:Ft("m-3 ml-6 mr-8 max-h-[104px]",`caret-[${Qt.primaryColor}]`)}),Vt("button",{type:"button",class:Ft("relative right-[56px] h-[24px] w-[24px] transition-all",("text"!==e||""!==i)&&"scale-0 stroke-slate-500 opacity-0 hover:stroke-slate-800",n&&"pointer-events-none opacity-50"),onClick:e=>{e.stopPropagation(),t("preparing")},children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75\n                  0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})})})]})]})}function ir(e){const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`}function ar({mode:e,handleCancelClick:t,visualizer:n}){const r=new URLSearchParams(window.location.search).get("bgColor")||"#fff",o=ne(0),[i,a]=ee(0),l=ne(null);return te((()=>{if("recording"!==e)return l.current&&cancelAnimationFrame(l.current),o.current=0,void a(0);o.current=Date.now(),l.current=requestAnimationFrame((function e(){const t=Date.now(),n=Math.floor((t-o.current)/1e3);n>i&&a(n),l.current=requestAnimationFrame(e)}))}),[e]),Vt("div",{class:Ft("grid w-full items-center gap-2 pr-[80px] transition-all",ft.peek().isWidget?"grid-cols-[auto,1fr,auto]":"grid-cols-[1fr,auto]","recording"===e?"opacity-100 duration-500":"opacity-0 duration-200"),children:[Vt("button",{"aria-label":"Cancel recording",onClick:t,class:Ft(!1===ft.peek().isWidget&&"absolute -right-[24px] scale-[0.8]","recording"!==e&&"pointer-events-none"),style:{willChange:"right, transform"},children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",className:"h-8 w-8",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Vt("div",{class:"relative grid",children:[n,Vt("div",{class:"absolute left-0 z-10 h-full w-[50%]",style:{background:`linear-gradient(90deg, ${r}, transparent)`}})]}),Vt("span",{class:"tabular-nums",children:ir(i)})]})}function lr({mode:e}){const t=on();return Vt("p",{class:Ft("absolute select-none overflow-hidden pb-3 pt-1 text-center text-xs text-gray-400 transition-all\n  duration-300","ended"===e?"-top-3 opacity-100":"-top-[160px] opacity-0"),"aria-hidden":"ended"!==e,children:t("button.studyEnded")})}function sr({permittedInputMethods:t,answerCurrentQuestion:n,ended:r=!1,disabled:o,defaultInputMethod:i}){const[a,l]=ee("idle"),[s,c]=ee(0),u=ne(null),[d,p]=ee(null),h=t.includes("voice"),f=t.includes("text");const{prepareRecording:g,audioChunksRef:_,audioContextRef:v,mediaRecorderRef:m,analyserRef:b}=function({onStop:e}){const t=ne(null),n=ne(null),r=ne(null),o=ne([]);return{prepareRecording:function(){return __async(this,null,(function*(){if(!window.MediaRecorder)throw new Xn;let i;try{i=yield navigator.mediaDevices.getUserMedia({audio:!0})}catch(s){throw console.log(s),new er}t.current=new(window.AudioContext||window.webkitAudioContext);const a=t.current.createMediaStreamSource(i);n.current=t.current.createAnalyser(),a.connect(n.current);const l=new MediaRecorder(i);return r.current=l,l.addEventListener("start",(()=>{o.current=[]})),l.addEventListener("dataavailable",(e=>__async(this,null,(function*(){o.current.push(e.data)})))),l.addEventListener("stop",(()=>__async(this,null,(function*(){e()})))),()=>l.start(100)}))},audioContextRef:t,audioChunksRef:o,mediaRecorderRef:r,analyserRef:n}}({onStop:function(){xt.value=!1,!1===w.current&&T()}}),y=ne(null),w=ne(!1),[x,C]=ee(""),{language:k}=ae(tn);function T(){return __async(this,null,(function*(){const r=new Blob(_.current,{type:"audio/wav"}),o=new FormData;o.append("audio",r,"audio.wav"),o.append("language",k);try{if(yield Yn(v.current,r))return void p({translationKey:t.includes("text")?"error.audio.tooQuiet.audioAndText":"error.audio.tooQuiet.audioOnly",type:"audio-level"})}catch(i){return void st({error:i,errorTopic:"Error checking audio volume"})}try{const r=yield fetch(`${e()}api/recruit/v2/ai/get-transcription`,{method:"POST",body:o});if(!r.ok){st({error:"Network response was not ok",errorTopic:"Error sending audio data to the server"});const e=t.includes("text")?"error.audio.transcribe.audioAndText":"error.audio.transcribe.audioOnly";if(400===r.status)return p({translationKey:"error.audio.tryAgain",type:"audio-level"}),setTimeout((()=>{l("idle")}),200),void c(0);throw p({translationKey:e,type:"audio-transcribe"}),new Error("Network response was not ok")}const i=yield r.json().catch((e=>{st({error:e,errorTopic:"Error parsing server response"});const n=t.includes("text")?"error.audio.transcribe.audioAndText":"error.audio.transcribe.audioOnly";throw p({translationKey:n,type:"audio-transcribe"}),new Error("Error parsing server response")}));if(c(0),!i.text)return void st({errorTopic:"No text returned from the server",error:i,ctr:ft.peek().ctr});n({content:i.text,audioUrl:i.url})}catch(i){s>=5?(c(0),st({error:i,errorTopic:"Error handling audio data - 5 retries failed",mirrorToConsole:!0}),p({type:"audio-transcribe",translationKey:"error.audio.tryAgain"}),setTimeout((()=>{l("idle")}),200)):(c((e=>e+1)),st({error:i,errorTopic:"Error sending audio data to the server",mirrorToConsole:!0}),p({translationKey:"error.audio.sending",type:"audio-network"}))}finally{l("idle")}}))}function N(){var e;switch(a){case"idle":l("preparing");break;case"recording":l("transcribing");break;case"text":null==(e=u.current)||e.focus(),x&&function(e){if(null==e||e.preventDefault(),o)return;const t=x;C(""),p(null),n({content:t})}();break;case"ended":St();break;case"error":!function(){__async(this,null,(function*(){(null==d?void 0:d.type.startsWith("audio"))&&(p(null),l("transcribing"),T())}))}()}}return te((()=>{let e;return function(){__async(this,null,(function*(){var n,r,o;if("recording"!==a)if("preparing"===a){let r;p(null),w.current=!1;try{r=yield g()}catch(i){if(i instanceof Xn&&st({error:"MediaRecorder not supported on this browser.",errorTopic:"Error handling audio data",mirrorToConsole:!0}),i instanceof er){p({translationKey:f?"error.audio.micAccess.audioAndText":"error.audio.micAccess.audioOnly",type:"audio-access"})}return}l("recording"),xt.value=!0,r(),null==(n=y.current)||n.start(),e=setTimeout((()=>function(){if(0===_.current.length&&null===d){const e=t.includes("text")?"error.audio.micAccess.audioAndText":"error.audio.micAccess.audioOnly";p({translationKey:e,type:"audio-access"})}}()),1e4)}else null==(r=y.current)||r.stop(),null==(o=m.current)||o.stream.getTracks().forEach((e=>e.stop()))}))}(),()=>{clearTimeout(e)}}),[a]),Oe((()=>{var e,t;"closed"===_t.value&&(null==(e=y.current)||e.stop(),null==(t=m.current)||t.stream.getTracks().forEach((e=>e.stop())))})),Oe((()=>{let e;return wt.value&&(e=setTimeout((function(){var e,t;"text"===a?null==(e=u.current)||e.focus():null==(t=u.current)||t.blur()}),600)),()=>clearTimeout(e)})),te((()=>{r&&l("ended")}),[r]),te((()=>{"text"===i&&t.includes("text")&&l("text")}),[i,t]),te((()=>{if(d)switch(d.type){case"audio-level":return void l("idle");case"audio-access":case"audio-transcribe":return void(t.includes("text")&&l("text"));default:return void l("error")}}),[d,t]),Vt("div",{className:Ft("grid gap-8"),children:[null!==d&&Vt(tr,{error:d}),Vt("div",{class:"relative grid h-20 items-center justify-items-center transition-all",children:[Vt(lr,{mode:a}),h&&Vt(ar,{mode:a,visualizer:Vt(Kn,{ref:y,analyserRef:b}),handleCancelClick:()=>{w.current=!0,l("idle")}}),f&&Vt(or,{mode:a,setMode:l,disabled:o,textInputRef:u,setValue:C,value:x,onSubmit:N}),Vt(nr,{onClick:N,mode:a,disabled:o})]})]})}function cr(e){var t=e,{value:n,label:r=n,type:o="checkbox",onChange:i}=t,a=__objRest(t,["value","label","type","onChange"]);return Vt("label",{class:Ft("relative grid cursor-pointer grid-cols-[auto,1fr] justify-start gap-3 overflow-hidden\n        rounded border border-zinc-900 px-3 py-2 transition-all hover:bg-zinc-200"),"aria-role":"button",children:[Vt("input",__spreadValues({type:o,name:"choice",value:n,style:{accentColor:"#000"},onChange:e=>{i&&i(e)},class:Ft("radio"===o&&"hidden")},a)),Vt("span",{children:r})]})}function ur({block:e,answerCurrentQuestion:t}){const n=ie((()=>{const t="Choose"===e.type?[...e.data.options]:[];if("Choose"===e.type){if("randomExceptLast"===e.data.order){const e=t.pop();t.sort((()=>Math.random()>.5?-1:1)),e&&t.push(e)}"random"===e.data.order&&t.sort((()=>Math.random()>.5?-1:1))}return t}),[e]),r=ne(n()),o=ne(null);te((()=>{r.current=n()}),[n]);const i=on();return Vt("div",{class:"grid gap-2",ref:o,children:[r.current.map((n=>"single"===e.data.type?Vt(cr,{value:n.value,type:"radio",onChange:()=>t({content:n.value,selected:[n]})},n.id):Vt(cr,{value:n.value,type:"checkbox"},n))),"multi"===e.data.type&&Vt(Zt,{onClick:()=>{const e=Array.from(o.current.querySelectorAll("input:checked")).map((e=>e.getAttribute("value"))),n=r.current.filter((t=>e.includes(t.value)));return t({content:JSON.stringify(e),selected:n})},children:i("button.next")})]})}function dr({block:e,answerCurrentQuestion:t}){return Vt(Zt,{onClick:()=>t({content:e.data.buttonText}),children:e.data.buttonText})}function pr({className:e}){return Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:Vt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})}function hr({className:e}){return Vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:Vt("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})}function fr(e){var t=e,{className:n,children:r}=t,o=__objRest(t,["className","children"]);return r?Vt("p",__spreadProps(__spreadValues({class:Ft("text-left font-sans text-[14px] leading-5 text-slate-700",n)},o),{children:r})):null}function gr({block:e,answerCurrentQuestion:t}){const n=Boolean(e.data.lowLabel||e.data.highLabel),[r,o]=ee(-1),{options:i,type:a,lowLabel:l,highLabel:s}=e.data;return Vt("div",{class:"grid gap-2",children:Vt("ul",{class:Ft("grid justify-center","star"===a?"items-center gap-y-2 text-2xl":"gap-x-1 gap-y-3"),style:{gridTemplateColumns:`repeat(${i.length}, minmax(min-content, 60px))`},children:[i.map(((e,n)=>{let i=Vt(m,{children:e.value});return"star"===a&&(i=r>=n?Vt(hr,{className:"h-auto w-full fill-zinc-900"}):Vt(pr,{className:"h-auto w-full stroke-zinc-900"})),Vt("li",{class:Ft("cursor-pointer rounded py-1 transition-all","star"===a?"flex items-center justify-center":"grid place-content-center border border-zinc-700 px-1 hover:bg-zinc-50"),onClick:()=>t({content:e.value,selected:[e]}),onMouseEnter:()=>o(n),onMouseOut:()=>o(-1),"aria-role":"button",children:Vt("span",{className:Ft("star"===a&&"aspect-square max-h-9"),children:i})},n)})),n&&Vt("li",{class:"col-span-full grid grid-cols-2",children:[Vt(fr,{children:l||" "}),Vt(fr,{className:"text-right",children:s||" "})]})]})})}function _r({block:e,onAnswer:t,onFinished:n}){const r=on(),o=new URLSearchParams(window.location.search).get("landingPage"),i=new URLSearchParams(window.location.search).get("signup");return"done"===_t.value&&(o||i)?Vt(Zt,{className:"grid",children:Vt("a",{href:"https://app.wondering.com/register",target:"_blank",rel:"noreferrer noopener",class:Ft("grid place-content-center text-sm font-medium text-white transition-opacity duration-300"),children:"Create an AI-led user interview"})}):"done"!==_t.value||ft.value.isWidget||ft.value.preview||ft.peek().isPanel?"done"===_t.value?Vt(Zt,{onClick:n,children:r("button.finish")}):"Message"===e.type?Vt(dr,{block:e,answerCurrentQuestion:t},e.id):"Choose"===e.type?Vt(ur,{block:e,answerCurrentQuestion:t},e.id):"Rate"===e.type?Vt(gr,{block:e,answerCurrentQuestion:t},e.id):"Show"===e.type?Vt(sr,{block:e,answerCurrentQuestion:t,disabled:!1,ended:!1,permittedInputMethods:["voice"]},e.id):"Explore"===e.type?Vt(sr,{block:e,answerCurrentQuestion:t,ended:!1,disabled:!1,defaultInputMethod:e.data.defaultInputMethod,permittedInputMethods:["voice","text"]},e.id):null:Vt("p",{className:Ft("mt-3 break-words rounded-lg bg-zinc-100/70 p-4 text-center text-sm font-normal text-zinc-500"),children:r("button.studyEnded")})}function vr({url:e,isImageVisible:t}){return Vt("div",{className:"relative flex h-full w-full items-center justify-center p-6",children:Vt("div",{className:Ft("no-scrollbar relative  aspect-[9/19.5] max-h-full overflow-hidden rounded-[50px] bg-black ring-8 ring-black",t&&"overflow-y-scroll"),children:[Vt("img",{src:e,className:Ft("object-contain",!t&&"pointer-events-none opacity-30 blur-lg transition-all")}),Vt(wr,{visible:!t})]})})}function mr({url:e,isImageVisible:t}){return Vt("div",{className:Ft("no-scrollbar relative h-full max-h-full w-full max-w-full overflow-hidden bg-black",t&&"overflow-y-scroll"),children:[Vt("img",{src:e,className:Ft("w-full",!t&&"pointer-events-none opacity-30 blur-lg transition-all")}),Vt(wr,{visible:!t})]})}function br({url:e,isImageVisible:t}){return Vt("div",{className:Ft("no-scrollbar flex h-full w-full items-center justify-center",t&&"overflow-auto"),children:Vt("div",{className:"relative max-h-full max-w-full bg-black",children:[Vt("img",{src:e,className:Ft(!t&&"pointer-events-none opacity-30 blur-lg transition-all")}),Vt(wr,{visible:!t})]})})}function yr(e){return Vt("svg",__spreadProps(__spreadValues({xmlns:"http:www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e),{children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}))}function wr({visible:e}){return Vt("div",{"aria-hidden":!e,className:Ft("pointer-events-none absolute flex w-full flex-col items-center justify-center gap-4 text-white transition-all","left-1/2 top-1/2 flex -translate-x-[50%] -translate-y-[50%]",e?"opacity-100":"opacity-0"),children:[Vt("div",{className:"w-fit rounded-full border-2 border-white p-4",children:Vt(yr,{className:"h-12"})}),Vt("span",{className:"text-2xl font-semibold",children:["Start recording",Vt("br",{}),"to reveal image"]})]})}function xr({data:t}){const[n,r]=ee(void 0),o=xt.value;te((()=>{!function(){__async(this,null,(function*(){const n=yield fetch(`${e()}api/recruit/v2/ai/get-signed-image-url`,{method:"POST",body:JSON.stringify({filename:t.image.filename}),headers:{"Content-Type":"application/json"}}),{signedUrl:o}=yield n.json();r(o)}))}()}),[t.image.filename]);return Vt("mobile"===t.target?vr:"desktop"===t.target?mr:br,{url:n,isImageVisible:o})}function Cr({onCancel:t}={}){const{language:n}=ae(tn),r=ne(null);function o(e){var n;null==t||t(e),null==(n=r.current)||n.abort(e)}return te((()=>()=>{o("Unmount")}),[]),{start:function(t,o,i,a,l){return __async(this,null,(function*(){r.current&&r.current.abort();const s=new AbortController;let c;r.current=s;try{const r=yield function(t,n){return fetch(`${e()}api/recruit/v2/ai/stream-next-message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat:t.messages.slice(-8),blockId:t.block.id,promptType:t.messageType,preview:ft.value.preview,apid:Fe(),blockData:ft.value.preview?t.block.data:void 0,language:t.language||ft.value.studyLanguage}),signal:n.signal})}({messages:i,block:o,messageType:t,language:n},s);if(200!==r.status||!r.ok)return{success:!1,data:{type:"error",error:new Error(`Failed to fetch next message: ${r.status} ${r.statusText}`)}};l&&l(),c=yield function(e,t,n){return __async(this,null,(function*(){const r=e.getReader(),o=new TextDecoder;let i="";for(;!t.signal.aborted;){const{done:e,value:a}=yield r.read();if(e)return i;const l=o.decode(a);i+=l,t.signal.aborted||n(l)}}))}(r.body,s,a)}catch(u){try{if(!s.signal.aborted)return s.abort(),{success:!1,data:{type:"error",error:u instanceof Error?u:new Error(String(u))}}}finally{r.current===s&&(r.current=null)}}if(s.signal.aborted||void 0===c)return{success:!1,data:{type:"aborted",reason:s.signal.reason}};r.current=null;return{success:!0,data:"Rate"===o.type||"Choose"===o.type?{role:"assistant",content:c,type:o.type,blockId:o.id,data:{options:o.data.options}}:{role:"assistant",content:c,type:"followup"===t?"Followup":o.type,blockId:o.id,data:{}}}}))},cancel:o}}function kr(){const[,t]=function(){const[e,t]=ee(!1);return te((()=>{const t=t=>{e&&(t.preventDefault(),t.returnValue="You have unsaved changes!")};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),[e,t]}(),[n,r]=ee([]),[o,i]=ee("closed"),[a,l]=ee(null),[s,c]=ee(0),[u,d]=ee(""),p=on(),h=Cr({onCancel:e=>{"Unmount"===e&&(wt.value=!1)}}),{language:f,loading:g,networkError:_}=ae(tn),v=ne(),b=bt.value,y=new URLSearchParams(window.location.search).get("landingPage"),{isWidget:w,preview:x}=ft.peek(),C=ie((()=>"done"===_t.value?"done":"Explore"===b.type?"explore":"Show"===b.type?"show":"other"),[b.type]);te((()=>{if(!_&&(g&&(r([]),d(""),l(null),h.cancel("Reloading")),!g)){if(0===gt.value&&ft.value.preview){i("opening");const e=setTimeout((()=>{S((()=>I()))}),500);return()=>clearTimeout(e)}S((()=>I()))}}),[g,b.id,_t.value]);const k=ie((e=>__async(this,[e],(function*({messageType:e,latestMessage:t}){i("opening");const o=t?[...n,t]:[...n],a=yield h.start(e,b,o,(function(e){d((t=>t+e))}),(function(){i("reading")}));if(!a.success)return a;const l=[...o,a.data];return r(l),a}))),[b.data,b.id,b.type,n,f]);function T(t){return __async(this,null,(function*(){if(!_n(b))return!1;const r={chat:[...n,t],block:b},o=yield function(t){return __async(this,arguments,(function*(t,n={}){var r=n,{body:o}=r,i=__objRest(r,["body"]);const a=__spreadProps(__spreadValues({method:o?"POST":"GET"},i),{headers:__spreadValues(__spreadValues({},{"Content-Type":"application/json"}),i.headers)});o&&(a.body=JSON.stringify(o));const l=yield window.fetch(`${e()}${t}`,a);if(l.ok)return l.json();{const e=yield l.text();throw new Error(e)}}))}("api/recruit/v2/ai/check-if-followup-is-needed",{body:r});return o.followUpNeeded}))}const N=e=>__async(this,null,(function*(){if(_n(b)&&s<b.data.followUps){let n;try{n=yield T(e)}catch(t){return st({error:t,errorTopic:"Failed to check if follow-up needed"}),void l("check-follow-up")}if(n)return c((e=>e+1)),S((()=>function(e){return __async(this,null,(function*(){try{yield k({messageType:"followup",latestMessage:e})}catch(t){st({error:t,errorTopic:"Failed to ask follow-up question"}),l("stream-next-message")}finally{i("closed")}}))}(e)));mt.value+=2*(b.data.followUps-s)}c(0),St()}));function S(e){return v.current=e,e()}te((()=>{!ft.value.preview&&n.length>1&&!y&&(t(!0),"done"===_t.value&&t(!1))}),[n.length,y,t,k,C]);const I=ie((()=>__async(this,null,(function*(){const e=yield k({messageType:C()});e.success||"aborted"!==e.data.type&&(l("stream-next-message"),st({error:e.data.error,errorTopic:"Failed to get next message"})),i("closed")}))),[k,C,p]);te((()=>{wt.value="closed"===o&&!g&&!_}),[g,o,_]),te((()=>{a&&st({error:a,errorTopic:"conga"})}),[a]),te((()=>{(function(){return __async(this,null,(function*(){if(n.length>1){const t=yield fetch(`${e()}api/recruit/v2/ai/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(__spreadValues({chat:n,blockId:b.id,type:C(),preview:Boolean(ft.value.preview),submissionId:ft.value.submissionId,participantId:ft.value.participantId,language:f},Xe()))});if(!t.ok||200!==t.status)throw new Error(`Bad response: ${t.status}, ${t.statusText}`);const r=yield t.json();if(r.errors)return void console.error(r.errors);r.apid&&qe(r.apid),ft.value=__spreadProps(__spreadValues({},ft.value),{submissionId:r.submissionId})}}))})().catch((e=>console.error("Error sending chat history",e.message)))}),[n]);const E="Show"===b.type&&"small"!==x&&"done"!==_t.value,P=!w&&!y&&"small"!==x,R=ft.value.blocks.map((e=>e.type)).includes("Show"),M=(A=navigator.userAgent,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(A));var A,D;return te((()=>{E&&(vt.value=!0)}),[E]),Vt(m,{children:[Vt("div",{className:Ft("pt-10",R&&"small"!==x?"laptop:hidden":"hidden"),children:[w&&Vt(sn,{}),Vt(Ht,{className:"gap-6",children:[Vt(pn,{}),Vt(ln,{errorKey:"conversation.desktopOnly",content:""})]})]}),Vt("div",{className:Ft("relative flex w-full items-start justify-center",M&&!w?"h-[100dvh]":"h-full",R&&"small"!==x?"hidden laptop:flex":"flex"),children:[w&&Vt(sn,{}),Vt(vn,{chatHistoryLength:mt.value,chatEnded:"done"===_t.value,blocks:ft.peek().blocks}),ft.value.allowSwitchingLanguage&&!w&&"small"!==x&&!E&&Vt("div",{className:Ft("grid justify-end","absolute right-0 top-0 px-3 pt-3 laptop:px-6 laptop:pt-6"),children:Vt("div",{className:"min-h-[36px]",children:0===gt.value&&"done"!==_t.value&&0===s&&Vt(wn,{})})}),Vt("div",{"data-testid":"conversation-container",className:Ft("flex h-full flex-col justify-between gap-1 pt-10",w||"small"===x?"pb-8":"pb-4",!w&&!x&&"laptop:pt-20",E?"max-w-[350px]":y?"max-w-[1000px]":"max-w-[700px]",E&&"shadow-[0px_0px_10px_rgba(0,0,0,0.1)]",E?"flex-[0_0_320px]":"flex-1"),children:[(w||"small"===x)&&!E&&Vt("div",{className:"h-3",children:Vt("div",{className:Ft("absolute right-0 top-4 grid min-h-[36px] justify-end px-3",w&&"me-12"),children:ft.value.allowSwitchingLanguage&&0===gt.value&&"done"!==_t.value&&0===s&&Vt(wn,{})})}),Vt("div",{className:Ft("relative flex w-full flex-col gap-6 px-3 transition-all laptop:px-6"),children:[Vt(Ht,{className:"overflow-hidden pl-0 pr-0",children:[Vt(pn,{}),Vt(ln,{loadingResponse:"opening"===o,errorKey:a?"error.nextQuestion":null,content:_?" ":u})]}),!_&&Vt(hn,{className:Ft(wt.value||a?"visible opacity-100 transition-opacity duration-500":"pointer-events-none invisible opacity-0"),fullWidth:"Message"!==b.type,children:a?(D=a,["stream-next-message","check-follow-up"].includes(D)&&Vt(Zt,{onClick:()=>__async(this,null,(function*(){var e;l(null),null==(e=v.current)||e.call(v)})),children:p("button.tryAgain")})):Vt(_r,{block:b,onAnswer:function(e){return __async(this,arguments,(function*({content:e,audioUrl:t,selected:n,retry:o}){wt.value=!1;let i={};switch(b.type){case"Rate":case"Choose":i={options:b.data.options,selected:n};break;case"Explore":default:i={audioUrl:t};break;case"Message":i={}}const a={role:"user",content:null!=e?e:"",type:s>0?"Followup":b.type,blockId:b.id,data:i};d(""),setTimeout((()=>{o||r((e=>[...e,a])),mt.value+=2,S((()=>N(a)))}),0)}))},onFinished:function(){if(ft.value.preview)r([]),Tt(),d(""),i("opening");else{if(2===ft.peek().version&&fetch(`${e()}api/recruit/v2/ai/submit/${ft.value.submissionId}`),Nt(),ft.peek().isPanel){const e=`https://app.prolific.co/submissions/complete?cc=${window.location.href.split("/")[4].split("?")[0]}`;return void setTimeout((()=>window.open(e,"_blank")),1e3)}kt()}}})})]}),P&&Vt("footer",{className:"mt-auto px-8",children:Vt(gn,{})})]}),Vt("div",{className:Ft("transition-all",E?"w-full min-w-[400px] place-self-stretch":"w-auto","fullscreen"===x?"max-h-[calc(100vh-16px)]":"max-h-screen"),children:E&&Vt(xr,{data:b.data})})]})]})}function Tr({children:e}){return vt.value&&ft.value.isWidget?Vt("div",{class:Ft("fixed inset-0 grid h-full items-start justify-items-center bg-white text-zinc-900","fullscreen"===ft.value.preview&&"top-[64px] h-[calc(100%-64px)]"),style:{zIndex:2147483647},children:e}):Vt(m,{children:e})}const Nr=2147483647;function Sr({children:e}){const t=vt.value,{isWidget:n,version:r,preview:o}=ft.peek();return Vt(Tr,{children:Vt("div",{id:"ribbon-widget-form",class:Ft("flex flex-col gap-1 overflow-hidden font-sans text-[14px] text-zinc-900 transition-all ease-in-out",n&&!t?"w-[400px] shadow-md ring-1 ring-black ring-opacity-5":"h-full w-full shadow-none ring-0",n&&"widget bg-white",t&&"expanded",1===r&&"v1 gap-4 py-6",2===r&&n&&"v2"),style:__spreadProps(__spreadValues({borderRadius:n&&!t?Qt.widgetBorderRadius:"0",zIndex:ft.value.isWidget?Nr:void 0},Jt),{position:"fullscreen"===o?"relative"===ft.value.widgetPosition?"relative":"absolute":!t&&Jt.position||null}),children:1!==r||n||o?e:Vt("div",{className:"relative flex h-full w-full items-start justify-center",children:Vt("div",{className:"flex h-full max-w-[700px] flex-1 flex-col justify-start gap-4 pb-8 pt-10 laptop:pt-20",children:e})})})})}function Ir(){const{handleDebugClick:e,debugMode:t}=dn(),{profilePicture:n,jobRole:r,name:o}=ft.peek().user;return Vt("div",{className:"sticky top-0 flex gap-3 px-6 text-zinc-900",children:[n?Vt("div",{className:"grid min-w-[48px] place-content-center",children:Vt("img",{src:n,className:Ft("h-12 w-12 rounded-full border-2 border-zinc-900 object-cover",t&&"border-dashed"),onClick:e})}):null,Vt("div",{class:"grid",children:[Vt("h2",{class:"text-lg font-semibold text-zinc-900",children:o}),Vt("p",{class:"-mt-1 text-sm font-medium text-slate-700",children:"UXR"===r?"User Researcher":r})]})]})}function Er(e){const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`}function Pr({answerCurrentQuestion:t,ended:n=!1,disabled:r,defaultInputMethod:o}){const[i,a]=ee("idle"),[l,s]=ee(0),c=ne(null),[u,d]=ee(null),p=ne(null),h=ne(null),f=ne(null),g=ne(!1),_=ne([]),v=ne(null),[m,b]=ee("");function y(){return __async(this,null,(function*(){const n=new Blob(_.current,{type:"audio/wav"}),r=new FormData;r.append("audio",n,"audio.wav");try{if(yield Yn(p.current,n).catch((e=>(st({error:e,errorTopic:"Error checking audio volume"}),!1))))return void d({message:"I'm sorry, but your sound seems a little quiet. Try speaking up or typing instead.",type:"audio-level"});const o=yield fetch(`${e()}api/recruit/v2/ai/get-transcription`,{method:"POST",body:r});if(!o.ok)throw st({error:"Network response was not ok",errorTopic:"Error sending audio data to the server"}),d({message:"I am sorry, it seems there was a problem transcribing your audio message. Please try typing your response instead.",type:"audio-transcribe"}),new Error("Network response was not ok");const i=yield o.json().catch((e=>{throw st({error:e,errorTopic:"Error parsing server response"}),d({message:"I am sorry, it seems there was a problem transcribing your audio message. Please try typing your response instead.",type:"audio-transcribe"}),new Error("Error parsing server response")}));if(s(0),!i.text)return void st({errorTopic:"No text returned from the server",error:i,ctr:ft.peek().ctr});t({content:i.text,audioUrl:i.url})}catch(o){l>=5?(s(0),st({error:o,errorTopic:"Error handling audio data - 5 retries failed",mirrorToConsole:!0}),d({type:"audio-transcribe",message:"Please try recording your message again."}),setTimeout((()=>{a("idle")}),200)):(s((e=>e+1)),st({error:o,errorTopic:"Error sending audio data to the server",mirrorToConsole:!0}),d({message:"Seems there are some issues with your internet connection. Check your connection and try resending the audio.",type:"audio-network"}))}finally{a("idle")}}))}function w(){var e;"idle"===i&&a("preparing"),"recording"===i&&a("transcribing"),"text"===i&&(null==(e=c.current)||e.focus(),m&&function(e){if(null==e||e.preventDefault(),r)return;const n=m;b(""),d(null),t({content:n})}()),"ended"===i&&St(),"error"===i&&function(){__async(this,null,(function*(){(null==u?void 0:u.type.startsWith("audio"))&&(d(null),a("transcribing"),y())}))}()}return te((()=>{let e;return function(){__async(this,null,(function*(){var t,n,r;if("recording"!==i)if("preparing"===i){d(null),g.current=!1;const n=yield function(){return __async(this,null,(function*(){if(!window.MediaRecorder)return void st({error:"MediaRecorder not supported on this browser.",errorTopic:"Error handling audio data",mirrorToConsole:!0});const e=yield navigator.mediaDevices.getUserMedia({audio:!0}).catch((()=>{d({message:"Seems there was a problem trying to access your microphone. Try typing instead or enable audio permissions for this site.",type:"audio-access"})}));if(!e)return;p.current=new(window.AudioContext||window.webkitAudioContext);const t=p.current.createMediaStreamSource(e);h.current=p.current.createAnalyser(),t.connect(h.current);const n=new MediaRecorder(e);return f.current=n,n.addEventListener("start",(()=>{_.current=[]})),n.addEventListener("dataavailable",(e=>__async(this,null,(function*(){_.current.push(e.data)})))),n.addEventListener("stop",(()=>__async(this,null,(function*(){!1===g.current&&y()})))),()=>n.start(100)}))}();if(!n)return;a("recording"),n(),null==(t=v.current)||t.start(),e=setTimeout((()=>{0===_.current.length&&null===u&&d({message:"Seems there was a problem trying to access your microphone. Try typing instead or enable audio permissions for this site.",type:"audio-access"})}),1e4)}else null==(n=v.current)||n.stop(),null==(r=f.current)||r.stream.getTracks().forEach((e=>e.stop()))}))}(),()=>{clearTimeout(e)}}),[i]),Oe((()=>{let e;return wt.value&&(e=setTimeout((function(){var e,t;"text"===i?null==(e=c.current)||e.focus():null==(t=c.current)||t.blur()}),600)),()=>clearTimeout(e)})),te((()=>{n&&a("ended")}),[n]),te((()=>{"text"!==o||a("text")}),[o]),te((()=>{if(u)switch(u.type){case"audio-level":return void a("idle");case"audio-access":case"audio-transcribe":return void a("text");default:return void a("error")}}),[u]),Vt("div",{className:"grid",children:Vt("div",{class:"grid",children:[null!==u&&Vt(Rr,{error:u}),Vt("div",{class:"relative grid h-20 items-center justify-items-center transition-all",children:[Vt(Mr,{mode:i}),Vt(Dr,{mode:i,visualizer:Vt(Kn,{ref:v,analyserRef:h}),handleCancelClick:()=>{g.current=!0,a("idle")}}),Vt(Or,{mode:i,setMode:a,disabled:r,textInputRef:c,setValue:b,value:m,onSubmit:w}),Vt(Ar,{onClick:w,mode:i,disabled:r})]})]})})}function Rr({error:e}){return Vt("div",{className:"text-md mb-6 break-words rounded-lg bg-red-50 p-4 font-light text-red-800",children:Vt("p",{className:"overflow-x-auto whitespace-pre-line break-words",children:e.message})})}function Mr({mode:e}){return Vt("p",{class:Ft("absolute select-none overflow-hidden pb-3 pt-1 text-center text-xs text-gray-400 transition-all\n  duration-300","ended"===e?"-top-3 opacity-100":"-top-[160px] opacity-0"),"aria-hidden":"ended"!==e,children:"Conversation ended"})}function Ar({mode:e,disabled:t,onClick:n}){const r="recording"===e?"Finish recording":"idle"===e?"Start recording":"text"===e?"Send":"ended"===e?"Next":"error"===e?"Retry":"Continue";return Vt("div",{class:Ft("absolute grid items-center justify-items-center",["idle","transcribing","error","preparing"].includes(e)&&"right-[calc(50%-40px)] h-[80px] w-[80px]","recording"===e&&"right-0 h-[80px] w-[80px]","ended"===e&&"right-0 h-[72px] w-full","text"===e&&"right-[3.2px] h-[56px] w-[48px]",t&&"pointer-events-none opacity-50"),style:{transition:"all 0.5s"},children:[Vt("div",{class:Ft("absolute rounded-full transition-all duration-500",["idle","recording","text","ended","preparing"].includes(e)&&"hidden opacity-0","transcribing"===e&&"h-[72px] w-[72px] animate-[spin_2s_infinite_linear] border border-blue-400 border-l-transparent","error"===e&&"h-[72px] w-[72px] border border-red-700","ended"===e&&"hidden opacity-0")}),Vt("button",{"aria-label":r,class:Ft("absolute grid aspect-square items-center justify-items-center\n         transition-all",["idle","recording","ended","preparing"].includes(e)&&"hover:brightness-90 active:brightness-90",["idle","preparing"].includes(e)&&"h-[72px] w-[72px] rounded-[50px] duration-300","recording"===e&&"h-[48px] w-[48px] rounded-[50px] duration-500","transcribing"===e&&"h-[48px] w-[48px] cursor-default rounded-[50px] duration-500","text"===e&&"mr-[2px] h-[48px] w-[48px] rounded-[50px] duration-300","ended"===e&&"h-[48px] w-full rounded duration-500","error"===e&&"h-[48px] w-[48px] rounded-[50px] duration-500"),style:{willChange:"height, width, right, opacity",transition:"all 0.5s, filter 0.2s",background:Qt.primaryColor},type:"button",onClick:n,children:[Vt("p",{class:Ft("absolute text-white transition-opacity duration-300","ended"===e?"opacity-100":"opacity-0"),children:r}),Vt("svg",{xmlns:"http:www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:Ft("transition-all","idle"===e&&"h-8 w-8 duration-500","preparing"===e&&"h-8 w-8 animate-spin-ease duration-300 ease-in-out","recording"===e&&"h-6 w-6 duration-500","transcribing"===e&&"h-6 w-6 duration-500","text"===e&&"h-6 w-6 duration-300","ended"===e&&"h-0 w-0 duration-300","error"===e&&"h-5 w-5 duration-300"),children:[Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75\n         0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z",class:Ft("transition-opacity duration-300","idle"===e||"preparing"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5",class:Ft("transition-opacity duration-300","recording"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75",class:Ft("transition-opacity duration-300","text"===e?"opacity-100":"opacity-0")}),Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181\n            3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99",class:Ft("transition-opacity duration-300","error"===e?"opacity-100":"opacity-0")})]})]})]})}function Dr({mode:e,handleCancelClick:t,visualizer:n}){const r=new URLSearchParams(window.location.search).get("bgColor")||"#fff",o=ne(0),[i,a]=ee(0),l=ne(null);return te((()=>{if("recording"!==e)return l.current&&cancelAnimationFrame(l.current),o.current=0,void a(0);o.current=Date.now(),l.current=requestAnimationFrame((function e(){const t=Date.now(),n=Math.floor((t-o.current)/1e3);n>i&&a(n),l.current=requestAnimationFrame(e)}))}),[e]),Vt("div",{class:Ft("grid w-full items-center gap-2 pr-[80px] transition-all",ft.peek().isWidget?"grid-cols-[auto,1fr,auto]":"grid-cols-[1fr,auto]","recording"===e?"opacity-100 duration-500":"opacity-0 duration-200"),children:[Vt("button",{"aria-label":"Cancel recording",onClick:t,class:Ft(!1===ft.peek().isWidget&&"absolute -right-[24px] scale-[0.8]","recording"!==e&&"pointer-events-none"),style:{willChange:"right, transform"},children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",className:"h-8 w-8",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Vt("div",{class:"relative grid",children:[n,Vt("div",{class:"absolute left-0 z-10 h-full w-[50%]",style:{background:`linear-gradient(90deg, ${r}, transparent)`}})]}),Vt("span",{class:"tabular-nums",children:Er(i)})]})}function Or({mode:e,setMode:t,disabled:n,textInputRef:r,setValue:o,value:i,onSubmit:a}){return Vt("div",{class:Ft("absolute grid items-center justify-items-center border-[1.5px] transition-all duration-300",["recording","transcribing","ended","preparing"].includes(e)&&Ft("right-[calc(50%-64px)] hidden h-0 w-0 border-[#001F48] opacity-0"),"idle"===e&&Ft("right-[calc(50%-72px)] h-[15.2px] w-[24.8px] rounded-[2px] border-[#001F48] hover:border-zinc-900"),"text"===e&&Ft("right-0 min-h-[56px] w-full rounded-[28px] border-[#001F48]"),n&&"idle"===e&&"pointer-events-none opacity-50"),onClick:()=>{"text"!==e&&t("text")},style:{willChange:"right, height, width, opacity"},children:[Vt("svg",{width:"23",height:"14",viewBox:"0 0 23 14",fill:"currentColor",stroke:"none",xmlns:"http://www.w3.org/2000/svg",class:Ft("absolute cursor-pointer fill-slate-500 transition-all duration-300 hover:fill-slate-800","idle"===e?"":"scale-0 opacity-0"),children:Vt("path",{d:"M 4.072 3.099 C 3.885 3.099 3.705 3.17 3.573 3.298 C 3.441 3.426 3.366 3.6 3.366 3.781 C 3.366 3.87 3.385 3.959 3.42 4.042 C 3.456 4.124 3.508 4.2 3.573 4.263 C 3.639 4.326 3.716 4.377 3.802 4.411 C 3.888 4.445 3.979 4.463 4.072 4.463 C 4.259 4.463 4.439 4.391 4.571 4.263 C 4.703 4.135 4.778 3.962 4.778 3.781 C 4.778 3.6 4.703 3.426 4.571 3.298 C 4.439 3.17 4.259 3.099 4.072 3.099 Z M 6.963 3.099 C 6.776 3.099 6.597 3.17 6.465 3.298 C 6.332 3.426 6.258 3.6 6.258 3.781 C 6.258 3.87 6.276 3.959 6.312 4.042 C 6.347 4.124 6.399 4.2 6.465 4.263 C 6.53 4.326 6.608 4.377 6.693 4.411 C 6.779 4.445 6.871 4.463 6.963 4.463 C 7.056 4.463 7.148 4.445 7.234 4.411 C 7.319 4.377 7.397 4.326 7.462 4.263 C 7.528 4.2 7.58 4.124 7.615 4.042 C 7.651 3.959 7.669 3.87 7.669 3.781 C 7.669 3.6 7.595 3.426 7.462 3.298 C 7.33 3.17 7.151 3.099 6.963 3.099 Z M 9.85 3.099 C 9.663 3.099 9.484 3.17 9.351 3.298 C 9.219 3.426 9.145 3.6 9.145 3.781 C 9.145 3.962 9.219 4.135 9.351 4.263 C 9.484 4.391 9.663 4.463 9.85 4.463 C 9.943 4.463 10.035 4.445 10.12 4.411 C 10.206 4.377 10.284 4.326 10.349 4.263 C 10.415 4.2 10.467 4.124 10.502 4.042 C 10.538 3.959 10.556 3.87 10.556 3.781 C 10.556 3.6 10.482 3.426 10.349 3.298 C 10.217 3.17 10.037 3.099 9.85 3.099 Z M 12.742 3.099 C 12.555 3.099 12.375 3.17 12.243 3.298 C 12.111 3.426 12.036 3.6 12.036 3.781 C 12.036 3.87 12.054 3.959 12.09 4.042 C 12.125 4.124 12.177 4.2 12.243 4.263 C 12.308 4.326 12.386 4.377 12.472 4.411 C 12.557 4.445 12.649 4.463 12.742 4.463 C 12.929 4.463 13.108 4.391 13.241 4.263 C 13.373 4.135 13.447 3.962 13.447 3.781 C 13.447 3.6 13.373 3.426 13.241 3.298 C 13.108 3.17 12.929 3.099 12.742 3.099 Z M 15.633 3.099 C 15.446 3.099 15.267 3.17 15.134 3.298 C 15.002 3.426 14.928 3.6 14.928 3.781 C 14.928 3.87 14.946 3.959 14.981 4.042 C 15.017 4.124 15.069 4.2 15.134 4.263 C 15.2 4.326 15.278 4.377 15.363 4.411 C 15.449 4.445 15.541 4.463 15.633 4.463 C 15.726 4.463 15.818 4.445 15.903 4.411 C 15.989 4.377 16.067 4.326 16.132 4.263 C 16.198 4.2 16.25 4.124 16.285 4.042 C 16.321 3.959 16.339 3.87 16.339 3.781 C 16.339 3.6 16.265 3.426 16.132 3.298 C 16 3.17 15.82 3.099 15.633 3.099 Z M 18.525 3.099 C 18.338 3.099 18.158 3.17 18.026 3.298 C 17.894 3.426 17.819 3.6 17.819 3.781 C 17.819 3.962 17.893 4.135 18.026 4.263 C 18.158 4.391 18.338 4.463 18.525 4.463 C 18.617 4.463 18.709 4.445 18.795 4.411 C 18.88 4.377 18.958 4.326 19.024 4.263 C 19.089 4.2 19.141 4.124 19.177 4.042 C 19.212 3.959 19.23 3.87 19.23 3.781 C 19.23 3.6 19.156 3.426 19.024 3.298 C 18.891 3.17 18.712 3.099 18.525 3.099 Z M 5.52 5.992 C 5.333 5.992 5.153 6.064 5.021 6.192 C 4.889 6.32 4.814 6.493 4.814 6.674 C 4.814 6.855 4.889 7.029 5.021 7.157 C 5.153 7.284 5.333 7.356 5.52 7.356 C 5.613 7.356 5.704 7.339 5.79 7.304 C 5.876 7.27 5.953 7.22 6.019 7.157 C 6.084 7.093 6.136 7.018 6.172 6.935 C 6.207 6.852 6.226 6.764 6.226 6.674 C 6.226 6.585 6.207 6.496 6.172 6.413 C 6.136 6.33 6.084 6.255 6.019 6.192 C 5.953 6.128 5.876 6.078 5.79 6.044 C 5.704 6.01 5.613 5.992 5.52 5.992 Z M 8.407 5.992 C 8.314 5.992 8.223 6.01 8.137 6.044 C 8.051 6.078 7.974 6.128 7.908 6.192 C 7.842 6.255 7.79 6.33 7.755 6.413 C 7.72 6.496 7.701 6.585 7.701 6.674 C 7.701 6.764 7.72 6.852 7.755 6.935 C 7.79 7.018 7.842 7.093 7.908 7.157 C 7.974 7.22 8.051 7.27 8.137 7.304 C 8.223 7.339 8.314 7.356 8.407 7.356 C 8.594 7.356 8.774 7.284 8.906 7.157 C 9.038 7.029 9.112 6.855 9.112 6.674 C 9.112 6.493 9.038 6.32 8.906 6.192 C 8.774 6.064 8.594 5.992 8.407 5.992 Z M 11.298 5.992 C 11.206 5.992 11.114 6.01 11.028 6.044 C 10.943 6.078 10.865 6.128 10.799 6.192 C 10.734 6.255 10.682 6.33 10.646 6.413 C 10.611 6.496 10.593 6.585 10.593 6.674 C 10.593 6.764 10.611 6.852 10.646 6.935 C 10.682 7.018 10.734 7.093 10.799 7.157 C 10.865 7.22 10.943 7.27 11.028 7.304 C 11.114 7.339 11.206 7.356 11.298 7.356 C 11.391 7.356 11.483 7.339 11.568 7.304 C 11.654 7.27 11.732 7.22 11.797 7.157 C 11.863 7.093 11.915 7.018 11.95 6.935 C 11.986 6.852 12.004 6.764 12.004 6.674 C 12.004 6.585 11.986 6.496 11.95 6.413 C 11.915 6.33 11.863 6.255 11.797 6.192 C 11.732 6.128 11.654 6.078 11.568 6.044 C 11.483 6.01 11.391 5.992 11.298 5.992 Z M 14.185 5.992 C 13.998 5.992 13.819 6.064 13.686 6.192 C 13.554 6.32 13.48 6.493 13.48 6.674 C 13.48 6.855 13.554 7.029 13.686 7.157 C 13.819 7.284 13.998 7.356 14.185 7.356 C 14.278 7.356 14.37 7.339 14.455 7.304 C 14.541 7.27 14.619 7.22 14.684 7.157 C 14.75 7.093 14.802 7.018 14.837 6.935 C 14.873 6.852 14.891 6.764 14.891 6.674 C 14.891 6.585 14.873 6.496 14.837 6.413 C 14.802 6.33 14.75 6.255 14.684 6.192 C 14.619 6.128 14.541 6.078 14.455 6.044 C 14.37 6.01 14.278 5.992 14.185 5.992 Z M 17.077 5.992 C 16.685 5.992 16.371 6.3 16.371 6.674 C 16.371 7.053 16.689 7.356 17.077 7.356 C 17.469 7.356 17.782 7.049 17.782 6.674 C 17.782 6.295 17.469 5.992 17.077 5.992 Z M 6.258 9.024 C 5.944 9.024 5.691 9.269 5.691 9.572 C 5.691 9.875 5.944 10.121 6.258 10.121 L 16.339 10.121 C 16.652 10.121 16.906 9.875 16.906 9.572 C 16.906 9.269 16.652 9.024 16.339 9.024 L 6.258 9.024 Z"})}),Vt("div",{class:Ft("grid min-h-[56px] w-full items-center overflow-hidden","text"===e?"grid-cols-[1fr,auto]":"scale-0 grid-cols-[0px,0px]"),children:[Vt(rr,{ref:r,value:i,onInput:o,onSubmit:a,tabIndex:"text"===e?0:-1,className:Ft("m-3 ml-6 mr-[64px] max-h-[104px]",`caret-[${Qt.primaryColor}]`)}),Vt("button",{type:"button",class:Ft("relative right-[56px] h-[24px] w-[24px] transition-all",("text"!==e||""!==i)&&"scale-0 stroke-slate-500 opacity-0 hover:stroke-slate-800",n&&"pointer-events-none opacity-50"),onClick:e=>{e.stopPropagation(),t("preparing")},children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75\n                  0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})})})]})]})}function Lr(){const t=bt.value,[n,r]=ee(!1),[o,i]=ee(!1),[a,l]=ee([]),[s,c]=ee([]),[u,d]=ee(null),p=ne(setTimeout((()=>{}),0));clearTimeout(p.current);const{message:h,setMessageToType:f}=function({speed:e=1}){const[t,n]=ee({content:"",done:!1}),r=ne();return{message:t,setMessageToType:function(o){if((!1!==t.done||""===t.content)&&o){let t=function(a){if(o)if(a<o.length){const l=o[a];i+=l,n({content:i,done:!1});let s=0;s=" "===l?Math.floor(80*Math.random()+50)/e:"."===l||"?"===l||"!"===l?Math.floor(150*Math.random()+400)/e:Math.floor(50*Math.random()+10)/e,r.current=setTimeout((()=>t(a+1)),s)}else n({content:i,done:!0})},i="";t(0)}}}}({speed:1===a.length?1.5:2.5});function g(n,o,i){return __async(this,null,(function*(){const l=!ft.peek().ctr;let s;r(!0);try{s=yield fetch(`${e()}api/recruit/v2/ai/next-question`,{method:"POST",headers:{"Content-Type":"application/json"},body:l?JSON.stringify(__spreadProps(__spreadValues({preview:l,chat:[...a,...n],data:i,mode:o},Xe()),{questionId:t.id,apid:Fe(),ctr:ft.peek().ctr})):JSON.stringify({preview:l,questionId:t.id,chat:[...a,...n],apid:Fe(),ctr:ft.peek().ctr})}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}catch(c){st({error:c,errorTopic:"nextQuestion"}),s={message:"I'm sorry, something went wrong. Make sure you have an internet connection and try again.",action:"error",data:""}}finally{return r(!1),s}}))}return te((()=>{const e=new URLSearchParams(window.location.search).get("initialMessage");return e?(f(e),void l([{role:"assistant",content:e}])):n?void 0:(p.current=setTimeout((()=>function(){return __async(this,null,(function*(){const e=yield g([],t.data.mode,t.data.congaData);f(e.message),l([{role:"assistant",content:e.message}]),e.data&&c((t=>[...t,e.data]))}))}()),ft.value.preview?1e3:0),()=>clearTimeout(p.current))}),[]),te((()=>{u&&(f(u.message),st({error:u.type,errorTopic:"conga"}))}),[u]),Vt(m,{children:[Vt(Ht,{className:"pl-0 pr-0",children:[Vt(vn,{chatHistoryLength:a.length,chatEnded:o}),Vt(Ir,{}),Vt(jr,{messageMetaData:s}),Vt(ln,{content:h.content,loadingResponse:n,errorKey:u?"error.nextQuestion":null})]}),Vt(hn,{children:Vt(Pr,{answerCurrentQuestion:function(n){return __async(this,arguments,(function*({content:n,audioUrl:r,retry:o}){const s={role:"user",content:n||""};r&&(s.audioUrl=r),o||l((e=>[...e,s]));const{message:u,action:p,data:h}=yield g(o?[]:[s],t.data.mode,t.data.congaData);if("error"===p)return void d({message:u,type:"text-network"});d(null),f(u),c((e=>[...e,h])),l((e=>[...e,{role:"assistant",content:u||"Thanks for your feedback!"}]));const _=[...a,s,{role:"assistant",content:u||"Thanks for your feedback!"}];"end"!==p&&"disqualified"!==p||(fetch(`${e()}api/recruit/v2/ai/conversation-ended`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:t.id,apid:Fe(),ctr:ft.peek().ctr})}),i(!0)),ft.peek().ctr&&(yield dt({type:"Unmoderated_AIConversation",questionNumber:gt.peek(),value:_}))}))},ended:a.length>=51||o,disabled:!1===h.done||n,error:u,setError:d})})]})}function jr({messageMetaData:e}){const{debugMode:t}=dn();return t&&0!==e.length?Vt("div",{class:"p-3",children:e.map((e=>JSON.stringify(e).split("\\n").map((e=>Vt("p",{class:"text-xs",children:e})))))}):null}function Br(){return Vt("svg",{class:"fill-none",width:"16",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Vt("rect",{x:"0.75",y:"0.75",width:"16.5",height:"22.5",rx:"1.25",stroke:"black","stroke-width":"1.5"}),Vt("line",{x1:"4.75",y1:"4.25",x2:"13.25",y2:"4.25",stroke:"black","stroke-width":"1.5","stroke-linecap":"round"}),Vt("line",{x1:"4.75",y1:"8.25",x2:"13.25",y2:"8.25",stroke:"black","stroke-width":"1.5","stroke-linecap":"round"}),Vt("line",{x1:"4.75",y1:"12.25",x2:"8.25",y2:"12.25",stroke:"black","stroke-width":"1.5","stroke-linecap":"round"})]})}function Ur({children:e,className:t}){return Vt("p",{class:Ft("p-3 font-sans",t),style:{backgroundColor:Qt.highlightBackground},children:e})}function $r(e){var t=e,{className:n}=t,r=__objRest(t,["className"]);return Vt("input",__spreadValues({type:"text",class:Ft("rounded border border-solid border-slate-300 px-3 py-[8px] font-sans outline-none focus:border-slate-500",n)},r))}function zr({children:e,className:t}){return Vt("section",{class:Ft("grid gap-2",t),children:e})}function Fr(){const[e,t]=ee(""),[n,r]=ee(""),o=bt.value,i=[...o.data.customConsents?o.data.customConsents:[],...o.data.defaultConsents?o.data.defaultConsents:[]];zt({block:o});const a=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n),l=o.data.collectEmail&&!a||o.data.collectName&&0===e.length;return Vt(m,{children:[Vt(Ht,{children:[Vt(Wt,{children:o.data.title}),Vt(fr,{children:o.data.body}),Vt(zr,{children:i.map((e=>Vt(Ur,{children:Vt("a",{href:e.link,target:"_blank",class:"grid grid-cols-[auto,1fr,auto] items-center gap-3",children:[Vt(Br,{}),Vt(fr,{children:e.text}),Vt(Yt,{})]})})))}),(o.data.collectEmail||o.data.collectName)&&Vt(zr,{children:[Vt(fr,{className:"pb-2",children:"Your details"}),o.data.collectEmail&&Vt($r,{type:"email",name:"email",placeholder:"Your email address",required:!0,onInput:e=>{const t=e.target;r(t.value)}}),o.data.collectName&&Vt($r,{type:"text",name:"name",placeholder:"Your name",required:!0,onInput:e=>{const n=e.target;t(n.value)}})]})]}),Vt(hn,{className:"grid grid-cols-2 gap-2",children:[Vt(Zt,{variant:"secondary",type:"button",onClick:Ct,children:"Exit"}),Vt(Zt,{className:Ft(l&&"opacity-50"),onClick:function(){const t={type:"Other_Consent",questionNumber:gt.value,value:!0};e&&(t.name=e),n&&(t.email=e),Pt(t)},disabled:l,children:"Accept all"})]})]})}function qr(e){var t=e,{children:n,name:r,value:o,className:i}=t,a=__objRest(t,["children","name","value","className"]);return Vt("label",__spreadProps(__spreadValues({class:Ft("m-0 grid grid-cols-[auto,1fr] content-center items-center gap-3 rounded\n         border border-solid border-[#151d3a] bg-white p-3 text-left font-sans font-[400]\n        text-[#151d3a] accent-current transition-all\n        checked:border-gray-700 checked:bg-gray-200 checked:font-[500]\n        hover:border-gray-700 hover:bg-[#ecedef] active:bg-gray-300\n        ",i)},a),{children:[Vt("input",{type:"checkbox",name:null!=r?r:"value",value:null!=o?o:n,style:{width:"16px"}}),Vt(fr,{children:n})]}))}function Vr(e,t){const n=e.map(((e,t)=>({idx:t,optionText:e.optionText})));switch(t){case"random":return n.sort((()=>Math.random()-.5));case"default":return n;case"randomExceptLast":const e=n.pop();return n.sort((()=>Math.random()-.5)).concat(e);default:throw new Error("Invalid option order")}}function Hr(){const e=bt.value,t=ne(null),n=Vr(e.data.options,e.data.optionsOrder);return zt({block:e}),Vt(m,{children:[Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),Vt("div",{class:"grid gap-2",ref:t,children:n.map((e=>Vt(qr,{children:e.optionText})))})]}),Vt(hn,{children:Vt(Zt,{onClick:function(){if(!t.current)return;const n=[...t.current.querySelectorAll("input")].filter((e=>e.checked)).map((e=>e.value)),r=e.data.options.map((e=>n.includes(e.optionText)?1:0));Pt({type:"Question_MultiChoiceMultiAnswer",questionNumber:gt.value,value:r})},children:"Continue"})})]})}function Wr(e){var t=e,{children:n,className:r,name:o,value:i}=t,a=__objRest(t,["children","className","name","value"]);return Vt("button",__spreadProps(__spreadValues({class:Ft("\n        grid justify-center rounded border border-solid border-[#151d3a] bg-white\n        py-3 text-center font-sans font-[400]\n        text-black transition-colors hover:border-gray-700 hover:bg-[#ecedef] active:bg-gray-300\n        ",r)},a),{name:null!=o?o:"value",value:null!=i?i:n,children:Vt(fr,{className:"text-center",children:n})}))}function Qr(){const e=bt.value,t=Vr(e.data.options,e.data.optionsOrder);return zt({block:e}),Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),Vt("div",{class:"grid gap-2",children:t.map((t=>Vt(Wr,{onClick:()=>function(t){const n=e.data.options.findIndex((e=>e.optionText===t));Pt({type:"Question_MultiChoiceSingleAnswer",questionNumber:gt.value,value:n})}(t.optionText),children:t.optionText})))})]})}function Jr(){const e=bt.value,t=Array(11).fill(null).map(((e,t)=>t));return zt({block:e}),Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),Vt("div",{class:"grid gap-1",style:{gridTemplateColumns:`repeat(${t.length}, 1fr)`},children:t.map((e=>Vt(Wr,{className:"px-0",onClick:()=>{return t=e,void Pt({type:"Question_NPS",questionNumber:gt.value,value:t});var t},children:String(e)})))}),Vt("div",{class:"flex justify-between",children:[Vt(fr,{children:"Not likely"}),Vt(fr,{children:"Very likely"})]})]})}function Zr(e){var t=e,{name:n,className:r}=t,o=__objRest(t,["name","className"]);return Vt("textarea",__spreadValues({class:Ft("resize-none rounded border border-solid border-zinc-900 px-2 py-1 font-sans text-black outline-zinc-900",r),rows:5,name:null!=n?n:"value"},o))}const Kr=1e3,Gr=100;function Yr(){const[e,t]=ee(""),n=bt.value;return zt({block:n}),Vt(m,{children:[Vt(Ht,{children:[Vt(Wt,{children:n.data.title}),Vt(fr,{children:n.data.body}),Vt(zr,{children:[Vt(Zr,{onInput:e=>{const n=e.target;if(n.value.length>Kr){const e=n.value.slice(0,Kr);t(e),n.value=e}else t(n.value)}}),Kr-e.length<Gr&&Vt("p",{class:"text-left text-xs text-zinc-900",children:[Kr-e.length," characters left"]})]})]}),Vt(hn,{children:Vt(Zt,{onClick:function(){Pt({type:"Question_OpenText",questionNumber:gt.value,value:e})},children:"Continue"})})]})}function Xr(){return Vt("svg",{width:"15",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(270deg)"},children:Vt("path",{d:"M7.5 0 6.178 1.322l5.231 5.24H0v1.875h11.41L6.168 13.67 7.5 15 15 7.5 7.5 0Z",fill:"#fff"})})}function eo(){return Vt("div",{class:Ft("mx-auto my-3 h-[2px] w-[42px] rounded-lg bg-zinc-900")})}function to({color:e="currentColor"}){return Vt("div",{class:"animate-spin",style:{display:"inline-block",width:"2rem",height:"2rem",verticalAlign:"text-bottom",border:`0.25em solid ${e}`,borderRightColor:"transparent",borderRadius:"50%"}})}const no={isCompleted:void 0,startTime:void 0,minimisedTimes:[],maximisedTimes:[],endTime:void 0};function ro(){const t=bt.peek();zt({block:t});const[n,r]=ee(!1),[o,i]=ee(no),a=ne(null),[l,s]=ee(),c=ne(""),[u,d]=ee(!1);const p={block:t,setIsHidden:r,value:o,setValue:i,startRecording:function(){return __async(this,null,(function*(){if(ft.value.preview)return;if(!t.data.recordScreen&&!t.data.recordAudio)return;let n,r;if(t.data.recordScreen)try{n=yield navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1,preferCurrentTab:!0,surfaceSwitching:"exclude",selfBrowserSurface:"include"})}catch(l){return void st({errorTopic:"Error getting screen stream:",error:l,mirrorToConsole:!0,ctr:ft.peek().ctr})}if(t.data.recordAudio)try{r=yield navigator.mediaDevices.getUserMedia({video:!1,audio:!0})}catch(l){return void st({errorTopic:"Error getting audio stream:",error:l,mirrorToConsole:!0,ctr:ft.peek().ctr})}let o=[];n&&(o=[...o,...n.getTracks()]),r&&(o=[...o,...r.getAudioTracks()]);const i=new MediaStream(o),a=new MediaRecorder(i);s(a),a.ondataavailable=t=>setTimeout((()=>function(t){return __async(this,null,(function*(){yield new Promise((e=>setTimeout(e,1e3)));const n=new FormData;n.append("video",t),n.append("ctrId",ft.peek().ctr||""),n.append("answerId",c.current),n.append("apid",Fe()||"");try{const t=yield fetch(`${e()}api/recruit/v2/uploadPrototypeRecording`,{method:"POST",body:n});t.ok||st({errorTopic:"Error uploading (1)",error:t.statusText,mirrorToConsole:!0,ctr:ft.peek().ctr})}catch(l){st({errorTopic:"Error uploading (2)",error:l,mirrorToConsole:!0,ctr:ft.peek().ctr})}}))}(t.data)),1e3),a.start()}))},stopRecording:function(){return __async(this,null,(function*(){ft.value.preview||l&&(l.stop(),l.stream.getTracks().forEach((e=>e.stop())))}))},props:ft.peek(),answerIdRef:c,next:St,currentBlockIndex:gt.peek(),isPreview:Boolean(ft.value.preview)};function h(){return`${window.innerHeight}px`}return te((()=>{function e(){a.current&&(a.current.style.height=h())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),Vt(m,{children:[Vt("input",{type:"hidden",name:"value",value:JSON.stringify(o)}),o.startTime?Vt("div",{class:"fixed left-0 top-0 z-[2147483647] h-full w-full",children:["small"===ft.value.preview?Vt("button",{class:"m-10 flex items-center gap-2 rounded bg-white px-6 py-4 text-blue-500 shadow-lg ring-1 ring-[#e7eaf3]",style:{position:"fixed",top:0,left:0,zIndex:70},onClick:()=>{d(!1),i(no)},children:[Vt("span",{children:Vt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5",children:Vt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})})}),Vt("span",{children:"Exit preview mode"})]}):null,Vt("iframe",{id:"prototype-iframe",ref:a,style:{border:"none",position:"absolute",top:"0",left:"0",zIndex:10,margin:"0",padding:"0",width:"100vw",height:h()},src:t.data.link,onLoad:()=>{setTimeout((()=>{d(!0)}),2e3)}},t.data.link),Vt(m,{children:n?Vt(Zt,{id:"task-controls-button",type:"button",className:"absolute z-20 flex gap-2 rounded-b-none px-3",onClick:()=>{r(!1),i((e=>__spreadProps(__spreadValues({},e),{maximisedTimes:[...e.maximisedTimes,new Date]})))},children:["Task controls ",Vt(Xr,{})]}):Vt("div",{id:"ribbon-widget-form",class:"v1 widget group grid gap-4 overflow-hidden bg-white py-6 font-sans text-[14px] text-zinc-900 shadow-xl",style:{borderRadius:Qt.widgetBorderRadius,zIndex:20,position:"absolute",bottom:0,left:0},children:Vt(oo,__spreadValues({},p))})}),Vt("div",{style:{border:"none",position:"absolute",top:"0",left:"0",zIndex:0,width:"100vw",height:"100vh"},class:"grid place-content-center bg-white text-zinc-900",children:u?null:Vt(to,{color:Qt.primaryColor})})]}):Vt(oo,__spreadValues({},p))]})}function oo({block:e,setIsHidden:t,value:n,setValue:r,startRecording:o,stopRecording:i,answerIdRef:a,next:l,currentBlockIndex:s,isPreview:c}){var u;function d(e){return __async(this,null,(function*(){if(c)return void l();i();const t=__spreadProps(__spreadValues({},n),{isCompleted:e,endTime:new Date});vt.value=!0;const{answerId:r}=yield dt({value:t,type:"Unmoderated_PrototypeTest",questionNumber:s});a.current=r,l()}))}return Vt(m,{children:[Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),Vt(zr,{children:null==(u=e.data.callouts)?void 0:u.map((e=>Vt(Ur,{children:Vt(fr,{children:e})})))})]}),Vt(hn,{children:[Vt(Zt,{type:"button",variant:n.startTime?"secondary":"primary",onClick:()=>{t(!0),n.startTime?r((e=>__spreadProps(__spreadValues({},e),{minimisedTimes:[...e.minimisedTimes,new Date]}))):(o(),r((e=>__spreadProps(__spreadValues({},e),{startTime:new Date}))))},children:n.startTime?"Return to task":e.data.buttonText}),Vt(eo,{}),Vt(Zt,{type:"button",className:"mb-3 border-teal-500 bg-teal-500 disabled:opacity-50",disabled:!n.startTime,onClick:()=>d(!0),children:"Task completed"}),Vt(Zt,{type:"button",className:"border-red-500 bg-red-500 disabled:opacity-50",disabled:!n.startTime,onClick:()=>d(!1),children:"Give up"})]})]})}function io(){const e=bt.value,t=Boolean(e.data.lowLabel||e.data.highestScore),n=Array(e.data.highestScore).fill(null).map(((e,t)=>t+1));return zt({block:e}),Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),Vt("div",{class:"grid gap-1",style:{gridTemplateColumns:`repeat(${n.length}, 1fr)`},children:n.map((e=>Vt(Wr,{onClick:()=>{return t=e,void Pt({type:"Question_Rating",questionNumber:gt.value,value:t});var t},children:e})))}),t&&Vt("div",{class:"grid grid-cols-[1fr,1fr] gap-3",children:[Vt(fr,{children:e.data.lowLabel||" "}),Vt(fr,{className:"text-right",children:e.data.highLabel||" "})]})]})}function ao(){const e=bt.value,t=e.data.callouts.length>0;return zt({block:e}),Vt(m,{children:[Vt(Ht,{children:[Vt(Wt,{children:e.data.title}),Vt(fr,{children:e.data.body}),t&&Vt("div",{class:"grid gap-2",children:e.data.callouts.map((e=>Vt(Ur,{children:Vt(fr,{children:e})})))})]}),Vt(hn,{children:Vt(Zt,{onClick:()=>{const t=e.data.url;t&&window.open(t,"_blank"),Pt({type:"Question_TextUrlPrompt",questionNumber:gt.value,value:!0})},children:e.data.buttonText||"Continue"})})]})}const lo=["Question_MultiChoiceSingleAnswer","Question_MultiChoiceMultiAnswer","Question_Rating","Question_NPS","Question_TextUrlPrompt","Question_OpenText","Unmoderated_PrototypeTest","Unmoderated_AIConversation","Other_Consent","Message","Choose","Rate","Explore","Show"];function so(){const e=bt.value;if(!e)return null;switch(e.type){case"Question_MultiChoiceSingleAnswer":return Vt(Qr,{},e.id);case"Question_MultiChoiceMultiAnswer":return Vt(Hr,{},e.id);case"Question_Rating":return Vt(io,{},e.id);case"Question_NPS":return Vt(Jr,{},e.id);case"Question_TextUrlPrompt":return Vt(ao,{},e.id);case"Question_OpenText":return Vt(Yr,{},e.id);case"Unmoderated_PrototypeTest":return Vt(ro,{},e.id);case"Unmoderated_AIConversation":return Vt(Lr,{},e.id);case"Other_Consent":return Vt(Fr,{},e.id);default:return null}}const co={fetchTranslations:function(t,n){return __async(this,null,(function*(){const r=e();if(!r)return;const o=`${r}api/recruit/v2/translations?language=${t}&studyId=${ft.peek().studyId}`,i=yield fetch(o,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",signal:n.signal});if(!i.ok)throw new Error("Failed to fetch translations: "+i.statusText);return yield i.json().catch((()=>{throw new Error("Failed to parse JSON")}))}))}};function uo({children:e}){const[t,n]=ee(ft.value.studyLanguage||"en"),[r,o]=ee(ft.value.staticTranslations||en),[i,a]=ee(!1),[l,s]=ee(!1),[c,u]=ee(0),[d,p]=ee(!0);return te((()=>{ft.value.studyLanguage&&n(ft.value.studyLanguage)}),[ft.value.studyLanguage]),te((()=>{if(d&&(p(!1),t===(ft.value.studyLanguage||"en")))return;const e=new AbortController,n=e.signal;return a(!0),co.fetchTranslations(t,{signal:n}).then((e=>{if(s(!1),e){o(e.staticTranslations);const t=ft.value.blocks.map((e=>e.id)),n=e.blocks.filter((e=>t.includes(e.id)));ft.value=__spreadProps(__spreadValues({},ft.value),{blocks:n})}})).catch((e=>{"AbortError"!==e.name&&(st({error:e,errorTopic:"fetchTranslations"}),s(!0))})).finally((()=>{n.aborted||a(!1)})),()=>{e.abort()}}),[t,c]),Vt(tn.Provider,{value:{translations:r,language:t,setLanguage:n,loading:i,networkError:l,retryRetrieveTranslation:()=>{u((e=>e+1))}},children:e})}function po(){if(function(e){var t=X(U++,10),n=ee();t.__=e,$.componentDidCatch||($.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),n[0]}(((e,{componentStack:t})=>{st({error:e,componentStack:t,errorTopic:"ribbonjs error boundary",type:"errorBoundary"})})),0===ft.peek().blocks.length)return st({error:"No blocks found in props",errorTopic:"ribbonjs"}),null;if("closed"===_t.value)return null;te((()=>{"lastInteractionTime"in ft.peek()||Et("show-widget")}),[]);const e=ft.peek().isWidget;return void 0===ft.peek().version||1===ft.peek().version?Vt(Sr,{children:[e&&Vt(sn,{}),["denied","done"].includes(_t.value)?Vt(Gt,{}):so()]}):Vt(Sr,{children:Vt(uo,{children:Vt(kr,{})})})}function ho(e){var t,n,r,o,i,a,l;if(ft.value=__spreadProps(__spreadValues({},e),{startTime:Date.now()}),vt.value=!1,"currentBlockIndex"in e&&(gt.value=e.currentBlockIndex),ft.value.preview&&Tt(),"currentBlockIndex"in e||Je(__spreadProps(__spreadValues({},e),{currentBlockIndex:0,lastInteractionTime:Date.now()})),e.blocks.some((e=>!lo.includes(e.type))))return void st({error:"Unsupported block type",errorTopic:"triggerRecruit"});let s;if(function({buttonCornerRadius:e,buttonHex:t,fullWidthButton:n,widgetCornerRadius:r,widgetPosition:o,darkButtonText:i}){Qt.buttonBorderRadius=e,Qt.primaryColor=t,Qt.fullWidthButton=n,Qt.widgetBorderRadius=r,Qt.widgetPosition=o,Qt.darkButtonText=i,Jt.position="relative"===o?o:"fixed",Jt.top=o.includes("top")?0:void 0,Jt.bottom=o.includes("bottom")?0:void 0,Jt.left=o.includes("Left")?0:void 0,Jt.right=o.includes("Right")?0:void 0}(e),e.previewDivID)s=document.getElementById(e.previewDivID),s&&s.classList.add("ribbon-widget-shadow-dom-container");else{const e=document.querySelector(".ribbon-widget-shadow-dom-container");e&&e.remove(),s=document.createElement("div"),s.classList.add("ribbon-widget-shadow-dom-container"),s.style.display="initial",s.style.position="absolute",document.body.append(s)}if(!s)return void st({error:"Could not find container element",errorTopic:"triggerRecruit"});s.shadowRoot||s.attachShadow({mode:"open"});let c=null==(t=s.shadowRoot)?void 0:t.querySelector(".ribbon-widget");if(!c){const e=document.createElement("div");e.classList.add("ribbon-widget"),e.style.height="100%",e.style.position="relative",null==(n=s.shadowRoot)||n.appendChild(e),c=e}let u=null==(r=s.shadowRoot)?void 0:r.querySelector(".ribbon-styles");if(!window.__ribbonStyles)throw st({error:"window.__ribbonStyles is not defined",errorTopic:"triggerRecruit"}),new Error("window.__ribbonStyles is not defined");return u||(u=document.createElement("style"),u.classList.add("ribbon-styles"),u.innerHTML=null!=(o=window.__ribbonStyles)?o:"",null==(i=s.shadowRoot)||i.appendChild(u)),s.shadowRoot&&(s.shadowRoot.innerHTML=""),null==(a=s.shadowRoot)||a.appendChild(c),null==(l=s.shadowRoot)||l.appendChild(u),function(e,t){function n(e){B(null,e)}let r=document.body.contains(e);const o=new MutationObserver((function(){document.body.contains(e)?r=!0:r&&(n(t),o.disconnect(),r=!1)}));o.observe(document.body,{childList:!0,subtree:!0})}(s,c),B(Vt(po,{},Math.random()),c),new Promise((e=>{const t=_t.subscribe((n=>{"closed"===n&&(t(),e())}))}))}function fo({fallbackRibbonID:t}={}){return function(n,r){var o,i,a;const l=function(){const o=new URLSearchParams(n.location.search).get("prolific_pid");let i;return o&&Ve(o),function(o,a,s,u,d){return __async(this,null,(function*(){var p;if(null==(p=c.ribbon)?void 0:p.ribbonID){Ye({fallbackRibbonID:t}),ot();try{if(d){if(!i)return;return void function(e){if(null==e?void 0:e.noCodeEvents)for(const t of e.noCodeEvents){Mt(n.location.href,t.noCode.rule,t.noCode.matchText)&&l("trigger",t.name)}}(i)}if("identify"===o&&("string"==typeof a?Bt(a):st({error:"Identify function only takes strings",errorTopic:"triggerRecruit"})),"attribute"===o)return"string"!=typeof a?void st({error:"Failed set single attribute call",errorTopic:"triggerRecruit"}):void(s&&$t(a,s));if("attributes"===o)return void("string"!=typeof a&&Ut(a));if("identify"===o)return"string"!=typeof a?void st({error:"Failed identity call",errorTopic:"triggerRecruit"}):void Bt(a);const p=Ze({fallbackRibbonID:t});if(p)return Rt({ctr:p.ctr||"none",message:"Displaying study from local storage",data:{ctrId:p.ctr}}),void ho(p);if("trigger"===o){if("string"!=typeof a)return void st({error:"Failed trigger call",errorTopic:"triggerRecruit"});o=a,a=void 0}let h,f,g;if(o||"string"!=typeof a||(null==a?void 0:a.match(/^[0-9a-fA-F]{24}$/))||(null==a?void 0:a.match(/^[0-9a-fA-F]{32}$/))||([o,a]=[a,o]),o&&"string"==typeof a&&(o.match(/^[0-9a-fA-F]{24}$/)||o.match(/^[0-9a-fA-F]{32}$/))&&([o,a]=[a,o]),s||(s=c.ribbon.ribbonScriptEnv||void 0),a||(a=c.ribbon.ribbonID),"string"==typeof s&&s.length>0)if("development"===s)g=s;else{if("preview"===s)return void(g="preview");g="production"}else g=null===r.currentScript||null===c.ribbon.ribbonScriptEnv?"production":c.ribbon.ribbonScriptEnv||"production";h="string"==typeof a&&a.length>0?a:c.ribbon.ribbonID,f="string"==typeof o&&o.length>0?o:"global";const _=new URLSearchParams(n.location.search),v=_.get("ribbonpreview")||_.get("wonderingpreview"),m=e();if(!m)return;const b={attributes:Qe()||void 0,identity:ze(),apid:Fe(),token:He()||void 0,options:{ribbonpreview:"true"===v}};yield fetch(m.concat("api/recruit/v2/").concat(h).concat("/r/").concat(encodeURIComponent(f)).concat("development"===g?"/development":""),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(b)}).catch((e=>(ut(e)?st({error:"HTTP request failed because of network error",errorTopic:"HTTP request failed during triggerRecruit",mirrorToConsole:!0}):st({error:e,errorTopic:"HTTP request failed during triggerRecruit, unknown error",mirrorToConsole:!0}),null))).then((e=>{if(!e)return null;if(!e.ok)return st({error:"HTTP response: "+e.status+" "+e.statusText,errorTopic:"HTTP response error during triggerRecruit"}),null;const t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():null})).then((e=>{var t,r,o,a,s;if(!e)return null;if(e&&(null==(t=null==e?void 0:e.meta)?void 0:t.noCodeEvents)&&(i={noCodeEvents:e.meta.noCodeEvents}),u&&(e&&(null==(r=null==e?void 0:e.meta)?void 0:r.noCodeEvents)&&(i={noCodeEvents:e.meta.noCodeEvents}),function(){const e=history.pushState;history.pushState=function(){const t=e.apply(this,arguments);return n.dispatchEvent(new Event("pushstate")),n.dispatchEvent(new Event("locationchange")),t};const t=history.replaceState;history.replaceState=function(){const e=t.apply(this,arguments);return n.dispatchEvent(new Event("replacestate")),n.dispatchEvent(new Event("locationchange")),e},n.addEventListener("popstate",(()=>{n.dispatchEvent(new Event("locationchange"))})),n.addEventListener("locationchange",(()=>{l(void 0,void 0,void 0,void 0,!0)}))}()),!(null==(o=e.meta)?void 0:o.styles))return;if(e.meta.apid&&(null==(a=c.ribbon)?void 0:a.ribbonID)&&qe(e.meta.apid),e.meta.token&&(null==(s=c.ribbon)?void 0:s.ribbonID)&&We(e.meta.token),!e.data)return;const d=e.data.attributes.linkToStudy,{fullWidthButton:p,darkButtonText:h,poweredByRibbon:f,widgetPosition:g,buttonColour:_,buttonBorderRadius:v,widgetBorderRadius:m}=e.meta.styles,b=e.data.id,y={rLink:null!=d?d:"",buttonHex:_,widgetPosition:g,widgetCornerRadius:m,buttonCornerRadius:v,fullWidthButton:p,poweredByRibbon:f,darkButtonText:h,blocks:e.data.attributes.blocks,previewDivID:void 0,studyType:e.data.attributes.studyType,ctr:b,isWidget:!0,isPanel:e.data.attributes.isPanel,delaySeconds:e.data.attributes.delaySeconds,completion:e.data.attributes.completion,user:e.data.attributes.user,startTime:(new Date).getTime(),submissionId:e.meta.submissionId,participantId:e.meta.apid,version:e.data.attributes.version,studyLanguage:e.data.attributes.studyLanguage,allowSwitchingLanguage:e.data.attributes.allowSwitchingLanguage,staticTranslations:e.meta.staticTranslations,studyId:e.data.attributes.studyId};if("string"==typeof b&&""!==b){if(e.data.attributes.blocks.some((e=>"Unmoderated_PrototypeTest"===e.type)))try{localStorage.setItem("test123","test"),localStorage.removeItem("test123")}catch(w){return void st({error:"trigger storage not available",errorTopic:"triggerRecruit"})}0===e.data.attributes.delaySeconds?ho(y):jt(ho,{ctrId:b,delaySeconds:e.data.attributes.delaySeconds,args:y})}}))}catch(h){st({error:h,errorTopic:"RIBBONJS unhandled error",mirrorToConsole:!0})}}}))}}();class s extends Array{constructor(e){super(...e),Object.setPrototypeOf(this,s.prototype)}push(...e){const t=super.push(...e);return l(...arguments),t}}const c=n;if(!c.ribbon)throw new Error("Ribbon script not loaded");if(null==(o=c.ribbon)?void 0:o.loaded)throw new Error("Ribbon script already loaded, will not load again");if(r.currentScript&&(c.ribbon.ribbonSrcUrl=r.currentScript.src,c.ribbon.ribbonScriptEnv=r.currentScript.getAttribute("env")),c.ribbon.identity=null,c.ribbon.attributes={},c.ribbon&&(r.currentScript&&(c.ribbon.ribbonSrcUrl=r.currentScript.src,c.ribbon.ribbonScriptEnv=r.currentScript.getAttribute("env")),c.ribbon.identity=null,c.ribbon.attributes={}),(null==(i=r.currentScript)?void 0:i.getAttribute("ribbonID"))&&(c.ribbon.ribbonID=r.currentScript.getAttribute("ribbonID")),c.ribbon._q){for(;c.ribbon._q.length>0;)if(Array.isArray(c.ribbon._q)){const e=c.ribbon._q.shift();l(...e)}c.ribbon._q=new s([...c.ribbon._q])}return(null==(a=r.currentScript)?void 0:a.getAttribute("preview"))||l("trigger","global",void 0,!0).then((()=>{l(void 0,void 0,void 0,void 0,!0)})),l.ribbonID=c.ribbon.ribbonID,l.ribbonSrcUrl=c.ribbon.ribbonSrcUrl,l.ribbonScriptEnv=c.ribbon.ribbonScriptEnv,l._q=c.ribbon._q,l._gtm=c.ribbon._gtm,l.triggerRecruit=ho,l.loaded=!0,l.version="v1.1.2",l}}window.wondering&&(window.wondering=function(t,n){var r,o,i;const a=function(){const r=new URLSearchParams(t.location.search).get("prolific_pid");let o;return r&&Ve(r),function(r,i,l,c,u){return __async(this,null,(function*(){if(s.wondering&&s.wondering.wonderingID){Ye(),ot();try{if(u){if(!o)return;return void function(e){if(null==e?void 0:e.noCodeEvents)for(const n of e.noCodeEvents)Mt(t.location.href,n.noCode.rule,n.noCode.matchText)&&a("trigger",n.name)}(o)}if("identify"===r&&("string"==typeof i?Bt(i):st({error:"Identify function only takes strings",errorTopic:"triggerRecruit"})),"attribute"===r)return"string"!=typeof i?void st({error:"Failed set single attribute call",errorTopic:"triggerRecruit"}):void(l&&$t(i,l));if("attributes"===r)return void("string"!=typeof i&&Ut(i));if("identify"===r)return"string"!=typeof i?void st({error:"Failed identity call",errorTopic:"triggerRecruit"}):void Bt(i);const d=Ze();if(d)return Rt({ctr:d.ctr||"none",message:"Displaying study from local storage",data:{ctrId:d.ctr}}),void ho(d);if("trigger"===r){if("string"!=typeof i)return void st({error:"Trigger call failed",errorTopic:"triggerRecruit"});r=i,i=void 0}let p,h,f;if(r||"string"!=typeof i||(null==i?void 0:i.match(/^[0-9a-fA-F]{24}$/))||(null==i?void 0:i.match(/^[0-9a-fA-F]{32}$/))||([r,i]=[i,r]),r&&"string"==typeof i&&(r.match(/^[0-9a-fA-F]{24}$/)||r.match(/^[0-9a-fA-F]{32}$/))&&([r,i]=[i,r]),l||(l=s.wondering.wonderingScriptEnv||void 0),i||(i=s.wondering.wonderingID),"string"==typeof l&&l.length>0)if("development"===l)f=l;else{if("preview"===l)return void(f="preview");f="production"}else f=null===n.currentScript||null===s.wondering.wonderingScriptEnv?"production":s.wondering.wonderingScriptEnv||"production";p="string"==typeof i&&i.length>0?i:s.wondering.wonderingID,h="string"==typeof r&&r.length>0?r:"global";const g=new URLSearchParams(t.location.search),_=g.get("wonderingpreview")||g.get("ribbonpreview"),v=e();if(!v)return;const m={attributes:Qe()||void 0,identity:ze(),apid:Fe(),token:He()||void 0,options:{ribbonpreview:"true"===_}};yield fetch(v.concat("api/recruit/v2/").concat(p).concat("/r/").concat(encodeURIComponent(h)).concat("development"===f?"/development":""),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(m)}).catch((e=>(ut(e)?st({error:"HTTP request failed because of network error",errorTopic:"HTTP request failed during triggerRecruit",mirrorToConsole:!0}):st({error:e,errorTopic:"HTTP request failed during triggerRecruit, unknown error",mirrorToConsole:!0}),null))).then((e=>{if(!e)return null;if(!e.ok)return st({error:"HTTP response: "+e.status+" "+e.statusText,errorTopic:"HTTP response error during triggerRecruit"}),null;const t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():(st({error:"Unexpected API response, expecting JSON. Content-Type: "+t,errorTopic:"triggerRecruit"}),null)})).then((e=>{var n,r,i,l,u;if(!e)return null;if(e&&(null==(n=null==e?void 0:e.meta)?void 0:n.noCodeEvents)&&(o={noCodeEvents:e.meta.noCodeEvents}),c&&(e&&(null==(r=null==e?void 0:e.meta)?void 0:r.noCodeEvents)&&(o={noCodeEvents:e.meta.noCodeEvents}),function(){const e=history.pushState;history.pushState=function(){const n=e.apply(this,arguments);return t.dispatchEvent(new Event("pushstate")),t.dispatchEvent(new Event("locationchange")),n};const n=history.replaceState;history.replaceState=function(){const e=n.apply(this,arguments);return t.dispatchEvent(new Event("replacestate")),t.dispatchEvent(new Event("locationchange")),e},t.addEventListener("popstate",(()=>{t.dispatchEvent(new Event("locationchange"))})),t.addEventListener("locationchange",(()=>{a(void 0,void 0,void 0,void 0,!0)}))}()),!(null==(i=e.meta)?void 0:i.styles))return;if(e.meta.apid&&(null==(l=s.wondering)?void 0:l.wonderingID)&&qe(e.meta.apid),e.meta.token&&(null==(u=s.wondering)?void 0:u.wonderingID)&&We(e.meta.token),!e.data)return;const d=e.data.attributes.linkToStudy,{fullWidthButton:p,darkButtonText:h,poweredByRibbon:f,widgetPosition:g,buttonColour:_,buttonBorderRadius:v,widgetBorderRadius:m}=e.meta.styles,b=e.data.id,y={rLink:null!=d?d:"",buttonHex:_,widgetPosition:g,widgetCornerRadius:m,buttonCornerRadius:v,fullWidthButton:p,poweredByRibbon:f,darkButtonText:h,blocks:e.data.attributes.blocks,previewDivID:void 0,studyType:e.data.attributes.studyType,ctr:b,isWidget:!0,isPanel:e.data.attributes.isPanel,delaySeconds:e.data.attributes.delaySeconds,completion:e.data.attributes.completion,user:e.data.attributes.user,startTime:(new Date).getTime(),submissionId:e.meta.submissionId,participantId:e.meta.apid,version:e.data.attributes.version,studyLanguage:e.data.attributes.studyLanguage,allowSwitchingLanguage:e.data.attributes.allowSwitchingLanguage,staticTranslations:e.meta.staticTranslations,studyId:e.data.attributes.studyId};if("string"==typeof b&&""!==b){if(e.data.attributes.blocks.some((e=>"Unmoderated_PrototypeTest"===e.type)))try{localStorage.setItem("test123","test"),localStorage.removeItem("test123")}catch(w){return void st({error:"trigger storage not available",errorTopic:"triggerRecruit"})}0===e.data.attributes.delaySeconds?ho(y):jt(ho,{ctrId:b,delaySeconds:e.data.attributes.delaySeconds,args:y})}}))}catch(d){st({error:d,errorTopic:"WONDERINGJS unhandled error triggerRecruit",mirrorToConsole:!0})}}}))}}();class l extends Array{constructor(e){super(...e),Object.setPrototypeOf(this,l.prototype)}push(...e){const t=super.push(...e);return a(...arguments),t}}const s=t;if(!s.wondering)throw new Error("Wondering script not loaded");if(null==(r=s.wondering)?void 0:r.loaded)throw new Error("Wondering script already loaded, will not load again");if(n.currentScript&&(s.wondering.wonderingSrcUrl=n.currentScript.src,s.wondering.wonderingScriptEnv=n.currentScript.getAttribute("env")),s.wondering.identity=null,s.wondering.attributes={},s.wondering&&(n.currentScript&&(s.wondering.wonderingSrcUrl=n.currentScript.src,s.wondering.wonderingScriptEnv=n.currentScript.getAttribute("env")),s.wondering.identity=null,s.wondering.attributes={}),(null==(o=n.currentScript)?void 0:o.getAttribute("wonderingID"))&&(s.wondering.wonderingID=n.currentScript.getAttribute("wonderingID")),s.wondering._q){for(;s.wondering._q.length>0;)if(Array.isArray(s.wondering._q)){const e=s.wondering._q.shift();a(...e)}s.wondering._q=new l([...s.wondering._q])}return(null==(i=n.currentScript)?void 0:i.getAttribute("preview"))||a("trigger","global",void 0,!0).then((()=>{a(void 0,void 0,void 0,void 0,!0)})),a.wonderingID=s.wondering.wonderingID,a.wonderingSrcUrl=s.wondering.wonderingSrcUrl,a.wonderingScriptEnv=s.wondering.wonderingScriptEnv,a._q=s.wondering._q,a._gtm=s.wondering._gtm,a.triggerRecruit=ho,a.loaded=!0,a.version="v1.1.2",a}(window,document)),window.ribbon&&(window.ribbon=fo()(window,document)),!window.ribbon&&window.wondering&&(window.ribbon={ribbonID:window.wondering.wonderingID,ribbonSrcUrl:window.wondering.wonderingSrcUrl||document.currentScript.src,debugMode:window.wondering.debugMode,ribbonScriptEnv:window.wondering.wonderingScriptEnv},window.ribbon=fo({fallbackRibbonID:window.wondering.wonderingID})(window,document))}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0b516373-e8a7-5722-a7d8-8663356a2ee5")}catch(e){}}();
//# debugId=0b516373-e8a7-5722-a7d8-8663356a2ee5
