(window.figshareJsonp=window.figshareJsonp||[]).push([[48],{122:function(e,t,n){"use strict";var r=function(){};function o(e){var t=e.wrapper,n=e.element;if(!t||!n)return null;var r=t.getBoundingClientRect(),o=r.top,i=r.bottom,a=r.height,s=n.getBoundingClientRect(),f=s.top,c=s.bottom,l=s.height,u=f-o,h=i-c,p=!(f>i||c<o),d=a-Math.max(u,0)-Math.max(h,0);return{visibility:p?d/l:0,coverage:p?d/a:0,visible:p}}function i(e){var t=e.element,n=e.to,o=e.duration,i=void 0===o?400:o,a=e.callback,s=void 0===a?r:a,f=[],c=0,l=null;if(t)c=t.scrollTop;else{var u=document,h=u.documentElement,p=u.body;f.push(h,p),c=h.scrollTop||p.scrollTop}if(c!==n){window.requestAnimationFrame((function e(r){l||(l=r);var o=Math.min(1,(r-l)/i),a=o*(n-c)+c;t?t.scrollTop=a:f.forEach((function(e){return e.scrollTop=a})),o<1?window.requestAnimationFrame(e):s()}))}else s()}t.a={getVisibleNodes:function(e){var t=e||{},n=t.wrapper,r=t.elements,i=e||{},a=i.elementCoverage,s=i.viewportCoverage,f=null,c=[];return a=a||.9,s=s||.9,r.forEach((function(e,t){var r=o({wrapper:n,element:e}),i=r.visible,l=r.visibility,u=r.coverage;i&&c.push(t),null===f&&(l>a||u>s)&&(f=t)})),null===f&&(f=c[0]),{current:f,visible:c}},getVerticalVisibility:o,ready:function(e){var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}));var n=document.onreadystatechange;document.onreadystatechange=function(){n&&n.apply(void 0,arguments),"complete"!==document.readyState&&"loaded"!==document.readyState||t||(t=!0,e())}},scrollTo:i,scrollToElement:function(e){var t=e.target,n=void 0===t?document:t,r=e.element,o=e.offset,a=void 0===o?0:o,s=e.callback,f=a;f&&(f=parseInt(f,10)||0);var c=n.getBoundingClientRect().top;i({element:n,to:f+=r.getBoundingClientRect().top-c+n.scrollTop,callback:s})},cloneCanvas:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}}},1243:function(e,t,n){"use strict";var r=n(359),o=n.n(r),i=n(403),a=n.n(i),s=n(404),f=n(405),c=n(406),l=n(407),u=o()((function(e){return e[1]})),h=a()(s.a),p=a()(s.a,{hash:"?#iefix"}),d=a()(f.a),g=a()(c.a),y=a()(l.a,{hash:"#figIcon"});u.push([e.i,'/**\n * Load figshare icon font\n **/\n.fs-icon-base,\n.figshare-share .fs-cite-button::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\n.figshare-share .fs-citation-container .fs-citation-back-button::before,\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-widget .fs-file-controls .fs-details-button::after,\nfigshare-widget .fs-main-controls .fs-enlarge-button::after,\nfigshare-widget .fs-main-controls .fs-share-button::before,\nfigshare-widget .fs-main-controls .fs-download-button::before,\nfigshare-widget .fs-figshare-button::after,\nfigshare-widget .fs-prev::after,\nfigshare-widget .fs-next::after,\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button::before,\nfigshare-widget .fs-files-listing .fs-mobile-mode .fs-fileitem-view::before,\nfigshare-widget .fs-files-listing .fs-mobile-mode .fs-fileitem-download::before,\nfigshare-overlay .fs-share-screen.fs-desktop-mode .fs-close::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-audio::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-archive::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-molecule::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dataset::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_canvas::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_failsafe::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-txt::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-kml::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-viewer3d::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-jupyter::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-graph::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-fits::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dicom::before,\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a.fs-expand::before,\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a.fs-collapse::before,\nfigshare-overlay .fs-enlarged-view .fs-download-icon::after,\nfigshare-overlay .fs-enlarged-view .fs-close-button::after,\nfigshare-overlay .fs-enlarged-view .fs-files-button::after,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev::before,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next::before,\nfigshare-widget .fs-share-screen .fs-cite-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button::before,\nfigshare-overlay .fs-share-screen .fs-cite-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n@font-face {\n  font-family: "figIcon";\n  src: url('+h+");\n  src: url("+p+') format("embedded-opentype"), url('+d+") format('woff'), url("+g+") format('truetype'), url("+y+') format(\'svg\');\n}\n/**\n * Apply resets only where needed\n **/\nbody.fs-no-overflow {\n  overflow: hidden;\n}\nfigshare-widget,\nfigshare-overlay {\n  line-height: 1;\n  box-sizing: content-box;\n  color: #464646;\n  /* HTML5 display-role reset for older browsers */\n}\nfigshare-widget *,\nfigshare-overlay * {\n  box-sizing: content-box;\n}\nfigshare-widget *:focus,\nfigshare-overlay *:focus {\n  outline: none;\n}\nfigshare-widget *::-moz-focus-inner,\nfigshare-overlay *::-moz-focus-inner {\n  border: 0;\n}\nfigshare-widget div,\nfigshare-overlay div,\nfigshare-widget span,\nfigshare-overlay span,\nfigshare-widget applet,\nfigshare-overlay applet,\nfigshare-widget object,\nfigshare-overlay object,\nfigshare-widget iframe,\nfigshare-overlay iframe,\nfigshare-widget h1,\nfigshare-overlay h1,\nfigshare-widget h2,\nfigshare-overlay h2,\nfigshare-widget h3,\nfigshare-overlay h3,\nfigshare-widget h4,\nfigshare-overlay h4,\nfigshare-widget h5,\nfigshare-overlay h5,\nfigshare-widget h6,\nfigshare-overlay h6,\nfigshare-widget p,\nfigshare-overlay p,\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget pre,\nfigshare-overlay pre,\nfigshare-widget a,\nfigshare-overlay a,\nfigshare-widget abbr,\nfigshare-overlay abbr,\nfigshare-widget acronym,\nfigshare-overlay acronym,\nfigshare-widget address,\nfigshare-overlay address,\nfigshare-widget big,\nfigshare-overlay big,\nfigshare-widget cite,\nfigshare-overlay cite,\nfigshare-widget code,\nfigshare-overlay code,\nfigshare-widget del,\nfigshare-overlay del,\nfigshare-widget dfn,\nfigshare-overlay dfn,\nfigshare-widget em,\nfigshare-overlay em,\nfigshare-widget img,\nfigshare-overlay img,\nfigshare-widget ins,\nfigshare-overlay ins,\nfigshare-widget kbd,\nfigshare-overlay kbd,\nfigshare-widget q,\nfigshare-overlay q,\nfigshare-widget s,\nfigshare-overlay s,\nfigshare-widget samp,\nfigshare-overlay samp,\nfigshare-widget small,\nfigshare-overlay small,\nfigshare-widget strike,\nfigshare-overlay strike,\nfigshare-widget strong,\nfigshare-overlay strong,\nfigshare-widget tt,\nfigshare-overlay tt,\nfigshare-widget var,\nfigshare-overlay var,\nfigshare-widget b,\nfigshare-overlay b,\nfigshare-widget u,\nfigshare-overlay u,\nfigshare-widget i,\nfigshare-overlay i,\nfigshare-widget center,\nfigshare-overlay center,\nfigshare-widget dl,\nfigshare-overlay dl,\nfigshare-widget dt,\nfigshare-overlay dt,\nfigshare-widget dd,\nfigshare-overlay dd,\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul,\nfigshare-widget li,\nfigshare-overlay li,\nfigshare-widget fieldset,\nfigshare-overlay fieldset,\nfigshare-widget form,\nfigshare-overlay form,\nfigshare-widget label,\nfigshare-overlay label,\nfigshare-widget legend,\nfigshare-overlay legend,\nfigshare-widget table,\nfigshare-overlay table,\nfigshare-widget caption,\nfigshare-overlay caption,\nfigshare-widget tbody,\nfigshare-overlay tbody,\nfigshare-widget tfoot,\nfigshare-overlay tfoot,\nfigshare-widget thead,\nfigshare-overlay thead,\nfigshare-widget tr,\nfigshare-overlay tr,\nfigshare-widget th,\nfigshare-overlay th,\nfigshare-widget td,\nfigshare-overlay td,\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget canvas,\nfigshare-overlay canvas,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget embed,\nfigshare-overlay embed,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget output,\nfigshare-overlay output,\nfigshare-widget ruby,\nfigshare-overlay ruby,\nfigshare-widget section,\nfigshare-overlay section,\nfigshare-widget summary,\nfigshare-overlay summary,\nfigshare-widget time,\nfigshare-overlay time,\nfigshare-widget mark,\nfigshare-overlay mark,\nfigshare-widget audio,\nfigshare-overlay audio,\nfigshare-widget video,\nfigshare-overlay video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\nfigshare-widget sub,\nfigshare-overlay sub,\nfigshare-widget sup,\nfigshare-overlay sup,\nfigshare-widget button,\nfigshare-overlay button {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-family: Arial, Helvetica, sans-serif;\n}\nfigshare-widget,\nfigshare-overlay,\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget section,\nfigshare-overlay section {\n  display: block;\n}\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul {\n  list-style: none;\n}\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget q,\nfigshare-overlay q {\n  quotes: none;\n}\nfigshare-widget blockquote::before,\nfigshare-overlay blockquote::before,\nfigshare-widget q::before,\nfigshare-overlay q::before,\nfigshare-widget blockquote::after,\nfigshare-overlay blockquote::after,\nfigshare-widget q::after,\nfigshare-overlay q::after {\n  content: \'\';\n  content: none;\n}\nfigshare-widget table,\nfigshare-overlay table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget select,\nfigshare-overlay select,\nfigshare-widget textarea,\nfigshare-overlay textarea {\n  font-family: Arial, Helvetica, sans-serif;\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget textarea,\nfigshare-overlay textarea {\n  border: 0 none;\n  padding: 0;\n  font-size: 13px;\n  background-color: transparent;\n}\nfigshare-widget strong,\nfigshare-overlay strong {\n  font-weight: bold;\n}\nfigshare-widget button,\nfigshare-overlay button {\n  cursor: default;\n  background: transparent;\n}\nfigshare-widget button:focus,\nfigshare-overlay button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n/**\n * Load utils\n **/\n.fs-utils-centered_flex,\nfigshare-widget .fs-footer,\nfigshare-widget .fs-footer .fs-figshare-button,\nfigshare-widget .fs-file-controls,\nfigshare-widget .fs-main-controls,\nfigshare-widget .fs-files-nav {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.fsButton,\n.figshare-share .fs-cite-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\n.figshare-share .fs-citation-container .fs-citation-back-button,\nfigshare-widget .fs-file-controls .fs-details-button,\nfigshare-widget .fs-main-controls .fs-enlarge-button,\nfigshare-widget .fs-main-controls .fs-share-button,\nfigshare-widget .fs-main-controls .fs-download-button,\nfigshare-widget .fs-prev,\nfigshare-widget .fs-next,\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button,\nfigshare-overlay .fs-enlarged-view .fs-close-button,\nfigshare-overlay .fs-enlarged-view .fs-files-button,\nfigshare-overlay .fs-enlarged-view .fs-download-button,\nfigshare-widget .fs-share-screen .fs-cite-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button,\nfigshare-overlay .fs-share-screen .fs-cite-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.fsButton:focus,\n.figshare-share .fs-cite-button:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger:focus,\n.figshare-share .fs-citation-container .fs-citation-back-button:focus,\nfigshare-widget .fs-file-controls .fs-details-button:focus,\nfigshare-widget .fs-main-controls .fs-enlarge-button:focus,\nfigshare-widget .fs-main-controls .fs-share-button:focus,\nfigshare-widget .fs-main-controls .fs-download-button:focus,\nfigshare-widget .fs-prev:focus,\nfigshare-widget .fs-next:focus,\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button:focus,\nfigshare-overlay .fs-enlarged-view .fs-close-button:focus,\nfigshare-overlay .fs-enlarged-view .fs-files-button:focus,\nfigshare-overlay .fs-enlarged-view .fs-download-button:focus,\nfigshare-widget .fs-share-screen .fs-cite-button:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button:focus,\nfigshare-overlay .fs-share-screen .fs-cite-button:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.fsButton::before,\n.fsButton::after,\n.figshare-share .fs-cite-button::before,\n.figshare-share .fs-cite-button::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\n.figshare-share .fs-citation-container .fs-citation-back-button::before,\n.figshare-share .fs-citation-container .fs-citation-back-button::after,\nfigshare-widget .fs-file-controls .fs-details-button::before,\nfigshare-widget .fs-file-controls .fs-details-button::after,\nfigshare-widget .fs-main-controls .fs-enlarge-button::before,\nfigshare-widget .fs-main-controls .fs-enlarge-button::after,\nfigshare-widget .fs-main-controls .fs-share-button::before,\nfigshare-widget .fs-main-controls .fs-share-button::after,\nfigshare-widget .fs-main-controls .fs-download-button::before,\nfigshare-widget .fs-main-controls .fs-download-button::after,\nfigshare-widget .fs-prev::before,\nfigshare-widget .fs-prev::after,\nfigshare-widget .fs-next::before,\nfigshare-widget .fs-next::after,\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button::before,\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button::after,\nfigshare-overlay .fs-enlarged-view .fs-close-button::before,\nfigshare-overlay .fs-enlarged-view .fs-close-button::after,\nfigshare-overlay .fs-enlarged-view .fs-files-button::before,\nfigshare-overlay .fs-enlarged-view .fs-files-button::after,\nfigshare-overlay .fs-enlarged-view .fs-download-button::before,\nfigshare-overlay .fs-enlarged-view .fs-download-button::after,\nfigshare-widget .fs-share-screen .fs-cite-button::before,\nfigshare-widget .fs-share-screen .fs-cite-button::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button::after,\nfigshare-overlay .fs-share-screen .fs-cite-button::before,\nfigshare-overlay .fs-share-screen .fs-cite-button::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button::after {\n  display: inline;\n  font-size: 10px;\n}\n/**\n * `filesViewer` styles and mixins\n **/\n.figshare-share .fs-share-title,\nfigshare-widget .fs-share-screen .fs-share-title,\nfigshare-overlay .fs-share-screen .fs-share-title {\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 28px;\n  margin-bottom: 30px;\n  text-align: left;\n}\n.figshare-share .fs-share-item,\nfigshare-widget .fs-share-screen .fs-share-item,\nfigshare-overlay .fs-share-screen .fs-share-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 44px;\n}\n.figshare-share .fs-share-item:last-child,\nfigshare-widget .fs-share-screen .fs-share-item:last-child,\nfigshare-overlay .fs-share-screen .fs-share-item:last-child {\n  border-bottom: 0 none transparent;\n}\n.figshare-share .fs-share-item .fs-share-name,\nfigshare-widget .fs-share-screen .fs-share-item .fs-share-name,\nfigshare-overlay .fs-share-screen .fs-share-item .fs-share-name {\n  font-size: 100%;\n  font-weight: normal;\n  width: 50%;\n}\n.figshare-share .fs-share-buttons.fs-hidden-labels .fs-share-item,\nfigshare-widget .fs-share-screen .fs-share-buttons.fs-hidden-labels .fs-share-item,\nfigshare-overlay .fs-share-screen .fs-share-buttons.fs-hidden-labels .fs-share-item {\n  justify-content: center;\n  height: 63px;\n}\n.figshare-share .fs-share-buttons.fs-hidden-labels .fs-share-button-container,\nfigshare-widget .fs-share-screen .fs-share-buttons.fs-hidden-labels .fs-share-button-container,\nfigshare-overlay .fs-share-screen .fs-share-buttons.fs-hidden-labels .fs-share-button-container {\n  text-align: center;\n}\n.figshare-share .fs-cite-button::before,\nfigshare-widget .fs-share-screen .fs-cite-button::before,\nfigshare-overlay .fs-share-screen .fs-cite-button::before {\n  content: "\\F116";\n  margin-right: 6px;\n}\n.figshare-share .fs-cite-button::before,\nfigshare-widget .fs-share-screen .fs-cite-button::before,\nfigshare-overlay .fs-share-screen .fs-cite-button::before {\n  font-size: 20px;\n  line-height: 13px;\n  position: relative;\n  top: 1px;\n}\n.figshare-share .fs-citation-container,\nfigshare-widget .fs-share-screen .fs-citation-container,\nfigshare-overlay .fs-share-screen .fs-citation-container {\n  padding: 35px 35px 56px 35px;\n  font-size: 14px;\n  background: #f0f0f0;\n}\n.figshare-share .fs-citation-container .fs-citation-selector,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector {\n  display: flex;\n  justify-content: flex-end;\n  width: 70%;\n  position: relative;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.fs-citation-search-open,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.fs-citation-search-open,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.fs-citation-search-open {\n  height: 100%;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-page,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page {\n  position: absolute;\n  left: 0;\n  right: 0;\n  background: #fff;\n  box-shadow: 0 3px 7px 0 rgba(0, 0, 0, 0.25);\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input {\n  position: relative;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"],\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"],\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"] {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  font-size: 14px;\n  -webkit-appearance: textfield;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-decoration,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-cancel-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-decoration,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-decoration,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-cancel-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-decoration,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-decoration,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-cancel-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-webkit-search-results-decoration {\n  display: none;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-ms-clear,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-ms-clear,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input input[type="search"]::-ms-clear {\n  display: none;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search {\n  border: none;\n  background: none;\n  color: none;\n  border-color: none;\n  position: absolute;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  color: #bbb;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::before {\n  color: #bbb;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  font-size: 14px;\n  line-height: 24px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon {\n  padding: 0;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-search-icon::after {\n  content: "\\F171";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search {\n  padding: 0;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input .fs-search-clear-search::after {\n  content: "\\F112";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-search-input,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-search-input {\n  flex: 1 0 auto;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-listing,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing {\n  overflow: hidden;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-listing.scroll-active,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-options-listing.scroll-active,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing.scroll-active,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-options-listing.scroll-active,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing.scroll-active,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-options-listing.scroll-active {\n  overflow: auto;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-listing,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-listing {\n  max-height: 332px;\n  display: flex;\n  flex-direction: column;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content {\n  height: 84px;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-loading,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-loading,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-loading {\n  width: 16px;\n  height: 16px;\n  background-image: url(\'data:image/gif;charset=utf-8;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOw==\');\n  margin-right: 7px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-info-content .fs-citation-search-retry-button {\n  border: none;\n  font-size: 12px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button-row,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button-row,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button-row {\n  display: flex;\n  box-sizing: border-box;\n  align-items: center;\n  justify-content: space-between;\n  flex: 0 0 auto;\n  height: 35px;\n  padding-left: 14px;\n  border-bottom: 1px solid #ddd;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button {\n  border: none;\n  margin-left: -6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-back-button::before {\n  content: "\\F108";\n  margin-right: 6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search {\n  border: none;\n  padding: 0;\n  margin-right: 14px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after {\n  content: "\\F171";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-go-to-search::after {\n  font-size: 14px;\n  line-height: 24px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button {\n  border: none;\n  box-sizing: border-box;\n  border-radius: 0;\n  border-top: 1px solid #ddd;\n  width: calc(100% - 14px);\n  height: auto;\n  padding: 11px 14px 7px 0;\n  margin-left: 14px;\n  text-align: left;\n  line-height: 21px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:first-of-type,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:first-of-type,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:first-of-type {\n  border: none;\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:last-of-type,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:last-of-type,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:last-of-type {\n  border-bottom: 1px solid #ddd;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus + .fs-citation-search-option-button,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover + .fs-citation-search-option-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus + .fs-citation-search-option-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover + .fs-citation-search-option-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:focus + .fs-citation-search-option-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button:hover + .fs-citation-search-option-button {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button.selected,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button.selected,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button.selected {\n  font-weight: bold;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-option-button .fs-citation-search-default-option,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button .fs-citation-search-default-option,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-option-button .fs-citation-search-default-option {\n  font-weight: normal;\n  color: #999;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-results-number,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-results-number,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-results-number {\n  font-size: 12px;\n  height: 63px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger {\n  border: none;\n  margin-right: -6px;\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger span,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger span,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger span {\n  flex: 0 1 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.fs-citation-search-open,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.fs-citation-search-open,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.fs-citation-search-open {\n  width: 300px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input {\n  box-sizing: border-box;\n  width: auto;\n  width: initial;\n  height: 31px;\n  margin-top: 1px;\n  border-bottom: 1px solid #ddd;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input input[type="search"],\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input input[type="search"],\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input input[type="search"] {\n  padding: 0 35px 0 7px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-search-icon,\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-clear-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-search-page .fs-search-input .fs-search-clear-search {\n  right: 7px;\n  top: 3.5px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after {\n  content: "\\F107";\n  margin-left: 6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector .fs-citation-selector-trigger::after {\n  font-size: 6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container {\n  width: 70%;\n  position: static;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container.fs-citation-search-open,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container.fs-citation-search-open,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container.fs-citation-search-open {\n  width: 300px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page {\n  top: 0;\n  bottom: 0;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input {\n  box-sizing: border-box;\n  width: auto;\n  width: initial;\n  height: 47px;\n  margin-top: 1px;\n  border-bottom: 1px solid #ddd;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input input[type="search"],\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input input[type="search"],\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input input[type="search"] {\n  padding: 0 35px 0 14px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-search-icon,\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-clear-search,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-clear-search,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-search-icon,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-search-input .fs-search-clear-search {\n  right: 7px;\n  top: 11.5px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-citation-search-listing,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-citation-search-listing,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-search-page .fs-citation-search-listing {\n  max-height: 100%;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after {\n  content: "\\F109";\n  margin-left: 6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector.arrow-container .fs-citation-selector-trigger::after {\n  font-size: 11px;\n}\n.figshare-share .fs-citation-container button,\nfigshare-widget .fs-share-screen .fs-citation-container button,\nfigshare-overlay .fs-share-screen .fs-citation-container button {\n  font-size: 14px;\n}\n.figshare-share .fs-citation-container.fs-fill-height,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-fill-height,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-fill-height {\n  height: 100%;\n}\n.figshare-share .fs-citation-container.fs-with-back-button,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-with-back-button,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-with-back-button {\n  padding-bottom: 28px;\n}\n.figshare-share .fs-citation-container .fs-citation-content,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-content,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-content {\n  background: #fff;\n  padding: 21px;\n  line-height: 0;\n}\n.figshare-share .fs-citation-container .fs-citation-content .fs-citation-content-text,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-text,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-text {\n  line-height: 21px;\n  word-wrap: break-word;\n}\n.figshare-share .fs-citation-container .fs-citation-content .fs-citation-content-doi-link,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-doi-link,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-doi-link {\n  text-decoration: none;\n  line-height: 21px;\n  font-weight: bold;\n}\n.figshare-share .fs-citation-container .fs-citation-content .fs-citation-content-link-wrapper,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-link-wrapper,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-content .fs-citation-content-link-wrapper {\n  display: inline-block;\n  margin-top: 14px;\n  padding: 7px 1px;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  text-decoration: none;\n}\n.figshare-share .fs-citation-container .fs-citation-content,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-content,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-content {\n  padding: 21px;\n}\n.figshare-share .fs-citation-container .fs-citation-title,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-title,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-title {\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 28px;\n  margin-bottom: 7px;\n}\n.figshare-share .fs-citation-container .fs-citation-footer,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-footer,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 14px;\n}\n.figshare-share .fs-citation-container .fs-citation-back-button,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button {\n  border: none;\n  margin-left: -6px;\n}\n.figshare-share .fs-citation-container .fs-citation-back-button::before,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-back-button::before,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-back-button::before {\n  content: "\\F108";\n  margin-right: 6px;\n}\n.figshare-share .fs-citation-container .fs-citation-selector-wrapper,\nfigshare-widget .fs-share-screen .fs-citation-container .fs-citation-selector-wrapper,\nfigshare-overlay .fs-share-screen .fs-citation-container .fs-citation-selector-wrapper {\n  height: 32px;\n  margin-bottom: 7px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode {\n  padding: 14px 14px 0 14px;\n  background: #fff;\n  overflow: auto;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode .fs-citation-content,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-content,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-content {\n  padding: 0;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode.fs-fill-height,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode.fs-fill-height,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode.fs-fill-height {\n  overflow: hidden;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode::after,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode::after,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode::after {\n  content: "";\n  height: 21px;\n  display: block;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode .fs-citation-footer,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-footer,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-footer {\n  margin-top: 42px;\n  justify-content: space-between;\n}\n.figshare-share .fs-citation-container.fs-mobile-mode .fs-citation-selector-wrapper,\nfigshare-widget .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-selector-wrapper,\nfigshare-overlay .fs-share-screen .fs-citation-container.fs-mobile-mode .fs-citation-selector-wrapper {\n  display: none;\n}\nfigshare-widget,\nfigshare-overlay {\n  transform: translate3d(0, 0, 0);\n}\nfigshare-widget .figshare-loader,\nfigshare-overlay .figshare-loader {\n  width: 100%;\n  position: relative;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n  display: inline-block;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message {\n  padding: 14px 28px;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  z-index: 200;\n  border: 1px solid #ddd;\n  background: #fff;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo {\n  width: 21px;\n  height: 21px;\n}\n@-webkit-keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'],\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'] {\n  opacity: 1;\n  -webkit-animation: 0.8s opacityPulse infinite linear;\n          animation: 0.8s opacityPulse infinite linear;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20 {\n  -webkit-animation-delay: 0.76s !important;\n          animation-delay: 0.76s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19 {\n  -webkit-animation-delay: 0.72s !important;\n          animation-delay: 0.72s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18 {\n  -webkit-animation-delay: 0.6799999999999999s !important;\n          animation-delay: 0.6799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17 {\n  -webkit-animation-delay: 0.6399999999999999s !important;\n          animation-delay: 0.6399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16 {\n  -webkit-animation-delay: 0.5999999999999999s !important;\n          animation-delay: 0.5999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15 {\n  -webkit-animation-delay: 0.5599999999999998s !important;\n          animation-delay: 0.5599999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14 {\n  -webkit-animation-delay: 0.5199999999999998s !important;\n          animation-delay: 0.5199999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13 {\n  -webkit-animation-delay: 0.4799999999999998s !important;\n          animation-delay: 0.4799999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12 {\n  -webkit-animation-delay: 0.43999999999999984s !important;\n          animation-delay: 0.43999999999999984s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11 {\n  -webkit-animation-delay: 0.39999999999999986s !important;\n          animation-delay: 0.39999999999999986s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10 {\n  -webkit-animation-delay: 0.3599999999999999s !important;\n          animation-delay: 0.3599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9 {\n  -webkit-animation-delay: 0.3199999999999999s !important;\n          animation-delay: 0.3199999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8 {\n  -webkit-animation-delay: 0.2799999999999999s !important;\n          animation-delay: 0.2799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7 {\n  -webkit-animation-delay: 0.2399999999999999s !important;\n          animation-delay: 0.2399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6 {\n  -webkit-animation-delay: 0.1999999999999999s !important;\n          animation-delay: 0.1999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5 {\n  -webkit-animation-delay: 0.1599999999999999s !important;\n          animation-delay: 0.1599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4 {\n  -webkit-animation-delay: 0.11999999999999988s !important;\n          animation-delay: 0.11999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3 {\n  -webkit-animation-delay: 0.07999999999999988s !important;\n          animation-delay: 0.07999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2 {\n  -webkit-animation-delay: 0.039999999999999876s !important;\n          animation-delay: 0.039999999999999876s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1 {\n  -webkit-animation-delay: -0.0000000000000001249s !important;\n          animation-delay: -0.0000000000000001249s !important;\n}\nfigshare-widget .figshare-loader.fs-loading,\nfigshare-overlay .figshare-loader.fs-loading {\n  position: relative;\n}\nfigshare-widget .figshare-loader.fs-loading:before,\nfigshare-overlay .figshare-loader.fs-loading:before {\n  content: \'\';\n  opacity: 0.7;\n  background: #fff;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n}\nfigshare-widget .figshare-loader .fs-logo,\nfigshare-overlay .figshare-loader .fs-logo,\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  color: #c74d5a;\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action:hover,\nfigshare-overlay .figshare-loader .fs-retry-action:hover {\n  text-decoration: underline;\n}\nfigshare-widget .figshare-loader.fs-error .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader.fs-error .fs-figshare-loader-message {\n  background-color: #ffdbdb;\n  border: none;\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer {\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable {\n  height: 100%;\n  position: relative;\n  z-index: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable:before,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable:before {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(23deg);\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable:after,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable:after {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(-23deg);\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content {\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  position: relative;\n  z-index: 10;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content:before,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content:before {\n  content: \' \';\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-message,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-message {\n  background: #fff;\n  box-shadow: 0 0 50px 30px #fff;\n  white-space: normal;\n}\nfigshare-widget .fs-figshare-viewer .image-display,\nfigshare-overlay .fs-figshare-viewer .image-display {\n  overflow: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-image-display img,\nfigshare-overlay .fs-figshare-viewer .fs-image-display img {\n  box-shadow: 0px 0px 7px #ccc;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display {\n  height: 100%;\n  overflow: auto;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-table,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-table {\n  display: table;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row {\n  margin: 0 7px;\n  height: 28px;\n  line-height: 28px;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:first-child,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:first-child {\n  border-top: 7px solid #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(even),\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(even) {\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(odd),\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(odd) {\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before {\n  content: "\\F13A";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before {\n  content: "\\F13B";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track.horizontal .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track.horizontal .fv-slider-progress {\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track.vertical .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track.vertical .fv-slider-progress {\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track .fv-slider-progress {\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper audio,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper audio {\n  margin: auto;\n  background: transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls-bar,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls-bar {\n  position: absolute;\n  top: 50%;\n  left: 20px;\n  right: 20px;\n  height: 42px;\n  margin: 20px auto;\n  background-color: #fff;\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 42px;\n  width: auto;\n  flex-grow: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container::before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 42px;\n  background: #f8f8f8;\n  content: "";\n  border: 1px solid #ddd;\n  border-left: 0;\n  border-right: 0;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container {\n  position: relative;\n  width: 49px;\n  height: 42px;\n  margin-right: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container::before {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 14px;\n  content: "";\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  left: 0px;\n  height: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  background: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-time,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-time {\n  min-width: 30px;\n  font-size: 12px;\n  text-align: center;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 42px;\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  top: 0;\n  left: 0px;\n  height: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  background: #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  content: "\\F162";\n  line-height: 42px;\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before {\n  content: "\\F15E";\n  line-height: 42px;\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 35px;\n  margin-left: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  content: "\\F10C";\n  line-height: 42px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before {\n  content: "\\F10D";\n  line-height: 42px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-glider,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-glider {\n  position: absolute;\n  bottom: 49px;\n  height: 14px;\n  line-height: 14px;\n  width: auto;\n  color: #999;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper.native-controls .fs-audio-loader,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper.native-controls .fs-audio-loader {\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper.native-controls audio,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper.native-controls audio {\n  width: calc(100% - 28px);\n  padding: 0 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper video,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper video {\n  margin: auto;\n  background: #000;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-controls-shortcuts,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-controls-shortcuts {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 49px;\n  width: 140px;\n  padding: 0 10px;\n  background: rgba(70, 70, 70, 0.95);\n  border-radius: 3px;\n  box-sizing: border-box;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 49px;\n  margin-left: -70px;\n  margin-top: -24.5px;\n  transition: opacity 0.3s ease-out;\n  opacity: 0.9;\n  text-align: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  content: "\\F16F";\n  font-size: 21px;\n  line-height: 49px;\n  margin-right: 10px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 49px 20px 0 20px;\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0.9;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls {\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible.fs-hide-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible.fs-hide-controls {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-bar,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-bar {\n  position: relative;\n  max-width: 800px;\n  height: 49px;\n  margin: 20px auto;\n  background-color: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 49px;\n  width: auto;\n  flex-grow: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container {\n  position: relative;\n  width: 70px;\n  height: 49px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-time,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-time {\n  min-width: 42px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 49px;\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  left: 0px;\n  height: 7px;\n  top: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress {\n  background: #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  background: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  content: "\\F162";\n  line-height: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before {\n  content: "\\F15E";\n  line-height: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 35px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  content: "\\F10C";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before {\n  content: "\\F10D";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  content: "\\F13F";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before {\n  content: "\\F140";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider {\n  position: absolute;\n  bottom: 63px;\n  min-height: 28px;\n  width: auto;\n  border-radius: 3px;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview {\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: rgba(70, 70, 70, 0.95);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview .fs-video-glider-text,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview .fs-video-glider-text {\n  border-radius: 0 0 3px 3px;\n  transform: none;\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider-text,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider-text {\n  position: absolute;\n  bottom: 0px;\n  top: auto;\n  padding: 0 10px;\n  white-space: nowrap;\n  height: 28px;\n  width: auto;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  transform: translateX(-50%);\n  background: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering {\n  position: absolute;\n  width: 65px;\n  height: 65px;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering::before {\n  background: transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering .fs-figshare-loader-message,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering .fs-figshare-loader-message {\n  background: rgba(255, 255, 255, 0.95);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue {\n  position: absolute;\n  box-sizing: content-box;\n  top: 0px;\n  width: 15px;\n  height: 49px;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue::before {\n  position: absolute;\n  top: 21px;\n  left: 5px;\n  background: rgba(70, 70, 70, 0.5);\n  content: "";\n  width: 5px;\n  height: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue:hover::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue:hover::before {\n  position: absolute;\n  top: 0px;\n  left: 5px;\n  background-color: rgba(187, 187, 187, 0.5);\n  content: "";\n  width: 5px;\n  height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-speed-controls {\n  position: absolute;\n  left: 0;\n  bottom: 28px;\n  width: 100%;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  transition: opacity 0.3s ease-out;\n  opacity: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display.fs-mode-mobile .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display.fs-mode-mobile .fs-speed-controls {\n  opacity: 1;\n  bottom: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display:hover .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display:hover .fs-speed-controls {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  content: "\\F159";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  line-height: 48px;\n  content: "\\F179";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  line-height: 48px;\n  content: "\\F17B";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  font-size: 10px;\n  margin-bottom: 4px;\n  content: "\\F15F";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator {\n  line-height: 14px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator.default-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator.default-speed {\n  font-size: 11px;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display,\nfigshare-overlay .fs-figshare-viewer .fs-document-display {\n  overflow: auto !important;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display {\n  position: relative;\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0px 0px 7px #ccc;\n  opacity: 0.9;\n  transition: opacity 1s, transform 1s, transform-origin 1s;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-prev-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-prev-page {\n  transform-origin: center bottom;\n  transform: perspective(600px) rotateX(1deg) translateZ(-2px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-next-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-next-page {\n  transform-origin: center top;\n  transform: perspective(600px) rotateX(-1deg) translateZ(-2px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-current-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-current-page {\n  opacity: 1;\n  transform: perspective(600px) rotateX(0deg) translateZ(0px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container {\n  overflow: auto;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper {\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 7px #ccc;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper .fs-canvas-clone,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper .fs-canvas-clone {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-loading-layer,\nfigshare-overlay .fs-figshare-viewer .fs-loading-layer {\n  position: absolute;\n  z-index: 4;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer > div,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer > div {\n  color: transparent;\n  position: absolute;\n  white-space: pre;\n  cursor: text;\n  transform-origin: 0% 0%;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight {\n  margin: -1px;\n  padding: 1px;\n  border-radius: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.begin,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.begin {\n  border-radius: 4px 0 0 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.end,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.end {\n  border-radius: 0 4px 4px 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.middle,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.middle {\n  border-radius: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::-moz-selection, figshare-overlay .fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::selection,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer ::selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::-moz-selection,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .endOfContent,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .endOfContent {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 100%;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n  cursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .endOfContent.active,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .endOfContent.active {\n  top: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-display,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-display {\n  position: relative;\n  overflow: auto;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper {\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper table,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper table {\n  white-space: normal;\n  text-align: left;\n  min-width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0px;\n  vertical-align: middle;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper td,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper td {\n  border: 1px solid #ccc;\n  padding: 0.4em 0.8em;\n  vertical-align: middle;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th {\n  background: #ddd;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper tbody th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper tbody th {\n  width: 60px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active {\n  width: calc(100% - 80px);\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  z-index: 1;\n  content: " ";\n  opacity: 0;\n  transition: opacity 0.5s;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: auto;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0));\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0));\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-left::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-left::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-right::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-right::after {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-container,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-container {\n  position: relative;\n  top: 0px;\n  display: inline-block;\n  height: 34px;\n  text-align: left;\n  white-space: nowrap;\n  z-index: 0;\n  transition: left 0.5s;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-controls,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-controls {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  width: 80px;\n  height: 34px;\n  text-align: center;\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control {\n  width: 21px;\n  height: 34px;\n  color: #ddd;\n  line-height: 34px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control.fs-active,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control.fs-active {\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before {\n  content: "\\F108";\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before {\n  content: "\\F109";\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector {\n  position: relative;\n  display: inline-block;\n  margin-right: -13px;\n  padding: 0 20px;\n  color: #fff;\n  text-align: center;\n  vertical-align: middle;\n  height: 24px;\n  width: auto;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  border-top: 24px solid #c74d5a;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0 18px 18px;\n  content: "";\n  z-index: -1;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:after {\n  position: absolute;\n  top: 0px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  border-top: 25px solid #ddd;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0px 18px 18px;\n  content: "";\n  z-index: -2;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:focus,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active {\n  color: #464646;\n  font-weight: 700;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active:before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active:before {\n  border-top: 24px solid #fff;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar {\n  background-color: #eee;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 4px;\n  padding: 2px;\n  box-shadow: none;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar a,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a,\nfigshare-widget .fs-figshare-viewer .leaflet-bar a:hover,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a:hover {\n  color: #fff;\n  font-size: 1.14em;\n  font-weight: 700;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: 1.4em;\n  background-color: #7b98bc;\n  background-color: rgba(0, 60, 136, 0.5);\n  margin: 1px;\n  border: none;\n}\nfigshare-widget .fs-figshare-viewer a.leaflet-disabled,\nfigshare-overlay .fs-figshare-viewer a.leaflet-disabled,\nfigshare-widget .fs-figshare-viewer a.leaflet-disabled:hover,\nfigshare-overlay .fs-figshare-viewer a.leaflet-disabled:hover {\n  color: #000;\n  background-color: rgba(255, 255, 255, 0.4) !important;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar a:hover,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a:hover {\n  background-color: #4c6079;\n  background-color: rgba(0, 60, 136, 0.7);\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-zoom-in,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-zoom-in {\n  border-radius: 2px 2px 0 0 !important;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-zoom-out,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-zoom-out {\n  border-radius: 0 0 2px 2px !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-info:before,\nfigshare-overlay .fs-figshare-viewer .fs-info:before {\n  content: "i";\n}\nfigshare-widget .fs-figshare-viewer .fs-info.fs-open:before,\nfigshare-overlay .fs-figshare-viewer .fs-info.fs-open:before {\n  content: ">";\n}\nfigshare-widget .fs-figshare-viewer .fs-info:focus,\nfigshare-overlay .fs-figshare-viewer .fs-info:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-attribution,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-attribution {\n  left: -10px;\n  top: -10px;\n  padding: 7px 30px 7px 7px;\n  border-radius: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display,\nfigshare-overlay .fs-figshare-viewer .fs-text-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .fs-text-container,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .fs-text-container {\n  height: 100%;\n  overflow: auto;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display pre,\nfigshare-overlay .fs-figshare-viewer .fs-text-display pre {\n  white-space: pre;\n  font-size: 12px;\n  line-height: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-widget .fs-figshare-viewer .fs-text-display [class^="hljs-"],\nfigshare-overlay .fs-figshare-viewer .fs-text-display [class^="hljs-"] {\n  font-family: "Lucida Console", Monaco, monospace;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs {\n  display: block;\n  padding: 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-comment,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-comment,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-quote,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-quote {\n  color: #999;\n  font-style: italic;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-keyword,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-keyword,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-selector-tag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-selector-tag,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-subst,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-subst {\n  color: #157009;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-number,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-number,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-literal,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-literal,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-variable,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-variable,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-template-variable,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-template-variable,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-tag .hljs-attr,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-tag .hljs-attr {\n  color: #008080;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-string,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-string,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-doctag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-doctag {\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-title,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-title,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-section,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-section,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-selector-id,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-selector-id {\n  color: #c81a2b;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-subst,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-subst {\n  font-weight: normal;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-type,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-type,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-class .hljs-title,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-class .hljs-title {\n  color: #458;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-tag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-tag,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-name,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-name,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-attribute,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-attribute {\n  color: #000080;\n  font-weight: normal;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-regexp,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-regexp,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-link,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-link {\n  color: #A3CD3D;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-symbol,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-symbol,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-bullet,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-bullet {\n  color: #990073;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-built_in,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-built_in,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-builtin-name,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-builtin-name {\n  color: #0086b3;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-meta,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-meta {\n  color: #556471;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-deletion,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-deletion {\n  background: #ffdbdb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-addition,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-addition {\n  background: #edf3d7;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-emphasis,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-emphasis {\n  font-style: italic;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-strong,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-strong {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-jupyter-display,\nfigshare-overlay .fs-figshare-viewer .fs-jupyter-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-jupyter-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-jupyter-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-viewer3d-display,\nfigshare-overlay .fs-figshare-viewer .fs-viewer3d-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-viewer3d-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-viewer3d-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\nfigshare-widget .fs-figshare-viewer .fs-graph-display,\nfigshare-overlay .fs-figshare-viewer .fs-graph-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-graph-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-graph-display canvas {\n  background: radial-gradient(circle, #fff 50%, #ddd);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-canvas-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-canvas-container {\n  background: rgba(0, 0, 0, 0.3);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-canvas-container canvas,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-canvas-container canvas {\n  display: block;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-explore-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-explore-container {\n  background-color: rgba(255, 255, 255, 0.1);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info {\n  position: absolute;\n  left: 14px;\n  top: 14px;\n  background: rgba(48, 48, 48, 0.75);\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta {\n  width: 230px;\n  padding: 14px;\n  color: #bbb;\n  line-height: 21px;\n  font-size: 12px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta .fv-fits-meta-separator,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta .fv-fits-meta-separator {\n  height: 1em;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation {\n  color: #fff;\n  padding: 7px;\n  font-size: 14px;\n  line-height: 28px;\n  display: flex;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n  background: transparent;\n  color: inherit;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after {\n  content: "\\F17B";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after {\n  content: "\\F179";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta {\n  margin-left: 12px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after {\n  content: "\\F11C";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close {\n  margin-left: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after {\n  content: "\\F134";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-index,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-index {\n  vertical-align: middle;\n  font-size: 14px;\n  margin: 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-container {\n  position: absolute;\n  right: 14px;\n  bottom: 14px;\n  background: rgba(0, 0, 0, 0.3);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-container.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-container.disabled {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-controls-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-controls-container {\n  background-color: #f8f8f8;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  line-height: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button {\n  margin: 0 7px;\n  font-size: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close {\n  position: relative;\n  top: 3px;\n  float: right;\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before {\n  content: "\\F112";\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-canvas-container canvas,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-canvas-container canvas {\n  display: block;\n}\nfigshare-widget .fs-figshare-viewer .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer .fs-figshare-viewer {\n  position: relative;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper {\n  height: auto;\n  width: 100%;\n  position: relative;\n  z-index: 2;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-molecule-controls-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-molecule-controls-wrap {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal {\n  margin: 0 14px 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-pagination-info,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-pagination-info {\n  display: inline-block;\n  width: 42px;\n  text-align: right;\n  font-size: 11px;\n  font-weight: normal;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page {\n  margin: 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page:focus,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before {\n  content: "\\F179";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  content: "\\F17B";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comment-list,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comment-list {\n  max-width: 270px;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger {\n  position: relative;\n  margin-right: 10px;\n  padding-right: 5px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  position: absolute;\n  right: -9px;\n  font-size: 5px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after {\n  top: 12px;\n  content: "\\F10A";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  top: 20px;\n  content: "\\F107";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-current-comment,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-current-comment {\n  font-size: 13px;\n  line-height: 38px;\n  white-space: nowrap;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-menu-wrapper {\n  position: absolute;\n  right: -105px;\n  bottom: 0;\n  width: 0;\n  height: 0;\n  display: flex;\n  justify-content: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu {\n  position: absolute;\n  top: 0;\n  left: auto;\n  right: 0;\n  max-width: 385px;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  top: 0;\n  right: 110px;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after {\n  border-bottom-color: #fff;\n  border-width: 7px;\n  margin-right: -7px;\n  margin-top: -14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 8px;\n  margin-right: -8px;\n  margin-top: -16px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 13px;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:last-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:last-child {\n  border-bottom: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:hover,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:hover,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  background-color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-items-wrap {\n  max-height: 244px;\n  min-width: 182px;\n  background-color: #fff;\n  overflow-y: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile.fs-molecule-controls-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile.fs-molecule-controls-wrap {\n  border-top: 1px solid #464646;\n  justify-content: center;\n  background: #000;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-pagination,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-pagination {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-trigger,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-trigger {\n  color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-menu-wrapper {\n  right: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu {\n  position: fixed;\n  top: 83px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: auto;\n  height: auto;\n  max-width: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::after {\n  right: 50%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-current-comment,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-current-comment {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-drop-item {\n  padding: 21px 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-items-wrap {\n  max-height: 60%;\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button {\n  margin: 0 7px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:before {\n  font-size: 16px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button[disabled] {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before {\n  content: "\\F1A1";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before {\n  content: "\\F1A2";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before {\n  content: "\\F138";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-image-navigation-control,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-image-navigation-control {\n  font-size: 14px;\n  line-height: 38px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu {\n  display: inline-block;\n  position: relative;\n  height: 38px;\n  line-height: 38px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name {\n  color: #464646;\n  font-size: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after {\n  content: "\\F10B";\n  margin-left: 7px;\n  font-size: 14px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name span,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name span {\n  display: inline-block;\n  max-width: 170px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: 0;\n  position: absolute;\n  top: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu {\n  position: relative;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap {\n  background: white;\n  z-index: 2;\n  position: relative;\n  width: 250px;\n  font-size: 14px;\n  max-height: 320px;\n  overflow-y: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item {\n  display: flex;\n  padding: 0 14px;\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item:first-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item:first-child {\n  border: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item .layer-count,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item .layer-count {\n  font-weight: 13px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item.fv-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-title,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-title {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-count,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-count {\n  margin-left: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu::before {\n  content: "";\n  z-index: 1;\n  position: absolute;\n  top: -5px;\n  right: 6px;\n  width: 8px;\n  height: 8px;\n  transform: rotate(45deg);\n  background: white;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom {\n  display: inline;\n  margin-left: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button {\n  margin: 0 7px;\n  height: 100%;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layer-index,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layer-index {\n  margin-left: 28px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before {\n  content: "\\F179";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before {\n  content: "\\F17B";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button {\n  margin-left: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before {\n  content: "\\F147";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu {\n  position: absolute;\n  max-width: 461px;\n  background-color: #fff;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  top: -16px;\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after {\n  border-bottom-color: #fff;\n  border-width: 8px;\n  margin-left: -8px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 7px;\n  margin-left: -7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:last-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:last-child {\n  border-bottom: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:hover,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:hover,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  background-color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile {\n  justify-content: space-between;\n  padding: 0 14px;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name {\n  margin: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name span,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name span {\n  width: 75px;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: auto;\n  left: -14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu::before {\n  right: auto;\n  left: 95px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu .fv-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu .fv-items-wrap {\n  width: 320px;\n}\nfigshare-widget .fs-files-viewer-loader,\nfigshare-overlay .fs-files-viewer-loader {\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-files-viewer-loader.fs-loading,\nfigshare-overlay .fs-files-viewer-loader.fs-loading {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .figshare-loader {\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-share-screen,\nfigshare-overlay .fs-share-screen {\n  color: #464646;\n}\nfigshare-widget .fs-share-screen .fs-share-item,\nfigshare-overlay .fs-share-screen .fs-share-item {\n  border-bottom: 1px solid #ccc;\n}\nfigshare-widget {\n  /**\n     * Header\n     **/\n  /**\n     * Footer\n     **/\n  /**\n     * File description\n     **/\n  /**\n     * Screens\n     **/\n}\nfigshare-widget .fs-header {\n  display: flex;\n  max-width: 100%;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  border-bottom: 1px solid;\n  overflow: hidden;\n  background-color: #f5f5f5;\n  border-bottom-color: #ddd;\n}\nfigshare-widget .fs-header .fs-title {\n  color: #464646;\n}\nfigshare-widget .fs-header .fs-title-section {\n  flex-grow: 1;\n  width: 50%;\n  padding: 14px;\n}\nfigshare-widget .fs-header .fs-title-section .fs-title {\n  margin: 0;\n  font-size: 18px;\n  line-height: 25px;\n  font-weight: bold;\n}\nfigshare-widget .fs-header.fs-mobile-mode {\n  flex-direction: column;\n}\nfigshare-widget .fs-header.fs-mobile-mode .fs-title-section {\n  width: auto;\n  padding: 7px 14px;\n}\nfigshare-widget .fs-stats {\n  display: flex;\n  flex-direction: row;\n}\nfigshare-widget .fs-stats-part {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 14px;\n  border-left: 1px solid #ddd;\n}\nfigshare-widget .fs-stats-count,\nfigshare-widget .fs-stats-type {\n  width: 100%;\n  text-align: center;\n}\nfigshare-widget .fs-stats-count {\n  font-size: 14px;\n}\nfigshare-widget .fs-stats-type {\n  font-size: 11px;\n}\nfigshare-widget .fs-stats.fs-mobile-mode {\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-stats.fs-mobile-mode .fs-stats-part {\n  width: 100%;\n  flex-direction: row;\n  align-items: baseline;\n  padding: 12px 7px 7px 7px;\n}\nfigshare-widget .fs-stats.fs-mobile-mode .fs-stats-part:first-child {\n  border-left: 0 none transparent;\n}\nfigshare-widget .fs-stats.fs-mobile-mode .fs-stats-count,\nfigshare-widget .fs-stats.fs-mobile-mode .fs-stats-type {\n  width: auto;\n}\nfigshare-widget .fs-stats.fs-mobile-mode .fs-stats-type {\n  margin-left: 5px;\n}\nfigshare-widget .fs-pagination-info {\n  font-size: 13px;\n  line-height: 18px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\nfigshare-widget .fs-pagination-details {\n  white-space: nowrap;\n  color: #999;\n}\nfigshare-widget .fs-footer {\n  padding: 14px;\n  background-color: #f5f5f5;\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-footer .fs-figshare-button .fs-button-text {\n  margin-left: 7px;\n}\nfigshare-widget .fs-footer.fs-mobile-mode .fs-nav-details,\nfigshare-widget .fs-footer.fs-mobile-mode .fs-figshare-button::after,\nfigshare-widget .fs-footer.fs-mobile-mode .fs-button-text,\nfigshare-widget .fs-footer.fs-mobile-mode .fs-enlarge-button {\n  display: none;\n}\nfigshare-widget .fs-footer.fs-mobile-mode .fs-download-button,\nfigshare-widget .fs-footer.fs-mobile-mode .fs-share-button {\n  text-align: center;\n}\nfigshare-widget .fs-footer.fs-mobile-mode .fs-download-button::before,\nfigshare-widget .fs-footer.fs-mobile-mode .fs-share-button::before {\n  margin: 0 3px;\n}\nfigshare-widget .fs-file-controls .fs-details-button {\n  padding: 0;\n}\nfigshare-widget .fs-file-controls .fs-details-button::after {\n  content: "\\F151";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-widget .fs-main-controls .fs-enlarge-button {\n  padding: 0;\n}\nfigshare-widget .fs-main-controls .fs-enlarge-button::after {\n  content: "\\F173";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-widget .fs-main-controls .fs-share-button {\n  margin-left: 7px;\n}\nfigshare-widget .fs-main-controls .fs-share-button::before {\n  content: "\\F175";\n  margin-right: 6px;\n}\nfigshare-widget .fs-main-controls .fs-download-button {\n  margin-left: 7px;\n}\nfigshare-widget .fs-main-controls .fs-download-button::before {\n  content: "\\F12C";\n  margin-right: 6px;\n}\nfigshare-widget .fs-main-controls .fs-download-button.fs-download-virus,\nfigshare-widget .fs-main-controls .fs-download-button.fs-download-virus:hover {\n  background: #bbb;\n  border-color: #bbb;\n  color: #fff;\n  cursor: default;\n}\nfigshare-widget .fs-main-controls .fs-button-text {\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-button {\n  height: 32px;\n  color: #999;\n  text-decoration: none;\n  vertical-align: middle;\n  display: inline-block;\n}\nfigshare-widget .fs-figshare-button::after {\n  display: inline-block;\n  margin-left: 3px;\n  content: "\\F144";\n  font-size: 10px;\n  line-height: 32px;\n  height: 32px;\n  color: transparent;\n}\nfigshare-widget .fs-figshare-button .fs-logo,\nfigshare-widget .fs-figshare-button .fs-button-text {\n  display: inline-block;\n  height: 32px;\n  line-height: 32px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-button .figshare-logo {\n  width: 32px;\n  height: 32px;\n}\nfigshare-widget .fs-figshare-button .style0 {\n  fill: #58585a;\n}\nfigshare-widget .fs-figshare-button .style1 {\n  fill: #d1d2d4;\n}\nfigshare-widget .fs-figshare-button .style2 {\n  fill: #818286;\n}\nfigshare-widget .fs-figshare-button .style3 {\n  fill: #a8a9ad;\n}\nfigshare-widget .fs-figshare-button:hover {\n  color: #556471;\n}\nfigshare-widget .fs-figshare-button:hover .style0 {\n  fill: #566471;\n}\nfigshare-widget .fs-figshare-button:hover .style1 {\n  fill: #A2CD3C;\n}\nfigshare-widget .fs-figshare-button:hover .style2 {\n  fill: #C54C59;\n}\nfigshare-widget .fs-figshare-button:hover .style3 {\n  fill: #5BC4BD;\n}\nfigshare-widget .fs-figshare-button:hover::after {\n  color: #556471;\n}\nfigshare-widget .fs-files-nav {\n  margin: 0 7px;\n}\nfigshare-widget .fs-nav-details {\n  display: inline-block;\n  margin: 0 14px 0 0;\n  vertical-align: middle;\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 24px;\n  color: #464646;\n}\nfigshare-widget .fs-prev {\n  padding: 0;\n}\nfigshare-widget .fs-prev::after {\n  content: "\\F179";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-widget .fs-prev::before {\n  right: 1px;\n  line-height: 22px;\n}\nfigshare-widget .fs-next {\n  padding: 0;\n  margin-left: 3px;\n}\nfigshare-widget .fs-next::after {\n  content: "\\F17B";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-widget .fs-next::before {\n  left: 1px;\n  line-height: 22px;\n}\nfigshare-widget .fs-file-description {\n  line-height: 21px;\n}\nfigshare-widget .fs-file-description .fs-title {\n  margin-bottom: 7px;\n  font-weight: bold;\n}\nfigshare-widget .fs-file-description-wrap {\n  padding: 14px;\n  background-color: #f5f5f5;\n  border-top: 1px solid #ddd;\n  font-size: 13px;\n}\nfigshare-widget .fs-viewer-wrap {\n  position: relative;\n}\nfigshare-widget .fs-viewer-wrap .fs-viewer-container {\n  overflow: hidden;\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  box-sizing: border-box;\n  background: #fff;\n}\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .click-outside-wrapper {\n  display: inline;\n}\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  background: transparent;\n  cursor: pointer;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-end;\n}\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button {\n  width: 70px;\n  height: 26px;\n  border-radius: 14px;\n  border: 1px solid #ddd;\n  margin: 0 auto 21px auto;\n  background: #f5f5f5;\n  color: blue;\n  font-size: 11px;\n  cursor: pointer;\n}\nfigshare-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button::before {\n  content: "\\F173";\n  margin-right: 6px;\n}\nfigshare-widget .fs-arrow-container {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  background: rgba(255, 255, 255, 0.75);\n}\nfigshare-widget .fs-files-listing {\n  z-index: 1;\n}\nfigshare-widget .fs-files-listing .fs-list {\n  max-height: 80%;\n  background: #fff;\n  overflow: auto;\n}\nfigshare-widget .fs-fileitem-details {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-widget .fs-fileitem-details:hover {\n  background-color: #f5f5f5;\n}\nfigshare-widget .fs-fileitem-details:last-child {\n  border-bottom: 0px none transparent;\n}\nfigshare-widget .fs-fileitem-name,\nfigshare-widget .fs-fileitem-view,\nfigshare-widget .fs-fileitem-download {\n  padding: 14px 7px;\n  margin: 0 7px;\n  line-height: 16px;\n  cursor: pointer;\n}\nfigshare-widget .fs-fileitem-name:focus,\nfigshare-widget .fs-fileitem-view:focus,\nfigshare-widget .fs-fileitem-download:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-fileitem-name {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  text-align: left;\n  width: 50%;\n  font-size: 13px;\n}\nfigshare-widget .fs-fileitem-base {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\nfigshare-widget .fs-fileitem-view {\n  padding-right: 0;\n  font-size: 13px;\n  text-decoration: none;\n}\nfigshare-widget .fs-fileitem-view[disabled] {\n  visibility: hidden;\n}\nfigshare-widget .fs-fileitem-download {\n  padding-left: 0;\n  text-decoration: none;\n  font-size: 13px;\n}\nfigshare-widget .fs-files-listing .fs-mobile-mode .fs-button-text {\n  display: none;\n}\nfigshare-widget .fs-files-listing .fs-mobile-mode .fs-fileitem-view::before {\n  content: "\\F19C";\n  padding: 0 7px;\n  font-size: 9px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-files-listing .fs-mobile-mode .fs-fileitem-download::before {\n  content: "\\F12D";\n  padding: 0 7px;\n  font-size: 10px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-download-options,\nfigshare-widget .fs-share-container,\nfigshare-widget .fs-list,\nfigshare-widget .fs-citation-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-height: 80%;\n  background: #fff;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 -4px 8px rgba(221, 221, 221, 0.88);\n  z-index: 0;\n}\nfigshare-widget .fs-citation-container {\n  max-height: 100%;\n}\nfigshare-widget .fs-download-screen .fs-download-options {\n  font-size: 13px;\n}\nfigshare-widget .fs-download-screen .fs-download-item {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n}\nfigshare-widget .fs-download-screen .fs-download-item a {\n  font-weight: bold;\n  text-decoration: none;\n}\nfigshare-widget .fs-download-screen .fs-download-item:last-child {\n  border: 0;\n}\nfigshare-overlay {\n  display: none;\n  z-index: 200;\n  z-index: 1002;\n  /**\n     * Share\n     **/\n  /**\n     * Enlarge\n     **/\n}\nfigshare-overlay.fs-active {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\nfigshare-overlay .fs-overlay-content {\n  position: relative;\n  margin: 0 auto;\n  z-index: 201;\n}\nfigshare-overlay .fs-overlay-backdrop {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n  overflow: auto;\n  z-index: 200;\n  background: rgba(0, 0, 0, 0.85);\n}\nfigshare-overlay .fs-share-screen.fs-desktop-mode .fs-share-container {\n  padding: 35px;\n  background: #f0f0f0;\n}\nfigshare-overlay .fs-share-screen.fs-desktop-mode .fs-share-buttons {\n  margin: 0 auto;\n  width: 300px;\n}\nfigshare-overlay .fs-share-screen.fs-desktop-mode .fs-close {\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  width: 20px;\n  height: 20px;\n  background: #464646;\n  border: 1px solid #fff;\n  border-radius: 10px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n}\nfigshare-overlay .fs-share-screen.fs-desktop-mode .fs-close::before {\n  content: "\\F125";\n  font-size: 8px;\n  display: inline-block;\n  line-height: 20px;\n  width: 21px;\n  text-align: center;\n  color: #fff;\n}\nfigshare-overlay .fs-share-screen .fs-overlay-content {\n  position: absolute;\n  max-width: 710px;\n  width: calc(100% - 42px);\n  top: calc(50% - 21px);\n  transform: translateY(-50%);\n  left: 21px;\n  right: 21px;\n  margin-top: 21px;\n  margin-bottom: 21px;\n  max-height: calc(100vh - 42px);\n}\nfigshare-overlay .fs-files-listing-enlarged {\n  color: #fff;\n  height: 100%;\n  overflow-y: auto;\n}\nfigshare-overlay .fs-files-listing-enlarged .fs-text {\n  position: absolute;\n  top: 0;\n  left: 83px;\n  right: 6px;\n  bottom: 0;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n}\nfigshare-overlay .fs-files-listing-enlarged .fs-text .fs-title {\n  color: #fff;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 7px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  width: 100%;\n}\nfigshare-overlay .fs-files-listing-enlarged .fs-text .fs-filesize {\n  font-weight: bold;\n  color: #999;\n}\nfigshare-overlay .fs-item {\n  display: block;\n  position: relative;\n  height: 80px;\n  cursor: pointer;\n  font-size: 11px;\n  border-bottom: 1px solid rgba(70, 70, 70, 0.5);\n  text-align: left;\n  transition: background-color 0.2s ease-in;\n  transform: translate3d(0, 0, 0);\n}\nfigshare-overlay .fs-item:hover,\nfigshare-overlay .fs-item.fs-selected {\n  background-color: #333;\n}\nfigshare-overlay .fs-thumb {\n  display: block;\n  position: absolute;\n  left: 6px;\n  top: 6px;\n  width: 68px;\n  height: 68px;\n  overflow: hidden;\n  background: #fff;\n  background-image: url(\'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQEBAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/2wBDAQEBAQEBAQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/wAARCABFAEQDAREAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAcEBQYBAgMK/8QAPRAAAgIBAQQECQwBBQEAAAAAAQIDBAURAAYSIQcTIjEUFjVBUVVhdbQVFzNCRGOBkpSh0dPwCCMyUrFx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APtdxeHx1PHYu7epR3MfdoUp7FmUFpsbZmrK8ksz97V3Ylix5wMdTrEf9kNcN28AdCMZU0PMdk8wfPyOwd8WsF6rq/lP87AeLWB9V1fyn+dgPFrA+q6v5T/OwHi1gfVdX8p/nYDxawPqyr+Vv52CHexG7tGIO+KgllkYQ1q0Kcc9qdhxJDCpPM8ixJ7KqC7lUBOwJ/fGk+NycMfYrtPRjtPWqErXrF7EsYhjbkX0CjV25s2pAVeFFB37vgHd/ChhqDiMeCDzBBqJqCD++wR+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7AbAbBDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQUPSZ5eq+6YPi59gbm73kHCe6cd8ImwW5AIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7BDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQttgRfSZ5eq+6a/wAXPsDc3e8g4X3TjvhF2C3JCgliABzJJAAHnJJ2A7Lr5mVl9hDK38/vsFPVrWMbYWtWXr8VNr1a8aiTFvpxdWvWEccB+oo1aFiFAaIjqwsZLKA2Ioiti3XrpO1KOWFbPVzM612KSsvCJGikCM/CjGN+fYbYINKlIJTfyHDJkJFKqiktDQgY8XglTXv8xlfQNIwBIVVRECx6+ETCuZovCDG0wg6xBKYVcRtKseupUMQC2mgJA842AhmhswxWK8sc9exEk0E8LrLDNDKnHFLFKmqsrAgqwOhB1HLYEh0meXqvumD4ufYNVmsdm8t0f4XHYCxkKl6zY6P1s2sXeTG34MGu8mOk3mlrXXZeFhjha5KTI41SNHdwjAjM7uL0uXqeW3fV99LsNoZzEYDI+PlSPEY/diXfTOeFVN7UfIpfvWruAlxlehcMd2zWlFd55qNiG9JaC5NDfk70bt4PC0t/KPyHuN0RzmGXe+i2G3dtNvXlIt6H3yimyUxyzWMdTerpWbJtqEbigkNW7XDP09wenXi3dx3jNvRjS+5W7y38/Zz8mb8A3qk3fm8alzMk2fEbO2S6t4vBsDkq6R9XHTs04BNGweWc3d/1BZCx8qw/K9EZ6lishlcNjM3Qs2N3smbe8UlTDY5q+fwa9XjoJcMl4pfkqXLWswr5GEWIlDQvu307w37FaPL3rWPqi7UiyS53H1pssarHfvFZCGGXrFria7Mu67iSGQ+A1ZbE0M1V4iQw+P3N6aRlZ8laxW/SXxVy9DdPIDfHDVo8FbuLgrGPt74Vr29OasXcdHcgycs9RLl+OSEyLFjYWkqpWDbdE+6XS7u/n92q28jXqe7mI3T3bxUlWKxVs4UVKG4NLGvheCPPToLcGWSeZ54d34+tRSRmZa7ipsGv6TPL1X3TX+Ln2BubveQcJ7qx3wi7Bcf/AE/57Ngh3rsVGJXcPLJI4irV4QGmtTsuqQQp6SASTrwogLMVUFtg9VCvaXrLN6ZmtWNNa8cjmnTjX/hXgQ6aka9uUjjkP/VAsYCx/wA/n/P/ADu2CilkmxEzSTSS2MTM5Z5ZWMs2KkduItJI/NqxPnPOufuucYXikEcjyPMegj8P8/8ANg73enX0+fYEX0meX63uqD4ufYG5u95BwnunHfCJsEy9djoxK7B5ZZG6mtWhAee1Ow4khgU955cR17KqC7lUBOwRaNGQSnIZArJkJFKqqEtDQgY8XglUn8DJJoGlYA9lFRFC22A2DhAIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYEZ0meXqvumv8XPsDQxl2Kju3g5HDySyYvHQ1q0QDT2p2pqyQwKfPyJOvYVQXcqoJ2CdRoyCU5DIFZMhKpVVQloKEDHi8Eqk9/mMkmgaVgD2UVEULbYDYDYDYOEAggjUEEaHmCD3gg/vsGf7WBbTm2Ec8jzZsOxP1ie+r7fs5+5+iBV9JZBztUggg4iuQR6PCp9Ng7it8JMcsHXUEu2K1WGhXmacxLXqwxrGI68IRuHj4Q0ral3bTVgqoqhd/OXN6oi/WP8A17AfOXN6oi/WP/XsB85c3qiL9Y/9ewHzlzeqIv1j/wBewHzlzeqIv1j/ANewHzlzeqIv1j/17AHpJlYEHDwkaHUG2xBB5EaGPYF3l7XynZWaJGqQRwiCCr1rTpXjEjS9VC+ikICx4VOvADwqeAKqh//Z\');\n}\nfigshare-overlay .fs-thumb div,\nfigshare-overlay .fs-thumb img {\n  width: 100%;\n  height: 100%;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview {\n  background-image: url(\'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQEBAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/2wBDAQEBAQEBAQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/wAARCABFAEQDAREAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAcEBQYBAgMK/8QAPRAAAgIBAQQECQwBBQEAAAAAAQIDBAURAAYSIQcTIjEUFjVBUVVhdbQVFzNCRGOBkpSh0dPwCCMyUrFx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APtdxeHx1PHYu7epR3MfdoUp7FmUFpsbZmrK8ksz97V3Ylix5wMdTrEf9kNcN28AdCMZU0PMdk8wfPyOwd8WsF6rq/lP87AeLWB9V1fyn+dgPFrA+q6v5T/OwHi1gfVdX8p/nYDxawPqyr+Vv52CHexG7tGIO+KgllkYQ1q0Kcc9qdhxJDCpPM8ixJ7KqC7lUBOwJ/fGk+NycMfYrtPRjtPWqErXrF7EsYhjbkX0CjV25s2pAVeFFB37vgHd/ChhqDiMeCDzBBqJqCD++wR+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7AbAbBDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQUPSZ5eq+6YPi59gbm73kHCe6cd8ImwW5AIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7BDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQttgRfSZ5eq+6a/wAXPsDc3e8g4X3TjvhF2C3JCgliABzJJAAHnJJ2A7Lr5mVl9hDK38/vsFPVrWMbYWtWXr8VNr1a8aiTFvpxdWvWEccB+oo1aFiFAaIjqwsZLKA2Ioiti3XrpO1KOWFbPVzM612KSsvCJGikCM/CjGN+fYbYINKlIJTfyHDJkJFKqiktDQgY8XglTXv8xlfQNIwBIVVRECx6+ETCuZovCDG0wg6xBKYVcRtKseupUMQC2mgJA842AhmhswxWK8sc9exEk0E8LrLDNDKnHFLFKmqsrAgqwOhB1HLYEh0meXqvumD4ufYNVmsdm8t0f4XHYCxkKl6zY6P1s2sXeTG34MGu8mOk3mlrXXZeFhjha5KTI41SNHdwjAjM7uL0uXqeW3fV99LsNoZzEYDI+PlSPEY/diXfTOeFVN7UfIpfvWruAlxlehcMd2zWlFd55qNiG9JaC5NDfk70bt4PC0t/KPyHuN0RzmGXe+i2G3dtNvXlIt6H3yimyUxyzWMdTerpWbJtqEbigkNW7XDP09wenXi3dx3jNvRjS+5W7y38/Zz8mb8A3qk3fm8alzMk2fEbO2S6t4vBsDkq6R9XHTs04BNGweWc3d/1BZCx8qw/K9EZ6lishlcNjM3Qs2N3smbe8UlTDY5q+fwa9XjoJcMl4pfkqXLWswr5GEWIlDQvu307w37FaPL3rWPqi7UiyS53H1pssarHfvFZCGGXrFria7Mu67iSGQ+A1ZbE0M1V4iQw+P3N6aRlZ8laxW/SXxVy9DdPIDfHDVo8FbuLgrGPt74Vr29OasXcdHcgycs9RLl+OSEyLFjYWkqpWDbdE+6XS7u/n92q28jXqe7mI3T3bxUlWKxVs4UVKG4NLGvheCPPToLcGWSeZ54d34+tRSRmZa7ipsGv6TPL1X3TX+Ln2BubveQcJ7qx3wi7Bcf/AE/57Ngh3rsVGJXcPLJI4irV4QGmtTsuqQQp6SASTrwogLMVUFtg9VCvaXrLN6ZmtWNNa8cjmnTjX/hXgQ6aka9uUjjkP/VAsYCx/wA/n/P/ADu2CilkmxEzSTSS2MTM5Z5ZWMs2KkduItJI/NqxPnPOufuucYXikEcjyPMegj8P8/8ANg73enX0+fYEX0meX63uqD4ufYG5u95BwnunHfCJsEy9djoxK7B5ZZG6mtWhAee1Ow4khgU955cR17KqC7lUBOwRaNGQSnIZArJkJFKqqEtDQgY8XglUn8DJJoGlYA9lFRFC22A2DhAIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYEZ0meXqvumv8XPsDQxl2Kju3g5HDySyYvHQ1q0QDT2p2pqyQwKfPyJOvYVQXcqoJ2CdRoyCU5DIFZMhKpVVQloKEDHi8Eqk9/mMkmgaVgD2UVEULbYDYDYDYOEAggjUEEaHmCD3gg/vsGf7WBbTm2Ec8jzZsOxP1ie+r7fs5+5+iBV9JZBztUggg4iuQR6PCp9Ng7it8JMcsHXUEu2K1WGhXmacxLXqwxrGI68IRuHj4Q0ral3bTVgqoqhd/OXN6oi/WP8A17AfOXN6oi/WP/XsB85c3qiL9Y/9ewHzlzeqIv1j/wBewHzlzeqIv1j/ANewHzlzeqIv1j/17AHpJlYEHDwkaHUG2xBB5EaGPYF3l7XynZWaJGqQRwiCCr1rTpXjEjS9VC+ikICx4VOvADwqeAKqh//Z\');\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-audio {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-audio::before {\n  content: "\\F186";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-archive {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-archive::before {\n  content: "\\F194";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-molecule {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-molecule::before {\n  content: "\\F193";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dataset {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dataset::before {\n  content: "\\F189";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_canvas,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_failsafe {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_canvas::before,\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-document_failsafe::before {\n  content: "\\F15D";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-txt {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-txt::before {\n  content: "\\F188";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-kml {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-kml::before {\n  content: "\\F191";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-viewer3d {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-viewer3d::before {\n  content: "\\F183";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-jupyter {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-jupyter::before {\n  content: "\\F18F";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-graph {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-graph::before {\n  content: "\\F18D";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-fits {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-fits::before {\n  content: "\\F139";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dicom {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\nfigshare-overlay .fs-thumb .fs-generic-preview.fs-dicom::before {\n  content: "\\F139";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\nfigshare-overlay .fs-thumb img {\n  max-width: 100%;\n  max-height: 100%;\n}\nfigshare-overlay .fs-enlarged-view {\n  width: 100%;\n  height: 100%;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap {\n  margin-left: 300px;\n  margin-right: 50px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-fake-wrapper {\n  position: relative;\n  overflow-y: hidden;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-figshare-viewer {\n  margin: 0 auto;\n  background: #fff;\n  overflow: hidden;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged {\n  width: 100%;\n  background: #f0f0f0;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section {\n  padding: 12px;\n  border-top: 1px solid #ddd;\n  font-size: 11px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-text {\n  display: inline-block;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-right: 10px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-icon {\n  order: 2;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-icon.fs-download-virus {\n  color: #dadada;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-button {\n  order: 2;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-button strong {\n  margin-right: 6px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-button.fs-download-virus {\n  background: #bbb;\n  border-color: #bbb;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-title .fs-download-virus {\n  cursor: default;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description {\n  color: #464646;\n  line-height: 21px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-file-description {\n  line-height: 21px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-file-description .fs-title {\n  margin-bottom: 7px;\n  font-weight: bold;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-collapsed .fs-content-wrapper {\n  max-height: 55px;\n  overflow: hidden;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle {\n  position: relative;\n  margin-top: -10px;\n  padding: 10px 0 0 0;\n  background: linear-gradient(to bottom, transparent 0px, #eee 10px);\n  text-align: center;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a {\n  cursor: pointer;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a::before {\n  display: inline-block;\n  font-size: 10px;\n  transform: scale(0.5);\n  margin-right: 5px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a.fs-expand::before {\n  content: "\\F133";\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-toggle a.fs-collapse::before {\n  content: "\\F11D";\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-expanded {\n  height: 86px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-expanded .fs-toggle {\n  top: 55px;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-wrap .fs-file-details-enlarged .fs-section.fs-description .fs-expanded .fs-content-wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 30px;\n  width: 100%;\n  max-height: 50%;\n  padding: 12px;\n  overflow-y: auto;\n  background: #eee;\n  border-top: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-mobile .fs-viewer-wrap {\n  position: fixed;\n  top: 44px;\n  margin: 0;\n  height: auto;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-mobile .fs-viewer-wrap .fs-section.fs-description .fs-expanded .fs-content-wrapper {\n  max-height: 90%;\n}\nfigshare-overlay .fs-enlarged-view .fs-files-wrap {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 250px;\n  overflow-y: auto;\n  background: #000;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-mobile .fs-files-wrap {\n  z-index: 2;\n  width: 66%;\n  top: 44px;\n  overflow-y: visible;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-mobile .fs-files-wrap::after {\n  position: fixed;\n  top: 0;\n  left: 66%;\n  right: 0;\n  bottom: 0;\n  content: " ";\n  background: rgba(0, 0, 0, 0.85);\n}\nfigshare-overlay .fs-enlarged-view .fs-buttons-wrap {\n  z-index: 2;\n  position: fixed;\n  right: 0;\n  top: 0;\n  left: 0;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  transform: translate3d(0, 0, 0);\n}\nfigshare-overlay .fs-enlarged-view .fs-buttons-wrap .fs-close-button {\n  order: 2;\n}\nfigshare-overlay .fs-enlarged-view .fs-buttons-wrap .fs-files-button {\n  order: 1;\n}\nfigshare-overlay .fs-enlarged-view .fs-download-icon {\n  padding: 0;\n}\nfigshare-overlay .fs-enlarged-view .fs-download-icon::after {\n  content: "\\F12D";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-enlarged-view .fs-close-button {\n  padding: 0;\n}\nfigshare-overlay .fs-enlarged-view .fs-close-button::after {\n  content: "\\F124";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-enlarged-view .fs-files-button {\n  padding: 0;\n}\nfigshare-overlay .fs-enlarged-view .fs-files-button::after {\n  content: "\\F152";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-mobile .fs-buttons-wrap {\n  height: 44px;\n  background: #000;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-desktop .fs-buttons-wrap {\n  left: 250px;\n  height: 75px;\n  justify-content: flex-end;\n}\nfigshare-overlay .fs-enlarged-view.fs-mode-desktop .fs-buttons-wrap .fs-files-button {\n  display: none;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap {\n  position: absolute;\n  top: 50%;\n  left: 250px;\n  right: 0;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next {\n  color: #999;\n  position: absolute;\n  font-size: 42px;\n  cursor: pointer;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev:focus,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev:hover,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next:hover {\n  color: #fff;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev.fs-disabled,\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next.fs-disabled {\n  cursor: auto;\n  color: #666;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev {\n  left: 12px;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-prev::before {\n  content: "\\F108";\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next {\n  right: 12px;\n}\nfigshare-overlay .fs-enlarged-view .fs-navigation-wrap .fs-next::before {\n  content: "\\F109";\n}\nfigshare-overlay .fs-enlarged-view .fs-overlay-content {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\nfigshare-overlay .fs-enlarged-view .fs-overlay-content > div > div:first-child {\n  width: 100%;\n  height: 100%;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-container {\n  border: 0 none transparent;\n}\nfigshare-overlay .fs-enlarged-view .fs-viewer-container .click-outside-wrapper {\n  display: inline;\n}\n.fs-sage-viewer-widget .fs-footer .fs-download-button {\n  background: #AC2226;\n  color: #fff;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-download-button:hover {\n  background: #DC5256;\n  color: #fff;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-download-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-download-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-download-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-enlarge-button {\n  background: #AC2226;\n  color: #fff;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-enlarge-button:hover {\n  background: #DC5256;\n  color: #fff;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-enlarge-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-enlarge-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-enlarge-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-share-button {\n  background: #fff;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-share-button:hover {\n  background: #fff;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-share-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-share-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-share-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button {\n  background: #fff;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button:hover {\n  background: #fff;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button {\n  background: #fff;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button::after {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button::before {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button:hover {\n  background: #fff;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button:hover::after {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button:hover::before {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-cite-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button {\n  background: none;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button::after {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button::before {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button:hover {\n  background: #f8f8f8;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button:hover::after {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button:hover::before {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-option-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search {\n  background: none;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search::after {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search::before {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button:hover,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button:hover,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button:hover,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search:hover {\n  background: none;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button:hover::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button:hover::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button:hover::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search:hover::after {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button:hover::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button:hover::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button:hover::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search:hover::before {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button[disabled],\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button[disabled],\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button[disabled],\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button[disabled]::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button[disabled]::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button[disabled]::after,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-back-button[disabled]::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-back-button[disabled]::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-retry-button[disabled]::before,\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-search-go-to-search[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger {\n  background: none;\n  color: #464646;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger::after {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger::before {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger:hover {\n  background: none;\n  color: none;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger:hover::after {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger:hover::before {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-share-screen .fs-citation-selector-trigger[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-enlarged-view .fs-close-button,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-files-button,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-button {\n  background: #AC2226;\n  color: #fff;\n  border-color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-enlarged-view .fs-close-button:hover,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-files-button:hover,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-button:hover {\n  background: #DC5256;\n  color: #fff;\n  border-color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-enlarged-view .fs-close-button[disabled],\n.fs-sage-viewer-widget .fs-enlarged-view .fs-files-button[disabled],\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-enlarged-view .fs-close-button[disabled]::after,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-files-button[disabled]::after,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-enlarged-view .fs-close-button[disabled]::before,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-files-button[disabled]::before,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-button[disabled]::before {\n  color: #999;\n}\n.fs-sage-viewer-widget .fv-controls-color {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-download-screen .fs-download-item a,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-toggle a,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-icon,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-download,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-details,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-view,\n.fs-sage-viewer-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button,\n.fs-sage-viewer-widget .fs-citation-content-doi-link {\n  color: #AC2226;\n}\n.fs-sage-viewer-widget .fs-download-screen .fs-download-item a:hover,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-toggle a:hover,\n.fs-sage-viewer-widget .fs-enlarged-view .fs-download-icon:hover,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-download:hover,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-details:hover,\n.fs-sage-viewer-widget .fs-files-listing .fs-fileitem-view:hover,\n.fs-sage-viewer-widget .fs-viewer-wrap .fs-viewer-container .fs-expand-button:hover,\n.fs-sage-viewer-widget .fs-citation-content-doi-link:hover {\n  color: #DC5256;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button {\n  background: #fff;\n  color: #AC2226;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button:hover {\n  background: #fff;\n  color: #DC5256;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled] {\n  background: #eee;\n  color: #999;\n  border-color: #ddd;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled]::after {\n  color: #999;\n}\n.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button[disabled]::before {\n  color: #999;\n}\nfigshare-widget.fs-sage-viewer-widget .fs-header {\n  background-color: #f8f8f8;\n}\nfigshare-widget.fs-sage-viewer-widget .fs-footer {\n  background-color: #f8f8f8;\n}\nfigshare-widget.fs-sage-viewer-widget .fs-footer .fs-button {\n  border-radius: 4px;\n}\nfigshare-widget.fs-sage-viewer-widget .fs-footer .fs-file-controls .fs-button:disabled {\n  color: #dadada;\n  background-color: #fff;\n}\n',""]),t.a=u},328:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));n(123);var r=n(507),o=n(358),i=n.n(o),a=n(1243),s={insert:"head",singleton:!1};i()(a.a,s),a.a.locals;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e);var t=d(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),t.call(this,l(l({},e),{},{name:"sage-viewer",collection:null,article:{resourceDOI:e.resourceDOI}}))}return n}(r.a)},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i),s=n(373);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["children","disabled","forwardedRef","isHidden","type"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;h(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=o.call.apply(o,[this].concat(n))),"onClick",(function(t){e.props.disabled||e.props.onClick(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.forwardedRef,o=e.isHidden,i=e.type,s=u(e,c);return o?null:a.a.createElement("button",l({ref:r},s,{disabled:n,type:i,onClick:this.onClick}),t)}}])&&p(t.prototype,n),r&&p(t,r),i}(s.a);b(w,"propTypes",{children:o.a.node,disabled:o.a.bool,forwardedRef:o.a.func,isHidden:o.a.bool,type:o.a.string,onClick:o.a.func}),b(w,"defaultProps",{children:null,disabled:!1,forwardedRef:function(){},isHidden:!1,type:"button",onClick:function(){}})},360:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return i.a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return _.a})),n.d(t,"l",(function(){return A})),n.d(t,"k",(function(){return N})),n.d(t,"e",(function(){return T})),n.d(t,"j",(function(){return D})),n.d(t,"f",(function(){return I})),n.d(t,"i",(function(){return M}));var r=document.createElement("span");function o(e,t){if(e.ownerDocument&&e.ownerDocument===document){for(var n=0,o=0,i=1,a=!1,s=e.clientWidth,f=(e.textContent||e.innerText).replace(/\n/g," ");null!==e.firstChild;)e.removeChild(e.firstChild);e.appendChild(r),"".concat(f," ").replace(/ /g,(function(c,l){if(i!==t){var u=f.substr(n,l-n);if(r.appendChild(document.createTextNode(u)),s>=r.clientWidth)a=!1;else{var h=void 0;a?(h=f.substr(n,l+1-n),n=l+1):(h=f.substr(n,o-n),n=o);var p=document.createElement("span");p.className="line-clamp",p.appendChild(document.createTextNode(h)),e.appendChild(p),a=!0,i+=1}o=l+1,r.removeChild(r.firstChild)}})),e.removeChild(r);var c=document.createElement("span");c.className="line-clamp last-line",c.style.display="block",c.style.overflow="hidden",c.style.textOverflow="ellipsis",c.style.whiteSpace="nowrap",c.style.width="100%",f=f.substr(n),c.appendChild(document.createTextNode(f)),e.appendChild(c)}}r.style.position="absolute",r.style.whiteSpace="pre",r.style.visibility="hidden";var i=n(382),a=(n(388),n(378));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=new(n(368).b)({baseURL:"https://widgets.figshare.com",followLocation:!0,credentials:!1}),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,e);var t,n,r,o=l(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).loading=!1,t.loaded=!1,t.error=null,t._model=e,t}return t=i,(n=[{key:"model",get:function(){return this.loaded?this._model:null}},{key:"loadData",value:function(e,t){var n=this;this.loading=!0,this.loaded=!1,this.error=null,p.get({url:e,binary:t}).then((function(e){var t=e.body,r=e.text;return n._updateData(t||r)}),(function(e){return n._errorLoadingData(e)}))}},{key:"_updateData",value:function(e){this.loading=!1,this.loaded=!0,this.error=null,this._model.update(e),this.emit("change")}},{key:"_errorLoadingData",value:function(e){this.error=e,this.loading=!1,this.loaded=!1,this._model.reset(),this.emit("change")}}])&&f(t.prototype,n),r&&f(t,r),i}(a.EventEmitter);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40},m=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.keys=n,this.keyCodes=[],this.keys.forEach((function(e){v[e]&&t.keyCodes.push(v[e])}))}var t,n,r;return t=e,(n=[{key:"getKey",value:function(e){var t=this.keyCodes.indexOf(e);return-1===t?null:this.keys[t]}},{key:"getKeyCode",value:function(e){var t=this.keys.indexOf(e);return-1===t?null:this.keyCodes[t]}}])&&y(t.prototype,n),r&&y(t,r),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=k(i);function i(){return w(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"emitAsync",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return setTimeout((function(){return e.emit.apply(e,n)}),0)}}])&&x(t.prototype,n),r&&x(t,r),i}(a.EventEmitter),_=(n(380),n(372),n(122));var A={parse:function(e){return"string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e}};function C(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R,N=(R=Math.floor(Math.abs(3024*Math.random())),function(){return"_".concat(R+=1)}),T=function(e,t,n){return Math.min(Math.max(t,e),n)},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!1,r=[];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r=i,n||(n=!0,setTimeout((function(){n=!1,e.apply(void 0,C(r))}),t))}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o)}),t)}},M=function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}},361:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(356),o=n.n(r),i=n(355),a=n.n(i),s=n(354),f=n.n(s),c=n(387);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=d(a);function a(){return u(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=null,t=this.props.children,n=o()("figshare-loader",{"fs-loading":this.props.loading,"fs-error":this.props.error,"show-content":this.props.alwaysShowContent},this.props.className);return(this.props.loading||this.props.error)&&(this.props.alwaysShowContent||(t=null),e=this.renderLoading()),f.a.createElement("div",{className:n},t,e)}},{key:"renderLoading",value:function(){var e=this.props.retryAction,t=void 0,n=void 0,r=void 0,o=f.a.createElement(c.a,null);return this.props.error&&"function"==typeof e&&(t=f.a.createElement("a",{className:"fs-retry-action",onClick:e},"Retry")),this.props.loading?n=this.props.loadingMessage:this.props.error&&(o=null,n=this.props.errorMessage),n&&(r=f.a.createElement("div",{className:"fs-message-wrap"},n,t)),f.a.createElement("div",{className:"fs-figshare-loader-holder"},f.a.createElement("div",{className:"fs-figshare-loader-message"},o,r))}}])&&h(t.prototype,n),r&&h(t,r),a}(s.Component);v(m,"propTypes",{alwaysShowContent:a.a.bool,children:a.a.any,className:a.a.string,error:a.a.bool,errorMessage:a.a.node,loading:a.a.bool,loadingMessage:a.a.node,retryAction:a.a.func}),v(m,"defaultProps",{alwaysShowContent:void 0,children:void 0,className:void 0,error:void 0,errorMessage:void 0,loading:void 0,loadingMessage:void 0,retryAction:void 0})},364:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update(t)}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}},{key:"reset",value:function(){}}])&&r(t.prototype,n),o&&r(t,o),e}()},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(422),o=n(455);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){return r.d},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.middlewareList,n=void 0===t?[]:t,a=(e.debugName,s()),f=a(r.a.apply(void 0,[o.a].concat(i(n)))),c=Object(r.e)((function(e){return e}),{},f);return c.reducers={},c},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=n?new RegExp("^".concat(n,"/")):"";return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0,a=i.type;if(!a.startsWith(n))return o;var s=a.replace(r,""),f=e[s];return f?f(o,i):o}},l=function(e,t,n){if(!e||!e.reducers)throw new Error("No store or no injection mechanism found");var o=e.reducers;o[t]||(o[t]=n,e.replaceReducer(Object(r.c)(o)))}},368:function(e,t,n){"use strict";n.d(t,"b",(function(){return y}));var r=n(421),o=n.n(r),i=n(396),a=n.n(i);var s=function e(t){var n=t.type,r=t.text,o=t.data;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.text=r,this.data=o};s.ERROR="error",s.fromHttpError=function(e){var t=e.response,n=new s({type:s.ERROR});return t?(n.text=t.statusText||"Unknown HTTP error",t.body&&t.body.message&&(n.text=t.body.message),n.data=t):(n.text="Network error",n.data=e),n};var f=s;function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}var g=function(){function e(t,n){h(this,e),this.promise=n instanceof Promise?n:new Promise(n),this._request=t}return d(e,[{key:"then",value:function(t,n){return new e(this._request,this.promise.then(t,n))}},{key:"catch",value:function(t){return new e(this._request,this.promise.catch(t))}},{key:"abort",value:function(){this._request.abort()}}]),e}(),y=function(){function e(t){var n=t.authorization,r=t.baseURL,o=void 0===r?"/":r,i=t.followLocation,s=t.bodyType,f=void 0===s?"json":s,c=t.headers,l=void 0===c?{}:c,u=t.credentials,p=void 0===u||u;h(this,e),this.headers=l,this.credentials=p;var d=a.a.parse(o),g=d.host,y=d.protocol;this.host=g,this.protocol=y,this.setAuthorization(n),this.followLocation=!!i,this.bodyType=f,this.permaQuery=void 0}return d(e,[{key:"request",value:function(t){var n=this,r=t.method,i=void 0===r?"get":r,s=t.url,c=t.headers,u=t.query,h=t.body,p=t.attach,d=t.bodyType,y=void 0===d?this.bodyType:d,v=t.followLocation,m=t.binary,b="delete"===i?"del":i,w=this._buildUrl(this.url(s)),x=o.a[b](w);x.withCredentials&&this.credentials&&x.withCredentials(),x.query(l(l({},this.permaQuery),u)),x.set(l(l({},c),this.headers||{})),y&&x.type(y),m&&x.responseType("arraybuffer"),p&&x.attach("file",p),x.send(h);var O=new g(x,(function(t,n){x.on("abort",(function(){n(e.ERR_ABORT)})),x.end((function(e,r){e?n(f.fromHttpError(e)):t(r)}))}));return(void 0===v?this.followLocation:v)&&(O=O.then((function(e){if(e.headers.location){var t=a.a.resolve(w,e.headers.location);return n.get({url:t})}return e}))),O}},{key:"get",value:function(e){return this.request(l(l({},e),{},{method:"get",bodyType:null}))}},{key:"post",value:function(e){return this.request(l(l({},e),{},{method:"post"}))}},{key:"put",value:function(e){return this.request(l(l({},e),{},{method:"put"}))}},{key:"delete",value:function(e){return this.request(l(l({},e),{},{method:"delete"}))}},{key:"head",value:function(e){return this.request(l(l({},e),{},{method:"head"}))}},{key:"options",value:function(e){return this.request(l(l({},e),{},{method:"options"}))}},{key:"url",value:function(e){return e}},{key:"setAuthorization",value:function(e){e&&(this.headers.Authorization="token ".concat(e))}},{key:"_buildUrl",value:function(e){if(this.host||this.protocol){var t=a.a.parse(e);return t.host=t.host||this.host,t.protocol=t.protocol||this.protocol,a.a.format(t)}return e}},{key:"_successHandler",value:function(e){return e.body}},{key:"_errorHandler",value:function(e){return Promise.reject(e)}}]),e}();y.ERR_ABORT={}},369:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(355),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){var n="string"==typeof e,r=e.listen&&e.unlisten&&e.getState;return n?t.getStore(e):r?e:null}var p,d,g,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=c(i);function i(){return a(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this._bindFlux(this.props.flux)}},{key:"componentDidUpdate",value:function(e){this.props.flux!==e.flux&&(this._unbindFlux(e.flux),this._bindFlux(this.props.flux))}},{key:"componentWillUnmount",value:function(){this._unbindFlux(this.props.flux)}},{key:"onStoreChange",value:function(){var e=this.getFluxState();this.setState(e)}},{key:"getFluxState",value:function(){var e=this,t=(this.watchStores()||[]).map((function(t){return h(t,e.props.flux)}));return this.getStateFromFlux(t)}},{key:"watchStores",value:function(){return[]}},{key:"getStateFromFlux",value:function(){return{}}},{key:"_bindFlux",value:function(e){var t=this;(this.watchStores()||[]).forEach((function(n){var r=h(n,e);r&&r.listen(t.handle("onStoreChange"))}))}},{key:"_unbindFlux",value:function(e){var t=this;(this.watchStores()||[]).forEach((function(n){var r=h(n,e);r&&r.unlisten(t.handle("onStoreChange"))}))}}])&&s(t.prototype,n),r&&s(t,r),i}(n(371).a);p=y,d="propTypes",g={flux:o.a.object.isRequired},d in p?Object.defineProperty(p,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[d]=g},371:function(e,t,n){"use strict";var r=n(373);t.a=r.a},372:function(e,t,n){"use strict";function r(e){return Math.round(1e3*e)/1e3}t.a={get AXES(){return{X:"width",Y:"height"}},computeSize:function(e){var t=e||{},n=t.width,o=void 0===n?0:n,i=t.height,a=void 0===i?1:i,s=t.ratio,f=void 0===s?1:s,c=t.lockAxis;"width"!==c&&"height"!==c&&(c=null);var l=r(o/a||1);return(f=r(f))===l||(("width"===c||!c&&l<f)&&(a=o/f),("height"===c||!c&&l>f)&&(o=a*f)),{width:o,height:a}},roundRatio:r}},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(354);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,o=f(c);function c(){var e;i(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state||(e.state={}),e._handlers={},e}return t=c,(n=[{key:"handle",value:function(e){return this._handlers[e]||(this._handlers[e]=this[e].bind(this)),this._handlers[e]}},{key:"callback",value:function(e){if(this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.props)[e].apply(t,r)}}}])&&a(t.prototype,n),r&&a(t,r),c}(n.n(r).a.Component)},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=e;n;){if(n===t)return!1;n=n.parentNode}return!0}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=u(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=o.call.apply(o,[this].concat(n))),"node",null),g(p(e),"setRef",(function(t){return e.node=t})),g(p(e),"onClick",(function(t){var n=e.props,r=n.onBlur,o=n.onClickInside,i=n.onClickOutside,a=n.onFocus;y(t.target,e.node)?(r(),i()):(a(),o())})),e}return t=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"render",value:function(){return a.a.createElement("div",{ref:this.setRef,className:"click-outside-wrapper"},this.props.children)}}])&&c(t.prototype,n),r&&c(t,r),i}(i.Component);g(v,"propTypes",{children:o.a.element.isRequired,onBlur:o.a.func,onClickInside:o.a.func,onClickOutside:o.a.func,onFocus:o.a.func}),g(v,"defaultProps",{onBlur:function(){},onClickInside:function(){},onClickOutside:function(){},onFocus:function(){}})},375:function(e,t,n){"use strict";n.d(t,"a",(function(){return cc})),n.d(t,"c",(function(){return So})),n.d(t,"b",(function(){return jo}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i),s=n(365),f=n.n(s),c=n(369),l=n(384),u=n(408),h=n.n(u),p=n(377);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("setModel","setCommand","updateModel")}var t,n,r;return t=e,(n=[{key:"registerFileView",value:function(e){"audio"!==e.viewerType&&"video"!==e.viewerType&&p.a.trackOnce("view","file",e.id)}}])&&d(t.prototype,n),r&&d(t,r),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.alt.getActions("DisplayModel");this.bindActions(t),this._model=null,this.state={}}var t,n,r;return t=e,(n=[{key:"onSetModel",value:function(e){var t=this;if(this._model&&(this._model=null),this._model=e,this._model){var n=this._model.state,r=void 0===n?{}:n;this.setState(r,(function(){return t.dispatch()}))}}},{key:"onSetCommand",value:function(e){var t=e.command,n=e.data;this._model&&this._model.handleCommand(t,n)}},{key:"onUpdateModel",value:function(){var e=this;if(this._model){var t=this._model.state,n=void 0===t?{}:t;this.setState(n,(function(){return e.dispatch()}))}}}])&&y(t.prototype,n),r&&y(t,r),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,e);var t=w(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).addActions("DisplayModel",g),e.addStore("DisplayModel",v),e}return n}(h.a),E=n(356),S=n.n(E);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state=e.getFluxState(),e}return t=i,r=[{key:"getPreview",value:function(e){var t=((e||{}).virusScanInfo||{}).virus_found;if(!e||!e.thumb||t){var n=e&&e.viewerType,r=n?"fs-".concat(n):null,o=S()("fs-generic-preview",r);return a.a.createElement("div",{className:o})}var i=e.thumb;return a.a.createElement("img",{alt:"",src:i})}}],(n=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return _(e,1)[0].getState()}}])&&P(t.prototype,n),r&&P(t,r),i}(c.a);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}I.defaultProps={},I.propTypes={flux:o.a.object.isRequired};var W,U,q,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=z(i);function i(){return F(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t={width:e.maxWidth,height:e.maxHeight};return a.a.createElement("div",{className:"fs-display fs-not-previewable",role:"img",style:t},a.a.createElement("div",{className:"fs-not-previewable-content"},a.a.createElement("span",{className:"fs-not-previewable-message"},"sorry, we ","can't"," preview this file")))}}])&&B(t.prototype,n),r&&B(t,r),i}(I);W=Q,U="propTypes",q={flux:o.a.object.isRequired},U in W?Object.defineProperty(W,U,{value:q,enumerable:!0,configurable:!0,writable:!0}):W[U]=q;var G=n(361);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,o=$(i);function i(){return X(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.maxWidth,r=t.maxHeight;e.maxWidth===n&&e.maxHeight===r||this._changeDisplayArea(n,r)}},{key:"componentDidMount",value:function(){J(te(i.prototype),"componentDidMount",this).call(this);var e=this.props,t=e.maxWidth,n=e.maxHeight;this._changeDisplayArea(t,n),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e=this.state,t=e.url,n=e.width,r=e.height,o=e.loading,i=e.error,s=this.props,f={width:s.maxWidth,height:s.maxHeight};return a.a.createElement("div",{className:"fs-display fs-image-display",style:f},a.a.createElement(G.a,{error:!!i,errorMessage:"Sorry we could not load your data.",loading:o},a.a.createElement("img",{key:t,alt:t,height:r,src:t,width:n})))}},{key:"_changeDisplayArea",value:function(e,t){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{maxWidth:e,maxHeight:t}})}}])&&Y(t.prototype,n),r&&Y(t,r),i}(I);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ne.defaultProps={},ne.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,o=ue(i);function i(){var e;se(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state=e.getFluxState(),e}return t=i,(n=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"componentDidMount",value:function(){ce(pe(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"getStateFromFlux",value:function(e){var t=ie(e,1)[0].getState(),n=(this.state||{}).expanded;return n||t.tree&&((n={})[t.tree.key]=!0,t.tree.dirs.forEach((function(e){var t=e.key;return n[t]=!0}))),Object.assign({},t,{expanded:n})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=e.tree,o=void 0===r?{}:r,i=e.expanded,s=void 0===i?{}:i,f=this._extractExpandedDir(o,s),c=this.props,l=c.maxWidth,u=c.maxHeight;return a.a.createElement("div",{className:"fs-display fs-archive-display",style:{maxWidth:l,maxHeight:u}},a.a.createElement(G.a,{error:!!n,errorMessage:"Sorry we could not load your data.",loading:t},a.a.createElement("div",{className:"fs-archive-table",tabIndex:0},f.map(this.handle("displayItem")))))}},{key:"displayItem",value:function(e,t){var n=e.key,r=e.depth,o=e.name,i={},s=this.state.expanded,f=void 0===s?{}:s;return void 0!==n&&(i.className=S()("fs-archive-dir",{"fs-expanded":f[n]}),i.onClick=this._toggleDir.bind(this,n)),a.a.createElement("div",{key:t,className:"fs-archive-row"},a.a.createElement("div",oe({},i,{style:{marginLeft:35*(r+1)}}),o))}},{key:"_extractExpandedDir",value:function(e){var t=this,n=e.dirs,r=void 0===n?[]:n,o=e.files,i=void 0===o?[]:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[];return r.forEach((function(e){s.push(e),a[e.key]&&(s=s.concat(t._extractExpandedDir(e,a)))})),s.concat(i)}},{key:"_toggleDir",value:function(e){var t=this.state.expanded;t[e]=!t[e],this.setState({expanded:t})}}])&&fe(t.prototype,n),r&&fe(t,r),i}(c.a);de.defaultProps={},de.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var ge=n(448),ye=n.n(ge),ve=!!navigator.userAgent.match(/iPhone/i),me=!!navigator.userAgent.match(/iPad/i),be=n(360),we=n(357);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ae(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re="horizontal",Ne="vertical",Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,n,r,o=je(i);function i(){var e;ke(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pe(Ae(e=o.call.apply(o,[this].concat(n))),"state",{isDragging:!1,isGliding:!1}),Pe(Ae(e),"sliderNode",null),Pe(Ae(e),"setSliderNode",(function(t){return e.sliderNode=t})),Pe(Ae(e),"onMouseDown",(function(t){e.setState({isDragging:!0}),e.props.onDragStart(),e.onChange(t.pageX,t.pageY),e.addDragListeners(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()})),Pe(Ae(e),"onMouseMove",(function(t){e.onGlide(t.pageX,t.pageY)})),Pe(Ae(e),"onMouseOver",(function(){e.setState({isGliding:!0}),e.props.onGlideStart()})),Pe(Ae(e),"onMouseOut",(function(){e.state.isDragging||e.props.onGlideStop(),e.setState({isGliding:!1})})),Pe(Ae(e),"onDocumentMouseMove",(function(t){e.onChange(t.pageX,t.pageY),e.onGlide(t.pageX,t.pageY)})),Pe(Ae(e),"onDocumentMouseUp",(function(t){e.onChange(t.pageX,t.pageY),e.props.onDragStop(),e.removeDragListeners(),e.setState({isDragging:!1}),e.state.isGliding||e.props.onGlideStop()})),Pe(Ae(e),"onChange",Object(be.j)((function(t,n){var r=e.getValueFromAbsolutePosition(t,n);e.props.onChange(r)}),40)),Pe(Ae(e),"onGlide",Object(be.j)((function(t,n){var r=e.props.onGlide;if(r){var o=e.getValueFromAbsolutePosition(t,n);r({style:e.getProgressStyle(o),time:o})}}),40)),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.orientation,o=e.onGlide,i=e.value,s=["fv-slider-track",r,{disabled:n},t],f={};return n||(f={onMouseDown:this.onMouseDown,onMouseMove:o?this.onMouseMove:void 0,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver}),a.a.createElement("div",Oe({ref:this.setSliderNode,className:S()(s)},f),a.a.createElement("div",{className:"fv-slider-progress",style:this.getProgressStyle(i)}))}},{key:"addDragListeners",value:function(){document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp)}},{key:"removeDragListeners",value:function(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"getValueFromAbsolutePosition",value:function(e,t){var n=this.props,r=n.minValue,o=n.maxValue,i=n.orientation,a=this.sliderNode.getBoundingClientRect(),s=a.left,f=a.top,c=a.width,l=a.height,u=0;return i===Re&&(u=100*Object(be.e)(e-s,0,c)/c),i===Ne&&(u=100*Object(be.e)(t-f,0,l)/l),Math.abs(o-r)*u/100-r}},{key:"getProgressStyle",value:function(e){var t=this.props,n=t.maxValue,r=t.minValue,o=t.orientation,i=Math.abs(Object(be.e)(e,r,n)-r),a=Math.abs(n-r);return Pe({},o===Re?"width":"height","".concat(100*i/a,"%"))}}])&&Ee(t.prototype,n),r&&Ee(t,r),i}(i.Component);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pe(Te,"propTypes",{maxValue:o.a.number.isRequired,minValue:o.a.number.isRequired,value:o.a.number.isRequired,className:o.a.string,disabled:o.a.bool,orientation:o.a.oneOf([Re,Ne]),onChange:o.a.func,onDragStart:o.a.func,onDragStop:o.a.func,onGlide:o.a.func,onGlideStart:o.a.func,onGlideStop:o.a.func}),Pe(Te,"defaultProps",{className:"",disabled:!1,orientation:Re,onChange:function(){},onDragStart:function(){},onDragStop:function(){},onGlideStart:function(){},onGlide:void 0,onGlideStop:function(){}});var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=Be(i);function i(){var e;Ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(ze(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){return e.props.onClick(e.props.data)})),Ve(ze(e),"onMouseOver",(function(){return e.props.onMouseOver(e.props.data)})),Ve(ze(e),"onMouseOut",(function(){return e.props.onMouseOut(e.props.data)})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"fs-video-cue",style:{left:"".concat(100*this.props.data.fraction,"%")},onClick:this.onClick,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver})}}])&&Me(t.prototype,n),r&&Me(t,r),i}(i.Component);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e){return e<=9?"0".concat(e):e}Ve(We,"propTypes",{data:o.a.object.isRequired,onClick:o.a.func.isRequired,onMouseOut:o.a.func.isRequired,onMouseOver:o.a.func.isRequired});var et=function(e){var t=parseInt(e/60,10),n=parseInt(e%60,10);return"".concat($e(t),":").concat($e(n))},tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(i,e);var t,n,r,o=Ke(i);function i(){var e;qe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ze(Ye(e=o.call.apply(o,[this].concat(n))),"state",{activeCue:null,glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,isVolumeActive:!1,lastVolume:1,previewURL:null}),Ze(Ye(e),"previewNode",null),Ze(Ye(e),"setPreviewNode",(function(t){e.previewNode=t})),Ze(Ye(e),"onDragStart",(function(){e.state.isPlaying&&e.props.onPause(),e.setState({isTimeActive:!0})})),Ze(Ye(e),"onDragStop",(function(){e.state.isPlaying?e.props.onPlay():e.props.onPause(),e.setState({isTimeActive:!1})})),Ze(Ye(e),"onCueOver",(function(t){e.setState({activeCue:t}),e.previewNode&&(e.previewNode.currentTime=t.time||0)})),Ze(Ye(e),"onCueOut",(function(){e.setState({activeCue:null})})),Ze(Ye(e),"onCueClick",(function(t){var n=t.time;return e.onChange(n)})),Ze(Ye(e),"onChange",(function(t){return e.props.onTimeChange(t)})),Ze(Ye(e),"onGlideStart",(function(){e.setState({isGliding:!0})})),Ze(Ye(e),"onGlide",(function(t){e.setState({glide:t}),e.previewNode&&!isNaN(e.previewNode.duration)&&(e.previewNode.currentTime=t.time||0)})),Ze(Ye(e),"onGlideStop",(function(){e.setState({isGliding:!1})})),Ze(Ye(e),"onTogglePlay",(function(){var t=e.state.isPlaying,n=e.props,r=n.onPause,o=n.onPlay;t?e.setState({isPlaying:!1},r):e.setState({isPlaying:!0},o)})),Ze(Ye(e),"onVolumeDragStart",(function(){e.setState({isMuted:!1,isVolumeActive:!0})})),Ze(Ye(e),"onVolumeDragStop",(function(){e.setState({isVolumeActive:!1})})),Ze(Ye(e),"onVolumeChange",(function(t){e.props.onVolumeChange(t),e.setState({lastVolume:t})})),Ze(Ye(e),"onToggleMute",(function(){var t=e.state,n=t.isMuted,r=t.lastVolume;e.setState({isMuted:!n}),e.props.onVolumeChange(n?r:0)})),Ze(Ye(e),"onToggleFullscreen",(function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=e.props,r=n.isFullscreen,o=n.onEnterFullscreen,i=n.onExitFullscreen;r?i():o()})),Ze(Ye(e),"onReplay",(function(){e.onChange(0),e.setState({isPlaying:!0},e.props.onPlay)})),Ze(Ye(e),"onPreviewReady",(function(){var t=document.createElement("canvas");t.width=147,t.height=98,t.getContext("2d").drawImage(e.previewNode,0,0,t.width,t.height);try{e.setState({previewURL:t.toDataURL()})}catch(t){null!==e.state.previewURL&&e.setState({previewURL:null})}})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e,t){var n=t.isPlaying,r=t.isTimeActive,o=this.props.hasEnded;!r&&n&&o!==e.hasEnded&&this.props.hasEnded&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,t=e.cues,n=e.currentTime,r=e.duration,o=e.buffered,i=e.thumbPreviewUrl,s=e.crossOrigin,f=this.state,c=f.isPlaying,l=f.isMuted,u=f.isTimeActive,h=f.isVolumeActive,p=f.lastVolume,d=["fs-video-controls-container",{"fs-force-visible":u||h,"fs-hide-controls":c}];return a.a.createElement("div",{className:"fs-video-controls"},a.a.createElement("video",{ref:this.setPreviewNode,controls:!1,crossOrigin:s,height:"100%",preload:"auto",style:{display:"none"},width:"100%",onSeeked:this.onPreviewReady},a.a.createElement("source",{src:i,type:"video/mp4"})),this.renderMainButton(),a.a.createElement("div",{className:S()(d)},a.a.createElement("div",{className:"fs-video-controls-bar"},a.a.createElement(we.a,{className:S()("fs-video-play",{"fs-is-playing":c}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-video-time"},et(n)),a.a.createElement("div",{className:"fs-video-timeline-container"},a.a.createElement(Te,{className:"fs-video-bufferline",disabled:!0,maxValue:r,minValue:0,value:o}),a.a.createElement(Te,{className:"fs-video-timeline",maxValue:r,minValue:0,value:n,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),t.map(this.renderCue,this),this.renderGlider()),a.a.createElement("div",{className:"fs-video-time"},et(r)),a.a.createElement(we.a,{className:S()("fs-video-volume-button",{"fs-is-mute":l||!p}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-video-volume-container"},a.a.createElement(Te,{className:"fs-video-volume",maxValue:1,minValue:0,value:l?0:p,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart,onDragStop:this.onVolumeDragStop})),this.renderFullscreen())))}},{key:"renderMainButton",value:function(){var e=this.props,t=e.buffering,n=e.hasEnded,r=e.currentTime,o=e.duration,i=this.state.isPlaying;return n&&!i&&r===o?a.a.createElement(we.a,{className:"fs-video-replay",onClick:this.onReplay},"Watch again"):a.a.createElement(we.a,{className:"fs-controls-shortcuts",onClick:this.onTogglePlay,onDoubleClick:this.onToggleFullscreen},a.a.createElement(G.a,{className:"fs-video-buffering",loading:t&&i}))}},{key:"renderFullscreen",value:function(){var e=this.props,t=e.isFullscreen;return e.fullscreenAvailable?a.a.createElement(we.a,{className:S()("fs-video-fullscreen",{"fs-exit-fullscreen":t}),onClick:this.onToggleFullscreen}):null}},{key:"renderCue",value:function(e,t){return a.a.createElement(We,{key:"".concat(e.text,"_").concat(e.time,"_").concat(t),data:e,onClick:this.onCueClick,onMouseOut:this.onCueOut,onMouseOver:this.onCueOver})}},{key:"renderGlider",value:function(){var e=this.state,t=e.glide,n=e.isGliding,r=e.activeCue,o=e.previewURL,i=["fs-video-glider",{"fs-has-preview":o}],s={};if(o&&(s={backgroundImage:"url(".concat(o,")"),height:"105px",width:"154px"}),n){var f=t||{},c=f.time,l=void 0===c?0:c,u=f.style,h=void 0===u?{}:u;return s.left=h.width,a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},et(l)))}if(r){var p=r.time,d=void 0===p?0:p,g=r.text,y=r.fraction,v=d===g?et(d):g;return s.left="".concat(100*y,"%"),a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},v))}return null}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(i.Component);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t,n){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ut(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ze(tt,"propTypes",{buffered:o.a.number.isRequired,buffering:o.a.bool.isRequired,crossOrigin:o.a.oneOf(["anonymous","use-credentials"]).isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,fullscreenAvailable:o.a.bool.isRequired,hasEnded:o.a.bool.isRequired,isFullscreen:o.a.bool.isRequired,thumbPreviewUrl:o.a.string.isRequired,onEnterFullscreen:o.a.func.isRequired,onExitFullscreen:o.a.func.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired,cues:o.a.array}),Ze(tt,"defaultProps",{cues:[]});var pt=ve||me,dt={controls:pt,height:"100%",preload:"auto",width:"100%"},gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(i,e);var t,n,r,o=ft(i);function i(){var e;ot(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(lt(e=o.call.apply(o,[this].concat(n))),"onVideoLoaded",(function(){return e.setState({buffered:e.getLastBuffered()})})),ht(lt(e),"onVideoReady",(function(){e.setState({buffered:e.getLastBuffered(),buffering:!1,cues:e.getCues(),error:!1,loading:!1,previewNode:e.videoNode.cloneNode(!0)})})),ht(lt(e),"onVideoProgress",(function(){var t=e.videoNode.HAVE_FUTURE_DATA||3;e.setState({buffered:e.getLastBuffered(),buffering:e.videoNode.readyState<t})})),ht(lt(e),"onVideoPlay",(function(){e.state.statsSent||p.a.trackOnce("view","file",e.state.fileId),e.setState({hasEnded:!1,statsSent:!0})})),ht(lt(e),"onVideoSeek",(function(){return e.setState({buffered:e.getLastBuffered()})})),ht(lt(e),"onVideoTimeUpdate",(function(){var t=e.videoNode.currentTime;e.state.currentTime!==t&&e.setState({currentTime:t}),e.setState({buffered:e.getLastBuffered()})})),ht(lt(e),"onVideoEnd",(function(){e.setState({hasEnded:!0,playCount:e.state.playCount+1,statsSent:!1})})),ht(lt(e),"onVideoError",(function(){return e.setState({error:!0,loading:!1})})),ht(lt(e),"onSlide",(function(t){e.videoNode.currentTime=t,e.setState({currentTime:t})})),ht(lt(e),"onPlay",(function(){e.videoNode.play(),e.setState({hasEnded:!1})})),ht(lt(e),"onPause",(function(){return e.videoNode.pause()})),ht(lt(e),"onEnterFullscreen",(function(){return ye.a.request(e.rootNode)})),ht(lt(e),"onExitFullscreen",(function(){return ye.a.exit()})),ht(lt(e),"onVolumeChange",(function(t){e.videoNode.volume=t})),ht(lt(e),"onToggleFullscreen",(function(){return e.setState({isFullscreen:ye.a.isFullscreen})})),ht(lt(e),"rootNode",null),ht(lt(e),"setRootNode",(function(t){e.rootNode=t})),ht(lt(e),"videoNode",null),ht(lt(e),"setVideoNode",(function(t){e.videoNode=t})),ht(lt(e),"trackNode",null),ht(lt(e),"setTrackNode",(function(t){e.trackNode=t})),e}return t=i,(n=[{key:"componentDidMount",value:function(){at(ut(i.prototype),"componentDidMount",this).call(this),ye.a.isEnabled&&ye.a.on("change",this.onToggleFullscreen)}},{key:"componentDidUpdate",value:function(){this.trackNode&&"hidden"!==this.trackNode.track.mode&&(this.trackNode.track.mode="hidden")}},{key:"componentWillUnmount",value:function(){at(ut(i.prototype),"componentWillUnmount",this).call(this),ye.a.isEnabled&&ye.a.off("change",this.onToggleFullscreen)}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.previewUrl,c=o.url,l=o.isFullscreen,u=o.crossOrigin,h={maxHeight:l?"100%":n,maxWidth:l?"100%":t},p=["fs-display","fs-media-wrapper","fs-mode-".concat(r)];return a.a.createElement("div",{ref:this.setRootNode,className:S()(p),style:h},a.a.createElement(G.a,{alwaysShowContent:!1,className:"fs-video-loader",error:s,errorMessage:"Sorry we could not load your data.",loading:!u&&i},a.a.createElement("video",rt({},dt,{ref:this.setVideoNode,crossOrigin:u,poster:f,onCanPlay:this.onVideoReady,onEnded:this.onVideoEnd,onError:this.onVideoError,onLoadedMetadata:this.onVideoLoaded,onPlay:this.onVideoPlay,onProgress:this.onVideoProgress,onSeeked:this.onVideoSeek,onTimeUpdate:this.onVideoTimeUpdate}),a.a.createElement("source",{src:c,type:"video/mp4"}),this.renderTrack()),this.renderControls()))}},{key:"renderTrack",value:function(){var e=this.state.chaptersUrl;return e?a.a.createElement("track",{ref:this.setTrackNode,kind:"chapters",label:"Chapters",src:e}):null}},{key:"renderControls",value:function(){if(pt)return null;var e=this.state,t=e.loading,n=e.error;if(!this.videoNode||t||n||!this.props.showControls)return null;var r=this.state,o=r.buffered,i=r.buffering,s=r.cues,f=r.hasEnded,c=r.isFullscreen,l=r.url,u=r.currentTime,h=r.crossOrigin,p=this.videoNode,d=p.duration,g=p.volume;return a.a.createElement(tt,{buffered:o,buffering:i,crossOrigin:h,cues:s,currentTime:Object(be.e)(u,0,d),duration:d,fullscreenAvailable:ye.a.isEnabled,hasEnded:f,isFullscreen:c,thumbPreviewUrl:l,volume:g,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onSlide,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,t=this.videoNode.buffered.length-1;return t>=0&&(e=this.videoNode.buffered.end(t)),e}},{key:"getCues",value:function(){if(!this.trackNode)return[];var e=this.trackNode.LOADED||2,t=this.trackNode.track;if(this.trackNode.readyState!==e||!t||!t.cues)return[];var n=this.videoNode.duration;return Array.from(t.cues).map((function(e){var t=e.text,r=e.startTime;return{fraction:Object(be.e)(r,0,n)/n,text:t||r,time:r}}))}}])&&it(t.prototype,n),r&&it(t,r),i}(I);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=St(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){if(t&&("object"===yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Et(e)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ht(gt,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool}),ht(gt,"defaultProps",{mode:"desktop",showControls:!0});var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(i,e);var t,n,r,o=Ot(i);function i(){var e;mt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(Et(e=o.call.apply(o,[this].concat(n))),"viewer",null),jt(Et(e),"canvasNode",null),jt(Et(e),"setCanvasNode",(function(t){e.canvasNode=t})),e}return t=i,(n=[{key:"componentDidMount",value:function(){wt(St(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){this.props.focused||(this.viewer.cameraRotation=!0);var t=this.props,n=t.maxWidth,r=t.maxHeight;n===e.maxWidth&&r===e.maxHeight||this.viewer.resize(n,r)}}},{key:"componentWillUnmount",value:function(){wt(St(i.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-viewer3d-display",style:e},a.a.createElement(G.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",vt({ref:this.setCanvasNode},e))))}},{key:"_initViewer",value:function(){var e=this.state,t=e.bin,n=e.meta,r=e.Viewer3D;!this.viewer&&this.canvasNode&&t&&n&&r&&(this.viewer=new r(this.canvasNode,{alpha:!0}),this.viewer.setModelBinary(n,t),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&bt(t.prototype,n),r&&bt(t,r),i}(I);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=It(e);if(t){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dt(e)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return e<=9?"0".concat(e):e}jt(_t,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number});var Bt=function(e){var t=parseInt(e/60,10),n=parseInt(e%60,10);return"".concat(Ft(t),":").concat(Ft(n))},Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(i,e);var t,n,r,o=Nt(i);function i(){var e;Ct(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mt(Dt(e=o.call.apply(o,[this].concat(n))),"state",{glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,lastVolume:1}),Mt(Dt(e),"onDragStart",(function(){e.state.isPlaying&&e.props.onPause(),e.setState({isTimeActive:!0})})),Mt(Dt(e),"onDragStop",(function(){e.state.isPlaying?e.props.onPlay():e.props.onPause(),e.setState({isTimeActive:!1})})),Mt(Dt(e),"onChange",(function(t){return e.props.onTimeChange(t)})),Mt(Dt(e),"onGlideStart",(function(){return e.setState({isGliding:!0})})),Mt(Dt(e),"onGlide",(function(t){return e.setState({glide:t})})),Mt(Dt(e),"onGlideStop",(function(){return e.setState({isGliding:!1})})),Mt(Dt(e),"onTogglePlay",(function(){var t=e.state.isPlaying,n=e.props,r=n.onPause,o=n.onPlay;t?e.setState({isPlaying:!1},r):e.setState({isPlaying:!0},o)})),Mt(Dt(e),"onVolumeDragStart",(function(){return e.setState({isMuted:!1})})),Mt(Dt(e),"onVolumeChange",(function(t){e.props.onVolumeChange(t),e.setState({lastVolume:t})})),Mt(Dt(e),"onToggleMute",(function(){var t=e.state,n=t.isMuted,r=t.lastVolume;e.setState({isMuted:!n}),e.props.onVolumeChange(n?r:0)})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.state,n=t.isPlaying,r=t.isTimeActive,o=this.props.hasEnded;!r&&n&&o!==e.hasEnded&&o&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration,r=e.buffered,o=this.state,i=o.isPlaying,s=o.isMuted,f=o.lastVolume;return a.a.createElement("div",{className:"fs-audio-controls"},a.a.createElement("div",{className:"fs-audio-controls-bar"},a.a.createElement(we.a,{"aria-label":i?"Pause":"Play",className:S()("fs-audio-play",{"fs-is-playing":i}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-audio-time"},Bt(t)),a.a.createElement("div",{className:"fs-audio-timeline-container"},a.a.createElement(Te,{className:"fs-audio-bufferline",disabled:!0,maxValue:n,minValue:0,value:r}),a.a.createElement(Te,{className:"fs-audio-timeline",maxValue:n,minValue:0,value:t,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),this.renderGlider()),a.a.createElement("div",{className:"fs-audio-time"},Bt(n)),a.a.createElement(we.a,{"aria-label":s||!f?"Unmute":"Mute",className:S()("fs-audio-volume-button",{"fs-is-mute":s||!f}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-audio-volume-container"},a.a.createElement(Te,{className:"fs-audio-volume",maxValue:1,minValue:0,value:s?0:f,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart}))))}},{key:"renderGlider",value:function(){var e=this.state,t=e.glide;if(!e.isGliding)return null;var n=t||{},r=n.time,o=void 0===r?0:r,i=n.style,s=void 0===i?{}:i;return a.a.createElement("div",{className:"fs-audio-glider",style:{left:s.width}},Bt(o))}}])&&Pt(t.prototype,n),r&&Pt(t,r),i}(i.Component);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kt(e);if(t){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gt(e)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mt(Lt,"propTypes",{buffered:o.a.number.isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,hasEnded:o.a.bool.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired});var Yt=ve||me,Jt={controls:Yt,preload:"auto"},Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,o=qt(i);function i(){var e;Vt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(Gt(e=o.call.apply(o,[this].concat(n))),"onAudioLoaded",(function(){e.setState({buffered:e.getLastBuffered()})})),Xt(Gt(e),"onAudioReady",(function(){e.setState({buffered:e.getLastBuffered(),buffering:!1,error:!1,loading:!1})})),Xt(Gt(e),"onAudioProgress",(function(){var t=e.audioNode.HAVE_FUTURE_DATA||3;e.setState({buffered:e.getLastBuffered(),buffering:e.audioNode.readyState<t})})),Xt(Gt(e),"onAudioPlay",(function(){e.state.statsSent||p.a.trackOnce("view","file",e.state.fileId),e.setState({hasEnded:!1})})),Xt(Gt(e),"onAudioSeek",(function(){e.setState({buffered:e.getLastBuffered()})})),Xt(Gt(e),"onAudioTimeUpdate",(function(){var t=e.audioNode.currentTime;e.state.currentTime!==t&&e.setState({currentTime:t}),e.setState({buffered:e.getLastBuffered()})})),Xt(Gt(e),"onAudioEnd",(function(){e.setState({hasEnded:!0,playCount:e.state.playCount+1,statsSent:!1})})),Xt(Gt(e),"onAudioError",(function(){return e.setState({error:!0,loading:!1})})),Xt(Gt(e),"onTimeChange",(function(t){e.audioNode.currentTime=t,e.setState({currentTime:t})})),Xt(Gt(e),"onPlay",(function(){e.audioNode.play(),e.setState({hasEnded:!1})})),Xt(Gt(e),"onPause",(function(){return e.audioNode.pause()})),Xt(Gt(e),"onVolumeChange",(function(t){e.audioNode.volume=t})),Xt(Gt(e),"audioNode",null),Xt(Gt(e),"setAudioNode",(function(t){e.audioNode=t})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.url,c=o.crossOrigin,l=["fs-mode-".concat(r),{"native-controls":Yt}];return a.a.createElement("div",{className:S()("fs-display","fs-audio-wrapper",l),style:{maxHeight:n,maxWidth:t}},a.a.createElement(G.a,{alwaysShowContent:!1,className:"fs-audio-loader",error:!!s,errorMessage:"Sorry we could not load your data.",loading:!c&&i},a.a.createElement("audio",Ht({},Jt,{ref:this.setAudioNode,crossOrigin:c,onCanPlay:this.onAudioReady,onEnded:this.onAudioEnd,onError:this.onAudioError,onLoadedMetadata:this.onAudioLoaded,onPlay:this.onAudioPlay,onProgress:this.onAudioProgress,onSeeked:this.onAudioSeek,onTimeUpdate:this.onAudioTimeUpdate}),a.a.createElement("source",{src:f,type:"audio/mpeg"})),this.renderControls()))}},{key:"renderControls",value:function(){if(Yt)return null;var e=this.state,t=e.loading,n=e.error,r=e.buffered,o=e.buffering,i=e.hasEnded,s=e.currentTime;if(!this.audioNode||t||n)return null;var f=this.audioNode,c=f.duration,l=f.volume;return a.a.createElement(Lt,{buffered:r,buffering:o,currentTime:Object(be.e)(s,0,c),duration:c,hasEnded:i,volume:l,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,t=this.audioNode.buffered.length-1;return t>=0&&(e=this.audioNode.buffered.end(t)),e}}])&&Wt(t.prototype,n),r&&Wt(t,r),i}(I);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return(rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Xt(Zt,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"])}),Xt(Zt,"defaultProps",{mode:"desktop"});var cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(i,e);var t,n,r,o=an(i);function i(){var e;tn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).viewer=null,e}return t=i,(n=[{key:"componentDidMount",value:function(){rn(fn(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e,t){if(this._initViewer(),this.viewer){var n=this.state.fromAnimation;n||n===t.fromAnimation||(this.viewer.isAnimating=!1),n||this.state.currentFrame===t.currentFrame||this.viewer.setIndex(this.state.currentFrame),this.state.isAnimating&&this.state.currentFPS!==t.currentFPS&&this.viewer.setAnimationDelay(1e3/this.state.currentFPS),this.props.focused||(this.viewer.cameraRotation=!0);var r=this.props,o=r.maxWidth,i=r.maxHeight;o===e.maxWidth&&i===e.maxHeight||this.viewer.resize(o,i)}}},{key:"componentWillUnmount",value:function(){rn(fn(i.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=this.props,o=r.maxWidth,i=r.maxHeight,s=r.mode,f={width:o,height:i},c=["fs-display","fs-molecule-display","fs-mode-".concat(s)];return a.a.createElement("div",{className:S()(c),style:f},a.a.createElement(G.a,{error:!!n,errorMessage:"Sorry we could not load your data",loading:t},a.a.createElement("canvas",en({},f,{ref:"canvas"})),this.renderSpeedControls()))}},{key:"renderSpeedControls",value:function(){var e=this.state,t=e.loaded,n=e.comments;if(!this.viewer||!t||n.length<2||!this.props.showControls)return null;if(!this.state.isAnimating)return a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(we.a,{key:"play",className:"fs-play",title:"Play",type:"button",onClick:this.handle("onPlay")}));var r=this.state,o=r.isDefaultFPS,i=r.canDecreaseFPS,s=r.canIncreaseFPS,f=r.currentFPS,c=["fs-speed-indicator",{"default-speed":o}],l="".concat(f," fps");return o&&(l="Normal ".concat(l)),a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(we.a,{key:"decrease-speed",className:"fs-decrease-speed",disabled:!i,title:"Decrease speed",onClick:this.handle("onDecreaseSpeed")}),a.a.createElement(we.a,{key:"pause",className:"fs-pause",title:"Pause",onClick:this.handle("onPause")},a.a.createElement("span",{className:S()(c)},l)),a.a.createElement(we.a,{key:"increase-speed",className:"fs-increase-speed",disabled:!s,title:"Increase speed",onClick:this.handle("onIncreaseSpeed")}))}},{key:"onPlay",value:function(){this.changeAnimatingTo(!0)}},{key:"onPause",value:function(){this.changeAnimatingTo(!1)}},{key:"changeAnimatingTo",value:function(e){this.viewer&&(this.viewer.isAnimating=e,this.props.flux.getActions("DisplayModel").setCommand({command:"animationChange",data:{isAnimating:this.viewer.isAnimating,fromAnimation:!1}}))}},{key:"onDecreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"decreaseFPS"})}},{key:"onIncreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"increaseFPS"})}},{key:"_initViewer",value:function(){var e=this.refs.canvas,t=this.state,n=t.molecule,r=t.MoleculeViewer;if(!this.viewer&&e&&n&&r){var o=this.props,i=o.maxWidth,a=o.maxHeight;this.viewer=new r(f.a.findDOMNode(e),{alpha:!0,onIndexChange:this.handle("onIndexSync")}),this.viewer.setModel(n),this.viewer.start(),this.viewer.resize(i,a),this.setState({viewerLoaded:!!this.viewer})}}},{key:"onIndexSync",value:function(e){var t=this.props.flux.getActions("DisplayModel");e!==this.state.currentFrame&&t.setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!0,isAnimating:this.viewer.isAnimating}})}}])&&nn(t.prototype,n),r&&nn(t,r),i}(I);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t,n){return(pn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}cn.defaultProps={showControls:!0,mode:"desktop"},cn.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool};var mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(i,e);var t,n,r,o=gn(i);function i(){var e;un(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state.visiblePages=[],e.state.currentPage=0,e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.maxWidth,r=t.maxHeight;e.maxWidth===n&&e.maxHeight===r||this._changeDisplayArea(n,r)}},{key:"componentDidMount",value:function(){pn(vn(i.prototype),"componentDidMount",this).call(this);var e=this.props,t=e.maxWidth,n=e.maxHeight;this._changeDisplayArea(t,n),this.updatePages()}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,r=this.state.pages.map(this.renderPage,this),o={width:t||0,height:n||0};return a.a.createElement("div",{ref:"pagesWrapper",className:"fs-display fs-document-display",style:o,tabIndex:0,onScroll:this.handle("updatePages")},r)}},{key:"renderPage",value:function(e,t){var n=e.state,r=n.url,o=n.loading,i=n.error,s=n.loaded,f=e.state,c=f.width,l=f.height,u=this.props,h=u.maxWidth,p=u.maxHeight;(o&&!s||i)&&(c=h-60,l=p);var d=S()("fs-image-display",{"fs-current-page":this.state.currentPage===t,"fs-prev-page":this.state.currentPage>t,"fs-next-page":this.state.currentPage<t});return a.a.createElement("div",{key:t,ref:"page-".concat(t),className:d,style:{width:c,height:l}},a.a.createElement(G.a,{error:!!i,errorMessage:"Sorry we could not load this page.",loading:o&&!s},a.a.createElement("img",{key:r,height:l,src:r,width:c})))}},{key:"updatePages",value:function(){var e=this,t=this._computeVisibility(),n=t.current,r=t.visible,o=this.state,i=o.currentPage,a=o.visiblePages,s=!1;s=r.length!==a.length||a.some((function(e){return-1===r.indexOf(e)})),n!==i&&(s=!0),s&&this.setState({currentPage:n,visiblePages:r},(function(){var t=e.props,n=t.maxWidth,r=t.maxHeight;e._changeDisplayArea(n,r)}))}},{key:"_changeDisplayArea",value:function(e,t){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{index:this.state.visiblePages,maxWidth:e-60,maxHeight:t}})}},{key:"_computeVisibility",value:function(){var e=this,t=this.refs.pagesWrapper,n=this.state.pages.map((function(t){var n=t.index;return e.refs["page-".concat(n)]}));return be.g.getVisibleNodes({wrapper:t,elements:n,elementCoverage:.5,viewportCoverage:.5})}}])&&hn(t.prototype,n),r&&hn(t,r),i}(I);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mn,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});var bn=n(373);function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(e,t,n){return(kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function En(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(r,o)}function Sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){En(i,r,o,a,s,"next",e)}function s(e){En(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t,n){return t&&_n(e.prototype,t),n&&_n(e,n),e}function Cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dn(e);if(t){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){if(t&&("object"===wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(e,t){return Array.from({length:t-e}).map((function(t,n){return n+e}))},Fn=function(e){Cn(n,e);var t=Rn(n);function n(){var e;jn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return In(Tn(e=t.call.apply(t,[this].concat(o))),"canvasNode",null),In(Tn(e),"textNode",null),In(Tn(e),"setCanvasRef",(function(t){return e.canvasNode=t})),In(Tn(e),"setTextNodeRef",(function(t){return e.textNode=t})),In(Tn(e),"draw",Sn(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.page,r=Tn(e),o=r.canvasNode,i=r.textNode,n&&o&&i){t.next=4;break}return t.abrupt("return");case 4:if(!e.state.rendering){t.next=7;break}return e.setState({redraw:!0}),t.abrupt("return");case 7:return e.setState({rendering:!0}),t.prev=8,t.next=11,n.draw(o,i);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:e.mounted&&e.setState({rendering:!1},e.checkRedraw);case 16:case"end":return t.stop()}}),t,null,[[8,13]])})))),In(Tn(e),"checkRedraw",(function(){e.state.redraw&&e.setState({redraw:!1},e.draw)})),e}return An(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.page&&this.draw()}},{key:"componentDidUpdate",value:function(e){if(this.props.page){var t=e.page,n=e.zoom;if(t){var r=t.scale!==this.props.page.scale,o=n!==this.props.zoom;(r||o)&&this.draw()}else this.draw()}else e.page&&e.page.stop()}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.page;e&&e.stop()}},{key:"render",value:function(){var e=this.props,t=e.defaultSize,n=e.page,r=e.forwardedRef,o=e.showLoading;if(!n&&!t)return null;var i=n||t,s=i.width,f=i.height,c=i.canvasWidth,l=i.canvasHeight,u=i.scale;if(!n){var h=o?a.a.createElement(G.a,{className:"fs-loading-layer",loading:!0}):null;return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},h)}return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},a.a.createElement("canvas",{ref:this.setCanvasRef,height:l,style:{width:s,height:f},width:c}),a.a.createElement("div",{key:u,ref:this.setTextNodeRef,className:"fs-text-layer"}),this.renderLoading())}},{key:"renderLoading",value:function(){return this.state.rendering?a.a.createElement(G.a,{className:"fs-loading-layer",loading:!0}):null}}]),n}(bn.a);In(Fn,"propTypes",{defaultSize:o.a.object,forwardedRef:o.a.func,page:o.a.object,showLoading:o.a.bool,zoom:o.a.number}),In(Fn,"defaultProps",{defaultSize:void 0,forwardedRef:function(){},page:void 0,showLoading:!1,zoom:void 0});var Bn=function(e){Cn(n,e);var t=Rn(n);function n(){var e;jn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return In(Tn(e=t.call.apply(t,[this].concat(o))),"state",{visibleNodes:[0],loadingNodes:Mn(0,10)}),In(Tn(e),"renderPage",(function(t,n){var r=e.state,o=r.defaultSize,i=r.loadingNodes,s=r.pageSizes,f=i.includes(n);return a.a.createElement(Fn,{key:n,defaultSize:s[n]||o,forwardedRef:e.setPageRef(n),page:t,showLoading:f,zoom:e.state.currentZoom})})),In(Tn(e),"initialLoadTimeout",null),In(Tn(e),"pagesLoadTimeout",null),In(Tn(e),"pages",{}),In(Tn(e),"setPageRef",(function(t){return function(n){return e.pages[t]=n}})),In(Tn(e),"container",null),In(Tn(e),"setContainerRef",(function(t){return e.container=t})),In(Tn(e),"onScroll",(function(t){var n=t.target.scrollTop,r=t.target.offsetHeight;clearTimeout(e.pagesLoadTimeout),e.pagesLoadTimeout=setTimeout((function(){return e.loadVisiblePages(n,r)}),100)})),In(Tn(e),"loadVisiblePages",(function(t,n){var r=e.state,o=r.model,i=r.defaultSize,a=r.pageSizes,s=Math.ceil(n/(i.height+30));if(o&&o.pages&&o.pages.length){for(var f=30,c=[],l=0;l<o.pages.length&&f<t+n;l+=1){var u=Math.max(0,l-(s-1)-2);c=Mn(u,l+2),f+=(a[l]||o.pages[l]||i).height+30}var h=c[0],p=c[c.length-1],d=Math.max(0,h-10),g=Math.min(o.pdf.numPages,p+10),y=Mn(d,g);e.setState({visibleNodes:c,loadingNodes:y}),e.props.flux.getActions("DisplayModel").setCommand({command:"loadPages",data:{visibleNodes:c}})}})),e}return An(n,[{key:"componentDidMount",value:function(){var e=this;kn(Dn(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}}),this.initialLoadTimeout=setTimeout((function(){e.props.flux.getActions("DisplayModel").setCommand({command:"load"})}),200)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.container&&!this.state.container&&setTimeout((function(){n.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:n.container}})}),0),this.props.maxWidth!==e.maxWidth&&this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}});var r=!1,o=!1;this.state.defaultSize&&(t.defaultSize?this.state.defaultSize.width!==t.defaultSize.width&&(o=!0):r=!0);var i=this.container;i&&(r||o)&&setTimeout((function(){return n.loadVisiblePages(i.scrollTop,i.offsetHeight)}),0)}},{key:"componentWillUnmount",value:function(){var e=this.state.model;e&&e.pdf&&e.pdf.destroy&&e.pdf.destroy(),clearTimeout(this.initialLoadTimeout),this.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:void 0}}),kn(Dn(n.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){var e={width:this.props.maxWidth||0,height:this.props.maxHeight||0};return a.a.createElement("div",{className:S()(["fs-display","fs-document-display"]),style:e},a.a.createElement(G.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{ref:this.setContainerRef,className:"fs-canvas-document-container",style:e,tabIndex:0,onScroll:this.handle("onScroll")},this.renderPages())))}},{key:"renderPages",value:function(){var e=this.state,t=e.model,n=e.visibleNodes,r=e.resizing;return t?xn(t.pages).map((function(e,t){return n.includes(t)&&!r?e:void 0})).map(this.renderPage):null}}]),n}(I);In(Bn,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number}),In(Bn,"defaultProps",{focused:!1,maxHeight:void 0,maxWidth:void 0});var Ln=n(371);function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gn(e);if(t){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){if(t&&("object"===zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(i,e);var t,n,r,o=Un(i);function i(){var e;Hn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kn(Qn(e=o.call.apply(o,[this].concat(n))),"onMoveLeft",(function(){var t=e.refs,n=t.wrapper,r=t.container;if(n&&r){var o=n.offsetWidth,i=e.state.leftOffset;(i+=o*e.props.movementFactor)>0&&(i=0),e.setState({leftOffset:i})}})),Kn(Qn(e),"onMoveRight",(function(){var t=e.refs,n=t.wrapper,r=t.container;if(n&&r){var o=n.offsetWidth,i=r.offsetWidth,a=e.state.leftOffset;(a-=o*e.props.movementFactor)-o<-i&&(a=o-i-20),e.setState({leftOffset:a})}})),e.state={controlsActive:!1,leftOffset:0},e}return t=i,(n=[{key:"componentDidUpdate",value:function(){var e=this.refs,t=e.wrapper,n=e.container;if(t&&n){var r=t.offsetWidth,o=n.offsetWidth,i=this.state.controlsActive;o>r&&!i?this.setState({controlsActive:!0}):o<=r&&i&&this.setState({controlsActive:!1})}}},{key:"render",value:function(){var e=this.state,t=e.controlsActive,n=e.leftOffset,r=this.getLeftRightBoundries(),o=r.left,i=r.right,s=S()("fs-carousel-wrapper",{"fs-controls-active":t,"fs-fade-left":o,"fs-fade-right":i});return a.a.createElement("div",{className:"fs-carousel"},a.a.createElement("div",{ref:"wrapper",className:s},a.a.createElement("div",{ref:"container",className:"fs-carousel-container",style:{left:n}},this.props.children)),this.renderControls({left:o,right:i}))}},{key:"renderControls",value:function(e){var t=e.left,n=e.right;if(!t&&!n)return null;var r=S()("fs-carousel-left-control",{"fs-active":t}),o=S()("fs-carousel-right-control",{"fs-active":n});return a.a.createElement("div",{className:"fs-carousel-controls"},a.a.createElement(we.a,{"aria-label":"Previous",className:r,onClick:this.onMoveLeft}),a.a.createElement(we.a,{"aria-label":"Next",className:o,onClick:this.onMoveRight}))}},{key:"getLeftRightBoundries",value:function(){var e=this.refs,t=e.wrapper,n=e.container,r=this.state,o=r.controlsActive,i=r.leftOffset;return o&&t&&n?{left:i<0,right:i-t.offsetWidth>-n.offsetWidth}:{left:!1,right:!1}}}])&&Vn(t.prototype,n),r&&Vn(t,r),i}(Ln.a);function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t,n){return($n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=or(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kn(Xn,"propTypes",{children:o.a.any,movementFactor:o.a.number}),Kn(Xn,"defaultProps",{children:void 0,movementFactor:.5});var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(i,e);var t,n,r,o=tr(i);function i(){var e;Jn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ir(rr(e=o.call.apply(o,[this].concat(n))),"headerRow",null),ir(rr(e),"setHeaderRow",(function(t){return e.headerRow=t})),ir(rr(e),"tableBody",null),ir(rr(e),"setTableBody",(function(t){return e.tableBody=t})),ir(rr(e),"_loadPage",(function(t){return function(){var n={index:t};e.props.flux.getActions("DisplayModel").setCommand({command:"load",data:n})}})),e.state.extraRows=0,e}return t=i,(n=[{key:"componentDidMount",value:function(){$n(or(i.prototype),"componentDidMount",this).call(this),this._loadPage(this.state.currentSheet)()}},{key:"componentDidUpdate",value:function(){var e=this.headerRow,t=this.tableBody;if(e&&t){var n=t.offsetHeight,r=e.offsetHeight,o=this.props.maxHeight,i=0;if(n+r<o&&r){var a=o-n-r;i=Math.floor(a/r)}i!==this.state.extraRows&&this.setState({extraRows:i})}}},{key:"render",value:function(){var e,t,n=this.props,r=n.maxWidth,o=n.maxHeight,i=this.state,s=i.currentSheet,f=i.sheets,c=i.extraRows,l=(null==f?void 0:f[s])||{},u=l.loading,h=l.loaded,p=((null==f?void 0:f[s])||{}).error,d="Sorry we could not load this page.";if(h&&!p){var g=f[s].model,y=g.rows,v=g.cols;y||v||(p=!0,d="Empty sheet.")}null!=f&&f.length||(p=!0);var m={width:r,maxHeight:o-35};return c&&(m.overflowY="hidden"),a.a.createElement("div",{className:"fs-display fs-dataset-display",style:{maxWidth:r,maxHeight:o}},a.a.createElement("div",{className:"fs-sheet-display",style:m,tabIndex:0},a.a.createElement(G.a,{error:!!p,errorMessage:d,loading:u},this.renderSheet(null==f?void 0:f[s]))),a.a.createElement(Xn,null,null===(e=this.state.sheets)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,this.renderSelector,this)))}},{key:"renderSheet",value:function(e){if(!e.loaded||e.error)return null;for(var t=e.model,n=t.colsHead.map(this.renderHeaderCell,this),r=t.rows,o=[],i=0;i<r;i+=1)o.push(this.renderRow(i));return a.a.createElement("div",{className:"fs-sheet-wrapper"},a.a.createElement("table",{className:"fs-sheet-table"},a.a.createElement("thead",{ref:this.setHeaderRow},a.a.createElement("tr",null,a.a.createElement("th",null),n)),a.a.createElement("tbody",{ref:this.setTableBody},o),a.a.createElement("tfoot",null,this.renderExtraRows(e))))}},{key:"renderExtraRows",value:function(e){var t=this.state.extraRows;if(!e.loaded||e.error||!t)return null;for(var n=e.model,r=n.colsHead,o=n.rows,i=r.length,s=[],f=0;f<t;f+=1){for(var c=[],l=0;l<i+1;l+=1)if(0===l){var u=o+f+1;c.push(a.a.createElement("th",{key:"".concat(f,"_").concat(l)},u))}else c.push(a.a.createElement("td",{key:"".concat(f,"_").concat(l)}));s.push(a.a.createElement("tr",{key:f},c))}return s}},{key:"renderHeaderCell",value:function(e){var t=e.rowSpan,n=e.colSpan,r=e.value,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head",i={__html:r};return a.a.createElement("th",{key:o,colSpan:n,dangerouslySetInnerHTML:i,rowSpan:t})}},{key:"renderRow",value:function(e){var t=this.state,n=t.currentSheet,r=t.sheets[n].model,o=r.rowsHead[e],i=r.row(e);return a.a.createElement("tr",{key:e},this.renderHeaderCell(o),i.map(this.renderCell,this))}},{key:"renderCell",value:function(e,t){if(!e)return null;var n=e.rowSpan,r=e.colSpan,o={__html:e.value};return a.a.createElement("td",{key:t,colSpan:r,dangerouslySetInnerHTML:o,rowSpan:n})}},{key:"renderSelector",value:function(e,t){var n=this.state.sheets.length,r=S()("fs-selector",{"fs-active":this.state.currentSheet===t}),o={zIndex:n-t};return this.state.currentSheet===t&&(o.zIndex=n+1),a.a.createElement(we.a,{key:t,className:r,style:o,onClick:this._loadPage(t)},e.name)}}])&&Zn(t.prototype,n),r&&Zn(t,r),i}(I);ir(ar,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});n(449);var sr=n(450),fr=n.n(sr),cr=n(451),lr=n.n(cr),ur=n(396),hr=n.n(ur),pr=n(453),dr=n.n(pr),gr="https://widgets-p-eu.figstatic.com",yr="df0308f291f9aaf58829594c748ec15618788586";var vr=function(){for(var e=hr.a.parse(gr),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.pathname=dr.a.join.apply(dr.a,[e.pathname||"","/static/",yr].concat(n)),hr.a.format(e)};function mr(e){return function(e){if(Array.isArray(e))return br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e){var t=e.querySelector("LookAt");if(!e.querySelector("Point")&&t){var n=t.querySelector("longitude"),r=t.querySelector("latitude"),o=t.querySelector("altitude");if(n&&r){o=o?o.textContent:0;var i=be.l.parse("\n      <Point>\n        <coordinates>\n        ".concat(n.textContent,",").concat(r.textContent,",").concat(o,"\n        </coordinates>\n      </Point>\n    ")).querySelector("Point").cloneNode(!0);e.appendChild(i)}}}fr.a.noConflict(),fr.a.Icon.Default.imagePath=vr("leaflet");var xr=function(e,t,n){var r=be.l.parse(e);if(!r)return n.fire("error",{error:"Could not parse KML"});mr(r.querySelectorAll("Placemark")).forEach(wr);var o=n||fr.a.geoJson(),i=lr.a.kml(r);return o.addData&&o.addData(i),o.setGeoJSON&&o.setGeoJSON(i),o};fr.a.generalAttributions={leaflet:'Powered by &copy;\n    <a href="https://leafletjs.com/">Leaflet</a>',tiles:'<br />Tiles &copy;\n    <a href="https://www.openstreetmap.org">OpenStreetMap</a> contributors,\n    <a href="https://www.creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',mapData:'<br />Map data &copy;\n    <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors,\n    <a href="https://www.openstreetmap.org/copyright">ODbL</a>'},fr.a.loadKML=function(e,t,n){var r=n||fr.a.geoJson();return xr(e,t,r),r};var Or=fr.a;function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t,n){return(jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cr(this,n)}}function Cr(e,t){if(t&&("object"===kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=Or.latLng(-90,-180),Dr=Or.latLng(90,180),Ir=Or.latLngBounds(Tr,Dr),Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(i,e);var t,n,r,o=Ar(i);function i(){var e;Er(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nr(Pr(e=o.call.apply(o,[this].concat(n))),"onToggleInfo",(function(t){t&&t.preventDefault&&t.preventDefault(),e.setState({infoOpened:!e.state.infoOpened},(function(){return e._updateAttribution()}))})),Nr(Pr(e),"kmlNode",null),Nr(Pr(e),"setKmlNode",(function(t){return e.kmlNode=t})),e.state.infoOpened=!1,e.map=null,e.attribution=null,e}return t=i,(n=[{key:"componentDidMount",value:function(){jr(Rr(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=this.props,o=r.maxWidth,i=r.maxHeight;t===o&&n===i||!this.map||this.map.invalidateSize();var a=this.state,s=a.kmlLayer,f=a.loaded,c=a.error;!this.map&&s&&f&&!c&&this._initializeMap()}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=this.props,o={width:r.maxWidth,height:r.maxHeight},i=["fs-info"];return this.state.infoOpened&&i.push("fs-open"),a.a.createElement("div",{className:"fs-display fs-kml-display",style:o},a.a.createElement(G.a,{error:!!n,errorMessage:"Sorry we could not load your data.",loading:t},a.a.createElement("div",{ref:this.setKmlNode,className:"fs-kml-wrapper",style:o}),a.a.createElement("div",{className:"leaflet-bottom leaflet-right"},a.a.createElement("div",{className:"leaflet-bar leaflet-control"},a.a.createElement("a",{className:S()(i),title:"Attributions",onClick:this.onToggleInfo})))))}},{key:"_updateAttribution",value:function(){this.attribution&&this.map&&(this.state.infoOpened?this.attribution.addTo(this.map):this.attribution.removeFrom(this.map))}},{key:"_initializeMap",value:function(){if(!this.map&&this.kmlNode){this.map=Or.map(this.kmlNode,{maxBounds:Ir,maxZoom:18,minZoom:1,center:[0,0],crs:Or.CRS.EPSG3857,attributionControl:!1}),Or.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.state.kmlLayer.addTo(this.map);var e=this.state.kmlLayer.getBounds();e.isValid()?this.map.fitBounds(e):this.map.fitBounds(Ir);var t=Or.generalAttributions,n=t.mapData,r=t.tiles,o=t.leaflet,i=Or.control.attribution({position:"bottomright"});i.setPrefix(!1),i.addAttribution("".concat(o," ").concat(r," ").concat(n)),this.attribution=i}}}])&&Sr(t.prototype,n),r&&Sr(t,r),i}(I);function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t,n){return(zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ur(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ur(e);if(t){var o=Ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wr(this,n)}}function Wr(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Mr.defaultProps={},Mr.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,o=Vr(i);function i(){return Br(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){zr(Ur(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-text-display",style:e},a.a.createElement(G.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{className:"fs-text-container",tabIndex:0},a.a.createElement("pre",null,this.renderContent()))))}},{key:"renderContent",value:function(){return this.state.content?a.a.createElement("code",{className:"hljs",dangerouslySetInnerHTML:{__html:this.state.content}}):null}}])&&Lr(t.prototype,n),r&&Lr(t,r),i}(I);function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zr(e);if(t){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qr.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(i,e);var t,n,r,o=Yr(i);function i(){var e;Gr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state.iframeLoaded=!1,e}return t=i,(n=[{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-jupyter-display",style:e},a.a.createElement(G.a,{alwaysShowContent:!0,loading:!this.state.iframeLoaded},a.a.createElement("iframe",{ref:"iframe",sandbox:"",src:this.state.url,style:e,onLoad:this.handle("onLoad")})))}},{key:"onLoad",value:function(){this.refs.iframe&&this.setState({iframeLoaded:!0})}}])&&Kr(t.prototype,n),r&&Kr(t,r),i}(I);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t,n){return(oo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}$r.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(i,e);var t,n,r,o=ao(i);function i(){var e;no(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).viewer=null,e}return t=i,(n=[{key:"componentDidMount",value:function(){oo(fo(i.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){var t=e.maxWidth,n=e.maxHeight;t===this.props.maxWidth&&n===this.props.maxHeight||this.viewer.resize(this.props.maxWidth,this.props.maxHeight)}}},{key:"componentWillUnmount",value:function(){oo(fo(i.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-graph-display",style:e},a.a.createElement(G.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",to({},e,{ref:"canvas"}))))}},{key:"_initViewer",value:function(){var e=this.refs.canvas,t=this.state,n=t.vertices,r=t.GraphViewer;!this.viewer&&e&&n&&r&&(this.viewer=new r(f.a.findDOMNode(e)),this.viewer.loadData(n),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&ro(t.prototype,n),r&&ro(t,r),i}(I);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t,n){return(go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function yo(e,t){return(yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mo(this,n)}}function mo(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bo(e)}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}co.defaultProps={},co.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yo(e,t)}(i,e);var t,n,r,o=vo(i);function i(){var e;ho(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xo(bo(e=o.call.apply(o,[this].concat(n))),"onResetFilters",(function(){return e.actions.setCommand({command:"filterReset"})})),xo(bo(e),"onLighten",(function(){return e.actions.setCommand({command:"filterLighten"})})),xo(bo(e),"onDarken",(function(){return e.actions.setCommand({command:"filterDarken"})})),xo(bo(e),"onInvert",(function(){return e.actions.setCommand({command:"filterInvert"})})),xo(bo(e),"onToggleHisto",(function(){return e.actions.setCommand({command:"toggleHisto"})})),xo(bo(e),"onToggleMeta",(function(){return e.actions.setCommand({command:"toggleMeta"})})),xo(bo(e),"onPrevLayer",(function(){return e.actions.setCommand({command:"prevLayer"})})),xo(bo(e),"onNextLayer",(function(){return e.actions.setCommand({command:"nextLayer"})})),xo(bo(e),"parseDate",(function(e){var t=e.substr(0,4),n=e.substr(4,2),r=e.substr(6,2);return"".concat(r,".").concat(n,".").concat(t)})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t={},n=e.maxWidth,r=e.maxHeight,o=this.props,i=o.maxWidth,a=o.maxHeight;n===i&&r===a||(t.newWidth=i,t.newHeight=a,this.actions.setCommand({command:"update",data:t}))}},{key:"componentDidMount",value:function(){go(wo(i.prototype),"componentDidMount",this).call(this);var e={canvasContainerNode:this.canvasContainerNode,histoContainerNode:this.histoContainerNode,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth};this.actions=this.props.flux.getActions("DisplayModel"),this.actions.setCommand({command:"load",data:e})}},{key:"componentWillUnmount",value:function(){go(wo(i.prototype),"componentWillUnmount",this).call(this),this.actions.setCommand({command:"unload"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.mode,i=this.state,s=i.loading,f=i.error,c=i.hideHisto,l={height:r,width:n},u=["fs-display fs-fits-display",o];return a.a.createElement("div",{className:S()(u),style:l},a.a.createElement(G.a,{alwaysShowContent:!0,error:!!f,errorMessage:"Sorry we could not load your data",loading:s},a.a.createElement("div",uo({ref:function(t){return e.canvasContainerNode=t},className:"fs-canvas-container"},l)),a.a.createElement("div",{className:S()("fs-histo-container",{disabled:c||!this.props.showControls})},a.a.createElement("div",{className:"fv-fits-histo-controls-container"},a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onResetFilters},"Default"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onLighten},"Lighten"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onDarken},"Darken"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onInvert},"Invert"),a.a.createElement("a",{className:"fv-fits-histo-button fv-fits-histo-close",onClick:this.onToggleHisto})),a.a.createElement("div",{ref:function(t){return e.histoContainerNode=t},className:"fs-histo-canvas-container"})),this.renderImageInfo()))}},{key:"renderImageInfo",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;return t&&t[n]&&t[n].isImage?a.a.createElement("div",{className:"fv-fits-image-info"},this.renderLayerNavigation(),this.renderImageMetadata()):null}},{key:"renderImageMetadata",value:function(){var e=this.state,t=e.meta,n=e.imageIndex,r=e.metaVisible;if(!t||!t[n]||!r)return null;var o=t[n],i=o.extra,s=o.name,f=o.minimum,c=o.maximum,l=o.width,u=o.height,h=i&&i.studyDate&&""!==i.studyDate,p=Math.round(c-f,2),d=Math.round(f+p/2,2),g=s||"Untitled",y=h?a.a.createElement("p",null,this.parseDate(i.studyDate)):null;return a.a.createElement("div",{className:"fv-fits-image-meta"},a.a.createElement("p",null,g),y,this.renderManufacturer(),a.a.createElement("p",{className:"fv-fits-meta-separator"}),a.a.createElement("p",null,"WL: ",d," / WW: ",p),this.renderThicknessLocation(),a.a.createElement("p",null,"Image size: ",l," x ",u))}},{key:"renderThicknessLocation",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;if(!t[n].extra)return null;var r=t[n].extra,o=r.sliceThickness,i=r.sliceLocation,s=o?"Thick: ".concat(o):"",f=i?"Loc: ".concat(i):"";return a.a.createElement("p",null,s," ",f)}},{key:"renderManufacturer",value:function(){var e=this.state,t=e.meta,n=e.imageIndex;if(!t[n].extra)return null;var r=t[n].extra,o=r.manufacturer,i=r.manufacturerModel,s=[];return o&&s.push(o),i&&s.push(i),0===s.length?null:a.a.createElement("p",{className:"fv-fits-meta-manufacturer"},"Device model: ",s.join(" - "))}},{key:"renderLayerNavigation",value:function(){var e=this.state,t=e.meta,n=e.prevDisabled,r=e.nextDisabled,o=e.imageIndex,i=e.layerIndex;if(!t)return null;var s=t[o].layerCount,f=["fv-fits-layer-nav-button","prev",{disabled:n}],c=["fv-fits-layer-nav-button","next",{disabled:r}],l=this.onPrevLayer,u=this.onNextLayer;return a.a.createElement("div",{className:"fv-fits-layer-navigation"},a.a.createElement(we.a,{className:S()(f),disabled:n,onClick:l}),a.a.createElement("span",{className:"fv-fits-layer-index"},i+1,"/",s),a.a.createElement(we.a,{className:S()(c),disabled:r,onClick:u}),this.renderMetadataButton())}},{key:"renderMetadataButton",value:function(){var e=this.state,t=e.meta,n=e.imageIndex,r=e.metaVisible;if(!t||!t[n])return null;var o=["fv-fits-layer-nav-button","meta",{close:r}];return a.a.createElement(we.a,{className:S()(o),onClick:this.onToggleMeta})}}])&&po(t.prototype,n),r&&po(t,r),i}(I);xo(Oo,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,showControls:o.a.bool});var ko={archive:de,audio:Zt,dataset:ar,document:mn,document_canvas:Bn,document_failsafe:Bn,dicom:Oo,fits:Oo,graph:co,image:ne,jupyter:$r,kml:Mr,molecule:cn,notPreviewable:Q,presentation:mn,txt:qr,video:gt,viewer3d:_t};function Eo(e){return ko[e]?ko[e]:ko.notPreviewable}function So(e){return"notPreviewable"!==e&&!!ko[e]}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewerType,n=void 0===t?"notPreviewable":t,r=e.virusScanInfo,o=Eo(n);return r&&r.virus_found&&(o=Eo("notPreviewable")),o.getPreview||(o=Eo()),o.getPreview?o.getPreview(e):I.getPreview(e)}var _o=n(390);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){if(t&&("object"===Ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(i,e);var t,n,r,o=Do(i);function i(){var e;Ro(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state=e.getFluxState(),e}return t=i,(n=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return Co(e,1)[0].getState()}}])&&No(t.prototype,n),r&&No(t,r),i}(c.a);function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uo(e);if(t){var o=Uo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wo(this,n)}}function Wo(e,t){if(t&&("object"===Bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fo,"propTypes",{flux:o.a.object});var qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(i,e);var t,n,r,o=Vo(i);function i(){var e;Lo(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state=Object.assign(e.state,{menuOpened:!1}),e}return t=i,(n=[{key:"render",value:function(){var e=this.state,t=e.currentFrame,n=void 0===t?0:t,r=e.totalFrames,o=void 0===r?0:r;if(!this.state.loaded||!this.state.comments||!this.state.comments.length)return null;var i=["fs-molecule-controls-wrap","fs-mode-".concat(this.props.mode)],s=this.state.comments[n];return a.a.createElement("div",{className:S()(i)},a.a.createElement(l.a,{onBlur:this.onToggleMenu.bind(this,!1),onFocus:this.onToggleMenu.bind(this,!this.state.menuOpened)},a.a.createElement("div",{className:"fs-comment-list"},a.a.createElement("div",{className:"fs-trigger"},a.a.createElement("div",{className:"fs-current-comment",title:s},s)),a.a.createElement("div",{className:"fs-menu-wrapper"},this.renderCommentsMenu()))),a.a.createElement(_o.a,{currentPage:n,totalPages:o,onGotoPage:this.handle("onFrameChange")}))}},{key:"renderCommentsMenu",value:function(){return this.state.menuOpened?a.a.createElement("div",{className:"fs-comments-menu"},a.a.createElement("div",{className:"fs-items-wrap"},this.state.comments.map(this.renderComment,this))):null}},{key:"renderComment",value:function(e,t){var n=["fs-drop-item",{"fs-active":this.state.currentFrame===t}];return a.a.createElement("div",{key:t,className:S()(n),title:e,onClick:this.onFrameChange.bind(this,t)},e)}},{key:"onToggleMenu",value:function(e){this.setState({menuOpened:e})}},{key:"onFrameChange",value:function(e){this.props.flux.getActions("DisplayModel").setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!1,isAnimating:!1}}),this.setState({menuOpened:!1})}}])&&zo(t.prototype,n),r&&zo(t,r),i}(Fo);function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo(e);if(t){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(e,t){if(t&&("object"===Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qo.defaultProps={mode:"desktop"},qo.propTypes={flux:o.a.object.isRequired,mode:o.a.oneOf(["desktop","mobile"])};var ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(i,e);var t,n,r,o=Yo(i);function i(){return Go(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["fs-controls-group","fs-zoom",this.props.extraClass,this.props.className];return a.a.createElement("div",{className:S()(e)},this.renderZoomIn(),this.renderZoomOut(),this.renderZoomReset())}},{key:"renderZoomIn",value:function(){var e=this.props,t=e.zoomInDisabled,n=e.onZoomIn;return n?a.a.createElement(we.a,{className:"fv-controls-color fs-zoom-button fs-zoom-in",disabled:t,title:"zoom in",onClick:n}):null}},{key:"renderZoomOut",value:function(){var e=this.props,t=e.zoomOutDisabled,n=e.onZoomOut;return n?a.a.createElement(we.a,{className:"fv-controls-color fs-zoom-button fs-zoom-out",disabled:t,title:"zoom out",onClick:n}):null}},{key:"renderZoomReset",value:function(){var e=this.props,t=e.zoomResetDisabled,n=e.onZoomReset;return n?a.a.createElement(we.a,{className:"fv-controls-color fs-zoom-button fs-zoom-fit",disabled:t,title:"fit to page",onClick:n}):null}}])&&Ko(t.prototype,n),r&&Ko(t,r),i}(i.Component);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fi(e);if(t){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ai(this,n)}}function ai(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return si(e)}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$o(ei,"propTypes",{className:o.a.string,extraClass:o.a.string,zoomInDisabled:o.a.bool,zoomOutDisabled:o.a.bool,zoomResetDisabled:o.a.bool,onZoomIn:o.a.func,onZoomOut:o.a.func,onZoomReset:o.a.func}),$o(ei,"defaultProps",{className:void 0,extraClass:void 0,zoomInDisabled:void 0,zoomOutDisabled:void 0,zoomResetDisabled:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0});var li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(i,e);var t,n,r,o=ii(i);function i(){var e;ni(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ci(si(e=o.call.apply(o,[this].concat(n))),"onToggleMenu",(function(){return e.setState({layerMenuOpen:!e.state.layerMenuOpen})})),ci(si(e),"onPrevImage",(function(){return e.actions.setCommand({command:"prevImage"})})),ci(si(e),"onNextImage",(function(){return e.actions.setCommand({command:"nextImage"})})),ci(si(e),"onSelectImage",(function(t){return function(){var n=e.state.imageIndex;t!==n&&(e.actions.setCommand({command:"selectImage",data:{imageIndex:t}}),e.onToggleMenu())}})),ci(si(e),"onZoomIn",(function(){return e.actions.setCommand({command:"zoomIn"})})),ci(si(e),"onZoomOut",(function(){return e.actions.setCommand({command:"zoomOut"})})),ci(si(e),"onToggleHisto",(function(){return e.actions.setCommand({command:"toggleHisto"})})),e.actions=e.props.flux.getActions("DisplayModel"),e.state.layerMenuOpen=!1,e}return t=i,(n=[{key:"render",value:function(){if(!this.state.loaded)return null;var e=["fv-fits-controls",this.props.mode];return a.a.createElement("div",{className:S()(e)},this.renderLayersMenu(),this.renderImageNavigation(),a.a.createElement(ei,{onZoomIn:this.onZoomIn,onZoomOut:this.onZoomOut}),this.renderHistoButton())}},{key:"renderLayersMenu",value:function(){var e=this.state,t=e.meta[e.imageIndex].name||"Untitled";return a.a.createElement("div",{className:"fv-fits-layers-menu"},a.a.createElement(we.a,{className:"fv-fits-button fv-fits-layer-name",onClick:this.onToggleMenu},a.a.createElement("span",null,t)),a.a.createElement("div",{className:"fv-menu-wrapper fv-fits-menu-wrapper"},this.renderMenu()))}},{key:"renderMenu",value:function(){var e=this.state,t=e.meta;if(!e.layerMenuOpen)return null;var n=Object.keys(t).map(this.renderName,this);return a.a.createElement("div",{className:"fv-comments-menu"},a.a.createElement("div",{className:"fv-items-wrap"},n))}},{key:"renderName",value:function(e,t){var n=this.state,r=n.imageIndex,o=n.meta,i=parseInt(e,10),s=["fv-drop-item",{"fv-active":r===i}],f=o[t].name,c=f||"Untitled",l=o[t].isImage&&o[t].layerCount?"(".concat(o[t].layerCount,")"):"";return a.a.createElement("div",{key:t,className:S()(s),title:f,onClick:this.onSelectImage(i)},a.a.createElement("span",{className:"layer-title"},c),a.a.createElement("span",{className:"layer-count"},l))}},{key:"renderImageNavigation",value:function(){var e=this.state,t=e.imageIndex,n=e.images,r=0===t,o=t===n-1,i=S()("fv-fits-button fv-prev-layer-button",{disabled:r}),s=S()("fv-fits-button fv-next-layer-button",{disabled:o});return a.a.createElement("span",{className:"fv-fits-image-navigation-control"},a.a.createElement("strong",{className:"fv-fits-layer-index"},t+1," / ",n),a.a.createElement(we.a,{className:i,disabled:r,onClick:this.onPrevImage}),a.a.createElement(we.a,{className:s,disabled:o,onClick:this.onNextImage}))}},{key:"renderHistoButton",value:function(){var e=S()("fv-controls-color fv-fits-button fv-histo-button",{disabled:this.state.hideHisto});return a.a.createElement(we.a,{className:e,onClick:this.onToggleHisto})}}])&&ri(t.prototype,n),r&&ri(t,r),i}(Fo);ci(li,"propTypes",{flux:o.a.object.isRequired});var ui={molecule:qo,dicom:li,fits:li},hi=n(372);function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vi(this,n)}}function vi(e,t){if(t&&("object"===pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(i,e);var t,n,r,o=yi(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this))._id=Object(be.k)(),e._state={loaded:!1,loading:!1,error:null},e}return t=i,(n=[{key:"state",get:function(){return Object.assign({},this._state)}},{key:"handleCommand",value:function(e,t){if(e&&"string"==typeof e){var n=e[0].toUpperCase()+e.slice(1),r="on".concat(n,"Handler");this[r]&&"function"==typeof this[r]?this[r](t):console.warn("No such command [".concat(n,"]"))}}},{key:"reset",value:function(){}}])&&di(t.prototype,n),r&&di(t,r),i}(be.a);function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Si(e);if(t){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ei(this,n)}}function Ei(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ji=hi.a.computeSize,_i=hi.a.roundRatio,Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(i,e);var t,n,r,o=ki(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).file=e;var n=e.getPreviewKeyUrl(),r=e.previewMeta,a=r.width,s=r.height;return t.originalWidth=a,t.originalHeight=s,t.ratio=a/s,Object.assign(t._state,{width:a,height:s,url:n}),t._loader=null,t}return t=i,(n=[{key:"_loadImage",value:function(e){var t=this;this._loader=new Image,this._loader.addEventListener("load",(function(){var e={},n=t._loader,r=n.width,o=n.height,i=r/o;if(_i(i)!==_i(t.ratio)){t.ratio=i,t.originalWidth=r,t.originalHeight=o;var a=t._state,s=a.width,f=a.height;e=ji({width:s,height:f,ratio:t.ratio})}Object.assign(t._state,{loaded:!0,loading:!1,error:null},e),t.emit("load")})),this._loader.addEventListener("error",(function(){Object.assign(t._state,{loaded:!0,loading:!1,error:new Error("Could not load image")}),t.emit("error")})),this._loader.src=e}},{key:"onChangeHandler",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=e.lockAxis,o=ji({width:t,height:n,ratio:this.ratio,lockAxis:r});Object.assign(this._state,o),this.emitAsync("change")}},{key:"onLoadHandler",value:function(){this._state.loaded||this._state.loading||(this._loadImage(this._state.url),Object.assign(this._state,{loading:!0}),this.emitAsync("change"))}}])&&xi(t.prototype,n),r&&xi(t,r),i}(bi),Ci=n(364);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t,n){return t&&Ni(e.prototype,t),n&&Ni(e,n),e}function Di(e,t,n){return(Di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zi(e);if(t){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(e,t){if(t&&("object"===Pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Li(e)}function Li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hi=function(e){Ii(n,e);var t=Fi(n);function n(){return Ri(this,n),t.call(this,{tree:void 0,loaded:!1})}return Ti(n,[{key:"update",value:function(e){Di(zi(n.prototype),"update",this).call(this,{loaded:!0,tree:e})}},{key:"reset",value:function(){this.loaded=!1,this.tree=void 0}}]),n}(Ci.a),Vi=function(e){Ii(n,e);var t=Fi(n);function n(e){var r;return Ri(this,n),r=t.call(this),Object.assign(r._state,{archiveContent:[],expanded:{},tree:void 0}),r.file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._loader=new be.d(new Hi),r._loader.on("change",r._onChangeHandler.bind(Li(r))),r}return Ti(n,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,t=e.loaded,n=e.loading,r=e.error;Object.assign(this._state,{loading:n,loaded:t,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r},a={};if(r)return Object.assign(this._state,i,{tree:a}),void this.emit("error");var s=o?o.tree:void 0;s&&(a=this._prepareDirs(s)),Object.assign(this._state,i,{tree:a}),this.emit("change")}},{key:"_prepareDirs",value:function(e){var t=this,n=e.dirs,r=void 0===n?[]:n,o=e.files,i=void 0===o?[]:o,a=e.path.split("/"),s=i.map((function(e){var t=e.path.split("/");return{name:t.pop(),depth:t.length}})),f=r.map((function(e){return t._prepareDirs(e)}));return{key:Object(be.k)(),name:a.pop(),depth:a.length,files:s,dirs:f}}}]),n}(bi),Wi=n(368);function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ki(e);if(t){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){if(t&&("object"===Ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xi=new Wi.b({credentials:!1,followLocation:!0}),Yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}(n,e);var t=Qi(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).file=e;var o=e.getPreviewKeyUrl();Object.assign(r._state,{buffered:0,buffering:!1,crossOrigin:void 0,currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,loading:!0,playCount:0,statsSent:!1,url:o}),r.emitAsync("change");var i=Xi.get({headers:{Range:"bytes=0-0"},url:r._state.url});return i.then((function(){Object.assign(r._state,{crossOrigin:"anonymous"}),r.emitAsync("change")})),i.catch((function(){Object.assign(r._state,{crossOrigin:"use-credentials"}),r.emitAsync("change")})),r}return n}(bi);function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ta(e);if(t){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(e,t){if(t&&("object"===Ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var na=new Wi.b({credentials:!1,followLocation:!0}),ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(n,e);var t=$i(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).file=e;var o=e.previewMeta,i=o.videoKey,a=o.previewKey,s=o.originalWidth,f=o.originalHeight,c=o.chaptersKey;Object.assign(r._state,{buffered:0,buffering:!1,chaptersUrl:c?e.getPreviewKeyUrl(c):void 0,crossOrigin:void 0,cues:[],currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,isFullscreen:!1,loading:!0,originalHeight:f,originalWidth:s,playCount:0,previewUrl:e.getPreviewKeyUrl(a),statsSent:!1,url:e.getPreviewKeyUrl(i)}),r.emitAsync("change");var l=na.get({headers:{Range:"bytes=0-0"},url:r._state.url});return l.then((function(){Object.assign(r._state,{crossOrigin:"anonymous"}),r.emitAsync("change")})),l.catch((function(){Object.assign(r._state,{crossOrigin:"use-credentials"}),r.emitAsync("change")})),r}return n}(bi),oa=function(e){n.e(9).then(function(t){var r=n(1288).default;e&&setTimeout(e(r),0)}.bind(null,n)).catch(n.oe)},ia=function(e){n.e(12).then(function(t){var r=n(1289).default;e&&setTimeout(e({Viewer3D:r}),0)}.bind(null,n)).catch(n.oe)},aa=function(e){n.e(10).then(function(t){var r=n(1290).default;e&&setTimeout(e({GraphViewer:r}),0)}.bind(null,n)).catch(n.oe)},sa=function(e){n.e(13).then(function(t){var r=n(1291).default;e&&setTimeout(e({MoleculeViewer:r}),0)}.bind(null,n)).catch(n.oe)},fa=function(e,t,n){var r=new Wi.b({credentials:!1,bodyType:"arraybuffer",followLocation:!0});return new Promise((function(o,i){r.get({headers:{Range:"bytes=".concat(t,"-").concat(n)},url:e,binary:!0}).then((function(e){return o(new Float32Array(e.body))}),(function(e){return i(e.body)}))}))};function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),e}function da(e,t,n){return(da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wa(e);if(t){var o=wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xa=function(e){ga(n,e);var t=va(n);function n(){return ua(this,n),t.call(this,{meta:void 0,loaded:!1})}return pa(n,[{key:"update",value:function(e){da(wa(n.prototype),"update",this).call(this,{loaded:!0,meta:e})}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),n}(Ci.a),Oa=function(e){ga(n,e);var t=va(n);function n(){return ua(this,n),t.call(this,{bin:void 0,loaded:!1})}return pa(n,[{key:"update",value:function(e){da(wa(n.prototype),"update",this).call(this,{loaded:!0,bin:new Uint8Array(e)})}},{key:"reset",value:function(){this.loaded=!1,this.bin=void 0}}]),n}(Ci.a),ka=function(e){ga(n,e);var t=va(n);function n(e){var r;return ua(this,n),la(ba(r=t.call(this)),"_onChangeMetaHandler",(function(){if(r._metaLoader.error||!r.Viewer3D)return Object.assign(r._state,r._getLoadingStatus()),void r.emit("error");Object.assign(r._state,r._getLoadingStatus(),{meta:r._metaLoader.model.meta,Viewer3D:r.Viewer3D}),r.emit("change")})),la(ba(r),"_onChangeBinHandler",(function(){if(r._binLoader.error||!r.Viewer3D)return Object.assign(r._state,r._getLoadingStatus()),void r.emit("error");Object.assign(r._state,r._getLoadingStatus(),{bin:r._binLoader.model.bin,Viewer3D:r.Viewer3D}),r.emit("change")})),Object.assign(r._state,{bin:void 0,meta:void 0}),r.file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._binUrl=e.getPreviewKeyUrl(e.previewMeta.binaryKey),r._metaLoader=new be.d(new xa),r._metaLoader.on("change",r._onChangeMetaHandler),r._binLoader=new be.d(new Oa),r._binLoader.on("change",r._onChangeBinHandler),r.Viewer3D=null,r}return pa(n,[{key:"onLoadHandler",value:function(){var e=this;this._metaLoader.loaded||this._metaLoader.loading||this._binLoader.loaded||this._binLoader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),ia((function(t){e.Viewer3D=e.Viewer3D||t.Viewer3D,e._metaLoader.loadData(e._metadataUrl),e._binLoader.loadData(e._binUrl,!0),Object.assign(e._state,e._getLoadingStatus()),e.emitAsync("change")})))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||this._binLoader.loading,loaded:this._metaLoader.loaded&&this._binLoader.loaded,error:this._metaLoader.error||this._binLoader.error}}}]),n}(bi),Ea=n(381);function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pa(e);if(t){var o=Pa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ca(this,n)}}function Ca(e,t){if(t&&("object"===Sa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ra=hi.a.AXES,Na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(i,e);var t,n,r,o=Aa(i);function i(e){var t,n=e.ratio,r=e.sizes,a=e.images,s=e.index;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).index=s,t.sizes=r,t.ratio=n||1.4,t.currentIndex=0,Object.assign(t._state,{width:r[t.currentIndex],height:r[t.currentIndex]/t.ratio,url:void 0}),t.images=a.map((function(e,n){var o=e.key,i=e.baseUrl,a=new Ea.a({previewMeta:{width:r[n],height:r[n]/t.ratio,baseUrl:i,key:o}});return new Ai(a)})),t}return t=i,(n=[{key:"_updateState",value:function(e,t){var n=e.state,r=n.width,o=n.height,i=n.url;this.ratio=e.ratio,this.currentIndex=t,Object.assign(this._state,{width:r,height:o,url:i})}},{key:"_imageLoad",value:function(e,t,n){var r=this,o=n.maxWidth;e.once("load",(function(){r._updateState(e,t),Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),loading:!1}),r._imageChange(e,t,{maxWidth:o}),r.emit("load")})),e.once("error",(function(){Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),error:r.images.every((function(e){return!!e.state.error}))}),r._state.error?r.emit("error"):r._findOtherSizes({maxWidth:o})})),Object.assign(this._state,{loading:!this.images.some((function(e){var t=e.state;return t.loaded&&!t.error}))}),e.handleCommand("load"),this.emitAsync("change")}},{key:"_imageChange",value:function(e,t,n){var r=this,o=n.maxWidth;e.once("change",(function(){r._updateState(e,t),r.emit("change")})),e.handleCommand("change",{maxWidth:o,lockAxis:Ra.X})}},{key:"onLoadHandler",value:function(e){var t=e.maxWidth,n=e.maxHeight,r=t;r||n||(r=this._state.width),n&&!r&&(r=this.ratio*n);var o=this._getBestSizeIndex(r),i=this.images[o];i.state.loaded||i.state.loading?i.state.error?this._findOtherSizes({maxWidth:r}):this._imageChange(i,o,{maxWidth:r,maxHeight:n}):this._imageLoad(i,o,{maxWidth:r,maxHeight:n})}},{key:"onChangeHandler",value:function(){this.onLoadHandler.apply(this,arguments)}},{key:"_findOtherSizes",value:function(e){var t=e.maxWidth,n=[],r=[];if(this.images.forEach((function(e,t){var o=e.state;o.loaded&&!o.error&&n.push(t),o.loading||o.loaded||r.push(t)})),r.length){var o=Math.max.apply(Math,r),i=this.images[o];this._imageLoad(i,o,{maxWidth:t})}else if(n.length){var a=Math.max.apply(Math,n),s=this.images[a];this._imageChange(s,a,{maxWidth:t})}}},{key:"_getBestSizeIndex",value:function(e){for(var t=this.sizes,n=0,r=0,o=t.length;r<o-1&&(n=r,!(e<t[r]))&&!(e<(t[r]+t[r+1])/2.75);r+=1);return n}}])&&ja(t.prototype,n),r&&ja(t,r),i}(bi);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e){return function(e){if(Array.isArray(e))return Ia(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ha(e);if(t){var o=Ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return La(this,n)}}function La(e,t){if(t&&("object"===Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return za(e)}function za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(i,e);var t,n,r,o=Ba(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._handlers={load:t.emit.bind(za(t),"load"),change:t.emit.bind(za(t),"change"),error:t.emit.bind(za(t),"error")},t.file=e,t._state.pages=[],t._initializePages(),t}return t=i,(n=[{key:"_fillPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var n=Object.assign({},e);return n.key=n.key.replace("{page_no}",t+1),n}))}},{key:"_attachHandlers",value:function(e){e.on("load",this._handlers.load),e.on("change",this._handlers.change),e.on("error",this._handlers.error)}},{key:"_removeHandlers",value:function(e){e.removeListener("load",this._handlers.load),e.removeListener("change",this._handlers.change),e.removeListener("error",this._handlers.error)}},{key:"_initializePages",value:function(){var e=this.file.previewMeta,t=e.pages,n=void 0===t?0:t,r=e.averageRatio,o=e.keyPattern,i=e.baseUrl,a=[];if(Array.isArray(e.sizes)&&(a=Da(e.sizes)),!n||!a.length||!o)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");a.sort((function(e,t){return e-t}));for(var s=a.map((function(e){return{key:o.replace("{width}",e),baseUrl:i}})),f=0;f<n;f+=1){var c=this._fillPageNumber(s,f),l=new Na({ratio:r,sizes:a,index:f,images:c});this._attachHandlers(l),this._state.pages.push(l)}}},{key:"handleCommand",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(n.index)||(n.index=[n.index]),n.index.forEach((function(r){var o=Object.assign({},n,{index:r});e._state.pages[r]&&e._state.pages[r].handleCommand(t,o)}))}},{key:"reset",value:function(){this._state.pages.forEach(this._removeHandlers,this)}}])&&Ma(t.prototype,n),r&&Ma(t,r),i}(bi),Wa=function(e){Promise.all([n.e(14),n.e(11)]).then(function(t){n(1293);var r=n(1292);r.PDFJS.workerSrc=vr("/pdfjs/pdf_worker.js"),r.PDFJS.disableAutoFetch=!0,e&&setTimeout((function(){return e(r)}),0)}.bind(null,n)).catch(n.oe)};function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ga(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(r,o)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Za(e);if(t){var o=Za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(e,t){if(t&&("object"===Ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ja(e)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t,n){return t&&ts(e.prototype,t),n&&ts(e,n),e}var rs=null,os=function(){function e(t){es(this,e),this.page=t,this.setScale(1),this.drawing=!1}return ns(e,[{key:"scaleToFit",value:function(e){var t=e/this.page.getViewport(96/72).width;this.setScale(t)}},{key:"setScale",value:function(e){this.scale=e,this.viewport=this.page.getViewport(e*(96/72)),this.width=Math.floor(this.viewport.width),this.height=Math.floor(this.viewport.height),this.canvasWidth=Math.floor(this.viewport.width),this.canvasHeight=Math.floor(this.viewport.height)}},{key:"draw",value:function(e,t){var n=this;this.stop();var r=e.getContext("2d"),o=this.viewport.clone({scale:this.scale*(96/72)});return this.textNode=t,this.renderer=this.page.render({canvasContext:r,viewport:o}),this.canvasWidth=Math.floor(this.width),this.canvasHeight=Math.floor(this.height),Wa((function(e){n.page.getTextContent().then((function(t){n.textRender=e.renderTextLayer({textContent:t,container:n.textNode,viewport:n.viewport.clone({scale:n.scale*(96/72)}),textDivs:[]})}),(function(){}))})),this.renderer}},{key:"stop",value:function(){this.renderer&&this.renderer.cancel()}}]),e}(),is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(n,e);var t=Xa(n);function n(e){var r;return es(this,n),$a(Ja(r=t.call(this)),"_loadPdfJS",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.file.getPreviewKeyUrl(),o=null,e.prev=2,e.next=5,t.getDocument({url:n,withCredentials:!1});case 5:o=e.sent,e.next=21;break;case 8:return e.prev=8,e.t0=e.catch(2),e.prev=10,e.next=13,t.getDocument({url:n,withCredentials:!0});case 13:o=e.sent,e.next=21;break;case 16:e.prev=16,e.t1=e.catch(10),o=null,r._state=Qa(Qa({},r._state),{},{loading:!1,error:!0}),r.emitAsync("change");case 21:if(o){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,o.getPage(1);case 25:i=e.sent,a=new os(i),(s=Array.from({length:o.numPages}))[0]=a,r._state.model=Qa(Qa({},r._state.model),{},{pages:s,pdf:o,length:o.numPages}),a.scaleToFit(r._state.maxWidth),r.calculateDefaultPageSize(),r._state.loading=!1,r.emitAsync("change");case 34:case"end":return e.stop()}}),e,null,[[2,8],[10,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ga(i,r,o,a,s,"next",e)}function s(e){Ga(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),r.file=e,r._state={model:{pdf:null,pages:[]},pageSizes:{},error:!1},r}return ns(n,[{key:"onLoadHandler",value:function(){var e=this;this._state=Qa(Qa({},this._state),{},{loading:!0,model:{pdf:null,pages:[]},pageSizes:{}}),this.emitAsync("change"),Wa((function(t){return e._loadPdfJS(t)}))}},{key:"onSetContainerHandler",value:function(e){var t=e.container;this._state.container=t,this.emitAsync("change")}},{key:"getScaleForWidth",value:function(e){var t=this._state.model;if(t&&t.pages&&t.pages.length)for(var n=0;n<t.pages.length;n+=1){var r=t.pages[n];if(r)return e/r.page.getViewport(96/72).width}return 1}},{key:"onLoadPagesHandler",value:function(e){var t=this,n=e.visibleNodes,r=this._state,o=r.model;if(!r.loadingPages){this._state.loadingPages=!0;var i=n.map((function(e){return e+1}));if((i=i.filter((function(e){return e>0&&e<=o.length&&!o[e]}))).length){var a=i.map((function(e){return o.pdf.getPage(e)}));Promise.all(a).then((function(e){e.map((function(e){var n=new os(e);n.scaleToFit(t._state.maxWidth);var r=e.pageIndex,i=n.width,a=n.height;return t._state.pageSizes[r]={height:a,width:i},o.pages[r]=n,!0})),t._state.loadingPages=!1,t.emitAsync("change")}),(function(){t._state=Qa(Qa({},t._state),{},{loadingPages:!1,error:!0}),t.emitAsync("change")}))}}}},{key:"calculateDefaultPageSize",value:function(){var e=this._state.model;if(e&&Array.isArray(e.pages)){var t=e.pages.find((function(e){return!!e}));if(t){var n=t.width,r=t.height,o=t.canvasWidth,i=t.canvasHeight;isNaN(n)||isNaN(r)||(this._state=Qa(Qa({},this._state),{},{defaultSize:{width:n,height:r,canvasWidth:o,canvasHeight:i,scale:0}}))}}}},{key:"getScrollPositionPercent",value:function(){var e=this._state.container;return e?e.scrollTop/e.scrollHeight:0}},{key:"onSetMaxWidthHandler",value:function(e){var t=this,n=e.maxWidth;this._state.resizing||(this._state.resizing=!0,this.emitAsync("change")),clearTimeout(rs),rs=setTimeout((function(){return t.setMaxWidth(n)}),100)}},{key:"setMaxWidth",value:function(e){var t=this;this._state.maxWidth=e,this._state.resizing=!1,this.updatePageSizes(),this.calculateDefaultPageSize();var n=this.getScrollPositionPercent();this.emitAsync("change"),setTimeout((function(){return t.updateScrollPositionAfterResize(n)}),100)}},{key:"updateScrollPositionAfterResize",value:function(e){var t=this._state.container;t&&(t.scrollTop=t.scrollHeight*e)}},{key:"updatePageSizes",value:function(){var e=this._state,t=e.model.pages,n=e.pageSizes,r=e.maxWidth;t.forEach((function(e){return e&&e.scaleToFit(r)})),Object.keys(n).forEach((function(e){var t=n[e];if(t){var o=r/t.width;t.width=Math.floor(o*t.width),t.height=Math.floor(o*t.height)}}))}}]),n}(bi);function as(e,t,n){return(as="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ls(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ss(e,t){return(ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ls(e);if(t){var o=ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cs(this,n)}}function cs(e,t){if(t&&("object"===us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ds(e,t,n){return t&&ps(e.prototype,t),n&&ps(e,n),e}function gs(e){var t=Math.floor(e/26),n=e%26+10;return n=(n=n.toString(36)).toUpperCase(),0===t?n:gs(t-1)+n}var ys=function(){function e(t){if(hs(this,e),"object"===us(t)){var n=t.value,r=t.rowSpan,o=void 0===r?1:r,i=t.colSpan,a=void 0===i?1:i;Object.assign(this,{value:n,rowSpan:o,colSpan:a})}else Object.assign(this,{value:t,rowSpan:1,colSpan:1})}return ds(e,[{key:"isMerged",get:function(){return this.rowSpan+this.colSpan>2}}]),e}(),vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ss(e,t)}(n,e);var t=fs(n);function n(){var e;return hs(this,n),(e=t.call(this)).rows=0,e.cols=0,e.rowsHead=[],e.colsHead=[],e.cells={},e}return ds(n,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){for(var t=this._count(e.rows),r=this._count(e.cols),o=this._generateHeaders(e.rows,t,(function(e){return e+1})),i=this._generateHeaders(e.cols,r,(function(e){return gs(e)})),a={},s=0;s<r;s+=1)for(var f=0;f<t;f+=1){var c=e.data[f][s];null!==c&&(a["".concat(s,"_").concat(f)]=new ys(c))}as(ls(n.prototype),"update",this).call(this,{rows:t,cols:r,rowsHead:o,colsHead:i,cells:a})}}},{key:"_count",value:function(e){return Array.isArray(e)?e.length:parseInt(e,10)}},{key:"_generateHeaders",value:function(e,t,n){for(var r=[],o=0;o<t;o+=1){var i=e[o];"object"!==us(i)&&(i={value:i}),i.value||(i.value=n(o)),r.push(new ys(i))}return r}},{key:"cell",value:function(e,t){return this.cells["".concat(e,"_").concat(t)]}},{key:"row",value:function(e){for(var t=[],n=0;n<this.cols;n+=1)t.push(this.cell(n,e));return t}}]),n}(Ci.a);function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ks(e);if(t){var o=ks(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Os(this,n)}}function Os(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}(i,e);var t,n,r,o=xs(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).file=e,t._state.sheets=[],t._state.currentSheet=0,t._initializeSheets(),t}return t=i,(n=[{key:"_initializeSheets",value:function(){var e=this,t=this.file.previewMeta.sheets;if(!t)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");this._state.sheets=t.map((function(t,n){var r=t.key,o=t.sheetName,i=new vs,a=new be.d(i);return a.on("change",(function(){return e._onSheetChange(n)})),Object.assign(a,{key:e.file.getPreviewKeyUrl(r),name:o,id:n}),a}))}},{key:"onLoadHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=void 0===t?0:t,r=this._state.sheets;if(!r[n].loaded&&!r[n].loading){var o=r[n];o.loadData(o.key)}this._state.currentSheet=n,this.emitAsync("change")}},{key:"_onSheetChange",value:function(){this.emit("change")}}])&&bs(t.prototype,n),r&&bs(t,r),i}(bi);function Ss(e){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t,n){return t&&_s(e.prototype,t),n&&_s(e,n),e}function Cs(e,t,n){return(Cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Is(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ps(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Is(e);if(t){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}function Ts(e,t){if(t&&("object"===Ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ds(e)}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ms=[1/4,.5,1,2,4],Fs=function(e){Ps(n,e);var t=Ns(n);function n(){return js(this,n),t.call(this,{molecule:void 0,loaded:!1})}return As(n,[{key:"update",value:function(e){Cs(Is(n.prototype),"update",this).call(this,{loaded:!0,molecule:e})}},{key:"reset",value:function(){this.loaded=!1,this.molecule=void 0}}]),n}(Ci.a),Bs=function(e){Ps(n,e);var t=Ns(n);function n(e){var r;return js(this,n),r=t.call(this),Object.assign(r._state,{molecule:void 0,comments:[]}),r.file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._loader=new be.d(new Fs),r._loader.on("change",r._onChangeHandler.bind(Ds(r))),r.Molecule=null,r}return As(n,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),sa((function(t){e.Molecule=e.Molecule||t.MoleculeViewer,e._loader.loadData(e._metadataUrl);var n=e._loader,r=n.loaded,o=n.loading,i=n.error;Object.assign(e._state,{loading:o,loaded:r,error:i}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r};if(r||!this.Molecule)return Object.assign(this._state,i),void this.emit("error");var a=o.molecule,s=a.map((function(e,t){return e.comment||"Model ".concat(t+1)}));Object.assign(this._state,i,{molecule:a,totalFrames:a.length,comments:s,currentFrame:0,currentFPS:Ms[2],canIncreaseFPS:3<Ms.length,canDecreaseFPS:!0,isDefaultFPS:!0,MoleculeViewer:this.Molecule}),this.emit("change")}},{key:"onIncreaseFPSHandler",value:function(){this._changeFPS(1),this.emitAsync("change")}},{key:"onDecreaseFPSHandler",value:function(){this._changeFPS(-1),this.emitAsync("change")}},{key:"_changeFPS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Ms.indexOf(this._state.currentFPS);-1===t&&(t=2);var n=t+e;Ms[n]||(n=t),Object.assign(this._state,{currentFPS:Ms[n],isDefaultFPS:2===n,canIncreaseFPS:n+1<Ms.length,canDecreaseFPS:n-1>=0})}},{key:"onAnimationChangeHandler",value:function(e){var t=e.isAnimating;Object.assign(this._state,{isAnimating:t}),this.emitAsync("change")}},{key:"onChangeFrameHandler",value:function(e){var t=e.currentFrame,n=e.fromAnimation,r=e.isAnimating;Object.assign(this._state,{currentFrame:t,fromAnimation:n,isAnimating:r}),this.emitAsync("change")}}]),n}(bi);function Ls(e){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t,n){return t&&Hs(e.prototype,t),n&&Hs(e,n),e}function Ws(e,t,n){return(Ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xs(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Us(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qs(e,t)}function qs(e,t){return(qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xs(e);if(t){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gs(this,n)}}function Gs(e,t){if(t&&("object"===Ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ks(e)}function Ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xs(e){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ys=function(e){Us(n,e);var t=Qs(n);function n(){var e;return zs(this,n),e=t.call(this),Object.assign(Ks(e),{loaded:!1,kmlData:void 0}),e}return Vs(n,[{key:"update",value:function(e){if(e){var t=Or.loadKML(e);Ws(Xs(n.prototype),"update",this).call(this,{loaded:!0,kmlLayer:t})}}}]),n}(Ci.a),Js=function(e){Us(n,e);var t=Qs(n);function n(e){var r;return zs(this,n),(r=t.call(this)).file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._loader=new be.d(new Ys),r._loader.on("change",r._onChangeHandler.bind(Ks(r))),r}return Vs(n,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,t=e.loaded,n=e.loading,r=e.error;Object.assign(this._state,{loading:n,loaded:t,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,t=e.loading,n=e.loaded,r=e.error,o=e.model,i={loading:t,loaded:n,error:r};if(r)return Object.assign(this._state,i),void this.emit("error");var a=o.kmlLayer;Object.assign(this._state,i,{kmlLayer:a}),this.emit("change")}}]),n}(bi),Zs=n(454),$s=n.n(Zs);function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rf(e,t,n){return t&&nf(e.prototype,t),n&&nf(e,n),e}function of(e,t,n){return(of="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function af(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sf(e,t)}function sf(e,t){return(sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uf(e);if(t){var o=uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}function cf(e,t){if(t&&("object"===ef(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lf(e)}function lf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uf(e){return(uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hf=function(e){af(n,e);var t=ff(n);function n(){return tf(this,n),t.call(this,{content:void 0,loaded:!1})}return rf(n,[{key:"update",value:function(e){var t=void 0;Array.isArray(e)&&(t=e.join("\n"),t=$s.a.highlightAuto(t).value);of(uf(n.prototype),"update",this).call(this,{content:t,loaded:!0})}},{key:"reset",value:function(){this.loaded=!1,this.content=void 0}}]),n}(Ci.a),pf=function(e){af(n,e);var t=ff(n);function n(e){var r;tf(this,n),(r=t.call(this)).file=e;var o=r.file.previewMeta,i=new be.b(o.bytes);return Object.assign(r._state,{downloadLink:e.downloadLink,name:e.name,previewSize:i.size,hasStrippedBytes:o.bytes<r.file.size,content:void 0,minZoom:1,zoomSteps:2,maxZoom:3,currentZoom:1}),r._metadataUrl=e.getPreviewKeyUrl(),r._loader=new be.d(new hf),r._loader.on("change",r._onChangeHandler.bind(lf(r))),r}return rf(n,[{key:"onLoadHandler",value:function(){var e=this._loader;e.loaded||e.loading||(e.loadData(this._metadataUrl),Object.assign(this._state,{loading:e.loading,loaded:e.loaded,error:e.error}),this.emitAsync("change"))}},{key:"onZoomHandler",value:function(e){var t=e.currentZoom;Object.assign(this._state,{currentZoom:t}),this.emitAsync("change")}},{key:"_onChangeHandler",value:function(){var e=this._loader,t={loading:e.loading,loaded:e.loaded,error:e.error,content:void 0};e.model&&e.model.content&&(t.content=e.model.content),Object.assign(this._state,t),this.emitAsync("change")}}]),n}(bi);function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gf(e,t){return(gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mf(e);if(t){var o=mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vf(this,n)}}function vf(e,t){if(t&&("object"===df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mf(e){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gf(e,t)}(n,e);var t=yf(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).file=e;var o=r.file.previewMeta.key;return r._state.url=e.getPreviewKeyUrl(o),r.emit("change"),r}return n}(bi);function wf(e){return(wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t,n){return t&&Of(e.prototype,t),n&&Of(e,n),e}function Ef(e,t,n){return(Ef="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Sf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jf(e,t)}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pf(e);if(t){var o=Pf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Af(this,n)}}function Af(e,t){if(t&&("object"===wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cf(e)}function Cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pf(e){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rf=function(e){Sf(n,e);var t=_f(n);function n(){return xf(this,n),t.call(this,{vertices:void 0,loaded:!1})}return kf(n,[{key:"update",value:function(e){Ef(Pf(n.prototype),"update",this).call(this,{loaded:!0,vertices:e})}},{key:"reset",value:function(){this.loaded=!1,this.vertices=void 0}}]),n}(Ci.a),Nf=function(e){Sf(n,e);var t=_f(n);function n(e){var r;return xf(this,n),r=t.call(this),Object.assign(r._state,{vertices:void 0}),r.file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._loader=new be.d(new Rf),r._loader.on("change",r._onChangeHandler.bind(Cf(r))),r.GraphViewer=null,r}return kf(n,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),aa((function(t){e.GraphViewer=e.GraphViewer||t.GraphViewer,e._loader.loadData(e._metadataUrl),Object.assign(e._state,{loading:e._loader.loading,loaded:e._loader.loaded,error:e._loader.error}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e={loading:this._loader.loading,loaded:this._loader.loaded,error:this._loader.error};if(this._loader.error||!this.GraphViewer)return Object.assign(this._state,e),void this.emit("error");Object.assign(this._state,e,{vertices:this._loader.model.vertices,GraphViewer:this.GraphViewer}),this.emit("change")}}]),n}(bi);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lf(e);if(t){var o=Lf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ff(this,n)}}function Ff(e,t){if(t&&("object"===Tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bf(e)}function Bf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wf(e,t,n){return t&&Vf(e.prototype,t),n&&Vf(e,n),e}var Uf=function(){function e(){Hf(this,e)}return Wf(e,[{key:"update",value:function(e){this.loaded=!0,this.meta=e}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),e}(),qf={luminosity:0,invert:!1},Qf={meta:void 0,hideHisto:!0,layerIndex:0,imageIndex:0,metaVisible:!1,filters:Object.assign({},qf),prevDisabled:!0,nextDisabled:!1},Gf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&If(e,t)}(n,e);var t=Mf(n);function n(e){var r;return Hf(this,n),zf(Bf(r=t.call(this)),"_onChangeMetaHandler",(function(){if(r._metaLoader.error)return Object.assign(r._state,r._getLoadingStatus()),void r.emit("error");var e=r._metaLoader.model.meta;Object.assign(r._state,r._getLoadingStatus(),{meta:e,images:e.length}),r.emit("change"),r.tryStart()})),zf(Bf(r),"onZoomInHandler",(function(){r.viewer&&r.viewer.zoomIn()})),zf(Bf(r),"onZoomOutHandler",(function(){r.viewer&&r.viewer.zoomOut()})),zf(Bf(r),"onToggleHistoHandler",(function(){var e=!r._state.hideHisto;Object.assign(r._state,{hideHisto:e}),r.emitAsync("change")})),zf(Bf(r),"onPrevLayerHandler",(function(){r.viewer&&(r.viewer.previousLayer(),r.updateLayer())})),zf(Bf(r),"onNextLayerHandler",(function(){r.viewer&&(r.viewer.nextLayer(),r.updateLayer())})),zf(Bf(r),"onNextImageHandler",(function(){r.viewer&&(r.viewer.nextImage(),r.updateImage())})),zf(Bf(r),"onPrevImageHandler",(function(){r.viewer&&(r.viewer.previousImage(),r.updateImage())})),zf(Bf(r),"onSelectLayerHandler",(function(e){var t=e.layerIndex;r.viewer&&(r.viewer.selectLayer(t),r.updateLayer())})),zf(Bf(r),"onSelectImageHandler",(function(e){var t=e.imageIndex;r.viewer&&(r.viewer.selectImage(t),r.updateImage())})),zf(Bf(r),"onToggleMetaHandler",(function(){var e=r._state.metaVisible;Object.assign(r._state,{metaVisible:!e}),r.emitAsync("change")})),zf(Bf(r),"onFilterResetHandler",(function(){return r.updateFilter(qf)})),zf(Bf(r),"onFilterInvertHandler",(function(){return r.updateFilter({invert:!r.state.filters.invert})})),zf(Bf(r),"onFilterLightenHandler",(function(){r.updateFilter({luminosity:Math.min(r.state.filters.luminosity+15,254)})})),zf(Bf(r),"onFilterDarkenHandler",(function(){r.updateFilter({luminosity:Math.max(r.state.filters.luminosity-15,-254)})})),zf(Bf(r),"onUnloadHandler",(function(){r.viewer&&r.viewer.stop()})),zf(Bf(r),"onUpdateHandler",(function(e){var t=e.newWidth,n=e.newHeight;t>0&&n>0&&(Object.assign(r._state,{maxWidth:t,maxHeight:n}),r.updateViewersSize())})),zf(Bf(r),"updateFilter",(function(e){var t=r._state.filters;Object.assign(t,e),r.store.dispatch({type:"UPDATE_FILTERS",filters:t}),Object.assign(r._state.filters,t),r.emitAsync("change")})),zf(Bf(r),"updateLayer",(function(){var e=r.viewer.currentImageMeta.layerCount,t=r.viewer.currentLayerIndex,n=0===t,o=t===e-1;Object.assign(r._state,{layerIndex:r.viewer.currentLayerIndex,prevDisabled:n,nextDisabled:o}),r.emitAsync("change")})),zf(Bf(r),"updateImage",(function(){Object.assign(r._state,{imageIndex:r.viewer.currentImageIndex}),r.emitAsync("change")})),zf(Bf(r),"updateViewersSize",(function(){var e=r._state,t=e.maxWidth,n=e.maxHeight;if(r.viewer&&r.histo){r.viewer.resize(t,n);var o=Math.min(t,n,320)-25;r.histo.resize(o,o)}})),zf(Bf(r),"tryStart",(function(){var e=r._state,t=e.meta,n=e.maxWidth,o=e.maxHeight,i=e.canvasContainerNode,a=e.histoContainerNode;if(!r.viewer&&i&&a&&t){r.viewer=new r.FITSViewer({byteRangeLoader:fa,container:i,fileName:r._binUrl,height:o,width:n,store:r.store}),r.histo=new r.FITSHistogram({container:a,width:Math.min(n,320),height:Math.min(o,320),store:r.store}),r.viewer.start(),r.histo.start(),r.updateViewersSize(),r.updateFilter(qf),r.store.init(),r.store.addView(r.viewer),r.store.addView(r.histo),r.store.dispatch({type:"LOAD_IMAGE_META",metadata:t}),r.viewerLoaded=!0;var s=r.viewer,f=s.zoom,c=s.minZoom,l=s.maxZoom;Object.assign(r._state,r._getLoadingStatus(),{zoom:f,minZoom:c,maxZoom:l}),r.emit("change")}})),Object.assign(r._state,Qf),r.file=e,r._metadataUrl=e.getPreviewKeyUrl(),r._binUrl=e.getPreviewBinUrl(),r._metaLoader=new be.d(new Uf),r._metaLoader.on("change",r._onChangeMetaHandler),r.FITSViewer=null,r.viewerLoaded=!0,oa((function(e){var t=e.FITSViewer,n=e.FITSHistogram,o=e.Store;t&&n&&o?(r.FITSViewer=t,r.FITSHistogram=n,r.store=new o,r._metaLoader.loadData(r._metadataUrl)):r.emit("error")})),r}return Wf(n,[{key:"onLoadHandler",value:function(e){this._metaLoader.loaded||(Object.assign(this._state,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(n),!0).forEach((function(t){zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!0},e)),this.emitAsync("change"))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||!this.viewerLoaded,loaded:this._metaLoader.loaded,error:this._metaLoader.error}}}]),n}(bi),Kf={archive:Vi,audio:Yi,dataset:Es,document:Va,document_canvas:is,document_failsafe:is,dicom:Gf,fits:Gf,graph:Nf,image:Ai,jupyter:bf,kml:Js,molecule:Bs,presentation:Va,txt:pf,video:ra,viewer3d:ka};function Xf(e){return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yf(){return(Yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t,n){return t&&Zf(e.prototype,t),n&&Zf(e,n),e}function ec(e,t,n){return(ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ac(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}function nc(e,t){return(nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ac(e);if(t){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oc(this,n)}}function oc(e,t){if(t&&("object"===Xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ic(e)}function ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc=function(e){tc(n,e);var t=rc(n);function n(e,r){var o;return Jf(this,n),sc(ic(o=t.call(this,e,r)),"controlsRef",(function(e){if(e){var t=Object(s.findDOMNode)(e);t&&(o.controlsNode=t,o._updateViewerHeight())}})),sc(ic(o),"onToggleFocus",(function(e){return function(){e!==o.state.focused&&o.setState({focused:e})}})),o.state={focused:!1,model:o._updateModel(o.props.file)},o}return $f(n,[{key:"componentWillReceiveProps",value:function(e){(this.props.file!==e.file&&(this._resetModel(),this.setState({model:this._updateModel(e.file)})),e.trackFileViews)&&this.props.flux.getActions("DisplayModel").registerFileView(this.props.file);this._updateViewerHeight()}},{key:"componentWillUnmount",value:function(){ec(ac(n.prototype),"componentWillUnmount",this).call(this),this._resetModel()}},{key:"render",value:function(){var e=this._getViewerType(this.props.file);return a.a.createElement(l.a,{onBlur:this.onToggleFocus(!1),onFocus:this.onToggleFocus(!0)},a.a.createElement("div",{key:this.props.file.id,className:"fs-figshare-viewer"},this.renderControls(e),this.renderDisplay(e)))}},{key:"renderDisplay",value:function(e){var t=Eo(e),n=this.props,r=n.flux,o=n.width,i=n.height,s=n.showControls,f=n.mode,c=this.state.model&&this.state.model._id,l=i;return ui[e]&&(l-=this.state.ctrlHeight?this.state.ctrlHeight:38),a.a.createElement(t,{key:c,flux:r,focused:this.state.focused,maxHeight:l,maxWidth:o,mode:f,showControls:s})}},{key:"renderControls",value:function(e){var t=ui[e]||null;return t&&this.props.showControls?a.a.createElement("div",{ref:this.controlsRef,className:"fs-controls-wrapper"},a.a.createElement(t,{flux:this.props.flux,mode:this.props.mode})):null}},{key:"_updateViewerHeight",value:function(){if(this.controlsNode){var e=this.controlsNode.offsetHeight;this.state.ctrlHeight!==e&&this.setState({ctrlHeight:e})}}},{key:"_getViewerType",value:function(e){return(e.virusScanInfo||{}).virus_found?"":e.viewerType}},{key:"_updateModel",value:function(e){var t=function(e,t){return Kf[e]?new(0,Kf[e])(t):null}(this._getViewerType(e),e);return t&&(t.on("load",this.handle("onModelChange")),t.on("change",this.handle("onModelChange")),t.on("error",this.handle("onModelChange"))),this.props.flux.getActions("DisplayModel").setModel(t),t}},{key:"_resetModel",value:function(){var e=this.state.model;e&&(e.removeListener("load",this.handle("onModelChange")),e.removeListener("change",this.handle("onModelChange")),e.removeListener("error",this.handle("onModelChange")),e.reset())}},{key:"onModelChange",value:function(){var e=this.props.flux.getActions("DisplayModel");e.updateModel(),this.props.trackFileViews&&e.registerFileView(this.props.file)}}]),n}(c.a);sc(fc,"propTypes",{file:o.a.object.isRequired,height:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool,trackFileViews:o.a.bool,width:o.a.number}),sc(fc,"defaultProps",{height:void 0,mode:void 0,showControls:!1,trackFileViews:!1,width:void 0}),fc.defaultProps={showControls:!0,mode:"desktop"};var cc=function(e){tc(n,e);var t=rc(n);function n(){var e;Jf(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={flux:new k},e}return $f(n,[{key:"render",value:function(){return a.a.createElement(fc,Yf({},this.props,{flux:this.state.flux}))}}]),n}(a.a.Component)},377:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="".concat("https://widgets.figshare.com","/stats.gif"),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._registry=[]}var t,n,i;return t=e,(n=[{key:"trackOnce",value:function(){var e=this._encode.apply(this,arguments);this._isEventRegistered(e)||this._register(e)}},{key:"track",value:function(){var e=this._encode.apply(this,arguments);this._register(e)}},{key:"_encode",value:function(e,t,n){return window.btoa(JSON.stringify({eventType:e,itemType:t,itemId:n}))}},{key:"_isEventRegistered",value:function(e){return this._registry.includes(e)}},{key:"_register",value:function(e){var t=this,n=new Image;n.addEventListener("load",(function(){t._registry.push(e)})),n.src="".concat(o,"?data=").concat(e)}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=new i},379:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=4,o=1e4,i={id:"figshare-datacite",title:"DataCite",style:"figshare-datacite"},a="https://doi.org/",s="https://hdl.handle.net/"},380:function(e,t,n){"use strict";function r(e){var t=null,n=null;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}function o(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},381:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(364);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u={enumerable:!1,writable:!0};function h(e,t){return t?"".concat(e,"?private_link=").concat(t):e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,o=s(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),t=o.call(this,e),Object.defineProperties(c(t),{isError:u,isComputingMd5:u,isUploading:u,upload:u,browserFile:u,article:u,replacingFile:u}),t}return t=f,(n=[{key:"isComplete",get:function(){return this.id&&"created"!==this.status}},{key:"isCreated",get:function(){return!!this.id}},{key:"progress",get:function(){return this.upload?this.upload.progress:null}},{key:"getPreviewKeyUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.previewMeta.key;return[this.previewMeta.baseUrl,e].join("/")}},{key:"getPreviewBinUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.previewMeta.binaryKey,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.token,n=[this.previewMeta.baseUrl,e].join("/");return h(n,t)}}])&&i(t.prototype,n),r&&i(t,r),f}(r.a)},382:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a}));var i=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r(this,e),this._size=Number(n)||0,i.forEach((function(e,n){Object.defineProperty(t,"sizeIn".concat(e.toUpperCase()),{get:function(){return t.format(n)}})}))}var t,n,a;return t=e,(n=[{key:"size",get:function(){return this.format()}},{key:"value",value:function(e){return this._compute(e).size}},{key:"unit",value:function(e){return this._compute(e).suffix}},{key:"format",value:function(e){var t=this._compute(e),n=t.size,r=t.suffix;return"".concat(n," ").concat(r)}},{key:"_compute",value:function(e){var t=e||this._autoExponent(),n=i[t],r=this._toExponent(t),o=Math.pow(10,t?2:0);return{size:r=Math.floor(r*o)/o,suffix:n}}},{key:"_toExponent",value:function(e){return this._size/Math.pow(1024,e)}},{key:"_autoExponent",value:function(){return this._size?Math.floor(Math.log(this._size)/Math.log(1024)):0}}])&&o(t.prototype,n),a&&o(t,a),e}();t.b=a},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(368);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){return"/public/collections/".concat(e)},h=function(e,t){return"/public/collections/".concat(e,"/versions/").concat(t)},p=function(e){return"/public/collections/".concat(e,"/stats")},d=function(e){return"/public/collections/by-resource/".concat(e)},g=function(e){return"/public/collections/by-resource-doi/".concat(e)},y=function(e,t){return"/public/collections/by-resource-doi/".concat(e,"?institution=").concat(t)},v=function(e){return"/public/collections/by-doi/".concat(e)},m=function(e){return"/public/collections/".concat(e,"/articles")},b=function(e,t){return"/public/collections/".concat(e,"/versions/").concat(t,"/articles")},w=function(e){return"/public/collections/".concat(e,"/files")},x=function(e){return"/public/articles/".concat(e)},O=function(e,t){return"/public/articles/".concat(e,"/versions/").concat(t)},k=function(e){return"/public/articles/".concat(e,"/stats")},E=function(e){return"/public/articles/by-doi/".concat(e)},S=function(e){return"/public/articles/by-resource-doi/".concat(e)},j=function(e){return"/public/articles/".concat(e,"/files")},_=function(e,t){return"/public/articles/".concat(e,"/versions/").concat(t,"/files")},A=function(e){return"/public/related-content/".concat(e)},C="/citation_styles",P=function(e,t){return"/public/articles/".concat(e,"/citation/").concat(t)},R=function(e,t){return"/public/collections/".concat(e,"/citation/").concat(t)},N="public/files",T="public/files/count",D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,o=f(c);function c(){return i(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"getCollection",value:function(e){var t=e.id,n=e.doi,r=e.institution,o=e.resource,i=e.resourceDOI,a=e.version,s=void 0;return t?s=a?h(t,a):u(t):n?s=v(n):o?s=d(o):i&&(s=r?y(i,r):g(i)),this.get({url:s}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionStats",value:function(e){var t=p(e);return this.get({url:t}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionArticles",value:function(e,t){var n=e.id,r=e.version,o=r?b(n,r):m(n);return this.get({url:o,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticle",value:function(e,t){var n=e.id,r=e.doi,o=e.resourceDOI,i=e.version,a=void 0;return n?a=i?O(n):x(n):r?a=E(r):o&&(a=S(o)),this.get({url:a,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticleStats",value:function(e){var t=k(e);return this.get({url:t}).then(this._successHandler,this._errorHandler)}},{key:"getArticleFiles",value:function(e,t){var n=e.id,r=e.version,o=r?_(n,r):j(n);return this.get({url:o,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionFiles",value:function(e){var t=e.id,n=w(t);return this.get({url:n}).then(this._successHandler,this._errorHandler)}},{key:"getRelatedArticles",value:function(e,t){var n=e.doi,r=A(n);return this.get({url:r,query:t}).then(this._successHandler,this._errorHandler)}},{key:"getCitations",value:function(e){var t=e.search,n=e.limit,r=e.offset,o=e.only,i=e.ignore,a=C,s={search:t,limit:n,offset:r,only:o,ignore:i};return this.get({url:a,query:s}).then(this._successHandler,this._errorHandler)}},{key:"getArticlePublicCitation",value:function(e){var t=e.id,n=e.styleId,r=P(t,n);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionPublicCitation",value:function(e){var t=e.id,n=e.styleId,r=R(t,n);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getFiles",value:function(e){var t=e.article,n=e.collection,r=e.limit,o=e.offset,i=N,a={limit:r,offset:o};if(t){var s=t.id,f=t.doi,c=t.resourceDOI;s?a.articleId=s:f?a.articleDOI=f:c&&(a.articleResourceDOI=c)}if(n){var l=n.id,u=n.doi,h=n.resourceDOI;l?a.collectionId=l:u?a.collectionDOI=u:h&&(a.collectionResourceDOI=h)}return this.get({url:i,query:a}).then(this._successHandler,this._errorHandler)}},{key:"getFilesCount",value:function(e){var t=e.article,n=e.collection,r=T,o={};if(t){var i=t.id,a=t.doi,s=t.resourceDOI;i?o.articleId=i:a?o.articleDOI=a:s&&(o.articleResourceDOI=s)}if(n){var f=n.id,c=n.doi,l=n.resourceDOI;f?o.collectionId=f:c?o.collectionDOI=c:l&&(o.collectionResourceDOI=l)}return this.get({url:r,query:o}).then(this._successHandler,this._errorHandler)}}])&&a(t.prototype,n),r&&a(t,r),c}(r.b)},384:function(e,t,n){"use strict";var r=n(374);t.a=r.a},385:function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,f=r.pop(),c=a(r),l=e.apply(void 0,[function(){return s++,f.apply(null,arguments)}].concat(n)),u=i((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=f,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var f=t.createSelector=s(i)},386:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["useWindow","threshold","wrapperRef","onBottomReached","onScroll","onTopReached","as"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=d(i);function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(y(e=o.call.apply(o,[this].concat(n))),"node",null),m(y(e),"onSetNode",(function(t){e.node=t,e.props.wrapperRef(t)})),m(y(e),"onScroll",(function(t){t&&e.props.onScroll();var n=e.props,r=n.useWindow,o=n.threshold,i=n.onBottomReached,a=n.onTopReached;r&&(e.node=document.documentElement||document.body.parentNode||document.body);var s=e.node.scrollTop,f=e.node.scrollHeight-s-e.node.clientHeight;f<=o&&i(f),s<=o&&a(e.node.scrollTop)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.attachScrollListener(this.props.useWindow),this.onScroll()}},{key:"componentDidUpdate",value:function(e){var t=e.useWindow;this.props.useWindow!==t&&(this.detachScrollListener(t),this.attachScrollListener(this.props.useWindow))}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(this.props.useWindow)}},{key:"render",value:function(){var e=this.props,t=(e.useWindow,e.threshold,e.wrapperRef,e.onBottomReached,e.onScroll,e.onTopReached,e.as),n=l(e,f),r=t;return a.a.createElement(r,c({ref:this.onSetNode},n))}},{key:"attachScrollListener",value:function(e){e&&(this.node=window),this.node.addEventListener("scroll",this.onScroll)}},{key:"detachScrollListener",value:function(e){e&&(this.node=window),this.node.removeEventListener("scroll",this.onScroll)}}])&&h(t.prototype,n),r&&h(t,r),i}(i.Component);m(b,"propTypes",{as:o.a.any,threshold:o.a.number,useWindow:o.a.bool,wrapperRef:o.a.func,onBottomReached:o.a.func,onScroll:o.a.func,onTopReached:o.a.func}),m(b,"defaultProps",{as:"div",useWindow:!1,threshold:0,wrapperRef:function(){},onBottomReached:function(){},onScroll:function(){},onTopReached:function(){}})},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=["#566471","#A2CD3C","#C54C59","#5BC4BD"],y=["#58585a","#d1d2d4","#818286","#a8a9ad"],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=u(i);function i(){return f(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.grayscale?y:g,t="\n        .style0 {fill: ".concat(e[0],";}\n        .style1 {fill: ").concat(e[1],";}\n        .style2 {fill: ").concat(e[2],";}\n        .style3 {fill: ").concat(e[3],";}\n    ");return a.a.createElement("div",{"aria-hidden":!0,className:"fs-logo"},a.a.createElement("svg",{"aria-hidden":!0,className:"figshare-logo",focusable:!1,height:"36px",role:"img",viewBox:"0 0 14 14",width:"36px"},a.a.createElement("style",{dangerouslySetInnerHTML:{__html:t},type:"text/css"}),a.a.createElement("g",{className:"group-1"},a.a.createElement("path",{className:"style3",d:"M5.578 0.72C5.679 1 5.5 1.4 5.2 1.461C4.892 1.6 4.6 1.4 4.5 1.1 c-0.102-0.309 0.068-0.641 0.377-0.74C5.146 0.2 5.5 0.4 5.6 0.7"}),a.a.createElement("path",{className:"style3",d:"M4.987 1.953C5.11 2.2 5 2.5 4.8 2.621C4.525 2.7 4.2 2.6 4.1 2.4 C3.978 2.2 4.1 1.9 4.3 1.737C4.562 1.6 4.9 1.7 5 2"}),a.a.createElement("path",{className:"style3",d:"M4.686 3.109c0.134 0.2 0.1 0.443-0.092 0.577C4.408 3.8 4.2 3.8 4 3.6 C3.882 3.4 3.9 3.2 4.1 3.018C4.292 2.9 4.6 2.9 4.7 3.1"}),a.a.createElement("path",{className:"style3",d:"M4.588 4.099c0.135 0.1 0.1 0.4 0 0.487c-0.135 0.136-0.354 0.136-0.488 0 C3.966 4.5 4 4.2 4.1 4.1S4.453 4 4.6 4.1"}),a.a.createElement("path",{className:"style3",d:"M4.655 4.943c0.127 0.1 0.2 0.3 0.1 0.398C4.625 5.5 4.4 5.5 4.3 5.4 S4.165 5.1 4.3 5.007C4.35 4.9 4.5 4.9 4.7 4.9"}),a.a.createElement("path",{className:"style3",d:"M4.83 5.631C4.945 5.7 5 5.8 4.9 5.946C4.874 6.1 4.7 6.1 4.6 6 c-0.115-0.059-0.161-0.2-0.103-0.315C4.574 5.6 4.7 5.6 4.8 5.6"})),a.a.createElement("g",{className:"group-2"},a.a.createElement("path",{className:"style0",d:"M3.708 1.467c0.19 0.3 0.1 0.631-0.131 0.821c-0.263 0.191-0.631 0.133-0.822-0.13 c-0.19-0.264-0.132-0.631 0.131-0.822C3.148 1.1 3.5 1.2 3.7 1.5"}),a.a.createElement("path",{className:"style0",d:"M3.526 2.823c0.193 0.2 0.2 0.5 0 0.702c-0.195 0.193-0.509 0.193-0.703 0 C2.63 3.3 2.6 3 2.8 2.823C3.018 2.6 3.3 2.6 3.5 2.8"}),a.a.createElement("path",{className:"style0",d:"M3.596 4.015c0.186 0.1 0.2 0.4 0.1 0.578S3.295 4.8 3.1 4.7 C2.926 4.5 2.9 4.3 3 4.107C3.152 3.9 3.4 3.9 3.6 4"}),a.a.createElement("path",{className:"style0",d:"M3.81 4.986C3.979 5.1 4 5.3 4 5.451C3.873 5.6 3.7 5.7 3.5 5.6 C3.327 5.5 3.3 5.3 3.3 5.138C3.432 5 3.6 4.9 3.8 5"}),a.a.createElement("path",{className:"style0",d:"M4.135 5.769c0.149 0 0.2 0.2 0.2 0.359C4.27 6.3 4.1 6.4 4 6.3 c-0.15-0.049-0.231-0.21-0.184-0.359C3.824 5.8 4 5.7 4.1 5.8"}),a.a.createElement("path",{className:"style0",d:"M4.513 6.367c0.13 0 0.2 0.1 0.2 0.271c-0.021 0.126-0.14 0.213-0.267 0.2 c-0.129-0.021-0.217-0.14-0.196-0.269C4.267 6.4 4.4 6.3 4.5 6.4"})),a.a.createElement("g",{className:"group-3"},a.a.createElement("path",{className:"style2",d:"M2.158 2.755c0.264 0.2 0.3 0.6 0.1 0.821C2.098 3.8 1.7 3.9 1.5 3.7 c-0.262-0.19-0.321-0.559-0.131-0.82C1.527 2.6 1.9 2.6 2.2 2.8"}),a.a.createElement("path",{className:"style2",d:"M2.405 4.101c0.244 0.1 0.3 0.4 0.2 0.668C2.498 5 2.2 5.1 2 5 C1.71 4.9 1.6 4.6 1.7 4.318C1.862 4.1 2.2 4 2.4 4.1"}),a.a.createElement("path",{className:"style2",d:"M2.84 5.214c0.219 0.1 0.3 0.3 0.3 0.521S2.802 6.1 2.6 6 c-0.217-0.07-0.336-0.304-0.265-0.521C2.39 5.3 2.6 5.1 2.8 5.2"}),a.a.createElement("path",{className:"style2",d:"M3.343 6.071C3.531 6.1 3.7 6.3 3.6 6.466S3.424 6.8 3.2 6.8 C3.048 6.7 2.9 6.5 2.9 6.357C2.979 6.2 3.2 6 3.3 6.1"}),a.a.createElement("path",{className:"style2",d:"M3.895 6.714c0.157 0 0.3 0.1 0.3 0.285c0 0.157-0.128 0.285-0.285 0.3 C3.737 7.3 3.6 7.2 3.6 6.999C3.609 6.8 3.7 6.7 3.9 6.7"}),a.a.createElement("path",{className:"style2",d:"M4.44 7.168c0.128-0.021 0.2 0.1 0.3 0.194C4.729 7.5 4.6 7.6 4.5 7.6 C4.386 7.7 4.3 7.6 4.2 7.436S4.312 7.2 4.4 7.2"})),a.a.createElement("g",{className:"group-4"},a.a.createElement("path",{className:"style1",d:"M1.084 4.458C1.393 4.6 1.6 4.9 1.5 5.2C1.361 5.5 1 5.7 0.7 5.6 c-0.31-0.1-0.479-0.432-0.378-0.741C0.443 4.5 0.8 4.4 1.1 4.5"}),a.a.createElement("path",{className:"style1",d:"M1.735 5.662C2.006 5.7 2.2 6 2.1 6.231C2.104 6.5 1.9 6.7 1.6 6.6 S1.124 6.3 1.2 6.075C1.21 5.8 1.5 5.6 1.7 5.7"}),a.a.createElement("path",{className:"style1",d:"M2.492 6.586c0.229 0 0.4 0.2 0.4 0.413c0 0.229-0.186 0.414-0.414 0.414S2.079 7.2 2.1 7 C2.078 6.8 2.3 6.6 2.5 6.6"}),a.a.createElement("path",{className:"style1",d:"M3.234 7.247c0.189-0.03 0.4 0.1 0.4 0.286c0.03 0.188-0.099 0.364-0.287 0.4 C3.155 8 3 7.8 2.9 7.641C2.92 7.5 3 7.3 3.2 7.2"}),a.a.createElement("path",{className:"style1",d:"M3.959 7.688C4.108 7.6 4.3 7.7 4.3 7.871C4.366 8 4.3 8.2 4.1 8.2 c-0.15 0.049-0.311-0.032-0.359-0.182C3.728 7.9 3.8 7.7 4 7.7"}),a.a.createElement("path",{className:"style1",d:"M4.619 7.95c0.114-0.059 0.255-0.013 0.3 0.103S4.945 8.3 4.8 8.4 C4.715 8.4 4.6 8.4 4.5 8.266C4.456 8.1 4.5 8 4.6 8"})),a.a.createElement("g",{className:"group-5"},a.a.createElement("path",{className:"style3",d:"M0.588 6.411c0.325 0 0.6 0.3 0.6 0.588c0 0.325-0.264 0.589-0.589 0.589S0 7.3 0 7 C0 6.7 0.3 6.4 0.6 6.4"}),a.a.createElement("path",{className:"style3",d:"M1.579 7.355C1.85 7.3 2.1 7.5 2.1 7.768C2.19 8 2 8.3 1.7 8.3 C1.464 8.4 1.2 8.2 1.2 7.924C1.124 7.7 1.3 7.4 1.6 7.4"}),a.a.createElement("path",{className:"style3",d:"M2.584 7.999c0.218-0.071 0.5 0 0.5 0.266C3.176 8.5 3.1 8.7 2.8 8.8 C2.623 8.9 2.4 8.7 2.3 8.521C2.248 8.3 2.4 8.1 2.6 8"}),a.a.createElement("path",{className:"style3",d:"M3.496 8.397c0.17-0.087 0.378-0.019 0.5 0.151c0.087 0.2 0 0.377-0.151 0.5 C3.64 9.1 3.4 9 3.3 8.861C3.259 8.7 3.3 8.5 3.5 8.4"}),a.a.createElement("path",{className:"style3",d:"M4.32 8.594C4.447 8.5 4.6 8.5 4.7 8.657c0.092 0.1 0.1 0.306-0.063 0.4 C4.527 9.1 4.3 9.1 4.3 8.992C4.165 8.9 4.2 8.7 4.3 8.6"}),a.a.createElement("path",{className:"style3",d:"M5.028 8.64c0.091-0.092 0.239-0.091 0.3 0c0.092 0.1 0.1 0.2 0 0.3 c-0.092 0.091-0.239 0.092-0.331 0S4.937 8.7 5 8.6"})),a.a.createElement("g",{className:"group-6"},a.a.createElement("path",{className:"style0",d:"M0.721 8.422C1.029 8.3 1.4 8.5 1.5 8.799c0.1 0.31-0.069 0.641-0.378 0.741S0.443 9.5 0.3 9.2 C0.242 8.9 0.4 8.5 0.7 8.4"}),a.a.createElement("path",{className:"style0",d:"M1.954 9.013C2.198 8.9 2.5 9 2.6 9.23c0.124 0.2 0 0.543-0.218 0.7 c-0.244 0.125-0.544 0.027-0.668-0.217S1.71 9.1 2 9"}),a.a.createElement("path",{className:"style0",d:"M3.109 9.313C3.295 9.2 3.6 9.2 3.7 9.406C3.822 9.6 3.8 9.8 3.6 10 c-0.184 0.135-0.443 0.095-0.577-0.091C2.884 9.7 2.9 9.4 3.1 9.3"}),a.a.createElement("path",{className:"style0",d:"M4.1 9.412c0.135-0.135 0.354-0.135 0.5 0s0.135 0.4 0 0.487s-0.354 0.135-0.488 0 C3.966 9.8 4 9.5 4.1 9.4"}),a.a.createElement("path",{className:"style0",d:"M5.405 9.679C5.313 9.8 5.1 9.8 5 9.742C4.88 9.7 4.9 9.5 4.9 9.3 c0.093-0.128 0.271-0.156 0.398-0.063C5.469 9.4 5.5 9.6 5.4 9.7"}),a.a.createElement("path",{className:"style0",d:"M6.05 9.382c-0.059 0.115-0.2 0.161-0.315 0.103C5.618 9.4 5.6 9.3 5.6 9.2 C5.69 9.1 5.8 9 5.9 9.066C6.062 9.1 6.1 9.3 6 9.4"})),a.a.createElement("g",{className:"group-7"},a.a.createElement("path",{className:"style2",d:"M1.467 10.292c0.264-0.19 0.631-0.133 0.8 0.13s0.133 0.631-0.131 0.8 c-0.263 0.191-0.63 0.132-0.82-0.13C1.146 10.9 1.2 10.5 1.5 10.3"}),a.a.createElement("path",{className:"style2",d:"M2.824 10.474c0.193-0.194 0.507-0.194 0.7 0c0.193 0.2 0.2 0.5 0 0.7 c-0.195 0.193-0.509 0.193-0.702 0C2.63 11 2.6 10.7 2.8 10.5"}),a.a.createElement("path",{className:"style2",d:"M4.686 10.89c-0.135 0.185-0.394 0.226-0.579 0.092c-0.184-0.135-0.225-0.394-0.091-0.578 c0.135-0.185 0.393-0.227 0.578-0.092C4.778 10.4 4.8 10.7 4.7 10.9"}),a.a.createElement("path",{className:"style2",d:"M5.603 10.502c-0.088 0.171-0.295 0.238-0.465 0.151c-0.169-0.087-0.236-0.293-0.15-0.464 c0.086-0.169 0.294-0.236 0.464-0.15C5.62 10.1 5.7 10.3 5.6 10.5"}),a.a.createElement("path",{className:"style2",d:"M6.312 10.041c-0.049 0.149-0.209 0.231-0.359 0.184c-0.15-0.049-0.231-0.21-0.183-0.36 c0.049-0.149 0.21-0.23 0.358-0.183C6.278 9.7 6.4 9.9 6.3 10"}),a.a.createElement("path",{className:"style2",d:"M6.833 9.559C6.812 9.7 6.7 9.8 6.6 9.754C6.436 9.7 6.3 9.6 6.4 9.5 c0.021-0.129 0.141-0.216 0.27-0.195C6.765 9.3 6.9 9.4 6.8 9.6"})),a.a.createElement("g",{className:"group-8"},a.a.createElement("path",{className:"style1",d:"M3.708 12.532c-0.192 0.263-0.56 0.32-0.822 0.13s-0.321-0.559-0.131-0.821 c0.191-0.264 0.56-0.321 0.822-0.131C3.84 11.9 3.9 12.3 3.7 12.5"}),a.a.createElement("path",{className:"style1",d:"M4.102 11.594c0.125-0.243 0.424-0.341 0.668-0.217c0.245 0.1 0.3 0.4 0.2 0.7 s-0.423 0.341-0.668 0.217C4.074 12.1 4 11.8 4.1 11.6"}),a.a.createElement("path",{className:"style1",d:"M6.001 11.415c-0.071 0.217-0.304 0.336-0.521 0.266c-0.218-0.071-0.336-0.305-0.266-0.522 c0.07-0.217 0.304-0.335 0.521-0.265S6.071 11.2 6 11.4"}),a.a.createElement("path",{className:"style1",d:"M6.753 10.764c-0.03 0.188-0.207 0.316-0.395 0.286c-0.188-0.029-0.316-0.206-0.286-0.394 c0.029-0.188 0.206-0.316 0.395-0.287C6.654 10.4 6.8 10.6 6.8 10.8"}),a.a.createElement("path",{className:"style1",d:"M7.285 10.105c0 0.157-0.127 0.284-0.285 0.284c-0.157 0-0.285-0.127-0.285-0.284 C6.715 9.9 6.8 9.8 7 9.82C7.158 9.8 7.3 9.9 7.3 10.1"}),a.a.createElement("path",{className:"style1",d:"M7.631 9.486c0.021 0.127-0.065 0.247-0.194 0.268C7.309 9.8 7.2 9.7 7.2 9.6 c-0.02-0.128 0.066-0.248 0.194-0.269C7.491 9.3 7.6 9.4 7.6 9.5"})),a.a.createElement("g",{className:"group-9"},a.a.createElement("path",{className:"style3",d:"M5.578 13.278c-0.1 0.31-0.433 0.479-0.741 0.378c-0.31-0.101-0.479-0.432-0.377-0.741 c0.1-0.309 0.432-0.478 0.74-0.377C5.51 12.6 5.7 13 5.6 13.3"}),a.a.createElement("path",{className:"style3",d:"M5.664 12.266c0.043-0.271 0.298-0.457 0.568-0.414c0.27 0 0.5 0.3 0.4 0.6 c-0.042 0.271-0.297 0.456-0.567 0.412C5.806 12.8 5.6 12.5 5.7 12.3"}),a.a.createElement("path",{className:"style3",d:"M7.413 11.508c0 0.228-0.185 0.414-0.413 0.414s-0.413-0.187-0.413-0.414c0-0.229 0.185-0.414 0.413-0.414 S7.413 11.3 7.4 11.5"}),a.a.createElement("path",{className:"style3",d:"M7.928 10.656c0.03 0.188-0.099 0.364-0.286 0.395c-0.188 0.03-0.364-0.1-0.394-0.287 c-0.03-0.188 0.099-0.364 0.285-0.394C7.722 10.3 7.9 10.5 7.9 10.7"}),a.a.createElement("path",{className:"style3",d:"M8.231 9.864c0.048 0.15-0.034 0.312-0.184 0.36c-0.149 0.048-0.311-0.034-0.358-0.184 C7.64 9.9 7.7 9.7 7.9 9.682C8.021 9.6 8.2 9.7 8.2 9.9"}),a.a.createElement("path",{className:"style3",d:"M8.369 9.169c0.059 0.1 0 0.257-0.104 0.315C8.151 9.5 8 9.5 8 9.4 S7.938 9.1 8.1 9.066C8.169 9 8.3 9.1 8.4 9.2"})),a.a.createElement("g",{className:"group-10"},a.a.createElement("path",{className:"style0",d:"M7.589 13.411C7.589 13.7 7.3 14 7 14s-0.588-0.264-0.588-0.589c0-0.324 0.263-0.589 0.588-0.589 S7.589 13.1 7.6 13.4"}),a.a.createElement("path",{className:"style0",d:"M7.356 12.42c-0.043-0.271 0.142-0.524 0.413-0.568c0.27-0.043 0.5 0.1 0.6 0.4 c0.043 0.271-0.141 0.524-0.412 0.566C7.653 12.9 7.4 12.7 7.4 12.4"}),a.a.createElement("path",{className:"style0",d:"M8.787 11.158c0.07 0.218-0.049 0.451-0.267 0.522C8.304 11.8 8.1 11.6 8 11.4 c-0.07-0.218 0.048-0.451 0.265-0.521C8.482 10.8 8.7 10.9 8.8 11.2"}),a.a.createElement("path",{className:"style0",d:"M9.012 10.189c0.088 0.2 0 0.377-0.149 0.464c-0.17 0.087-0.377 0.02-0.465-0.15 c-0.085-0.17-0.019-0.377 0.151-0.463C8.719 10 8.9 10 9 10.2"}),a.a.createElement("path",{className:"style0",d:"M9.056 9.345C9.149 9.5 9.1 9.7 9 9.742C8.866 9.8 8.7 9.8 8.6 9.7 C8.503 9.6 8.5 9.4 8.7 9.281C8.785 9.2 9 9.2 9.1 9.3"}),a.a.createElement("path",{className:"style0",d:"M8.972 8.64c0.092 0.1 0.1 0.2 0 0.332c-0.091 0.092-0.239 0.092-0.331 0 c-0.092-0.091-0.092-0.24 0-0.332S8.88 8.5 9 8.6"})),a.a.createElement("g",{className:"group-11"},a.a.createElement("path",{className:"style2",d:"M9.542 12.915c0.1 0.31-0.07 0.641-0.379 0.741s-0.642-0.068-0.741-0.378 c-0.101-0.309 0.069-0.64 0.378-0.74C9.109 12.4 9.4 12.6 9.5 12.9"}),a.a.createElement("path",{className:"style2",d:"M9.897 11.594c0.125 0.2 0 0.544-0.216 0.668c-0.244 0.124-0.544 0.027-0.668-0.217 C8.889 11.8 9 11.5 9.2 11.377C9.475 11.3 9.8 11.4 9.9 11.6"}),a.a.createElement("path",{className:"style2",d:"M9.984 10.403c0.135 0.2 0.1 0.443-0.091 0.578c-0.186 0.134-0.444 0.093-0.578-0.092 c-0.135-0.185-0.093-0.444 0.091-0.578C9.591 10.2 9.9 10.2 10 10.4"}),a.a.createElement("path",{className:"style2",d:"M9.9 9.412c0.134 0.1 0.1 0.4 0 0.487c-0.135 0.135-0.354 0.135-0.487 0 c-0.136-0.135-0.136-0.353 0-0.487C9.547 9.3 9.8 9.3 9.9 9.4"}),a.a.createElement("path",{className:"style2",d:"M9.68 8.594c0.128 0.1 0.2 0.3 0.1 0.398C9.651 9.1 9.5 9.1 9.3 9.1 C9.218 9 9.2 8.8 9.3 8.657S9.553 8.5 9.7 8.6"}),a.a.createElement("path",{className:"style2",d:"M9.383 7.95c0.115 0.1 0.2 0.2 0.1 0.314c-0.059 0.116-0.2 0.162-0.315 0.1 c-0.115-0.06-0.161-0.201-0.103-0.315C9.126 7.9 9.3 7.9 9.4 8"})),a.a.createElement("g",{className:"group-12"},a.a.createElement("path",{className:"style1",d:"M11.245 11.841c0.19 0.3 0.1 0.631-0.13 0.821c-0.264 0.191-0.631 0.133-0.822-0.13 s-0.134-0.631 0.13-0.822C10.686 11.5 11.1 11.6 11.2 11.8"}),a.a.createElement("path",{className:"style1",d:"M11.177 10.474c0.194 0.2 0.2 0.5 0 0.702c-0.195 0.193-0.508 0.193-0.702 0 c-0.194-0.194-0.194-0.508 0-0.702C10.669 10.3 11 10.3 11.2 10.5"}),a.a.createElement("path",{className:"style1",d:"M10.89 9.313c0.186 0.1 0.2 0.4 0.1 0.579c-0.134 0.186-0.392 0.226-0.577 0.1 c-0.186-0.134-0.227-0.393-0.092-0.577S10.706 9.2 10.9 9.3"}),a.a.createElement("path",{className:"style1",d:"M10.504 8.397c0.17 0.1 0.2 0.3 0.1 0.464c-0.086 0.17-0.294 0.237-0.463 0.2 c-0.17-0.087-0.238-0.295-0.151-0.465C10.127 8.4 10.3 8.3 10.5 8.4"}),a.a.createElement("path",{className:"style1",d:"M10.042 7.688c0.149 0 0.2 0.2 0.2 0.359c-0.047 0.149-0.208 0.23-0.358 0.2 C9.717 8.2 9.6 8 9.7 7.871C9.731 7.7 9.9 7.6 10 7.7"}),a.a.createElement("path",{className:"style1",d:"M9.56 7.168c0.129 0 0.2 0.1 0.2 0.268C9.733 7.6 9.6 7.7 9.5 7.6 C9.358 7.6 9.3 7.5 9.3 7.362S9.433 7.1 9.6 7.2"})),a.a.createElement("g",{className:"group-13"},a.a.createElement("path",{className:"style3",d:"M12.533 10.292c0.263 0.2 0.3 0.6 0.1 0.822c-0.19 0.262-0.558 0.321-0.821 0.1 c-0.264-0.19-0.322-0.56-0.131-0.822C11.902 10.2 12.3 10.1 12.5 10.3"}),a.a.createElement("path",{className:"style3",d:"M12.046 9.013c0.244 0.1 0.3 0.4 0.2 0.668c-0.125 0.244-0.424 0.342-0.668 0.2 c-0.244-0.124-0.342-0.423-0.217-0.667S11.802 8.9 12 9"}),a.a.createElement("path",{className:"style3",d:"M11.416 7.999c0.216 0.1 0.3 0.3 0.3 0.521c-0.07 0.217-0.304 0.336-0.521 0.3 c-0.218-0.069-0.336-0.304-0.267-0.521C10.965 8 11.2 7.9 11.4 8"}),a.a.createElement("path",{className:"style3",d:"M10.765 7.247c0.188 0 0.3 0.2 0.3 0.394c-0.029 0.188-0.206 0.316-0.395 0.3 c-0.188-0.03-0.315-0.206-0.286-0.394C10.399 7.3 10.6 7.2 10.8 7.2"}),a.a.createElement("path",{className:"style3",d:"M10.105 6.714c0.158 0 0.3 0.1 0.3 0.285c0 0.157-0.127 0.285-0.285 0.3 C9.948 7.3 9.8 7.2 9.8 6.999C9.821 6.8 9.9 6.7 10.1 6.7"}),a.a.createElement("path",{className:"style3",d:"M9.486 6.368c0.128-0.02 0.2 0.1 0.3 0.195c0.02 0.128-0.067 0.247-0.195 0.3 c-0.127 0.02-0.248-0.066-0.268-0.194C9.271 6.5 9.4 6.4 9.5 6.4"})),a.a.createElement("g",{className:"group-14"},a.a.createElement("path",{className:"style0",d:"M13.279 8.422c0.31 0.1 0.5 0.4 0.4 0.741c-0.101 0.309-0.432 0.478-0.741 0.4 c-0.309-0.101-0.478-0.432-0.378-0.741C12.64 8.5 13 8.3 13.3 8.4"}),a.a.createElement("path",{className:"style0",d:"M12.422 7.355c0.271 0 0.5 0.3 0.4 0.568c-0.043 0.271-0.297 0.455-0.567 0.4 c-0.271-0.043-0.456-0.298-0.414-0.568C11.896 7.5 12.2 7.3 12.4 7.4"}),a.a.createElement("path",{className:"style0",d:"M11.508 6.586c0.229 0 0.4 0.2 0.4 0.413c0 0.229-0.185 0.414-0.414 0.4 c-0.228 0-0.413-0.185-0.413-0.414C11.095 6.8 11.3 6.6 11.5 6.6"}),a.a.createElement("path",{className:"style0",d:"M10.657 6.071c0.188-0.03 0.4 0.1 0.4 0.286c0.03 0.188-0.099 0.365-0.286 0.4 c-0.188 0.03-0.365-0.099-0.395-0.286S10.469 6.1 10.7 6.1"}),a.a.createElement("path",{className:"style0",d:"M9.865 5.769c0.15-0.049 0.3 0 0.4 0.183c0.049 0.149-0.032 0.311-0.182 0.4 S9.731 6.3 9.7 6.128S9.717 5.8 9.9 5.8"}),a.a.createElement("path",{className:"style0",d:"M9.17 5.631c0.115-0.059 0.256-0.013 0.3 0.102C9.545 5.8 9.5 6 9.4 6 C9.269 6.1 9.1 6.1 9.1 5.946C9.009 5.8 9.1 5.7 9.2 5.6"})),a.a.createElement("g",{className:"group-15"},a.a.createElement("path",{className:"style2",d:"M13.412 6.411C13.736 6.4 14 6.7 14 6.999c0 0.325-0.264 0.589-0.588 0.6 c-0.325 0-0.589-0.264-0.589-0.588C12.823 6.7 13.1 6.4 13.4 6.4"}),a.a.createElement("path",{className:"style2",d:"M12.267 5.662c0.271-0.042 0.5 0.1 0.6 0.413c0.043 0.271-0.142 0.525-0.413 0.6 c-0.271 0.043-0.524-0.142-0.567-0.412C11.811 6 12 5.7 12.3 5.7"}),a.a.createElement("path",{className:"style2",d:"M11.16 5.214c0.217-0.071 0.5 0 0.5 0.265c0.07 0.217-0.05 0.45-0.266 0.5 c-0.218 0.071-0.451-0.048-0.521-0.265S10.942 5.3 11.2 5.2"}),a.a.createElement("path",{className:"style2",d:"M10.191 4.986c0.169-0.086 0.377-0.019 0.5 0.151c0.087 0.2 0 0.377-0.15 0.5 c-0.17 0.086-0.377 0.019-0.463-0.15C9.955 5.3 10 5.1 10.2 5"}),a.a.createElement("path",{className:"style2",d:"M9.346 4.943c0.127-0.092 0.306-0.064 0.4 0.063C9.836 5.1 9.8 5.3 9.7 5.4 C9.553 5.5 9.4 5.5 9.3 5.342C9.189 5.2 9.2 5 9.3 4.9"}),a.a.createElement("path",{className:"style2",d:"M8.641 5.027c0.092-0.092 0.24-0.092 0.3 0c0.092 0.1 0.1 0.239-0.001 0.3 c-0.091 0.092-0.239 0.091-0.33 0C8.549 5.3 8.5 5.1 8.6 5"})),a.a.createElement("g",{className:"group-16"},a.a.createElement("path",{className:"style1",d:"M12.916 4.458c0.309-0.1 0.6 0.1 0.7 0.378c0.101 0.31-0.068 0.642-0.378 0.7 c-0.309 0.102-0.64-0.068-0.741-0.377C12.438 4.9 12.6 4.6 12.9 4.5"}),a.a.createElement("path",{className:"style1",d:"M11.595 4.101c0.244-0.124 0.543-0.026 0.7 0.218c0.124 0.2 0 0.542-0.218 0.7 c-0.243 0.125-0.543 0.027-0.667-0.217S11.351 4.2 11.6 4.1"}),a.a.createElement("path",{className:"style1",d:"M10.404 4.015c0.186-0.134 0.443-0.094 0.6 0.093c0.135 0.2 0.1 0.442-0.092 0.6 c-0.184 0.134-0.442 0.093-0.577-0.092S10.219 4.1 10.4 4"}),a.a.createElement("path",{className:"style1",d:"M9.413 4.1c0.134-0.135 0.353-0.136 0.5 0c0.134 0.1 0.1 0.4 0 0.5 c-0.135 0.135-0.353 0.135-0.487 0C9.277 4.5 9.3 4.2 9.4 4.1"}),a.a.createElement("path",{className:"style1",d:"M9.056 4.654C8.964 4.8 8.8 4.8 8.7 4.718C8.53 4.6 8.5 4.4 8.6 4.3 c0.091-0.128 0.271-0.155 0.397-0.063C9.12 4.3 9.1 4.5 9.1 4.7"}),a.a.createElement("path",{className:"style1",d:"M8.369 4.829c-0.06 0.115-0.2 0.162-0.315 0.103C7.938 4.9 7.9 4.7 8 4.6 c0.059-0.115 0.2-0.161 0.314-0.103C8.382 4.6 8.4 4.7 8.4 4.8"})),a.a.createElement("g",{className:"group-17"},a.a.createElement("path",{className:"style3",d:"M11.842 2.755c0.263-0.191 0.631-0.133 0.8 0.13c0.191 0.3 0.1 0.631-0.13 0.8 c-0.263 0.19-0.631 0.133-0.822-0.131C11.521 3.3 11.6 2.9 11.8 2.8"}),a.a.createElement("path",{className:"style3",d:"M10.475 2.823c0.194-0.194 0.508-0.194 0.7 0s0.194 0.5 0 0.702c-0.194 0.193-0.508 0.193-0.702 0 C10.28 3.3 10.3 3 10.5 2.8"}),a.a.createElement("path",{className:"style3",d:"M9.984 3.596C9.851 3.8 9.6 3.8 9.4 3.687C9.223 3.6 9.2 3.3 9.3 3.1 c0.134-0.186 0.393-0.227 0.578-0.092C10.078 3.2 10.1 3.4 10 3.6"}),a.a.createElement("path",{className:"style3",d:"M9.013 3.809c-0.086 0.17-0.294 0.237-0.464 0.15C8.38 3.9 8.3 3.7 8.4 3.5 c0.086-0.17 0.293-0.236 0.462-0.15C9.031 3.4 9.1 3.6 9 3.8"}),a.a.createElement("path",{className:"style3",d:"M8.231 4.134c-0.049 0.149-0.21 0.231-0.36 0.183C7.723 4.3 7.6 4.1 7.7 4 c0.048-0.149 0.209-0.231 0.358-0.182C8.197 3.8 8.3 4 8.2 4.1"}),a.a.createElement("path",{className:"style3",d:"M7.632 4.512c-0.021 0.13-0.141 0.216-0.27 0.196C7.235 4.7 7.1 4.6 7.2 4.4 c0.021-0.129 0.141-0.217 0.269-0.196C7.563 4.3 7.7 4.4 7.6 4.5"})),a.a.createElement("g",{className:"group-18"},a.a.createElement("path",{className:"style0",d:"M11.245 2.158c-0.191 0.263-0.56 0.32-0.822 0.13c-0.264-0.19-0.321-0.559-0.13-0.821 c0.19-0.264 0.559-0.321 0.822-0.131C11.377 1.5 11.4 1.9 11.2 2.2"}),a.a.createElement("path",{className:"style0",d:"M9.014 1.953c0.124-0.244 0.424-0.341 0.668-0.216c0.244 0.1 0.3 0.4 0.2 0.7 C9.774 2.6 9.5 2.7 9.2 2.621C8.986 2.5 8.9 2.2 9 2"}),a.a.createElement("path",{className:"style0",d:"M8.787 2.84c-0.07 0.217-0.305 0.336-0.522 0.266C8.048 3 7.9 2.8 8 2.584s0.304-0.336 0.521-0.266 C8.738 2.4 8.9 2.6 8.8 2.8"}),a.a.createElement("path",{className:"style0",d:"M7.928 3.343C7.898 3.5 7.7 3.7 7.5 3.629C7.347 3.6 7.2 3.4 7.2 3.2 c0.029-0.188 0.205-0.317 0.394-0.287C7.829 3 8 3.2 7.9 3.3"}),a.a.createElement("path",{className:"style0",d:"M7.285 3.894c0 0.157-0.127 0.285-0.285 0.285c-0.157 0-0.285-0.128-0.285-0.285S6.843 3.6 7 3.6 C7.158 3.6 7.3 3.7 7.3 3.9"}),a.a.createElement("path",{className:"style0",d:"M6.832 4.439c0.02 0.128-0.066 0.248-0.195 0.269c-0.129 0.02-0.248-0.066-0.268-0.194 C6.349 4.4 6.4 4.3 6.6 4.245C6.692 4.2 6.8 4.3 6.8 4.4"})),a.a.createElement("g",{className:"group-19"},a.a.createElement("path",{className:"style2",d:"M9.542 1.083C9.44 1.4 9.1 1.6 8.8 1.461S8.321 1 8.4 0.72c0.1-0.31 0.432-0.479 0.741-0.378 C9.472 0.4 9.6 0.8 9.5 1.1"}),a.a.createElement("path",{className:"style2",d:"M7.356 1.578c0.043-0.271 0.297-0.455 0.567-0.412c0.271 0 0.5 0.3 0.4 0.6 C8.293 2 8 2.2 7.8 2.146S7.312 1.9 7.4 1.6"}),a.a.createElement("path",{className:"style2",d:"M7.413 2.491C7.413 2.7 7.2 2.9 7 2.905S6.587 2.7 6.6 2.491S6.771 2.1 7 2.1 S7.413 2.3 7.4 2.5"}),a.a.createElement("path",{className:"style2",d:"M6.753 3.235C6.782 3.4 6.7 3.6 6.5 3.629C6.278 3.7 6.1 3.5 6.1 3.3 c-0.03-0.188 0.099-0.364 0.286-0.395S6.723 3 6.8 3.2"}),a.a.createElement("path",{className:"style2",d:"M6.312 3.957c0.049 0.15-0.033 0.312-0.184 0.359C5.979 4.4 5.8 4.3 5.8 4.1 s0.033-0.311 0.183-0.359C6.103 3.7 6.3 3.8 6.3 4"}),a.a.createElement("path",{className:"style2",d:"M6.05 4.617c0.059 0.1 0 0.256-0.104 0.314C5.831 5 5.7 4.9 5.6 4.8 C5.572 4.7 5.6 4.6 5.7 4.515C5.85 4.5 6 4.5 6 4.6"})),a.a.createElement("g",{className:"group-20"},a.a.createElement("path",{className:"style1",d:"M7.589 0.588c0 0.325-0.264 0.588-0.589 0.588S6.412 0.9 6.4 0.588S6.675 0 7 0 S7.589 0.3 7.6 0.6"}),a.a.createElement("path",{className:"style1",d:"M5.664 1.733C5.62 1.5 5.8 1.2 6.1 1.166s0.524 0.1 0.6 0.4 c0.042 0.271-0.143 0.525-0.413 0.568C5.96 2.2 5.7 2 5.7 1.7"}),a.a.createElement("path",{className:"style1",d:"M6.001 2.584c0.07 0.217-0.05 0.45-0.267 0.521c-0.217 0.07-0.45-0.049-0.521-0.266 c-0.07-0.218 0.048-0.451 0.266-0.521C5.696 2.2 5.9 2.4 6 2.6"}),a.a.createElement("path",{className:"style1",d:"M5.603 3.495C5.688 3.7 5.6 3.9 5.5 3.96c-0.17 0.085-0.378 0.019-0.464-0.152 c-0.086-0.169-0.019-0.376 0.15-0.462C5.308 3.3 5.5 3.3 5.6 3.5"}),a.a.createElement("path",{className:"style1",d:"M5.405 4.319c0.092 0.1 0.1 0.306-0.062 0.398C5.215 4.8 5 4.8 4.9 4.7 S4.88 4.3 5 4.256C5.134 4.2 5.3 4.2 5.4 4.3"}),a.a.createElement("path",{className:"style1",d:"M5.359 5.027c0.092 0.1 0.1 0.2 0 0.332s-0.24 0.091-0.331 0c-0.092-0.093-0.092-0.24-0.001-0.332 C5.119 4.9 5.3 4.9 5.4 5"}))))}}])&&c(t.prototype,n),r&&c(t,r),i}(a.a.Component);d(v,"propTypes",{grayscale:o.a.bool}),d(v,"defaultProps",{grayscale:!1})},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={stringify:function(e){var t=null;try{t=JSON.stringify(e)}catch(e){console.error("JSON stringify",e),t=new Error(e)}return t},parse:function(e){var t=null;try{t=JSON.parse(e)}catch(e){console.error("JSON error",e),t=new Error(e)}return t}}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(356),o=n.n(r),i=n(355),a=n.n(i),s=n(354),f=n.n(s),c=n(358),l=n.n(c),u=n(402),h={insert:"head",singleton:!1},p=(l()(u.a,h),u.a.locals||{});function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g,y=["arrowLocation","children","className","xOffset","yOffset"];function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(S(g={},"top",p.topArrow),S(g,"right",p.rightArrow),S(g,"bottom",p.bottomArrow),S(g,"left",p.leftArrow),g),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,i=O(a);function a(){return b(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.computeArrowStyle(),t=this.props,n=t.arrowLocation,r=t.children,i=t.className,a=(t.xOffset,t.yOffset,m(t,y));return f.a.createElement("div",v({className:i},a),r,f.a.createElement("div",{className:o()(p.arrow,j[n]),style:e}))}},{key:"computeArrowStyle",value:function(){var e=this.props,t=e.arrowLocation,n=e.xOffset,r=e.yOffset,o={top:"auto",right:"auto",bottom:"auto",left:"auto"};return"top"===t||"left"===t?(o.top=0+r,o.left=0+n,o):"right"===t?(o.top=0+r,o.right=0-n,o):"bottom"===t?(o.bottom=0-r,o.left=0+n,o):{display:"none"}}}])&&w(t.prototype,n),r&&w(t,r),a}(s.Component);S(_,"propTypes",{arrowLocation:a.a.oneOf(Object.keys(j)).isRequired,children:a.a.node,className:a.a.string,xOffset:a.a.number,yOffset:a.a.number}),S(_,"defaultProps",{children:null,className:void 0,xOffset:0,yOffset:0})},390:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return O}));var r=n(356),o=n.n(r),i=n(355),a=n.n(i),s=n(354),f=n.n(s),c=n(357);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="horizontal",x=function(e){p(a,e);var t,n,r,i=g(a);function a(){var e;u(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=i.call.apply(i,[this].concat(n))),"onPrevPage",(function(){var t=e.props.currentPage;t-1>=0&&e.gotoPage(t-1)})),b(v(e),"onNextPage",(function(){var t=e.props,n=t.currentPage;n+1<t.totalPages&&e.gotoPage(n+1)})),b(v(e),"onKeyDown",(function(t){var n=t.which;34!==n&&39!==n||(t.preventDefault(),e.onNextPage()),33!==n&&37!==n||(t.preventDefault(),e.onPrevPage())})),b(v(e),"gotoPage",(function(t){return e.props.onGotoPage(t)})),e._type=e.props.type,e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.keysEnabled&&document.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.keysEnabled;t!==e.keysEnabled&&(t?document.addEventListener("keydown",this.onKeyDown,!0):document.removeEventListener("keydown",this.onKeyDown,!0))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.currentPage,r=e.totalPages,i=b({},"fs-".concat(this._type),!!this._type),a=0===n,s=n===r-1;return f.a.createElement("nav",{className:o()("fs-controls-group","fs-pagination",i,t)},f.a.createElement("strong",{className:"fs-pagination-info"},n+1," / ",r),f.a.createElement(c.a,{"aria-label":"Previous",className:"fs-prev-page",disabled:a,tabIndex:0,onClick:this.onPrevPage}),f.a.createElement(c.a,{"aria-label":"Next",className:"fs-next-page",disabled:s,tabIndex:0,onClick:this.onNextPage}))}}])&&h(t.prototype,n),r&&h(t,r),a}(s.Component);b(x,"propTypes",{className:a.a.string,currentPage:a.a.number,keysEnabled:a.a.bool,totalPages:a.a.number,type:a.a.string,onGotoPage:a.a.func}),b(x,"defaultProps",{className:void 0,currentPage:void 0,keysEnabled:!1,totalPages:void 0,type:void 0,onGotoPage:function(){}});var O=function(e){p(n,e);var t=g(n);function n(){var e;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._type=w,e}return n}(x)},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i),s=n(447),f=n(397);function c(e,t){return n=t,r=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},(o=Object(i.useState)((function(){return{value:n,callback:r,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}}))[0]).callback=r,o.facade;var n,r,o}var l={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},u=function(e){var t=e.children;return i.createElement(i.Fragment,null,i.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}),t,t&&i.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}))};u.propTypes={},u.defaultProps={children:null};var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e){return e}function d(e,t){void 0===t&&(t=p);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function g(e,t){return void 0===t&&(t=p),d(e,t)}var y=g({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),v=g(),m=g(),b=function(e){void 0===e&&(e={});var t=d(null);return t.options=h({async:!0,ssr:!1},e),t}({async:!0}),w=[],x=i.forwardRef((function(e,t){var n,r=i.useState(),o=r[0],a=r[1],s=i.useRef(),u=i.useRef(!1),h=i.useRef(null),p=e.children,d=e.disabled,g=e.noFocusGuards,m=e.persistentFocus,x=e.crossFrame,O=e.autoFocus,k=(e.allowTextSelection,e.group),E=e.className,S=e.whiteList,j=e.shards,_=void 0===j?w:j,A=e.as,C=void 0===A?"div":A,P=e.lockProps,R=void 0===P?{}:P,N=e.sideCar,T=e.returnFocus,D=e.onActivation,I=e.onDeactivation,M=i.useState({})[0],F=i.useCallback((function(){h.current=h.current||document&&document.activeElement,s.current&&D&&D(s.current),u.current=!0}),[D]),B=i.useCallback((function(){u.current=!1,I&&I(s.current)}),[I]),L=i.useCallback((function(e){var t=h.current;if(Boolean(T)&&t&&t.focus){var n="object"==typeof T?T:void 0;h.current=null,e?Promise.resolve().then((function(){return t.focus(n)})):t.focus(n)}}),[T]),z=i.useCallback((function(e){u.current&&y.useMedium(e)}),[]),H=v.useMedium,V=i.useCallback((function(e){s.current!==e&&(s.current=e,a(e))}),[]);var W=Object(f.a)(((n={})["data-focus-lock-disabled"]=d&&"disabled",n["data-focus-lock"]=k,n),R),U=!0!==g,q=U&&"tail"!==g,Q=c([t,V]);return i.createElement(i.Fragment,null,U&&[i.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:l}),i.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:l})],!d&&i.createElement(N,{id:M,sideCar:b,observed:o,disabled:d,persistentFocus:m,crossFrame:x,autoFocus:O,whiteList:S,shards:_,onActivation:F,onDeactivation:B,returnFocus:L}),i.createElement(C,Object(f.a)({ref:Q},W,{className:E,onBlur:H,onFocus:z}),p),q&&i.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:l}))}));x.propTypes={},x.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var O=x;function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=n(456);var S=function(e,t){return function(n){var r,o=[];function s(){r=e(o.map((function(e){return e.props}))),t(r)}var f=function(e){var t,i;function f(){return e.apply(this,arguments)||this}i=e,(t=f).prototype=Object.create(i.prototype),t.prototype.constructor=t,k(t,i),f.peek=function(){return r};var c=f.prototype;return c.componentDidMount=function(){o.push(this),s()},c.componentDidUpdate=function(){s()},c.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),s()},c.render=function(){return a.a.createElement(n,this.props)},f}(i.PureComponent);return Object(E.a)(f,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),f}},j=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},_=function(e){return Array.isArray(e)?e:[e]},A=function(e){return e.parentNode?A(e.parentNode):e},C=function(e){return _(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute("data-focus-lock");return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(j(A(t).querySelectorAll('[data-focus-lock="'+n+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},P=function(e){return Boolean(j(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))},R=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&C(e).reduce((function(e,n){return e||n.contains(t)||P(n)}),!1)},N=function(e){return"INPUT"===e.tagName&&"radio"===e.type},T=function(e,t){return N(e)&&e.name?function(e,t){return t.filter(N).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},D=function(e){return e[0]&&e.length>1?T(e[0],e):e[0]},I=function(e,t){return e.length>1?e.indexOf(T(e[t],e)):t},M=function(e,t){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},F=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=M(t,F.bind(void 0,e));return e.set(t,r),r},B=function(e){return Boolean(e&&e.dataset&&e.dataset.focusGuard)},L=function(e){return!B(e)},z=function(e){return Boolean(e)},H=function(e,t,n,r){var o=e.length,i=e[0],a=e[o-1],s=B(n);if(!(e.indexOf(n)>=0)){var f,c,l=t.indexOf(n),u=r?t.indexOf(r):l,h=r?e.indexOf(r):-1,p=l-u,d=t.indexOf(i),g=t.indexOf(a),y=(f=t,c=new Set,f.forEach((function(e){return c.add(T(e,f))})),f.filter((function(e){return c.has(e)}))),v=y.indexOf(n)-(r?y.indexOf(r):l),m=I(e,0),b=I(e,o-1);return-1===l||-1===h?"NEW_FOCUS":!p&&h>=0?h:l<=d&&s&&Math.abs(p)>1?b:l>=g&&s&&Math.abs(p)>1?m:p&&Math.abs(v)>1?h:l<=d?b:l>g?m:p?Math.abs(p)>1?h:(o+h+p)%o:void 0}},V=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},W=function(e,t,n){return j(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(V)},U=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),q=U+", [data-focus-guard]",Q=function(e,t){return e.reduce((function(e,n){return e.concat(j(n.querySelectorAll(t?q:U)),n.parentNode?j(n.parentNode.querySelectorAll(U)).filter((function(e){return e===n})):[])}),[])},G=function(e,t){return j(e).filter((function(e){return F(t,e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},K=function(e,t,n){return W(G(Q(e,n),t),!0,n)},X=function(e,t){return W(G(Q(e),t),!1)},Y=function(e,t){return G((n=e.querySelectorAll("[data-autofocus-inside]"),j(n).map((function(e){return Q([e])})).reduce((function(e,t){return e.concat(t)}),[])),t);var n},J=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&J(e.parentNode,t),t},Z=function(e,t){for(var n=J(e),r=J(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},$=function(e,t,n){var r=_(e),o=_(t),i=r[0],a=!1;return o.filter(Boolean).forEach((function(e){a=Z(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=Z(i,e);t&&(a=!a||t.contains(a)?t:Z(t,a))}))})),a},ee=function(e,t){var n=document&&document.activeElement,r=C(e).filter(L),o=$(n||e,e,r),i=new Map,a=X(r,i),s=K(r,i).filter((function(e){var t=e.node;return L(t)}));if(s[0]||(s=a)[0]){var f,c,l,u,h=X([o],i).map((function(e){return e.node})),p=(f=h,c=s,l=new Map,c.forEach((function(e){return l.set(e.node,e)})),f.map((function(e){return l.get(e)})).filter(z)),d=p.map((function(e){return e.node})),g=H(d,h,n,t);if("NEW_FOCUS"===g){var y=a.map((function(e){return e.node})).filter((u=function(e,t){return e.reduce((function(e,n){return e.concat(Y(n,t))}),[])}(r,i),function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||u.indexOf(e)>=0}));return{node:y&&y.length?D(y):D(d)}}return void 0===g?g:p[g]}},te=0,ne=!1,re=function(e,t){var n,r=ee(e,t);if(!ne&&r){if(te>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),ne=!0,void setTimeout((function(){ne=!1}),1);te++,(n=r.node).focus(),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus(),te--}};function oe(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var ie=function(){return document&&document.activeElement===document.body||document&&j(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},ae=null,se=null,fe=null,ce=!1,le=function(){return!0};function ue(e,t,n,r){var o=null,i=e;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(i!==e)return;o=null}}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var he=function(e){return e&&"current"in e?e.current:e},pe=function(){var e,t,n,r,o,i,a,s=!1;if(ae){var f=ae,c=f.observed,l=f.persistentFocus,u=f.autoFocus,h=f.shards,p=f.crossFrame,d=c||fe&&fe.portaledElement,g=document&&document.activeElement;if(d){var y=[d].concat(h.map(he).filter(Boolean));if(g&&!function(e){return(ae.whiteList||le)(e)}(g)||(l||(p?Boolean(ce):"meanwhile"===ce)||!ie()||!se&&u)&&(!d||R(y)||(a=g,fe&&fe.portaledElement===a)||(document&&!se&&g&&!u?(g.blur&&g.blur(),document.body.focus()):(s=re(y,se),fe={})),ce=!1,se=document&&document.activeElement),document){var v=document&&document.activeElement,m=(t=C(e=y).filter(L),n=$(e,e,t),r=new Map,o=K([n],r,!0),i=K(t,r).filter((function(e){var t=e.node;return L(t)})).map((function(e){return e.node})),o.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:B(t)}}))),b=m.map((function(e){return e.node})).indexOf(v);b>-1&&(m.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),ue(b,m.length,1,m),ue(b,-1,-1,m))}}}return s},de=function(e){pe()&&e&&(e.stopPropagation(),e.preventDefault())},ge=function(){return oe(pe)},ye=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(fe={observerNode:n,portaledElement:t})},ve=function(){ce="just",setTimeout((function(){ce="meanwhile"}),0)};y.assignSyncMedium(ye),v.assignMedium(ge),m.assignMedium((function(e){return e({moveFocusInside:re,focusInside:R})}));var me=S((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!ae&&(document.addEventListener("focusin",de,!0),document.addEventListener("focusout",ge),window.addEventListener("blur",ve));var n=ae,r=n&&t&&t.id===n.id;ae=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(se=null,r&&n.observed===t.observed||t.onActivation(),pe(),oe(pe)):(document.removeEventListener("focusin",de,!0),document.removeEventListener("focusout",ge),window.removeEventListener("blur",ve),se=null)}))((function(){return null})),be=i.forwardRef((function(e,t){return i.createElement(O,Object(f.a)({sideCar:me,ref:t},e))})),we=O.propTypes||{};we.sideCar,Object(s.a)(we,["sideCar"]);be.propTypes={};var xe=be,Oe=n(374);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ee=["children","onClose"];function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=Pe(i);function i(){var e;_e(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return De(Ne(e=o.call.apply(o,[this].concat(n))),"onKeyPress",(function(t){"Escape"===t.key&&e.props.onClose()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose,r=je(e,Ee);return a.a.createElement(Oe.a,{onClickOutside:n},a.a.createElement(xe,Se({},r,{returnFocus:!0}),t))}}])&&Ae(t.prototype,n),r&&Ae(t,r),i}(i.Component);De(Ie,"propTypes",{children:o.a.oneOfType([o.a.string,o.a.node,o.a.array]),onClose:o.a.func}),De(Ie,"defaultProps",{children:null,onClose:function(){}})},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["onResize"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={display:"inline-block",position:"relative",width:"100%",height:"100%",border:"0 none transparent",margin:"0",padding:"0"};function O(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,t);var n,r,o,i=y(s);function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(m(e=i.call.apply(i,[this].concat(n))),"state",{width:0,height:0,top:0,left:0}),w(m(e),"boundingBoxNode",null),w(m(e),"setBoundingBoxNode",(function(t){e.boundingBoxNode=t})),w(m(e),"onResize",(function(){if(e.boundingBoxNode){var t=e.boundingBoxNode,n=t.offsetWidth,r=t.offsetHeight,o=t.offsetLeft,i=t.offsetTop,a=e.state,s=a.width,f=a.height,c=a.left,l=a.top;if(s!==n||f!==r||(c!==o||l!==i)){var u={width:n||0,height:r||0,top:i||0,left:o||0};e.setState(u),e.props.onResize(h({},u))}}})),e}return n=s,(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),setTimeout(this.onResize,0)}},{key:"componentDidUpdate",value:function(){setTimeout(this.onResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var t=this.state,n=t.width,r=t.height,o=t.left,i=t.top,s=this.props,u=(s.onResize,l(s,f));return a.a.createElement("div",{ref:this.setBoundingBoxNode,style:x},a.a.createElement(e,c({},u,{boxHeight:r,boxWidth:n,boxX:o,boxY:i})))}}])&&d(n.prototype,r),o&&d(n,o),s}(i.Component),w(t,"propTypes",{onResize:o.a.func}),w(t,"defaultProps",{onResize:function(){}}),n}},399:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(356),o=n.n(r),i=n(355),a=n.n(i),s=n(354),f=n.n(s),c=n(365),l=n.n(c),u=n(374);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=null,j=document.createElement("figshare-overlay");document.body.appendChild(j);var _=function(e){m(n,e);var t=w(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(O(e=t.call.apply(t,[this].concat(o))),"state",{content:[]}),e}return v(n,[{key:"render",value:function(){var e=this.state,t=e.content,n=e.name,r=!!t.length,i=["fs-overlay",n,r?"fs-active":"fs-inactive"];return j.setAttribute("class",o()(i)),r?t[t.length-1]:null}},{key:"addContent",value:function(e,t){var n=p(this.state.content);return n.push(e),this.setState({content:n,name:t}),n.length-1}},{key:"removeContent",value:function(e){var t=p(this.state.content);t.splice(e,1),this.setState({content:t})}},{key:"updateContent",value:function(e,t,n){var r=p(this.state.content);r[e]=t,this.setState({content:r,name:n})}}]),n}(s.Component);l.a.render(f.a.createElement(_,{ref:function(e){return S=e},container:j}),j);var A=function(e){m(n,e);var t=w(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(O(e=t.call.apply(t,[this].concat(o))),"onKeyDown",(function(t){27===t.which&&e.props.onEscPress()})),E(O(e),"onBackdropClick",(function(t){var n=e.props,r=n.backdrop,o=n.onBackdropClick;r&&o(t)})),e}return v(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.children,r=e.backdrop,o=this.renderContent({name:t,children:n,backdrop:r});this.contentId=S.addContent(o,this.context.widgetClass),document.addEventListener("keydown",this.onKeyDown,!0),document.body.classList.add("fs-no-overflow")}},{key:"componentDidUpdate",value:function(){if(this.hasContentId()){var e=this.props,t=e.name,n=e.children,r=e.backdrop,o=this.renderContent({name:t,children:n,backdrop:r});S.updateContent(this.contentId,o,this.context.widgetClass)}}},{key:"componentWillUnmount",value:function(){this.hasContentId()&&(S.removeContent(this.contentId),this.contentId=null),document.removeEventListener("keydown",this.onKeyDown,!0),document.body.classList.remove("fs-no-overflow")}},{key:"render",value:function(){return null}},{key:"renderContent",value:function(e){var t=e.name,n=e.children,r=e.backdrop,i=["fs-overlay-item",t,E({"fs-overlay-backdrop":!!r},r,"string"==typeof r)];return f.a.createElement("div",{className:o()(i)},f.a.createElement(u.a,{onClickOutside:this.onBackdropClick},f.a.createElement("div",{className:"fs-overlay-content"},n)))}},{key:"hasContentId",value:function(){return null!==this.contentId&&void 0!==this.contentId}}]),n}(s.Component);E(A,"propTypes",{backdrop:a.a.oneOfType([a.a.bool,a.a.string]),children:a.a.any,name:a.a.string,onBackdropClick:a.a.func,onEscPress:a.a.func}),E(A,"defaultProps",{backdrop:void 0,children:void 0,name:void 0,onBackdropClick:function(){},onEscPress:function(){}}),E(A,"contextTypes",{widgetClass:a.a.string})},402:function(e,t,n){"use strict";var r=n(359),o=n.n(r)()((function(e){return e[1]}));o.push([e.i,'.frontend-shared-components-arrowContainer-module__arrow--xh8Ew {\n  position: absolute;\n}\n.frontend-shared-components-arrowContainer-module__arrow--xh8Ew::before,\n.frontend-shared-components-arrowContainer-module__arrow--xh8Ew::after {\n  position: absolute;\n  display: inline-block;\n  content: "";\n}\n.frontend-shared-components-arrowContainer-module__topArrow--Qtj6U::before {\n  bottom: -1px;\n  left: -11px;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-bottom: 12px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__topArrow--Qtj6U::after {\n  bottom: -1px;\n  left: -10px;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__rightArrow--Py2q4::before {\n  top: -11px;\n  left: -1px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 22px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__rightArrow--Py2q4::after {\n  top: -10px;\n  left: -1px;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-left: 20px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__bottomArrow--VlRJp::before {\n  top: -1px;\n  left: -11px;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-top: 12px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__bottomArrow--VlRJp::after {\n  top: -1px;\n  left: -10px;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-top: 10px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__leftArrow--nJYMJ::before {\n  top: -11px;\n  right: -1px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-right: 22px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__leftArrow--nJYMJ::after {\n  top: -10px;\n  right: -1px;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-right: 20px solid #fff;\n}\n',""]),o.locals={arrow:"frontend-shared-components-arrowContainer-module__arrow--xh8Ew",topArrow:"frontend-shared-components-arrowContainer-module__topArrow--Qtj6U",rightArrow:"frontend-shared-components-arrowContainer-module__rightArrow--Py2q4",bottomArrow:"frontend-shared-components-arrowContainer-module__bottomArrow--VlRJp",leftArrow:"frontend-shared-components-arrowContainer-module__leftArrow--nJYMJ"},t.a=o},452:function(e,t){},458:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(378),o=n(365),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,o=l(a);function a(){return s(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"initialize",value:function(){}},{key:"terminate",value:function(){this.removeAllListeners()}},{key:"mount",value:function(e,t){var n=this;t&&this.once("mount",t);var r=this._getElement();r&&(this._container=e,this._element=r,i.a.render(this._element,this._container,(function(){n.emit("mount")})))}},{key:"unmount",value:function(e){e&&this.once("unmount",e),this._element&&this._container&&(this.terminate(),i.a.unmountComponentAtNode(this._container)&&this.emit("unmount"))}},{key:"_getElement",value:function(){return null}}])&&f(t.prototype,n),r&&f(t,r),a}(r.EventEmitter)},461:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(355),o=n.n(r),i=n(354),a=n.n(i),s=n(387);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r,o=h(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.url,n=e.alt,r=e.onClick;return a.a.createElement("a",{className:"fs-figshare-button",href:t,rel:"noopener noreferrer",target:"_blank",title:n,onClick:r},a.a.createElement(s.a,null),a.a.createElement("div",{className:"fs-button-text"},"fig",a.a.createElement("strong",null,"share")))}}])&&l(t.prototype,n),r&&l(t,r),i}(i.Component);g(y,"propTypes",{alt:o.a.string,url:o.a.string,onClick:o.a.func}),g(y,"defaultProps",{url:"#",alt:"",onClick:function(){}})},466:function(e,t){var n,r,o;n=document,r="fb-root",(o=n.getElementById(r))||((o=n.createElement("div")).id=r,n.body.appendChild(o)),function(e,t,n){var r=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var o=e.createElement(t);o.id=n,o.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4",r.parentNode.insertBefore(o,r)}}(document,"script","facebook-jssdk")},468:function(e,t,n){"use strict";window.twttr=function(e,t,n){var r=e.getElementsByTagName(t)[0],o=window.twttr||{};if(e.getElementById(n))return o;var i=e.createElement(t);return i.id=n,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),o._e=[],o.ready=function(e){o._e.push(e)},o}(document,"script","twitter-wjs");window.twttr,n(466)},471:function(e,t,n){"use strict";n.d(t,"a",(function(){return Yt}));var r={};n.r(r),n.d(r,"isOpen",(function(){return D})),n.d(r,"defaultCitation",(function(){return I})),n.d(r,"searchTerm",(function(){return M})),n.d(r,"limitReached",(function(){return F})),n.d(r,"searchStatus",(function(){return B})),n.d(r,"searchResults",(function(){return L})),n.d(r,"searchData",(function(){return z})),n.d(r,"apiParams",(function(){return H}));var o={};n.r(o),n.d(o,"loadResults",(function(){return W})),n.d(o,"debouncedSearch",(function(){return U})),n.d(o,"loadMore",(function(){return q})),n.d(o,"updateSearchValue",(function(){return Q})),n.d(o,"open",(function(){return G})),n.d(o,"close",(function(){return K})),n.d(o,"initialize",(function(){return X}));var i={};n.r(i),n.d(i,"INIT",(function(){return ee})),n.d(i,"RESET",(function(){return te})),n.d(i,"OPEN_SELECTOR",(function(){return ne})),n.d(i,"CLOSE_SELECTOR",(function(){return re})),n.d(i,"LOAD_CITATIONS",(function(){return oe})),n.d(i,"CLEAR_SEARCH_RESULTS",(function(){return ie})),n.d(i,"UPDATE_SEARCH_VALUE",(function(){return ae}));var a={};n.r(a),n.d(a,"citation",(function(){return ot})),n.d(a,"citationStyle",(function(){return it})),n.d(a,"entityDefaultCitation",(function(){return at})),n.d(a,"entityType",(function(){return st})),n.d(a,"apiParams",(function(){return ft}));var s={};n.r(s),n.d(s,"loadCitation",(function(){return lt})),n.d(s,"changeCitationStyle",(function(){return ut})),n.d(s,"initialize",(function(){return ht}));var f={};n.r(f),n.d(f,"INIT",(function(){return dt})),n.d(f,"LOAD_CITATION",(function(){return gt})),n.d(f,"CHANGE_STYLE",(function(){return yt}));var c=n(354),l=n.n(c),u=n(362),h=n(367),p=n(356),d=n.n(p),g=n(355),y=n.n(g),v=n(357),m=n(391),b="@@citation-selector",w=n(370),x=n.n(w),O=n(360),k=n(383),E=new k.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),S=k.a.ERR_ABORT,j=n(385);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){return e.citationSelector||{}},T=Object(j.createSelector)(N,(function(e){return e.search})),D=Object(j.createSelector)(N,(function(e){return e.isOpen})),I=Object(j.createSelector)(N,(function(e){return e.defaultCitation})),M=Object(j.createSelector)(T,(function(e){return e.value})),F=Object(j.createSelector)(T,(function(e){return e.reachedLimit})),B=Object(j.createSelector)(T,(function(e){return{isLoading:e.loading&&!e.results.length,isLoadingMore:e.loading&&!!e.results.length,error:e.error}})),L=Object(j.createSelector)(T,B,I,(function(e,t,n){var r=t.isLoading,o=t.error;return r||o?[]:e.resultsSearchTerm?e.results:[n].concat(P(e.results))})),z=Object(j.createSelector)(B,L,M,(function(e,t,n){return A(A({},e),{},{items:t,searchTerm:n})})),H=Object(j.createSelector)(T,I,(function(e,t){var n=e.results,r=e.value;return{offset:n.length,ignore:r?void 0:[t.id],search:r}})),V={searchPromise:void 0},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){V.searchPromise&&V.searchPromise.abort(),e&&t({type:"".concat(b,"/CLEAR_SEARCH_RESULTS")});var r=x()({type:"".concat(b,"/LOAD_CITATIONS")}),o=H(n()),i=o.offset,a=o.search,s=o.ignore;V.searchPromise=E.getCitations({limit:40,offset:i,search:a,ignore:s}),t(r({loading:!0})),V.searchPromise.then((function(e){var n=e.citations.length<40;t(r({loading:!1,payload:e,reachedLimit:n})),V.searchPromise=void 0}),(function(e){e!==S&&(t(r({loading:!1,error:!0})),V.searchPromise=void 0)}))}},U=Object(O.f)(W(!0),300),q=function(){return function(e,t){var n=t(),r=F(n),o=B(n),i=o.error,a=o.isLoading,s=o.isLoadingMore;r||i||a||s||e(W())}},Q=function(e){return function(t){t({type:"".concat(b,"/UPDATE_SEARCH_VALUE"),value:e}),(!e||e.length>=3)&&t(U)}},G=function(){return function(e){e({type:"".concat(b,"/OPEN_SELECTOR")}),e(W())}},K=function(){return function(e){e({type:"".concat(b,"/RESET")})}},X=function(){return function(e){e({type:"".concat(b,"/INIT")})}},Y=n(379),J={isOpen:!1,defaultCitation:Y.a,search:{value:"",resultsSearchTerm:"",error:!1,loading:!1,results:[],reachedLimit:!1}};function Z(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){return x()({isOpen:e.isOpen},J)}function te(){return J}function ne(e){return x()({isOpen:!0},e)}function re(e){return x()({isOpen:!1},e)}function oe(e,t){var n=t.loading,r=t.reachedLimit,o=t.payload,i=t.error,a=e.search,s={error:!!i,loading:!!n,reachedLimit:!!r,resultsSearchTerm:a.value};return!n&&o&&(s.results=[].concat(Z(a.results),Z(o.citations))),x()({search:s},e)}function ie(e){var t=e.search,n=x()({error:!1,loading:!1,results:[],reachedLimit:!1},t);return x()({search:n},e)}function ae(e,t){var n=t.value;return x()({search:{value:n}},e)}var se=o,fe=r,ce=Object(h.b)(i,J,b),le=n(386);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(i,e);var t,n,r,o=ge(i);function i(){var e;he(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(ve(e=o.call.apply(o,[this].concat(n))),"inputNode",void 0),be(ve(e),"setInputNode",(function(t){e.inputNode=t,e.props.inputRef(t)})),be(ve(e),"onChange",(function(t){var n=t.target.value;e.props.value!==n&&e.props.onChange(n)})),be(ve(e),"onClearSearch",(function(){e.props.onChange(""),e.focus()})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.value,r=e.disabled,o=e.placeholder,i=["fs-search-input",t,{disabled:r}];return l.a.createElement("div",{className:d()(i)},l.a.createElement("input",{ref:this.setInputNode,disabled:r,placeholder:o,type:"search",value:n,onBlur:this.props.onBlur,onChange:this.onChange,onFocus:this.props.onFocus}),this.renderActionIcon())}},{key:"renderActionIcon",value:function(){return this.props.value?l.a.createElement(v.a,{className:"fs-search-clear-search",onClick:this.onClearSearch}):l.a.createElement(v.a,{className:"fs-search-search-icon",disabled:!0})}},{key:"focus",value:function(){this.inputNode&&this.inputNode.focus&&this.inputNode.focus()}}])&&pe(t.prototype,n),r&&pe(t,r),i}(c.Component);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}be(we,"propTypes",{className:y.a.string,disabled:y.a.bool,inputRef:y.a.func,placeholder:y.a.string,value:y.a.string,onBlur:y.a.func,onChange:y.a.func,onFocus:y.a.func}),be(we,"defaultProps",{className:"",disabled:!1,value:"",placeholder:"",inputRef:function(){},onBlur:function(){},onChange:function(){},onFocus:function(){}});var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(i,e);var t,n,r,o=_e(i);function i(){var e;Ee(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(Ce(e=o.call.apply(o,[this].concat(n))),"state",{searchVisible:!0}),Re(Ce(e),"renderOption",(function(t){var n=t.id,r=t.title,o=t.selected,i="";return e.props.defaultCitation.id===n&&(i=l.a.createElement("span",{className:"fs-citation-search-default-option"},"(default)")),l.a.createElement(v.a,{key:n,className:d()("fs-citation-search-option-button",{selected:o}),title:name,onClick:e.onCitationSelect(t)},r," ",i)})),Re(Ce(e),"searchParentNode",void 0),Re(Ce(e),"searchNode",void 0),Re(Ce(e),"setSearchParentNode",(function(t){return e.searchParentNode=t})),Re(Ce(e),"setSearchNode",(function(t){return e.searchNode=t})),Re(Ce(e),"onCitationSelect",(function(t){return function(n){e.stopPropagation(n),n&&n.target&&(n.target.value=t),e.props.onSelect(n,t)}})),Re(Ce(e),"onSearchRetry",(function(t){e.stopPropagation(t),e.props.onSearchRetry()})),Re(Ce(e),"onBack",(function(t){e.stopPropagation(t),e.props.onBack()})),Re(Ce(e),"onGoToSearchClick",(function(){e.searchNode.focus()})),Re(Ce(e),"onOptionsListScroll",(function(){var t=e.searchIsVisibleInParent();e.state.searchVisible!==t&&e.setState({searchVisible:t})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.searchTerm,n=e.value,r=e.fixedSearchInput||!!t;return l.a.createElement("div",{className:"fs-citation-search-page"},this.renderBackButton(),l.a.createElement(le.a,{className:d()("fs-citation-search-listing",{"scroll-active":!r}),threshold:150,wrapperRef:this.setSearchParentNode,onBottomReached:this.props.onLoadMore,onScroll:this.onOptionsListScroll},l.a.createElement(we,{inputRef:this.setSearchNode,minLength:3,placeholder:"Search citation style...",value:t,onChange:this.props.onSearchTermChange}),l.a.createElement(le.a,{className:d()("fs-citation-search-options-listing",{"scroll-active":r}),threshold:150,onBottomReached:this.props.onLoadMore},n.map(this.renderOption),this.renderStatusState())))}},{key:"renderBackButton",value:function(){return this.props.showBackButton?l.a.createElement("div",{className:"fs-citation-search-back-button-row"},l.a.createElement(v.a,{className:"fs-citation-search-back-button",onClick:this.onBack},"Back"),this.renderGoToSearch()):null}},{key:"renderGoToSearch",value:function(){return this.state.searchVisible?null:l.a.createElement(v.a,{className:"fs-citation-search-go-to-search",onClick:this.onGoToSearchClick})}},{key:"renderStatusState",value:function(){var e=this.props,t=e.value,n=e.isLoading,r=e.isLoadingMore,o=e.error;return n||r?l.a.createElement("div",{className:"fs-citation-search-info-content"},l.a.createElement("div",{className:"fs-citation-search-loading"}),l.a.createElement("div",null," Loading results ")):o&&!t.length?l.a.createElement("div",{className:"fs-citation-search-info-content"},l.a.createElement("div",null,"Could not load styles.",l.a.createElement(v.a,{className:"fs-citation-search-retry-button",onClick:this.onSearchRetry},"Retry"))):t.length?l.a.createElement("div",{className:"fs-citation-search-results-number"},t.length," results found"):l.a.createElement("div",{className:"fs-citation-search-info-content"},"No results found")}},{key:"searchIsVisibleInParent",value:function(){return this.searchNode.offsetTop+this.searchNode.offsetHeight>this.searchParentNode.scrollTop}},{key:"stopPropagation",value:function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}}])&&Se(t.prototype,n),r&&Se(t,r),i}(c.Component);Re(Ne,"propTypes",{defaultCitation:y.a.object.isRequired,error:y.a.bool.isRequired,fixedSearchInput:y.a.bool.isRequired,isLoading:y.a.bool.isRequired,isLoadingMore:y.a.bool.isRequired,searchTerm:y.a.string.isRequired,showBackButton:y.a.bool.isRequired,value:y.a.array.isRequired,onBack:y.a.func.isRequired,onLoadMore:y.a.func.isRequired,onSearchRetry:y.a.func.isRequired,onSearchTermChange:y.a.func.isRequired,onSelect:y.a.func.isRequired});var Te=Object(u.c)((function(e,t){var n=fe.searchData(e),r=n.error,o=n.isLoading,i=n.isLoadingMore,a=n.items,s=n.searchTerm,f=t.value,c=fe.defaultCitation(e),l={};return f.forEach((function(e){var t=e.id;return l[t]=!0})),{defaultCitation:c,error:r,isLoading:o,isLoadingMore:i,searchTerm:s,value:a.map((function(e){return ke(ke({},e),{},{selected:!!l[e.id]})}))}}),{onBack:se.close,onLoadMore:se.loadMore,onSearchRetry:se.loadResults,onSearchTermChange:se.updateSearchValue})(Ne);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=Be(i);function i(){var e;Ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(ze(e=o.call.apply(o,[this].concat(n))),"state",{}),Ve(ze(e),"onSelect",(function(t,n){e.props.onClose(),e.props.onChange([n])})),Ve(ze(e),"onTriggerClick",(function(t){e.stopPropagation(t),e.props.onOpen()})),e.props.onInitialize(),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=["fs-citation-selector",e.chrome,{"fs-citation-search-open":e.isOpen}];return l.a.createElement("div",{className:d()(t)},this.renderContent())}},{key:"renderContent",value:function(){var e=this.props,t=e.value;if(!e.isOpen){var n=t[0].title;return l.a.createElement(v.a,{className:"fs-citation-selector-trigger",onClick:this.onTriggerClick},l.a.createElement("span",null,n))}return this.renderSearchScreen()}},{key:"renderSearchScreen",value:function(){var e=this.props,t=e.chrome,n=e.value,r=e.onClose;return l.a.createElement(m.a,{onClose:r},l.a.createElement(Te,{fixedSearchInput:"overlay"===t,showBackButton:"arrow-container"===t,value:n,onSelect:this.onSelect}))}},{key:"stopPropagation",value:function(e){if(e){e.stopPropagation&&e.stopPropagation();var t=e.nativeEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation()}}}])&&Me(t.prototype,n),r&&Me(t,r),i}(c.Component);Ve(We,"propTypes",{chrome:y.a.oneOf(["overlay","arrow-container"]).isRequired,isOpen:y.a.bool.isRequired,value:y.a.array.isRequired,onChange:y.a.func.isRequired,onClose:y.a.func.isRequired,onInitialize:y.a.func.isRequired,onOpen:y.a.func.isRequired});var Ue=Object(u.c)((function(e){return{isOpen:fe.isOpen(e)}}),{onInitialize:se.initialize,onClose:se.close,onOpen:se.open})(We);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze,$e,et,tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,o=Xe(i);function i(){var e;Qe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(h.c)(e.context.store,"citationSelector",ce),e}return t=i,(n=[{key:"render",value:function(){return l.a.createElement(Ue,this.props)}}])&&Ge(t.prototype,n),r&&Ge(t,r),i}(c.Component);Ze=tt,$e="contextType",et=u.b,$e in Ze?Object.defineProperty(Ze,$e,{value:et,enumerable:!0,configurable:!0,writable:!0}):Ze[$e]=et;var nt=new k.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),rt=function(e){return e.citationScreen||{}},ot=Object(j.createSelector)(rt,(function(e){return e.citation.result})),it=Object(j.createSelector)(rt,(function(e){return e.citation.style})),at=Object(j.createSelector)(rt,(function(e){return e.entityDefaultCitation})),st=Object(j.createSelector)(rt,(function(e){return e.entityType})),ft=Object(j.createSelector)(rt,it,(function(e,t){return{id:e.entityId,styleId:t[0].style}})),ct={article:"getArticlePublicCitation",collection:"getCollectionPublicCitation"},lt=function(){return function(e,t){var n=x()({type:"".concat("@@citation-screen","/LOAD_CITATION")}),r=t();if(it(r)[0].id!==Y.a.id){var o=st(r),i=ft(r),a=ct[o];e(n({loading:!0})),nt[a](i).then((function(t){e(n({citation:t.citation}))}),(function(){e(n({error:!0}))}))}else{var s=at(r);e(n({citation:s}))}}},ut=function(e){return function(t){t({type:"".concat("@@citation-screen","/CHANGE_STYLE"),style:e}),t(lt())}},ht=function(e,t,n){return function(r){r({type:"".concat("@@citation-screen","/INIT"),entityId:e,entityDefaultCitation:t,entityType:n}),r(lt())}},pt={entityId:void 0,entityDefaultCitation:void 0,entityType:void 0,citation:{error:!1,loading:!1,style:[Y.a],result:void 0}};function dt(e,t){var n=t.entityId,r=t.entityDefaultCitation,o=t.entityType,i=pt;return e.citation&&(i=x()({citation:{style:e.citation.style}},i)),x()({entityId:n,entityDefaultCitation:r,entityType:o},i)}function gt(e,t){var n=t.loading,r=t.error,o=t.citation,i={loading:!!n,error:!!r};return o&&(i.citation={result:o}),x()(i,e)}function yt(e,t){var n=t.style;return x()({citation:{style:n}},e)}var vt=s,mt=a,bt=Object(h.b)(f,pt,"@@citation-screen"),wt=n(365),xt=n.n(wt),Ot=n(380);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ct(e)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(i,e);var t,n,r,o=_t(i);function i(){var e;Et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rt(Ct(e=o.call.apply(o,[this].concat(n))),"citationNode",null),Rt(Ct(e),"doiNode",null),Rt(Ct(e),"setCitationNode",(function(t){return e.citationNode=t})),Rt(Ct(e),"setDoiNode",(function(t){return e.doiNode=t})),Rt(Ct(e),"onMouseOverCitation",(function(){e.selectText(e.citationNode)})),Rt(Ct(e),"onMouseOverDOI",(function(){e.selectText(e.doiNode)})),Rt(Ct(e),"onMouseOut",(function(){e.clearSelectedText()})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.citation;if(!e)return null;var t=e.text;return l.a.createElement("div",{className:"fs-citation-content"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},ref:this.setCitationNode,className:"fs-citation-content-text",onMouseEnter:this.onMouseOverCitation,onMouseLeave:this.onMouseOut}),this.renderDoi())}},{key:"renderDoi",value:function(){var e=this.props.citation,t=e.handle&&e.handle.length?"handle":"doi",n="handle"===t?Y.c:Y.b,r=e[t],o="".concat(n).concat(r);return l.a.createElement("div",{className:"fs-citation-content-link-wrapper"},l.a.createElement("a",{ref:this.setDoiNode,className:"fs-citation-content-doi-link",href:o,rel:"noopener noreferrer",target:"_blank",onMouseEnter:this.onMouseOverDOI,onMouseLeave:this.onMouseOut},o))}},{key:"clearSelectedText",value:function(){Object(Ot.a)()}},{key:"selectText",value:function(e){var t=xt.a.findDOMNode(e);Object(Ot.b)(t)}}])&&St(t.prototype,n),r&&St(t,r),i}(c.Component);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Rt(Nt,"propTypes",{citation:y.a.object}),Rt(Nt,"defaultProps",{citation:void 0});var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(i,e);var t,n,r,o=Ft(i);function i(){return Dt(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.entityId,n=e.entityDefaultCitation,r=e.entityType;(0,e.onInitialize)(t,n,r)}},{key:"render",value:function(){var e=this.props,t=e.citation,n=e.isSelectorOpen,r=e.showBackButton,o=e.chrome;if(!t)return null;var i=["fs-citation-container",{"fs-mobile-mode":"arrow-container"===o,"fs-fill-height":"arrow-container"===o&&n,"fs-with-back-button":r}];return l.a.createElement("div",{className:d()(i)},this.renderTitle(),l.a.createElement("div",{className:"fs-citation-selector-wrapper"},this.renderCitationSelector("overlay")),l.a.createElement(Nt,{citation:t}),l.a.createElement("div",{className:"fs-citation-footer"},this.renderBackButton(),this.renderCitationSelector("arrow-container")))}},{key:"renderTitle",value:function(){var e=this.props,t=e.showTitle,n=e.title;if(!t)return null;var r={__html:'Cite "'.concat(n,'"')};return l.a.createElement("h3",{className:"fs-citation-title",dangerouslySetInnerHTML:r})}},{key:"renderCitationSelector",value:function(e){var t=this.props,n=t.chrome,r=t.citationStyle;return e!==n?null:l.a.createElement(tt,{chrome:n,value:r,onChange:this.props.onCitationStyleChange})}},{key:"renderBackButton",value:function(){var e=this.props,t=e.showBackButton,n=e.onBack;return t?l.a.createElement(v.a,{className:"fs-citation-back-button",onClick:n},"Back"):null}}])&&It(t.prototype,n),r&&It(t,r),i}(c.Component);zt(Ht,"propTypes",{citationStyle:y.a.array.isRequired,entityId:y.a.number.isRequired,entityType:y.a.oneOf(["article","collection"]).isRequired,showBackButton:y.a.bool.isRequired,onCitationStyleChange:y.a.func.isRequired,onInitialize:y.a.func.isRequired,chrome:y.a.oneOf(["overlay","arrow-container"]),citation:y.a.object,entityDefaultCitation:y.a.object,isSelectorOpen:y.a.bool,showTitle:y.a.bool,title:y.a.string,onBack:y.a.func}),zt(Ht,"defaultProps",{chrome:"overlay",citation:void 0,entityDefaultCitation:{},isSelectorOpen:!1,showTitle:!1,title:void 0,onBack:function(){}});var Vt=Object(u.c)((function(e){return{citation:mt.citation(e),citationStyle:mt.citationStyle(e),isSelectorOpen:fe.isOpen(e)}}),{onCitationStyleChange:vt.changeCitationStyle,onInitialize:vt.initialize})(Ht);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kt(this,n)}}function Kt(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(i,e);var t,n,r,o=Gt(i);function i(){var e;Ut(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(h.c)(e.context.store,"citationScreen",bt),e}return t=i,(n=[{key:"render",value:function(){return l.a.createElement(Vt,this.props)}}])&&qt(t.prototype,n),r&&qt(t,r),i}(c.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yt,"contextType",u.b)},491:function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function f(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,u,h,p){p=p||[];var d=(u=u||[]).slice(0);if(void 0!==h){if(r){if("function"==typeof r&&r(d,h))return;if("object"===(void 0===r?"undefined":k(r))){if(r.prefilter&&r.prefilter(d,h))return;if(r.normalize){var g=r.normalize(d,h,e,t);g&&(e=g[0],t=g[1])}}}d.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":k(e),v=void 0===t?"undefined":k(t),m="undefined"!==y||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),b="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!m&&b)n(new i(d,t));else if(!b&&m)n(new a(d,e));else if(c(e)!==c(t))n(new o(d,e,t));else if("date"===c(e)&&e-t!=0)n(new o(d,e,t));else if("object"===y&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new o(d,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var w;for(e.length,w=0;w<e.length;w++)w>=t.length?n(new s(d,w,new a(void 0,e[w]))):l(e[w],t[w],n,r,d,w,p);for(;w<t.length;)n(new s(d,w,new i(void 0,t[w++])))}else{var x=Object.keys(e),O=Object.keys(t);x.forEach((function(o,i){var a=O.indexOf(o);a>=0?(l(e[o],t[o],n,r,d,o,p),O=f(O,a)):l(e[o],void 0,n,r,d,o,p)})),O.forEach((function(e){l(void 0,t[e],n,r,d,e,p)}))}p.length=p.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new o(d,e,t)))}function u(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=f(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(e){return"color: "+j[e].color+"; font-weight: bold"}function d(e,t,n,r){var o=u(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+j[t].text,p(t)].concat(E(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function g(e,t,n,r){switch(void 0===e?"undefined":k(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,E(n)):e[r];case"function":return e(t);default:return e}}function y(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,f=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach((function(o,u){var h=o.started,p=o.startedTime,y=o.action,v=o.prevState,m=o.error,b=o.took,w=o.nextState,O=e[u+1];O&&(w=O.prevState,b=O.started-h);var k=r(y),E="function"==typeof a?a((function(){return w}),y,o):a,S=x(p),j=s.title?"color: "+s.title(k)+";":"",_=["color: gray; font-weight: lighter;"];_.push(j),t.timestamp&&_.push("color: gray; font-weight: lighter;"),t.duration&&_.push("color: gray; font-weight: lighter;");var A=i(k,S,b);try{E?s.title&&l?n.groupCollapsed.apply(n,["%c "+A].concat(_)):n.groupCollapsed(A):s.title&&l?n.group.apply(n,["%c "+A].concat(_)):n.group(A)}catch(e){n.log(A)}var C=g(f,k,[v],"prevState"),P=g(f,k,[k],"action"),R=g(f,k,[m,v],"error"),N=g(f,k,[w],"nextState");if(C)if(s.prevState){var T="color: "+s.prevState(v)+"; font-weight: bold";n[C]("%c prev state",T,v)}else n[C]("prev state",v);if(P)if(s.action){var D="color: "+s.action(k)+"; font-weight: bold";n[P]("%c action    ",D,k)}else n[P]("action    ",k);if(m&&R)if(s.error){var I="color: "+s.error(m,v)+"; font-weight: bold;";n[R]("%c error     ",I,m)}else n[R]("error     ",m);if(N)if(s.nextState){var M="color: "+s.nextState(w)+"; font-weight: bold";n[N]("%c next state",M,w)}else n[N]("next state",w);c&&d(v,w,n,E);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},_,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var f=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(n,c))return e(c);var l={};f.push(l),l.started=O.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var u=void 0;if(a)try{u=e(c)}catch(e){l.error=o(e)}else u=e(c);l.took=O.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof s?s(n,c):t.diff;if(y(f,Object.assign({},t,{diff:h})),f.length=0,l.error)throw l.error;return u}}}}var m,b,w=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},x=function(e){return w(e.getHours(),2)+":"+w(e.getMinutes(),2)+":"+w(e.getSeconds(),2)+"."+w(e.getMilliseconds(),3)},O="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},S=[];m="object"===(void 0===e?"undefined":k(e))&&e?e:"undefined"!=typeof window?window:{},(b=m.DeepDiff)&&S.push((function(){void 0!==b&&m.DeepDiff===u&&(m.DeepDiff=b,b=void 0)})),n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||h(e,t,r)}))},enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=f(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==b},enumerable:!0},noConflict:{value:function(){return S&&(S.forEach((function(e){e()})),S=null),u},enumerable:!0}});var j={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},_={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?v()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=_,t.createLogger=v,t.logger=A,t.default=A,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(462))},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return Hr}));var r=n(354),o=n.n(r),i=n(362),a=n(458),s=n(378),f=n.n(s),c=n(370),l=n.n(c),u=n(491),h=n(422);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e);var r=[];n.logger&&r.push(Object(u.createLogger)({collapsed:!0}));var o=h.a.apply(void 0,r),i=n.state||{},a=function(e,n){var r=t[n.type]?n.type:"DEFAULT";return t[r](e,n)};this.store=Object(h.e)(a,i,o),this.dispatch=this.store.dispatch}var t,n,r;return t=e,(n=[{key:"getState",value:function(){return this.store.getState()}},{key:"DEFAULT",value:function(e){return e}},{key:"CONFIG_LOAD",value:function(e,t){return l()({config:t.config},e)}},{key:"ITEM_LOAD",value:function(e,t){if(t.payload){var n=t.payload,r=t.itemType;return Array.isArray(n)||(n=[n]),l()({items:p({},r,n.reduce((function(e,t){return l()(p({},t.id,t),e)}),{}))},e)}return e}},{key:"ITEM_STATS_LOAD",value:function(e,t){return t.payload?l()({stats:p({},t.itemType,p({},t.itemId,t.payload))},e):e}},{key:"FILE_LOAD",value:function(e,t){return(Array.isArray(t.payload)?t.payload:[t.payload]).reduce((function(e,n){var r={files:p({},n.id,n),filesOrder:l.a.withDefault([],(function(e){return-1===e.indexOf(n.id)?[].concat(e,[n.id]):e})),filesToItem:l.a.if(t.article||t.collection,p({},n.id,(function(){var e={},n=t.article,r=t.collection;return n&&(e.article=n.id),r&&(e.collection=r.id),e})))};return l()(r,e)}),e)}},{key:"LOADING",value:function(e,t){return l()({loading:t.value},e)}},{key:"CURRENT_FILE",value:function(e,t){var n=t.payload,r=e.filesOrder.indexOf(n);return l()({currentFileIndex:r},e)}}])&&g(t.prototype,n),r&&g(t,r),e}(),v=n(383),m=n(377);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)}))}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"_loadArticleFiles",E(regeneratorRuntime.mark((function e(){var t,n,o,i,a,s,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]?f[0]:[],n="FILE_LOAD",o=x(t),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=20;break}return a=i.value,e.prev=7,e.next=10,r.publicApi.getArticleFiles(a);case 10:s=e.sent,r.dispatch({type:n,payload:s,article:a}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),r.dispatch({type:n,error:e.t0}),r.flux.emit("error",{type:n,error:e.t0,parentItem:a});case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(3),o.e(e.t1);case 25:return e.prev=25,o.f(),e.finish(25);case 28:r.dispatch({type:"LOADING",value:!1});case 29:case"end":return e.stop()}}),e,null,[[3,22,25,28],[7,14]])})))),j(this,"_loadCollectionFiles",(function(e){var t="FILE_LOAD";return Promise.all(e.map((function(e){return r.publicApi.getCollectionFiles(e).then((function(n){return r.dispatch({type:t,payload:n,collection:e}),n}),(function(n){return r.dispatch({type:t,error:n}),r.flux.emit("error",{type:t,error:n,parentItem:e}),Promise.reject(n)}))}))).then((function(){r.dispatch({type:"LOADING",value:!1})}))})),this.dispatch=n,this.flux=t,this.publicApi=new v.a({baseURL:"https://widgets.figshare.com",followLocation:!0})}var t,n,r;return t=e,(n=[{key:"loadData",value:function(e){var t=this;if(this.dispatch({type:"CONFIG_LOAD",config:e}),this.dispatch({type:"LOADING",value:!0}),e.article){var n=this._loadArticles(e.article);n.then(this._loadArticleFiles),e.stats&&n.then((function(e){e.forEach(t._loadArticleStats,t),t.flux.emit("data",{articles:e})}))}if(e.collection){var r=null;r="frontiers-viewer"===e.name?w(w({},e.collection),{},{institution:e.institutionStringId}):e.collection;var o=this._loadCollections(r);o.then(this._loadCollectionFiles),e.stats&&o.then((function(e){e.forEach(t._loadCollectionStats,t),t.flux.emit("data",{collections:e})}))}}},{key:"trackViewEvent",value:function(e,t){m.a.trackOnce("view",e,t)}},{key:"setCurrentFile",value:function(e){this.dispatch({type:"CURRENT_FILE",payload:e.id}),this.flux.emit("changeFile",e)}},{key:"emitNextFile",value:function(e){this.flux.emit("nextFile",e)}},{key:"emitPrevFile",value:function(e){this.flux.emit("prevFile",e)}},{key:"emitMaximize",value:function(){this.flux.emit("maximize")}},{key:"emitMinimize",value:function(){this.flux.emit("minimize")}},{key:"emitOpenInFigshare",value:function(e){this.flux.emit("openInFigshare",e)}},{key:"_loadArticles",value:function(e){var t=this,n="ITEM_LOAD";return this.publicApi.getArticle(e).then((function(e){var r=Array.isArray(e)?e:[e];return t.dispatch({type:n,payload:r,itemType:"article"}),r}),(function(e){return t.dispatch({type:n,error:e}),t.flux.emit("error",{type:n,itemType:"article",error:e}),Promise.reject(e)}))}},{key:"_loadArticleStats",value:function(e){var t=this,n="ITEM_STATS_LOAD";return this.publicApi.getArticleStats(e.id).then((function(r){return t.dispatch({type:n,itemType:"article",payload:r,itemId:e.id}),r}),(function(r){return t.dispatch({type:n,error:r}),t.flux.emit("error",{type:n,itemType:"article",itemId:e.id,error:r}),Promise.reject(r)}))}},{key:"_loadCollections",value:function(e){var t=this,n="ITEM_LOAD";return this.publicApi.getCollection(e).then((function(e){var r=Array.isArray(e)?e:[e];return t.dispatch({type:n,itemType:"collection",payload:r}),r}),(function(e){return t.dispatch({type:n,error:e}),t.flux.emit("error",{type:n,itemType:"collection",error:e}),Promise.reject(e)}))}},{key:"_loadCollectionStats",value:function(e){var t=this,n="ITEM_STATS_LOAD";return this.publicApi.getCollectionStats(e.id).then((function(r){return t.dispatch({type:n,itemType:"collection",payload:r,itemId:e.id}),r}),(function(r){return t.dispatch({type:"ITEM_STATS_LOAD",error:r}),t.flux.emit("error",{type:n,itemType:"collection",itemId:e.id,error:r}),Promise.reject(r)}))}}])&&S(t.prototype,n),r&&S(t,r),e}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=P(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).store=new y({logger:!0}),e.actions=new _(N(e),e.store.dispatch),e}return n}(f.a.EventEmitter),I=n(356),M=n.n(I),F=n(355),B=n.n(F),L=n(365),z=n.n(L),H=n(357),V=n(371),W=n(395),U=n(375),q=n(361),Q=n(399),G=n(381),K=n(367);function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._state=t,this._cache={}}var t,n,r;return t=e,(n=[{key:"config",get:function(){var e=this._state.config||{};return{article:e.article||{},collection:e.collection||{}}}},{key:"files",get:function(){return this._cache.files||(this._cache.files=this._state.files||{}),this._cache.files}},{key:"items",get:function(){return this._cache.items||(this._cache.items=this._state.items||{article:{},collection:{}}),this._cache.items}},{key:"stats",get:function(){return this._cache.stats||(this._cache.stats=this._state.stats||{article:{},collection:{}}),this._cache.stats}},{key:"currentFileIndex",get:function(){return this._cache.currentFileIndex||(this._cache.currentFileIndex=this._state.currentFileIndex||0),this._cache.currentFileIndex}},{key:"filesOrder",get:function(){return this._cache.filesOrder||(Array.isArray(this._state.filesOrder)?this._cache.filesOrder=this._state.filesOrder:this._cache.filesOrder=[]),this._cache.filesOrder}},{key:"orderedFiles",get:function(){var e=this;return this._cache.orderedFiles||(this._cache.orderedFiles=this.filesOrder.map((function(t){return e.files[t]}))),this._cache.orderedFiles}},{key:"filesToItem",get:function(){return this._cache.filesToItem||(this._cache.filesToItem=this._state.filesToItem||{}),this._cache.filesToItem}},{key:"currentFileId",get:function(){return this._cache.currentFileId||(this._cache.currentFileId=this.filesOrder[this.currentFileIndex]),this._cache.currentFileId}},{key:"currentItemLink",get:function(){return this._cache.currentItemLink||(this._cache.currentItemLink=this.filesToItem[this.currentFileId]),this._cache.currentItemLink}},{key:"currentFile",get:function(){return this._cache.currentFile||(this._cache.currentFile=this.files[this.currentFileId]),this._cache.currentFile}},{key:"currentItemMetadata",get:function(){var e=this.currentItemLink;return e&&e.collection?{type:"collection",id:e.collection}:e&&e.article?{type:"article",id:e.article}:{type:void 0,id:void 0}}},{key:"currentItem",get:function(){var e=this.currentItemMetadata,t=e.type,n=e.id;return t&&n&&this.items[t][n]||{}}},{key:"currentItemStats",get:function(){var e=this.currentItemMetadata,t=e.type,n=e.id;if(t&&n)return this.stats[t][n]}},{key:"currentItemFileSize",get:function(){var e=this.currentItem;if(!isNaN(parseFloat(e.size))&&isFinite(e.size))return e.size}},{key:"useResourceDOIDownload",get:function(){var e=this.items,t=e.collection,n=void 0===t?{}:t,r=e.article,o=void 0===r?{}:r,i=Object.keys(n).length,a=Object.keys(o).length;return!!(i&&a||i>1||a>1)}},{key:"downloadAllData",get:function(){var e=this.config,t=e.article,n=e.collection,r=n.resourceDOI||t.resourceDOI;return r&&this.useResourceDOIDownload?{url:function(e){var t=e.resourceDOI,n=function(e,t){return e&&t?"":e?"collection":t?"item":""}(e.isCollection,e.isItem);return"".concat("https://ndownloader.figshare.com","/files/by_resource_doi/").concat(t,"?scope=").concat(n)}({resourceDOI:r,isCollection:!!n.resourceDOI,isItem:!!t.resourceDOI}),size:void 0}:{url:this.currentItem.downloadUrl,size:this.currentItemFileSize}}}])&&X(t.prototype,n),r&&X(t,r),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(a,e);var t,n,r,i=te(a);function a(){return Z(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){if(this.props.isHidden)return null;var e=this.props.stats||{},t=["fs-stats","fs-".concat(this.props.mode,"-mode")];return o.a.createElement("div",{className:M()(t)},this.renderStat("views",e.views),this.renderStat("shares",e.shares),this.renderStat("downloads",e.downloads))}},{key:"renderStat",value:function(e,t){return o.a.createElement("div",{className:"fs-stats-part"},o.a.createElement("div",{className:"fs-stats-count"},t),o.a.createElement("div",{className:"fs-stats-type"},e))}}])&&$(t.prototype,n),r&&$(t,r),a}(r.Component);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}oe(ie,"propTypes",{isHidden:B.a.bool,mode:B.a.oneOf(["desktop","mobile"]),stats:B.a.object}),oe(ie,"defaultProps",{isHidden:void 0,stats:{},mode:"desktop"});var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(a,e);var t,n,r,i=le(a);function a(){return se(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.total||0,t=this.props.current||0,n=this.props.name||"no name";return e<=1||this.props.isHidden?null:o.a.createElement("div",{className:"fs-pagination-info"},o.a.createElement("span",{className:"fs-pagination-details"},"Showing ",t+1,"/",e,":")," ".concat(n))}}])&&fe(t.prototype,n),r&&fe(t,r),a}(r.Component);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pe(de,"propTypes",{current:B.a.number,isHidden:B.a.bool,name:B.a.string,total:B.a.number}),pe(de,"defaultProps",{current:0,isHidden:void 0,total:0,name:"no name"});var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,i=be(a);function a(){return ye(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e={__html:this.props.title},t=["fs-header","fs-".concat(this.props.mode,"-mode")];return o.a.createElement("header",{className:M()(t)},o.a.createElement("div",{ref:"title",className:"fs-title-section"},o.a.createElement("h1",{dangerouslySetInnerHTML:e,className:"fs-title"}),o.a.createElement(de,{current:this.props.currentFileIndex,isHidden:!this.props.showPageInfo,name:this.props.fileName,total:this.props.filesCount})),o.a.createElement(ie,{ref:"stats",isHidden:!this.props.showStats,mode:this.props.mode,stats:this.props.stats}))}}])&&ve(t.prototype,n),r&&ve(t,r),a}(r.Component);Oe(ke,"propTypes",{currentFileIndex:B.a.number,fileName:B.a.string,filesCount:B.a.number,mode:B.a.oneOf(["desktop","mobile"]),showPageInfo:B.a.bool,showStats:B.a.bool,stats:B.a.object,title:B.a.string}),Oe(ke,"defaultProps",{currentFileIndex:void 0,fileName:void 0,filesCount:void 0,mode:"desktop",showPageInfo:!0,showStats:!0,stats:void 0,title:void 0});var Ee=n(461);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(a,e);var t,n,r,i=Ce(a);function a(){var e;je(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Te(Re(e=i.call.apply(i,[this].concat(n))),"onPrev",(function(){return e.props.onChange(e.props.current-1,"prev")})),Te(Re(e),"onNext",(function(){return e.props.onChange(e.props.current+1,"next")})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.current<=0,t=this.props.current===this.props.total-1;return o.a.createElement("div",{className:"fs-files-nav"},o.a.createElement("div",{className:"fs-nav-details"},o.a.createElement("span",{className:"fs-current-file"},this.props.current+1),o.a.createElement("span",{className:"fs-separator"}," / "),o.a.createElement("span",{className:"fs-total-files"},this.props.total)),o.a.createElement(H.a,{className:"fs-button fs-prev",disabled:e,onClick:this.onPrev}),o.a.createElement(H.a,{className:"fs-button fs-next",disabled:t,onClick:this.onNext}))}}])&&_e(t.prototype,n),r&&_e(t,r),a}(r.Component);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Te(De,"propTypes",{current:B.a.number,total:B.a.number,onChange:B.a.func}),Te(De,"defaultProps",{current:void 0,total:void 0,onChange:function(){}});var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,n,r,i=Le(a);function a(){return Me(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.currentItemURL,r=e.onOpenInFigshare;return o.a.createElement("footer",{className:M()("fs-footer","fs-".concat(t,"-mode"))},o.a.createElement("div",{className:"fs-controls-group"},o.a.createElement(Ee.a,{alt:"open in figshare",url:n,onClick:r})),this.renderFileControls(),o.a.createElement("div",{className:"fs-controls-group fs-main-controls"},o.a.createElement(H.a,{ref:"enlarge",className:"fs-button fs-enlarge-button fs-simple-button",onClick:this.props.onToggleEnlarge}),o.a.createElement(H.a,{ref:"share",className:"fs-button fs-share-button fs-simple-button",isHidden:!this.props.showShareButton,onClick:this.props.onToggleShare},o.a.createElement("span",{className:"fs-button-text"},"Share")),this.renderDownloadButton()))}},{key:"renderFileControls",value:function(){return this.props.filesCount<=1?null:o.a.createElement("div",{className:"fs-controls-group fs-file-controls"},o.a.createElement(De,{current:this.props.currentFileIndex,total:this.props.filesCount,onChange:this.props.onFileChange}),o.a.createElement(H.a,{ref:"details",className:"fs-button fs-details-button fs-simple-button",onClick:this.props.onToggleList}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.file,n=e.filesCount,r=e.onToggleDownload,i=["fs-button","fs-download-button"],a=o.a.createElement("span",{className:"fs-button-text"},"Download"),s=!!t&&!t.size;return 0===n||s?null:1===n?(t.virusScanInfo||{}).virus_found?o.a.createElement("div",{className:M()(i,"fs-download-virus"),title:"Download is not available for this file"},a):o.a.createElement("a",{ref:"download",className:M()(i),href:t.downloadUrl},a):o.a.createElement(H.a,{ref:"download",className:M()(i),onClick:r},a)}}])&&Fe(t.prototype,n),r&&Fe(t,r),a}(r.Component);Ve(We,"propTypes",{currentFileIndex:B.a.number,currentItemURL:B.a.string,file:B.a.object,filesCount:B.a.number,mode:B.a.oneOf(["desktop","mobile"]),showShareButton:B.a.bool,onFileChange:B.a.func,onOpenInFigshare:B.a.func,onToggleDownload:B.a.func,onToggleEnlarge:B.a.func,onToggleList:B.a.func,onToggleShare:B.a.func}),Ve(We,"defaultProps",{currentFile:void 0,currentFileIndex:void 0,currentItemURL:void 0,file:void 0,filesCount:void 0,showShareButton:!0,mode:"desktop",onFileChange:void 0,onOpenInFigshare:void 0,onToggleDownload:void 0,onToggleEnlarge:void 0,onToggleList:void 0,onToggleShare:void 0});var Ue=n(391),qe=n(374),Qe=n(373);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(a,e);var t,n,r,i=Je(a);function a(){var e;Ke(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tt($e(e=i.call.apply(i,[this].concat(n))),"onPrev",(function(){e.isFirst()||e.props.onChange(e.props.current-1,"prev")})),tt($e(e),"onNext",(function(){e.isLast()||e.props.onChange(e.props.current+1,"next")})),tt($e(e),"onKeyDown",(function(t){switch(t.which){case 34:case 39:t.preventDefault(),e.onNext();break;case 33:case 37:t.preventDefault(),e.onPrev()}})),tt($e(e),"isFirst",(function(){return e.props.current<=0})),tt($e(e),"isLast",(function(){return e.props.current>=e.props.total-1})),e}return t=a,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){var e={"fs-disabled":this.isFirst()},t={"fs-disabled":this.isLast()};return o.a.createElement("div",{className:"fs-simple-nav"},o.a.createElement(H.a,{className:M()(e,"fs-prev","fs-nav-item"),disabled:this.isFirst(),onClick:this.onPrev}),o.a.createElement(H.a,{className:M()(t,"fs-next","fs-nav-item"),disabled:this.isLast(),onClick:this.onNext}))}}])&&Xe(t.prototype,n),r&&Xe(t,r),a}(Qe.a);tt(nt,"propTypes",{current:B.a.number,total:B.a.number,onChange:B.a.func}),tt(nt,"defaultProps",{current:void 0,total:void 0,onChange:function(){}});var rt=n(382);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(a,e);var t,n,r,i=ft(a);function a(){return it(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.value,r=new rt.b(n);return o.a.createElement("span",{className:M()("fs-filesize",t)},o.a.createElement("span",{className:"fs-value"},r.value()),o.a.createElement("span",{className:"fs-unit"},r.unit()))}}])&&at(t.prototype,n),r&&at(t,r),a}(r.Component);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),e}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ut(ht,"propTypes",{className:B.a.string,value:B.a.number}),ut(ht,"defaultProps",{className:void 0,value:void 0});var Et=function(e){vt(n,e);var t=bt(n);function n(){var e;dt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return kt(xt(e=t.call.apply(t,[this].concat(o))),"onSelect",(function(){return e.props.onSelect(e.props.file)})),e}return yt(n,[{key:"render",value:function(){var e=this.props.file,t="fs-item";return this.props.selected&&(t="fs-item fs-selected"),o.a.createElement("div",{className:t,tabIndex:"1",onClick:this.onSelect},o.a.createElement("div",{className:"fs-thumb"},Object(U.b)(e)),o.a.createElement("div",{className:"fs-text"},o.a.createElement("span",{className:"fs-title"},e.name),o.a.createElement(ht,{value:e.size})))}}]),n}(r.Component);kt(Et,"propTypes",{file:B.a.object,selected:B.a.bool,onSelect:B.a.func}),kt(Et,"defaultProps",{file:void 0,selected:void 0,onSelect:function(){}});var St=function(e){vt(n,e);var t=bt(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return kt(xt(e=t.call.apply(t,[this].concat(i))),"renderFile",(function(t){return o.a.createElement(Et,{key:t.id,file:t,selected:t===e.props.current,onSelect:e.props.onSelect})})),e}return yt(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"fs-files-listing-enlarged"},this.props.files.map(this.renderFile))}}]),n}(r.Component);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kt(St,"propTypes",{current:B.a.object,files:B.a.array,onSelect:B.a.func}),kt(St,"defaultProps",{current:void 0,files:void 0,onSelect:function(){}});var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(a,e);var t,n,r,i=Pt(a);function a(){return _t(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.checkHeight()}},{key:"componentDidUpdate",value:function(){this.checkHeight()}},{key:"render",value:function(){var e={"fs-expandable-container":!0,"fs-expanded":this.state.open,"fs-collapsed":!this.state.open};return o.a.createElement("div",{className:M()(e)},o.a.createElement("div",{ref:"wrapper",className:"fs-content-wrapper"},o.a.createElement("div",{ref:"content",className:"fs-content"},this.props.children)),this.renderExpandButton())}},{key:"renderExpandButton",value:function(){if(!this.state.needsExpansion)return null;var e=void 0,t=void 0;return this.state.open?(e=this.props.collapseText||"Read less",t="fs-collapse"):(e=this.props.expandText||"Read more",t="fs-expand"),o.a.createElement("div",{className:"fs-toggle"},o.a.createElement("a",{className:t,onClick:this.handle("onToggle")},e))}},{key:"onToggle",value:function(){this.setState({open:!this.state.open})}},{key:"checkHeight",value:function(){if(!this.state.open){var e=z.a.findDOMNode(this.refs.content),t=z.a.findDOMNode(this.refs.wrapper),n=e.offsetHeight>t.offsetHeight;this.state.needsExpansion!==n&&this.setState({needsExpansion:n})}}}])&&At(t.prototype,n),r&&At(t,r),a}(Qe.a);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tt(Dt,"propTypes",{children:B.a.node,collapseText:B.a.node,expandText:B.a.node}),Tt(Dt,"defaultProps",{children:void 0,collapseText:void 0,expandText:void 0});var Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(a,e);var t,n,r,i=Lt(a);function a(){return Mt(this,a),i.apply(this,arguments)}return t=a,r=[{key:"hasDetails",value:function(e){return!(!e.title&&!e.description)}}],(n=[{key:"render",value:function(){return a.hasDetails(this.props.file)?o.a.createElement("aside",{className:"fs-file-description"},this.renderTitle(),this.renderDescription()):null}},{key:"renderTitle",value:function(){var e=this.props.file.title;return e?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:"fs-title"}):null}},{key:"renderDescription",value:function(){var e=this.props.file.description;return e?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:"fs-description"}):null}}])&&Ft(t.prototype,n),r&&Ft(t,r),a}(r.Component);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vt(Wt,"propTypes",{file:B.a.object}),Vt(Wt,"defaultProps",{file:void 0});var Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(a,e);var t,n,r,i=Kt(a);function a(){return qt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.file;return o.a.createElement("div",{className:"fs-file-details-enlarged"},o.a.createElement("div",{className:"fs-section fs-title"},o.a.createElement("span",{className:"fs-text"},e.name),this.renderDownload()),this.renderDescription())}},{key:"renderDownload",value:function(){var e=this.props,t=e.file,n=e.mode,r=t.virusScanInfo,i=t.size,a=t.downloadUrl;return(r||{}).virus_found?"desktop"!==n?o.a.createElement("div",{className:"fs-download-icon fs-download-virus",title:"Download is not available for this file"}):o.a.createElement("div",{className:"fs-download-button fs-download-virus",title:"Download is not available for this file"},o.a.createElement("strong",null,"Download"),"(",o.a.createElement(ht,{value:i}),")"):"desktop"!==n?o.a.createElement("a",{className:"fs-download-icon",href:a}):o.a.createElement("a",{className:"fs-download-button",href:a},o.a.createElement("strong",null,"Download"),"(",o.a.createElement(ht,{value:i}),")")}},{key:"renderDescription",value:function(){var e=this.props.file;return Wt.hasDetails(e)?o.a.createElement("div",{className:"fs-section fs-description"},o.a.createElement(Dt,{collapseText:"hide description",expandText:"show more",height:60},o.a.createElement(Wt,{file:e}))):null}}])&&Qt(t.prototype,n),r&&Qt(t,r),a}(r.Component);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(e,t){if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jt(Zt,"propTypes",{file:B.a.object,mode:B.a.oneOf(["mobile","desktop"])}),Jt(Zt,"defaultProps",{file:void 0,mode:void 0});var fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(a,e);var t,n,r,i=rn(a);function a(){return en(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.boxWidth,n=e.boxHeight,r=e.currentFile,i=e.onClose;if(!t||!n)return null;var a=0,s=0,f=this.mode;"desktop"===f?(a=t-350,s=Math.min(a*(3/4),n-200)):(a=t-0,s=n-80),Wt.hasDetails(r)&&(s-=101);var c=["fs-enlarged-view","fs-mode-".concat(f)];return o.a.createElement(Ue.a,{className:M()(c),onClose:i},o.a.createElement("div",{className:"fs-buttons-wrap"},o.a.createElement(H.a,{className:"fs-files-button fs-simple-button",onClick:this.handle("onShowFileList")}),o.a.createElement(H.a,{className:"fs-close-button fs-simple-button",onClick:this.props.onClose})),this.renderFilesList(),o.a.createElement("div",{className:"fs-viewer-wrap"},o.a.createElement("div",{className:"fs-fake-wrapper"},o.a.createElement("div",{className:"fs-viewer-container",style:{width:a,height:s}},o.a.createElement(U.a,{file:this.props.currentFileModel,height:s,mode:f,showControls:!0,trackFileViews:!0,width:a})),o.a.createElement("div",{className:"fs-details-container",style:{width:a}},o.a.createElement(Zt,{file:r,mode:f})))),this.renderNav())}},{key:"renderFilesList",value:function(){return"mobile"!==this.mode||this.state.showFiles?o.a.createElement("div",{className:"fs-files-wrap"},o.a.createElement(qe.a,{onClickOutside:this.handle("onHideFileList")},o.a.createElement(St,{current:this.props.currentFile,files:this.props.files,onSelect:this.handle("onSetCurrentFile")}))):null}},{key:"renderNav",value:function(){return"mobile"===this.mode?null:o.a.createElement("div",{className:"fs-navigation-wrap"},o.a.createElement(nt,{current:this.props.currentFileIndex,total:this.props.total,onChange:this.props.onChangeCurrentFile}))}},{key:"onShowFileList",value:function(){this.setState({showFiles:!0})}},{key:"onHideFileList",value:function(){"mobile"===this.mode&&this.setState({showFiles:!1})}},{key:"onSetCurrentFile",value:function(e){var t=this.props.files.indexOf(e);-1!==t&&t!==this.props.currentFileIndex&&(this.callback("onChangeCurrentFile",t),this.onHideFileList())}},{key:"mode",get:function(){return this.props.boxWidth<=750?"mobile":"desktop"}}])&&tn(t.prototype,n),r&&tn(t,r),a}(V.a);sn(fn,"propTypes",{boxHeight:B.a.number,boxWidth:B.a.number,currentFile:B.a.object,currentFileIndex:B.a.number,currentFileModel:B.a.object,files:B.a.array,total:B.a.number,onChangeCurrentFile:B.a.func,onClose:B.a.func}),sn(fn,"defaultProps",{boxHeight:void 0,boxWidth:void 0,currentFile:void 0,currentFileIndex:void 0,currentFileModel:void 0,files:void 0,total:void 0,onChangeCurrentFile:void 0,onClose:void 0});var cn=Object(W.a)(fn),ln=n(389);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),e}function gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var On=function(e){gn(n,e);var t=vn(n);function n(){var e;hn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xn(bn(e=t.call.apply(t,[this].concat(o))),"onSelect",(function(){return e.props.onSelect(e.props.file)})),xn(bn(e),"onView",(function(){return e.props.onView(e.props.file)})),e}return dn(n,[{key:"render",value:function(){var e=this.props.file;if(!e)return null;var t=e.name,n="",r=e.name.lastIndexOf(".");return t.length-r<=6&&-1!==r&&(n=t.substr(r),t=t.substr(0,r)),o.a.createElement("div",{className:"fs-fileitem-details"},o.a.createElement(H.a,{className:"fs-fileitem-name",onClick:this.handle("onSelect")},o.a.createElement("span",{className:"fs-fileitem-base"},t),o.a.createElement("span",{className:"fs-fileitem-extension"},n)),this.renderViewAction(),this.renderDownloadAction())}},{key:"renderViewAction",value:function(){var e=this.props,t=e.file,n=e.alwaysShowViewButton,r=(t.virusScanInfo||{}).virus_found,i=Object(U.c)(t.viewerType)||n;return r?null:o.a.createElement(H.a,{className:"fs-fileitem-view",disabled:!i,onClick:this.onView},o.a.createElement("span",{className:"fs-button-text"},"view"))}},{key:"renderDownloadAction",value:function(){var e=this.props.file,t=e.virusScanInfo,n=e.name,r=e.downloadUrl;return(t||{}).virus_found?null:o.a.createElement("a",{className:"fs-fileitem-download",download:n,href:r,rel:"noopener noreferrer",target:"_blank"},o.a.createElement("span",{className:"fs-button-text"},"download"))}}]),n}(Qe.a);xn(On,"propTypes",{alwaysShowViewButton:B.a.bool,file:B.a.object,onSelect:B.a.func,onView:B.a.func}),xn(On,"defaultProps",{file:null,alwaysShowViewButton:!1,onSelect:function(){},onView:function(){}});var kn=function(e){gn(n,e);var t=vn(n);function n(){var e;hn(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return xn(bn(e=t.call.apply(t,[this].concat(i))),"renderFile",(function(t){var n=e.props,r=n.onSelect,i=n.onView;return o.a.createElement(On,{key:"fileitem-".concat(t.id),file:t,onSelect:r,onView:i})})),e}return dn(n,[{key:"render",value:function(){var e=["fs-list","fs-".concat(this.props.mode,"-mode")];return o.a.createElement("div",{className:M()(e)},this.props.files.map(this.renderFile))}}]),n}(Qe.a);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pn(e);if(t){var o=Pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cn(this,n)}}function Cn(e,t){if(t&&("object"===En(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xn(kn,"propTypes",{files:B.a.array,mode:B.a.oneOf(["desktop","mobile"]),onSelect:B.a.func,onView:B.a.func}),xn(kn,"defaultProps",{files:[],mode:"desktop",onSelect:void 0,onView:void 0});var Nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(a,e);var t,n,r,i=An(a);function a(){return Sn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onClose,r=e.arrowOffset,i=e.files,a=e.mode,s=e.onSelect,f=e.onView;return t?o.a.createElement(ln.a,{arrowLocation:"bottom",className:"fs-files-listing",xOffset:r},o.a.createElement(Ue.a,{onClose:n},o.a.createElement(kn,{key:"files-listing",files:i,mode:a,onSelect:s,onView:f}))):null}}])&&jn(t.prototype,n),r&&jn(t,r),a}(r.Component);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ln(e);if(t){var o=Ln(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Rn(Nn,"propTypes",{arrowOffset:B.a.number,files:B.a.array,isActive:B.a.bool,mode:B.a.oneOf(["desktop","mobile"]),onClose:B.a.func,onSelect:B.a.func,onView:B.a.func}),Rn(Nn,"defaultProps",{arrowOffset:void 0,files:[],isActive:void 0,mode:"desktop",onClose:void 0,onSelect:void 0,onView:void 0});var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(a,e);var t,n,r,i=Fn(a);function a(){return Dn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.downloadAllUrl;return o.a.createElement("div",{className:"fs-download-options"},o.a.createElement("div",{className:"fs-download-item"},this.renderDownloadFile()),o.a.createElement("div",{className:"fs-download-item"},o.a.createElement("a",{href:e},"Download all ",this.renderDownloadAllSize())))}},{key:"renderDownloadFile",value:function(){var e=this.props.file,t=e.virusScanInfo||{};return t.scan_done&&t.virus_found?o.a.createElement("span",null,"Download is not available for this file."):o.a.createElement("a",{href:e.downloadUrl},"Download this file (",o.a.createElement(ht,{value:e.size}),")")}},{key:"renderDownloadAllSize",value:function(){var e=this.props.downloadAllSize;return e?o.a.createElement("span",null,"(",o.a.createElement(ht,{value:e}),")"):null}}])&&In(t.prototype,n),r&&In(t,r),a}(r.Component);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gn(this,n)}}function Gn(e,t){if(t&&("object"===Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zn(Hn,"propTypes",{downloadAllSize:B.a.number,downloadAllUrl:B.a.string,file:B.a.object}),zn(Hn,"defaultProps",{downloadAllSize:void 0,downloadAllUrl:void 0,file:{}});var Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(a,e);var t,n,r,i=Qn(a);function a(){return Wn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.arrowOffset,n=e.onClose,r=e.file,i=e.downloadAllUrl,a=e.downloadAllSize;return o.a.createElement(ln.a,{arrowLocation:"bottom",className:"fs-download-screen",xOffset:t},o.a.createElement(qe.a,{onClickOutside:n},o.a.createElement(Hn,{downloadAllSize:a,downloadAllUrl:i,file:r})))}}])&&Un(t.prototype,n),r&&Un(t,r),a}(r.Component);Xn(Yn,"propTypes",{arrowOffset:B.a.number,downloadAllSize:B.a.number,downloadAllUrl:B.a.string,file:B.a.object,onClose:B.a.func}),Xn(Yn,"defaultProps",{arrowOffset:0,downloadAllSize:void 0,downloadAllUrl:void 0,file:{},onClose:function(){}});var Jn=n(471);n(468);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(e,t){if(t&&("object"===Zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(a,e);var t,n,r,i=nr(a);function a(){return $n(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this._parseSNButtons()}},{key:"render",value:function(){var e,t=this.props.item.url,n=["fs-share-buttons",{"fs-hidden-labels":this.props.hideLabels}];return o.a.createElement("div",{className:M()(n)},o.a.createElement("div",{className:"fs-share-item"},this.renderLabel("Facebook"),o.a.createElement("div",{className:"fs-share-button-container"},o.a.createElement("div",{className:"fb-share-button","data-href":t,"data-layout":"button_count"}))),o.a.createElement("div",{className:"fs-share-item"},this.renderLabel("X"),o.a.createElement("div",{className:"fs-share-button-container"},o.a.createElement("a",{className:"twitter-share-button",href:(e=t,"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e)))}))),o.a.createElement("div",{className:"fs-share-item"},this.renderLabel("Cite item"),o.a.createElement("div",{className:"fs-share-button-container"},o.a.createElement(H.a,{className:"fs-cite-button",onClick:this.props.onCite},o.a.createElement("span",{className:"fs-button-text"},"Cite item")))))}},{key:"renderLabel",value:function(e){return this.props.hideLabels?null:o.a.createElement("h3",{className:"fs-share-name"},e)}},{key:"_parseSNButtons",value:function(){var e=Object(L.findDOMNode)(this),t=window,n=t.FB,r=t.twttr;n&&n.XFBML.parse(e),r&&r.widgets.load(e)}}])&&er(t.prototype,n),r&&er(t,r),a}(Qe.a);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dr(e);if(t){var o=dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ir(ar,"propTypes",{hideLabels:B.a.bool,item:B.a.object,onCite:B.a.func}),ir(ar,"defaultProps",{hideLabels:void 0,item:{},onCite:void 0});var yr=Symbol("cite"),vr=Symbol("share"),mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(s,e);var t,n,r,a=ur(s);function s(){var e;fr(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gr(pr(e=a.call.apply(a,[this].concat(n))),"state",{viewType:vr}),gr(pr(e),"onCiteView",(function(){return setTimeout((function(){return e.setState({viewType:yr})}),0)})),gr(pr(e),"onShareView",(function(){return setTimeout((function(){return e.setState({viewType:vr})}),0)})),e}return t=s,(n=[{key:"render",value:function(){return"arrow-container"===this.props.chrome?o.a.createElement(ln.a,{arrowLocation:"bottom",className:"fs-share-screen fs-mobile-mode",xOffset:this.props.arrowOffset},o.a.createElement(qe.a,{onClickOutside:this.props.onClose},this.renderContent())):"overlay"===this.props.chrome?o.a.createElement(Q.a,{key:"share",backdrop:!0,name:"fs-share-screen fs-desktop-mode",onBackdropClick:this.props.onClose},this.renderContent(!0),o.a.createElement("a",{className:"fs-close",onClick:this.props.onClose})):null}},{key:"renderContent",value:function(e){return this.state.viewType===yr?this.renderCiteItem(e):this.renderShareList(e)}},{key:"renderShareList",value:function(e){if(this.state.viewType!==vr)return null;var t=void 0;if(e){var n={__html:'Share "'.concat(this.props.item.title,'" on:')};t=o.a.createElement("h1",{className:"fs-share-title",dangerouslySetInnerHTML:n})}return o.a.createElement("div",{className:"fs-share-container"},t,o.a.createElement(ar,{hideLabels:!e,item:this.props.item,onCite:this.onCiteView}))}},{key:"renderCiteItem",value:function(e){var t=this.props,n=t.chrome,r=t.item,a=t.currentItemType;return o.a.createElement(i.a,{store:this.props.store},o.a.createElement(Jn.a,{chrome:n,entityDefaultCitation:r.citation,entityId:r.id,entityType:a,showBackButton:!0,showTitle:e,title:r.title,onBack:this.onShareView}))}}])&&cr(t.prototype,n),r&&cr(t,r),s}(r.Component);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jr(e);if(t){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gr(mr,"propTypes",{chrome:B.a.oneOf(["overlay","arrow-container"]).isRequired,store:B.a.object.isRequired,arrowOffset:B.a.number,currentItemType:B.a.oneOf(["article","collection"]),item:B.a.object,onClose:B.a.func}),gr(mr,"defaultProps",{store:void 0,arrowOffset:void 0,currentItemType:void 0,item:void 0,onClose:void 0});var Ar=Symbol("share"),Cr=Symbol("enlarge"),Pr=Symbol("filelist"),Rr=Symbol("download"),Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(a,e);var t,n,r,i=kr(a);function a(){var e;wr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];_r(Sr(e=i.call.apply(i,[this].concat(n))),"onStartTracking",(function(){return e.startTracking()})),_r(Sr(e),"onCloseActiveFeature",(function(){e.setState({activeFeature:null})})),_r(Sr(e),"onShare",(function(){e.setState({activeFeature:Ar})})),_r(Sr(e),"onShowFilesList",(function(){e.setState({activeFeature:Pr})})),_r(Sr(e),"onFileSelect",(function(t){e.onCloseActiveFeature(),e.onChangeCurrentFile(t)})),_r(Sr(e),"onFileView",(function(t){e.onEnlarge(),e.onChangeCurrentFile(t)})),_r(Sr(e),"onEnlargeClose",(function(){e.onCloseActiveFeature(),e.props.actions.emitMinimize()})),_r(Sr(e),"onEnlarge",(function(t){t&&t.stopPropagation&&t.stopPropagation(),e.setState({activeFeature:Cr}),e.props.actions.emitMaximize()})),_r(Sr(e),"onDownload",(function(){var t=e.props.files,n=e.props.currentItem,r=e.props.currentFile;t.length>1&&n.downloadUrl?e.setState({activeFeature:Rr}):r&&document.location.assign(r.downloadUrl)})),_r(Sr(e),"onChangeCurrentFile",(function(t,n){var r=t;"number"==typeof t&&(r=e.props.files[t]),e.props.actions.setCurrentFile(r),"next"===n&&e.props.actions.emitNextFile(r),"prev"===n&&e.props.actions.emitPrevFile(r)})),_r(Sr(e),"onOpenInFigshare",(function(){e.props.actions.emitOpenInFigshare(e.props.currentItem.url)})),_r(Sr(e),"startTracking",(function(){e.props.actions.trackViewEvent(e.props.currentItemType,e.props.currentItemId),e.setState({trackFileViews:!0})})),_r(Sr(e),"computeViewerClientRect",(function(){var t=e.props.width;("auto"===e.props.width||t>e.props.boxWidth)&&(t=e.props.boxWidth);var n=t>e.props.breakPoint?"desktop":"mobile";return{width:t,height:e.props.height,mode:n}})),_r(Sr(e),"updateArrowOffsets",(function(){var t=e.computeArrowOffsets();e.setState({filesListArrowOffset:t.filesListOffset,shareArrowOffset:t.shareOffset,downloadArrowOffset:t.downloadOffset})})),_r(Sr(e),"computeArrowOffsets",(function(){var t={filesListOffset:30,shareOffset:30,downloadOffset:30},n=e.refs.footer;if(n){var r=Object(L.findDOMNode)(n.refs.details);r&&(t.filesListOffset=r.offsetLeft+r.offsetWidth/2);var o=Object(L.findDOMNode)(n.refs.share);o&&(t.shareOffset=o.offsetLeft+o.offsetWidth/2);var i=Object(L.findDOMNode)(n.refs.download);i&&(t.downloadOffset=i.offsetLeft+i.offsetWidth/2)}return t}));var o=e.computeArrowOffsets();return e.reduxStore=Object(K.a)({debugName:"files-viewer"}),e.state={fileModel:new G.a(e.props.currentFile),filesListArrowOffset:o.filesListOffset,shareArrowOffset:o.shareOffset,downloadArrowOffset:o.downloadOffset,trackFileViews:!1},e}return t=a,(n=[{key:"getChildContext",value:function(){return{actions:this.props.actions,widgetClass:this.widgetClass}}},{key:"componentDidUpdate",value:function(e){var t={},n=!1;this.props.currentFile!==e.currentFile&&(t.fileModel=new G.a(this.props.currentFile),n=!0),this.props.boxWidth===e.boxWidth&&this.props.boxHeight===e.boxHeight||setTimeout(this.updateArrowOffsets,0),n&&this.setState(t)}},{key:"render",value:function(){var e=this.props.currentFile,t=this.computeViewerClientRect(),n=t.mode,r=null,i=null,a=null,s=o.a.createElement(U.a,{file:this.state.fileModel,height:t.height,mode:n,showControls:"mobile"!==n,trackFileViews:this.state.trackFileViews,width:t.width});if(this.props.showFileDetails&&e&&Wt.hasDetails(e)&&(i=o.a.createElement("div",{className:"fs-file-description-wrap"},o.a.createElement(Wt,{file:e}))),this.isActive(Cr)&&(r=o.a.createElement(Q.a,{key:"enlarge",backdrop:!0,name:"fs-enlarged-view",onEscPress:this.onCloseActiveFeature},o.a.createElement(cn,{currentFile:e,currentFileIndex:this.props.currentFileIndex,currentFileModel:this.state.fileModel,files:this.props.files,total:this.props.filesCount,onChangeCurrentFile:this.onChangeCurrentFile,onClose:this.onEnlargeClose})),s=null),this.isActive(Ar)&&(r=o.a.createElement(mr,{arrowOffset:this.state.shareArrowOffset,chrome:"desktop"===n?"overlay":"arrow-container",currentItemType:this.props.currentItemType,item:this.props.currentItem,store:this.reduxStore,onClose:this.onCloseActiveFeature})),this.isActive(Rr)){var f=this.props,c=f.currentFile,l=f.downloadAllUrl,u=f.downloadAllSize;r=o.a.createElement(Yn,{arrowOffset:this.state.downloadArrowOffset,downloadAllSize:u,downloadAllUrl:l,file:c,onClose:this.onCloseActiveFeature})}return"mobile"===n&&Object(U.c)(this.state.fileModel.viewerType)&&(a=o.a.createElement("div",{className:"fs-expand-container",onClick:this.onEnlarge},o.a.createElement(H.a,{className:"fs-expand-button",onClick:this.onEnlarge},"Expand"))),o.a.createElement("figshare-widget",{class:this.widgetClass,className:this.widgetClass,style:{width:t.width},onClick:this.onStartTracking},o.a.createElement(q.a,{className:"fs-files-viewer-loader",loading:this.props.loading},o.a.createElement(ke,{currentFileIndex:this.props.currentFileIndex,fileName:e&&e.name,filesCount:this.props.filesCount,mode:t.mode,showPageInfo:this.props.showPageInfo,showStats:this.props.showStats,stats:this.props.stats,title:this.props.currentItem.title}),o.a.createElement("section",{className:"fs-viewer-wrap"},o.a.createElement("div",{className:"fs-viewer-container",style:t},s,a),r,o.a.createElement(Nn,{arrowOffset:this.state.filesListArrowOffset,files:this.props.files,isActive:this.isActive(Pr),mode:t.mode,onClose:this.onCloseActiveFeature,onSelect:this.onFileSelect,onView:this.onFileView})),o.a.createElement(We,{ref:"footer",currentFile:this.props.currentFile,currentFileIndex:this.props.currentFileIndex,currentItemURL:this.props.currentItem.url,file:this.props.currentFile,filesCount:this.props.filesCount,mode:t.mode,showShareButton:this.props.showShareButton,onFileChange:this.onChangeCurrentFile,onOpenInFigshare:this.onOpenInFigshare,onToggleDownload:this.onDownload,onToggleEnlarge:this.onEnlarge,onToggleList:this.onShowFilesList,onToggleShare:this.onShare}),i))}},{key:"widgetClass",get:function(){return M()("fs-files-viewer-widget","fs-".concat(this.props.widgetName,"-widget"))}},{key:"isActive",value:function(e){return this.state.activeFeature===e}}])&&xr(t.prototype,n),r&&xr(t,r),a}(V.a);_r(Nr,"childContextTypes",{actions:B.a.object,widgetClass:B.a.string}),_r(Nr,"propTypes",{actions:B.a.object,boxHeight:B.a.number,boxWidth:B.a.number,breakPoint:B.a.number,currentFile:B.a.object,currentFileIndex:B.a.number,currentItem:B.a.object,currentItemId:B.a.number,currentItemType:B.a.string,downloadAllSize:B.a.number,downloadAllUrl:B.a.string,files:B.a.array,filesCount:B.a.number,height:B.a.number,loading:B.a.bool,showFileDetails:B.a.bool,showPageInfo:B.a.bool,showShareButton:B.a.bool,showStats:B.a.bool,stats:B.a.object,widgetName:B.a.string,width:B.a.oneOfType([B.a.string,B.a.number])}),_r(Nr,"defaultProps",{actions:void 0,boxHeight:void 0,boxWidth:void 0,breakPoint:void 0,currentFile:void 0,currentFileIndex:void 0,currentItem:void 0,currentItemId:void 0,currentItemType:void 0,files:void 0,filesCount:void 0,height:void 0,loading:void 0,downloadAllUrl:void 0,downloadAllSize:void 0,showStats:!0,showPageInfo:!0,showShareButton:!0,showFileDetails:!0,stats:void 0,widgetName:void 0,width:void 0});var Tr=Object(i.c)((function(e){var t=new Y(e),n=t.currentItemMetadata,r=t.downloadAllData;return{loading:e.loading,files:t.orderedFiles,currentFile:t.currentFile,currentItem:t.currentItem,currentItemType:n.type,currentItemId:n.id,currentFileIndex:t.currentFileIndex,downloadAllUrl:r.url,downloadAllSize:r.size,filesCount:t.filesOrder.length,stats:t.currentItemStats}}))(Object(W.a)(Nr));function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return(Mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lr(this,n)}}function Lr(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(s,e);var t,n,r,a=Br(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this);var n=e.showStats,r=void 0===n||n;return t.flux=new D,t._options=Object.assign(e||{},{showStats:r}),t._setupEvents(),t}return t=s,(n=[{key:"initialize",value:function(){var e=this._options,t=e.showStats,n=e.article,r=e.collection,o=e.institutionStringId,i=e.name;this.flux.actions.loadData({stats:t,article:n,collection:r,institutionStringId:o,name:i})}},{key:"terminate",value:function(){Mr(zr(s.prototype),"terminate",this).call(this),this.flux.removeAllListeners()}},{key:"setCurrentFile",value:function(e){var t=e;"object"!==Dr(t)&&(t={id:e}),this.flux.actions.setCurrentFile(t)}},{key:"_getElement",value:function(){var e=this.flux,t=e.actions,n=e.store.store,r=this._options,a=r.name,s=r.width,f=r.height,c=r.breakPoint,l=r.showStats,u=r.showPageInfo,h=r.showShareButton,p=r.showFileDetails;return o.a.createElement(i.a,{store:n},o.a.createElement(Tr,{actions:t,breakPoint:c||550,height:f||450,showFileDetails:p,showPageInfo:u,showShareButton:h,showStats:l,widgetName:a,width:s||"auto"}))}},{key:"_setupEvents",value:function(){var e=this;this.flux.on("data",(function(t){return e.emit("dataLoad",t)})),this.flux.on("changeFile",(function(t){e.listenerCount("currentFile")>0&&(console.warn("The event `currentFile` has been deprecated in favor of `changeFile`."),e.emit("currentFile",t))})),this.flux.on("changeFile",(function(t){return e.emit("changeFile",t)})),this.flux.on("nextFile",(function(t){return e.emit("nextFile",t)})),this.flux.on("prevFile",(function(t){return e.emit("prevFile",t)})),this.flux.on("maximize",(function(){return e.emit("maximize")})),this.flux.on("minimize",(function(){return e.emit("minimize")})),this.flux.on("openInFigshare",(function(t){return e.emit("openInFigshare",t)})),this.flux.on("error",(function(t){e.listenerCount("error")>0&&e.emit("error",t)}))}}])&&Ir(t.prototype,n),r&&Ir(t,r),s}(a.a)}}]);