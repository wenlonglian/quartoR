(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{415:function(e,t){var n;n={selectors:{shown:"js--shown",statusShown:"js--target-shown",hidden:"js--hidden",statusHidden:"js--target-hidden",attrToggle:"data-toggle-target-id",attrShow:"data-show-target-id",attrHide:"data-hide-target-id"},evs:{beforeShow:"viewToggler.beforeShow",beforeHide:"viewToggler.beforeHide",afterShow:"viewToggler.afterShow",afterHide:"viewToggler.afterHide",triggerHide:"viewToggler.trigger.hide",triggerShow:"viewToggler.trigger.show"},show:function show(e,t){function action(){e.classList.remove(n.selectors.hidden),e.classList.add(n.selectors.shown),n.setFocusIn(e),document.dispatchEvent(new CustomEvent(n.evs.afterShow,{detail:{element:e,trigger:t},cancelable:!1}))}if(e){if(!document.dispatchEvent(new CustomEvent(n.evs.beforeShow,{detail:{element:e,trigger:t},cancelable:!0})))return;t.classList.contains("accordion")&&$&&$.fn?$(e).slideDown("fast",(function(){action()})):action(),t.classList.remove(n.selectors.statusHidden),t.classList.add(n.selectors.statusShown),e.originalTrigger=t}},hide:function hide(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function action(){e.classList.remove(n.selectors.shown),e.classList.add(n.selectors.hidden),document.dispatchEvent(new CustomEvent(n.evs.afterHide,{detail:{element:e,trigger:t},cancelable:!1})),e.originalTrigger&&r&&e.originalTrigger.focus()}if(e){var o=document.dispatchEvent(new CustomEvent(n.evs.beforeHide,{detail:{element:e,trigger:t},cancelable:!0}));if(!o)return;t.classList.contains("accordion")&&$&&$.fn?$(e).slideUp("fast",(function(){action()})):action(),t.classList.remove(n.selectors.statusShown),t.classList.add(n.selectors.statusHidden)}},parentByAttribute:function parentByAttribute(e,t){var n=0;return function traverseUp(e){return n>=5||!e.parentElement?null:e.parentElement.getAttribute(t)?e.parentElement:(n++,traverseUp(e.parentElement))}(e)},getTarget:function getTarget(e,t){if(e.getAttribute(t))return e;var r=n.parentByAttribute(e,t);return r||void 0},hideAll:function hideAll(){var e=document.querySelectorAll("."+n.selectors.shown);Array.prototype.slice.call(e).map((function(e){e.classList.remove(n.selectors.shown),e.classList.add(n.selectors.hidden)}));var t=document.querySelectorAll("."+n.selectors.statusShown);t=Array.prototype.slice.call(t).map((function(e,r){e.classList.remove(n.selectors.statusShown),t.length-1===r&&e.focus()}))},control:function control(e){var t=n.getTarget(e.target,n.selectors.attrShow);if(t){e.preventDefault();var r=document.getElementById(t.getAttribute(n.selectors.attrShow));n.show(r,t)}var o=n.getTarget(e.target,n.selectors.attrHide);if(o){e.preventDefault();var i=document.getElementById(o.getAttribute(n.selectors.attrHide));n.hide(i,o)}var s=n.getTarget(e.target,n.selectors.attrToggle);if(s){e.preventDefault();var a=document.getElementById(s.getAttribute(n.selectors.attrToggle));if(a.classList.contains(n.selectors.shown))n.hide(a,s);else if(a.classList.contains(n.selectors.hidden))n.show(a,s);else{var c=a.getBoundingClientRect(),l=c.height,u=c.width;l&&u?n.hide(a,s):l&&u||n.show(a,s)}}},setFocusIn:function setFocusIn(e){var t=e.querySelectorAll('button, [href]:not(.sr-only-focusable), input, select, textarea, [tabindex]:not([tabindex="-1"])');t[0]&&t[0].focus()},triggerListener:function triggerListener(e){if(e.detail.targets.length){var t=e.type===n.evs.triggerHide?"hide":"show";e.detail.targets.map((function(e){n[t](e.target,e.trigger,!1)}))}},init:function init(){document.body.addEventListener("click",n.control),document.body.addEventListener("keydown",(function(e){var t=e.keyCode||e.which;13===t&&n.control(e),27===t&&n.hideAll()})),document.addEventListener(n.evs.triggerHide,n.triggerListener),document.addEventListener(n.evs.triggerShow,n.triggerListener)}},UX.viewToggler=n},416:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(13),o=n.n(r),i=n(3),s=n.n(i),a=n(4),c=n.n(a),l=function(){function SubduedSidebarHeight(){s()(this,SubduedSidebarHeight),this.selectors={selector:".js--subdue-sidebar-height",selectorContent:".js--subdue-content-height",controlSelector:".js--release-sidebar",viewMore:".js--release-sidebar__open",viewLess:".js--release-sidebar__close"},this.elements={sidebar:null,blocks:null,viewMore:null,viewLess:null},this.setElements(),this.init()}return c()(SubduedSidebarHeight,[{key:"setElements",value:function setElements(){this.elements.sidebar=document.querySelector(this.selectors.selector),this.elements.blocks=document.querySelectorAll(this.selectors.selectorContent),this.elements.viewMore=document.querySelector(this.selectors.viewMore),this.elements.viewLess=document.querySelector(this.selectors.viewLess)}},{key:"init",value:function init(){var e=this;if(this.elements.sidebar){var t=this.elements.sidebar.getBoundingClientRect().height+10,n=o()(this.elements.blocks).reduce((function(e,t){return Math.max(t.getBoundingClientRect().height,e)}),0);this.elements.sidebar.style.maxHeight=n+"px";var r=document.querySelector(this.selectors.controlSelector);r&&(r.dataset.id="adv-search-view-more-tips",r.addEventListener("click",(function(o){o.preventDefault(),e.elements.sidebar.classList.contains(e.selectors.selector+"--shown")?(e.elements.sidebar.classList.remove(e.selectors.selector+"--shown"),e.elements.sidebar.style.maxHeight=n+"px",document.querySelector(e.selectors.controlSelector).classList.add("btn-collapsed"),r.dataset.id="adv-search-view-more-tips",r.querySelector(".icon-arrow_up").setAttribute("class","icon-arrow_down"),e.elements.viewMore.style.display="block",e.elements.viewLess.style.display="none"):(e.elements.sidebar.classList.add(e.selectors.selector+"--shown"),e.elements.sidebar.style.maxHeight=t+"px",e.elements.sidebar.style.height=t+"px",document.querySelector(e.selectors.controlSelector).classList.remove("btn-collapsed"),r.dataset.id="adv-search-view-less-tips",r.querySelector(".icon-arrow_down").setAttribute("class","icon-arrow_up"),e.elements.viewMore.style.display="none",e.elements.viewLess.style.display="block")})))}}}]),SubduedSidebarHeight}()},417:function(e,t,n){"use strict";n(246),n(418);var r=n(9);!function(e){var t=e.modal||{};t.target=null,t.accessibilityEnabled=!1,t.classes=e.modal.classes||{},t.classes={MODAL_OPEN:"modal-open"},t.selectors=e.modal.selectors||{},t.selectors={BODY:"body",MODAL:".modal",MENU_PARENT:".menu-parent",MAIN_NAV_MODAL:".main-nav .modal",FOCUSABLE_ELEMENTS:'button, [href]:not(.sr-only-focusable), input, select, textarea, [tabindex]:not([tabindex="-1"])'},t.on.tab=new Function,t.on.reversTab=new Function,t.on.show=function(e){t.target=t.$target[0],t.target.focusableEls=t.target.querySelectorAll(t.selectors.FOCUSABLE_ELEMENTS),t.target.firstFocusableEl=t.target.focusableEls[0],t.target.lastFocusableEl=t.target.focusableEls[t.target.focusableEls.length-1]},t.focusCycle=function(e){var n="Tab"===e.key||e.keyCode===r.b.TAB;("Esc"===e.key||e.keyCode===r.b.ESC)&&t.on.hide(e),n&&(e.shiftKey?document.activeElement===t.target.firstFocusableEl&&(t.target.lastFocusableEl.focus(),e.preventDefault()):document.activeElement===t.target.lastFocusableEl&&(t.target.firstFocusableEl.focus(),e.preventDefault()))},t.nav={},t.nav.modalStack=[],t.nav.init=function(){t.nav.$modalsInNav=$(t.selectors.MAIN_NAV_MODAL),t.nav.$modalsInNav.each((function(e,n){$(n).on("shown.bs.modal",(function(e){document.querySelector(t.selectors.BODY).classList.remove(t.classes.MODAL_OPEN),n.closest(t.selectors.MENU_PARENT).classList.add(t.classes.MODAL_OPEN),document.querySelector(t.selectors.BODY).removeAttribute("style"),t.nav.modalStack.push(n),document.addEventListener("click",t.nav.outsideClickHandler,!0),window.scrollBy(0,0)})),$(n).on("hide.bs.modal",(function(e){n.closest(t.selectors.MENU_PARENT).classList.remove(t.classes.MODAL_OPEN)}))}))},t.nav.outsideClickHandler=function(e){if(t.nav.modalStack.length>0){var n,r;t.nav.modalStack[0].contains(e.target)||e.stopPropagation();var o=t.nav.modalStack[t.nav.modalStack.length-1];e.target!==o&&e.target.closest(t.selectors.MODAL)!==o&&($(o).modal("hide"),document.removeEventListener("click",t.nav.outsideClickHandler,!0),t.nav.modalStack.pop()),null===(n=e.target)||void 0===n||null===(r=n.closest("button"))||void 0===r||r.setAttribute("aria-expanded","false")}return!0},t.nav.init(),e.modal=t}(UX)},419:function(e,t,n){"use strict";var r=n(13),o=n.n(r);n(420);!function(e){var t=e.accordion||{};t.offset=185,t.selectors=t.selectors||{},t.selectors.expandableAccordion=".expandable-accordion",t.selectors.expandAllTrigger=".expandable-accordion .expand-all",t.selectors.expandAllTriggerIcon="i",t.selectors.expandAllTriggerText="span",t.classes=t.classes||{},t.classes.ICON_VIEW="icon-view",t.classes.ICON_HIDE="icon-hide",t.classes.JS_OPEN="js--open",t.classes.ACCORDION_EMPTY="accordion--empty",t.texts=t.texts||{},t.texts.SHOW_ALL="Show all",t.texts.HIDE_ALL=" Hide all",t.texts.EXPAND_ALL="Expand All",t.hideAllBoolean=!1,t.additionalControls=function(){(t.alternativeLabel(),t.hideEmpty(),t.removeEmptyAccordion(),t.$controllers.length>0)&&(!!t.$controllers.toArray().find((function(e){return e.classList.contains(t.classes.JS_OPEN)}))||t.openHash()||t.openFirst());t.setHash()},t.showAllUpdateLabel=function(){var e=$(t.selectors.expandAllTrigger)[0];if(e){new MutationObserver((function mutate(n){$(e).html()===t.texts.EXPAND_ALL&&$(e).text(t.texts.SHOW_ALL)})).observe(e,{characterData:!1,attributes:!1,childList:!0,subtree:!1})}},t.alternativeLabel=function(){var e=document.querySelector(".accordion--alternative-label");e&&new MutationObserver((function mutateChilds(n){if(!$(e.target).text().trim().length||$(e.target).is(":empty")){e.classList.add(t.classes.ACCORDION_EMPTY);var r=e.parentElement.querySelector("[data-alternative]");r.innerHTML=r.dataset.alternative}})).observe(e,{childList:!0})},t.hideEmpty=function(){var e=function fn(e,t){var n=this.getAttribute("aria-controls"),r=$("#"+n);!r.find(".dropzone").length&&(!r.text().trim().length||r.is(":empty"))&&(r.remove(),this.remove())};t.$controllers.each(e),t.$tabbedControllers.each(e)},t.removeEmptyAccordion=function(){t.$elements.each((function fn(e,t){if(!$(this).find(".dropzone").length&&(!$(this).text().trim().length||$(this).is(":empty"))){var n=this.parentElement;this.remove(),n.innerHTML=n.innerHTML.trim()}}))},t.getHash=function(){return window.location.hash},t.open=function(e){e.classList.contains(t.classes.JS_OPEN)||"none"!==window.getComputedStyle(e).display&&"modal"!==e.getAttribute("data-toggle")&&$(e).click()},t.openHash=function(){var e=t.getHash(),n=document.querySelector('a[href="'+e+'"]');return!(!e||!n)&&(window.scrollTo({top:n.getBoundingClientRect().top-t.offset,behavior:"smooth"}),t.open(n),!0)},t.openFirst=function(){var e=t.$controllers[0];t.open(e)},t.setHash=function(){$(".accordion__control").click((function(e){$(this).hasClass(t.classes.JS_OPEN)?(e.preventDefault(),window.history.replaceState(null,null," ")):this.hash&&(window.location.hash=this.hash)}))},t.on.checkExpandAll=function(e,n,r){if(r.length){var i=r.find(".expand-all"),s=i.find(t.selectors.expandAllTriggerIcon),a=i.find(t.selectors.expandAllTriggerText),c=r.find(".accordion__control"),l=o()(c).reduce((function(e,t){return e&&"true"===t.getAttribute("aria-expanded")}),!0);i.attr("aria-expanded",l),a.text(t.texts.SHOW_ALL);var u=s[0];null==u||u.classList.remove(t.classes.ICON_HIDE),null==u||u.classList.add(t.classes.ICON_VIEW),l&&(a.text(t.texts.HIDE_ALL),null==u||u.classList.remove(t.classes.ICON_VIEW),null==u||u.classList.add(t.classes.ICON_HIDE))}},t.on.toggle.all=function(e){var n=e.closest(t.selectors.expandableAccordion),r=!("true"===e.attr("aria-expanded"));if(e.attr("aria-expanded",r),r){n.find(".accordion-tabbed__tab").addClass(t.classes.JS_OPEN),n.find(".accordion__control, .accordion-tabbed__control").addClass(t.classes.JS_OPEN).attr("aria-expanded",r),n.find(".accordion__content, .accordion-tabbed__content").slideDown(200);var o=$.Event("accordion:expandedAll");$(document).trigger(o,[e,n]);var i=n.find("[data-ajaxLoaded]");i.each((function(){"true"!==i.attr("[data-ajaxLoaded]")&&i.find(".accordion-lazy").length&&t.getAccordionContent(i.find(".accordion-lazy"))}))}else n.find(".accordion-tabbed__tab").removeClass(t.classes.JS_OPEN),n.find(".accordion__control, .accordion-tabbed__control").removeClass(t.classes.JS_OPEN).attr("aria-expanded",r),n.find(".accordion__content, .accordion-tabbed__content").slideUp(200);t.on.checkExpandAll(e,r,n)},e.accordion=t}(UX)},421:function(e,t){!function(e){var t={accordions:null,selectors:{ACCORDION:".bs-accordion",ACCORDION_TRIGGER:".bs-accordion__control",ACCORDION_CONTENT:".bs-accordion__content",EXPANDABLE_ACCORDION:".expandable-accordion",EXPAND_ALL_TRIGGER:".expand-all"},classes:{EXPANDABLE_ACCORDION:"expandable-accordion",COLLAPSED:"collapsed",SHOW:"show"},texts:{SHOW_ALL:"Show all",HIDE_ALL:"Hide all"},init:function init(){var e=this;this.accordions=document.querySelectorAll(this.selectors.ACCORDION),this.accordions.length&&this.accordions.forEach((function(t,n){e.control(t)}))},control:function control(e){var t=this;this.hideEmpty(e),this.removeEmptyAccordion(e);var n=e.parentElement;(null==n?void 0:n.classList.contains(this.classes.EXPANDABLE_ACCORDION))&&(n.trigger=n.querySelector(this.selectors.EXPAND_ALL_TRIGGER),n.accordion=n.querySelector(this.selectors.ACCORDION),n.trigger.addEventListener("click",(function(e){var r=e.target.closest("button").getAttribute("aria-expanded");t.onExpandAllClick.call(t,n,r)})),$(e).on("hidden.bs.collapse",(function(e){t.onCollapseHidden.call(t,n)})),$(e).on("show.bs.collapse",(function(e){t.onCollapseShow.call(t,n)})))},onCollapseHidden:function onCollapseHidden(e){e.trigger.setAttribute("aria-expanded","false"),e.trigger.querySelector("i").classList.add("icon-view"),e.trigger.querySelector("i").classList.remove("icon-hide"),e.trigger.querySelector("span").innerText=this.texts.SHOW_ALL},onCollapseShow:function onCollapseShow(e){e.trigger.setAttribute("aria-expanded","true"),e.trigger.querySelector("i").classList.add("icon-hide"),e.trigger.querySelector("i").classList.remove("icon-view"),e.trigger.querySelector("span").innerText=this.texts.HIDE_ALL},onExpandAllClick:function onExpandAllClick(e,t){"true"===t?this.toggleAll.call(this,e,!0):"false"===t&&this.toggleAll.call(this,e,!1)},toggleAll:function toggleAll(e,t){var n=e.accordion.getAttribute("id");$("#".concat(n," .collapse")).each((function(n,r){t&&$(r).hasClass("show")?($(r).collapse("hide"),e.trigger.querySelector("i").classList.add("icon-view"),e.trigger.querySelector("i").classList.remove("icon-hide")):t||$(r).hasClass("show")||($(r).collapse("show"),e.trigger.querySelector("i").classList.add("icon-hide"),e.trigger.querySelector("i").classList.remove("icon-view"))}))},hideEmpty:function hideEmpty(e){e.querySelectorAll(this.selectors.ACCORDION_TRIGGER).forEach((function fn(e,t){var n=e.getAttribute("aria-controls"),r=$("#"+n);!r.find(".dropzone").length&&(!r.text().trim().length||r.is(":empty"))&&(r.remove(),$(e).remove())}))},removeEmptyAccordion:function removeEmptyAccordion(e){if(!$(e).find(".dropzone").length&&(!$(e).text().trim().length||$(e).is(":empty"))){var t=e.parentElement;e.remove(),t.remove()}}};e.bsAccordion=t}(UX)},422:function(e,t,n){"use strict";n(423);!function(e){var t=(e||{}).sidebarSections;t.get.htmlSection=function(e){var t=e[0].innerHTML;return"<li role='option'><a title=\"".concat(t,'" href="#').concat(e.attr("id"),'">').concat(t,"</a></li>")},e.sidebarSections=t}(UX)},424:function(e,t,n){"use strict";n(425);!function(e){var t=e.articleActionsbar||{};t.selectors=t.selectors||{},t.selectors._CHECK_ALL_CHECKBOX="#action-bar-select-all",t.selectors._CHECKBOX='.issue-item__checkbox-container [type="checkbox"]',t.selectors._TOGGLE_BUTTON="a.export-citation",t.event=new CustomEvent("searchResultCheckBox.change"),t.controls=function(){var e,n=this;this.selectAllBox=document.querySelector(this.selectors._CHECK_ALL_CHECKBOX),this.checkboxes=document.querySelectorAll(this.selectors._CHECKBOX),this.resetCheckAllCheckbox();var r=this.selectAllBox,o=function onSelectAllClicked(e){var n,r=this.checked;null===(n=t.checkboxes)||void 0===n||n.forEach((function(e){return e.checked=r})),t.hideBtnsOrDisableSelect(),document.body.dispatchEvent(t.event)};this.selectAllBox.addEventListener("click",o),this.selectAllBox.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),r.checked=!r.checked,o.call(r))})),null===(e=t.checkboxes)||void 0===e||e.forEach((function(e){var t=function handleCheckboxClick(e){n.selectAllBox.checked=n.allItemsSelected(),n.hideBtnsOrDisableSelect(),document.body.dispatchEvent(n.event)};e.addEventListener("click",t,n),e.addEventListener("keydown",(function(e){13===e.keyCode&&(e.target.checked=!e.target.checked,t())}),n)})),t.btns.forEach((function(e){t.bulkAction.length>0?n.bulkAction.addEventListener("change",(function(e){t.form.length&&t.hasSelectedItems()&&(t.form.action=this.value,t.form.submit())})):e.addEventListener("click",(function(e){e.preventDefault(),this.hasAttribute("data-toggle")||"OPTION"===this.nodeName||(t.form.action=this.href,t.form.submit())}))}),this),document.body.addEventListener("searchResultCheckBox.change",t.setToggleButton.bind(this)),this.setToggleButton()},t.resetCheckAllCheckbox=function(){this.selectAllBox.checked=!1},t.setToggleButton=function(){var e=document.querySelector(this.selectors._TOGGLE_BUTTON),n=this.hasSelectedItems();e.setAttribute("disabled","true"),e.setAttribute("aria-disabled","true"),e.classList.add("disabled"),e.removeAttribute("href"),n?(e.removeAttribute("disabled"),e.removeAttribute("aria-disabled"),e.classList.remove("disabled"),e.setAttribute("href","#"),e.removeEventListener("click",t.handleKeyboardActivation)):e.addEventListener("click",t.handleKeyboardActivation)},t.handleKeyboardActivation=function(e){e.preventDefault(),e.stopPropagation()},e.articleActionsbar=t}(UX)},426:function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(14),s=n.n(i),a=n(3),c=n.n(a),l=n(4),u=n.n(l),d=n(5),h=n.n(d),f=n(7),v=n.n(f),p=n(2),m=n.n(p),y=n(6),g=n.n(y),E=n(175),_=n.n(E),S=n(8),b=n(9);function _regeneratorRuntime(){/*!regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE*/_regeneratorRuntime=function _regeneratorRuntime(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,s=Object.create(o.prototype),a=new Context(r||[]);return i(s,"_invoke",{value:makeInvokeMethod(e,n,a)}),s}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=wrap;var u="suspendedStart",d="executing",h="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var v={};define(v,a,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(values([])));m&&m!==n&&r.call(m,a)&&(v=m);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,i,s,a){var c=tryCatch(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==o()(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){invoke("next",e,s,a)}),(function(e){invoke("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return invoke("throw",e,s,a)}))}a(c.arg)}var n;i(this,"_invoke",{value:function value(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,n,r){var o=u;return function(i,s){if(o===d)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===u)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=tryCatch(t,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function maybeInvokeDelegate(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=tryCatch(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=e,next.done=!0,next};return s.next=s}}throw new TypeError(o()(t)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,i(y,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),i(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new AsyncIterator(wrap(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},defineIteratorMethods(y),define(y,l,"Generator"),define(y,a,(function(){return this})),define(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),f}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}function _callSuper(e,t,n){return t=m()(t),h()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],m()(e).constructor):t.apply(e,n))}var L=function(e){function QuickSearch(){var e;return c()(this,QuickSearch),(e=_callSuper(this,QuickSearch)).activeDropdownJournal=void 0,e.URLParameters={hs:"historyItemsConf",pts:"publicationTitlesConf",ptgs:"groupTitlesConf",ptfs:"publicationItemsConf",ts:"topicsConf",cs:"contributorsConf",pt:"publicationTypesConf"},e.initialize(),e}return g()(QuickSearch,e),u()(QuickSearch,[{key:"selectors",get:function get(){return{qsWrapper:".quick-search__wrapper",qsElements:".quick-search__input",qsAutocomplete:"input.autocomplete",qsForms:'[name="defaultQuickSearch"],[name="thisJournalQuickSearch"],[name="citationQuickSearch"],[name="ConceptIDQuickSearch"]',qsSeriesKey:'[name="SeriesKey"]',qsPublications:'[name="publication[]"]',_QUICK_SEARCH:".quick-search",_DROPBLOCK:".quick-search .dropBlock",_DROPBLOCK_LINK:".quick-search .dropBlock__link",_QUICK_JOURNAL_INPUT:'.citationSearchContainer input[name="quickLinkJournal"]',_SUBMIT_BUTTON:".citationSearchContainer .mainSearchButton",_CITATION_FORM:'[name="citationQuickSearch"]',_CITATION_SEARCH:'[name="citationQuickSearch"] .autocomplete',_CITATION_SUBMIT:'[name="citationQuickSearch"] .mainSearchButton'}}},{key:"elements",get:function get(){return{qsElements:null,qsForms:null,qsDropdowns:null,qsHeaderWrapper:null,qsAutocomplete:null,qsCitationSearch:null,qaCitationSubmit:null}}},{key:"isAutocompleteOn",get:function get(){return!0}},{key:"activeJournalForm",get:function get(){var e;return null===(e=this._elements.qsHeaderWrapper)||void 0===e?void 0:e.querySelector('[aria-labelledby="#'.concat(this.activeDropdownJournal,'"] form'))}},{key:"initialize",value:function initialize(){this.setElements(),this._elements.qsElements.length&&this.isAutocompleteOn&&!Object(b.a)()&&(this.initAutocomplete(),this.EnableSubmitBtn(),this.addEventListeners(),this.setDataId())}},{key:"setElements",value:function setElements(){this._elements.qsAutocomplete=document.querySelectorAll(this._selectors.qsAutocomplete),this._elements.qsElements=document.querySelectorAll(this._selectors.qsElements),this._elements.qsForms=document.querySelectorAll(this._selectors.qsForms),this._elements.qsCitationSearch=document.querySelector(this._selectors._CITATION_SEARCH),this._elements.qaCitationSubmit=document.querySelector(this._selectors._CITATION_SUBMIT)}},{key:"initAutocomplete",value:function initAutocomplete(){var e=this;this.autocompleteInstances=new Map,this._elements.qsAutocomplete.forEach((function(t,n){var r,o,i,a,c;for(i=(null===(o=null===(r=t.closest(e._selectors.qsForms))||void 0===r?void 0:r.querySelector(e._selectors.qsSeriesKey))||void 0===o?void 0:o.value)||null,t.seriesKey=i,a=t.parentNode,c=!1;a&&"DIV"===a.tagName;){if(a.classList.contains("option-citation")){c=!0;break}a=a.parentNode}var l,u="#"+t.getAttribute("id"),d=new _.a({selector:u,data:{src:(l=s()(_regeneratorRuntime().mark((function _callee(n){var r,o;return _regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.buildFetchURL(t)){n.next=4;break}return n.abrupt("return",[]);case 4:return n.next=6,fetch(r);case 6:return o=n.sent,n.next=9,o.json();case 9:return n.abrupt("return",n.sent);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",n.t0);case 15:case"end":return n.stop()}}),_callee,null,[[0,12]])}))),function src(e){return l.apply(this,arguments)}),cache:!1},searchEngine:function searchEngine(e,t){return t.highlight||t.label},resultItem:{tag:"a",class:"autoComplete__item dropdown-item",highlight:"autoComplete__highlight",element:function element(e,t){e.setAttribute("href",t.value.url);var n=t.value.paramFormatted||"",r="<span class='autoComplete__category'>".concat(n,":</span>");r+="<span class='autoComplete__label'>".concat(t.match,"</span>"),e.innerHTML=r,e.addEventListener("click",(function(e){e.preventDefault()}))}},resultsList:{tag:"div",class:"autocomplete dropdown-menu show",maxResults:10,noResults:!0},wrapper:!1,threshold:3,debounce:300,submit:!1,events:{input:{selection:function selection(e){var t=e.detail,selection=t.selection;return c?(this.value=selection.value.label,this.setAttribute("value",selection.value.value),d.close()):selection.value.url&&(window.location.href=t.selection.value.url),!0}}}});e.autocompleteInstances.set(t,d)}))}},{key:"addEventListeners",value:function addEventListeners(){var e=this;v()(m()(QuickSearch.prototype),"addEventListeners",this).call(this),this.autocompleteInstances.forEach((function(e,t,n){t.setAttribute("type","search"),window.addEventListener("scroll",(function(t){return e.close()})),t.addEventListener("keyup",(function(e){e.keyCode===b.b.RETURN&&""!==t.value&&("citationQuickSearch"===t.closest("form").getAttribute("name")?e.preventDefault():t.closest("form").submit())}))})),this._elements.qsForms.forEach((function(t){t.addEventListener("submit",e.onFormSubmit.bind(e,t))}))}},{key:"onFormSubmit",value:function onFormSubmit(e,t){var n;"citationQuickSearch"===e.getAttribute("name")?e.querySelector("button").getAttribute("aria-disabled")&&t.preventDefault():""===(null===(n=e.querySelector(this._selectors.qsElements))||void 0===n?void 0:n.value)&&(window.location="/search/advanced",t.preventDefault())}},{key:"buildFetchURL",value:function buildFetchURL(e){var t=this,n="",r=Object.keys(this.URLParameters).reduce((function(n,r){var o=e.dataset[t.URLParameters[r]];return o&&n.push("".concat(r,"=").concat(o)),n}),[]),o=e.value.trim().replace(/\s\s+/g," ");return o.split(" ").length>=e.dataset.autoCompleteMaxWords||o.length>=e.dataset.autoCompleteMaxChars?n:(n="/action/doSuggest?target=auto-complete",n+="&query=".concat(encodeURIComponent(o)),n+="&".concat(r.join("&")),n+="&fl=PubID",n+="".concat(e.seriesKey?"&within="+e.seriesKey:""))}},{key:"setDataId",value:function setDataId(){var e=this,t=new Function,n=new MutationObserver(t);t=function callback(t){var r=document.querySelector(e._selectors._DROPBLOCK);document.querySelector(e._selectors._DROPBLOCK_LINK).dataset.id="global-header-quick-search-filter",r.setAttribute("aria-label","search categories"),r.setAttribute("role","navigation"),n&&n.disconnect()};var r=document.querySelector(this._selectors._QUICK_SEARCH);if(r)if(document.querySelector(this._selectors._DROPBLOCK))t();else{n.observe(r,{characterData:!1,attributes:!1,childList:!0,subtree:!1})}}},{key:"EnableSubmitBtn",value:function EnableSubmitBtn(){var e,t=this;null===(e=this._elements.qsCitationSearch)||void 0===e||e.addEventListener("input",(function(){var e,n,r,o,i;""!==(null===(e=t._elements.qsCitationSearch)||void 0===e?void 0:e.value)?(null===(n=t._elements.qaCitationSubmit)||void 0===n||n.removeAttribute("aria-disabled"),null===(r=t._elements.qaCitationSubmit)||void 0===r||r.removeAttribute("tabindex")):(null===(o=t._elements.qaCitationSubmit)||void 0===o||o.setAttribute("aria-disabled","true"),null===(i=t._elements.qaCitationSubmit)||void 0===i||i.setAttribute("tabindex","-1"))}))}}]),QuickSearch}(S.a);t.a=L},427:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(1),o=n.n(r),i=n(14),s=n.n(i),a=n(3),c=n.n(a),l=n(4),u=n.n(l),d=n(5),h=n.n(d),f=n(7),v=n.n(f),p=n(2),m=n.n(p),y=n(6),g=n.n(y),E=n(175),_=n.n(E);function _regeneratorRuntime(){/*!regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE*/_regeneratorRuntime=function _regeneratorRuntime(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,s=Object.create(o.prototype),a=new Context(r||[]);return i(s,"_invoke",{value:makeInvokeMethod(e,n,a)}),s}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=wrap;var u="suspendedStart",d="executing",h="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var v={};define(v,a,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(values([])));m&&m!==n&&r.call(m,a)&&(v=m);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,i,s,a){var c=tryCatch(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==o()(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){invoke("next",e,s,a)}),(function(e){invoke("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return invoke("throw",e,s,a)}))}a(c.arg)}var n;i(this,"_invoke",{value:function value(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,n,r){var o=u;return function(i,s){if(o===d)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===u)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=tryCatch(t,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function maybeInvokeDelegate(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=tryCatch(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=e,next.done=!0,next};return s.next=s}}throw new TypeError(o()(t)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,i(y,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),i(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new AsyncIterator(wrap(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},defineIteratorMethods(y),define(y,l,"Generator"),define(y,a,(function(){return this})),define(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),f}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}function _callSuper(e,t,n){return t=m()(t),h()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],m()(e).constructor):t.apply(e,n))}var S=function(e){function CountryInstitution(){var e;return c()(this,CountryInstitution),(e=_callSuper(this,CountryInstitution)).acElement=document.querySelector(e._selectors.AUTOCOMPLETE_ELEMENT),e.countrySelector=document.querySelector(e._selectors.COUNTRY_CODE_ELEMENT),e.acElement&&e.initialize(),e}return g()(CountryInstitution,e),u()(CountryInstitution,[{key:"selectors",get:function get(){return{AUTOCOMPLETE_ELEMENT:".js--institution-autocomplete",COUNTRY_CODE_ELEMENT:'[name="sageCountryInstitution.countryCode"]',ALERT_ELEMENT:"#institutionAlert"}}},{key:"initialize",value:function initialize(){v()(m()(CountryInstitution.prototype),"initialize",this).call(this),this.control()}},{key:"control",value:function control(){this.autocomplete(),this.resetAcElement(),this.acElement.value=this.acElement.dataset.defaultValue||"",$(this.countrySelector).on("change",this.onChangeHandler.bind(this))}},{key:"onChangeHandler",value:function onChangeHandler(e){this.resetAcElement()}},{key:"resetAcElement",value:function resetAcElement(){var e=!!document.querySelector(this._selectors.COUNTRY_CODE_ELEMENT).value;this.acElement.value="",e?(this.acElement.removeAttribute("disabled"),this.acElement.removeAttribute("aria-disabled")):(this.acElement.setAttribute("disabled","true"),this.acElement.setAttribute("aria-disabled","true"))}},{key:"acOnOpen",value:function acOnOpen(e){var t=document.querySelector(this._selectors.ALERT_ELEMENT);t&&(t.innerText=t.dataset.alert)}},{key:"acOnClose",value:function acOnClose(e){var t=document.querySelector(this._selectors.ALERT_ELEMENT);t&&(t.innerText="")}},{key:"autocomplete",value:function autocomplete(){var e,t=document.querySelector(this._selectors.COUNTRY_CODE_ELEMENT),n=this,r=new _.a({selector:this._selectors.AUTOCOMPLETE_ELEMENT,data:{src:(e=s()(_regeneratorRuntime().mark((function _callee(e){var n;return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,$.ajax({url:"https://icat.sagepub.com/institutionsearch/select?fq=-accountLevel:(school+OR+district+OR+state)",data:{q:e,fq:'country:"'+t.value+'"',limit:20,rows:20,qt:"dismax",wt:"json"},dataType:"jsonp",jsonp:"json.wrf"});case 2:return n=r.sent,r.next=5,n.response.docs.map((function(e){return e.name}));case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),_callee)}))),function src(t){return e.apply(this,arguments)})},resultsList:{tag:"div",class:"autocomplete dropdown-menu show",maxResults:20,noResults:!0},resultItem:{tag:"div",class:"dropdown-item"},wrapper:!1,threshold:3,debounce:300,highlight:!0,events:{input:{focus:function focus(){r.input.value.length&&r.start()},selection:function selection(e){var t=e.detail;r.input.value=t.selection.value},close:function close(e){n.acOnClose(e)},open:function open(e){n.acOnOpen(e)}}}})}}]),CountryInstitution}(n(8).a)},428:function(e,t){var n;n={$body:$("body"),widget:null,selection1:null,selection2:null,selectedSelection1:"",selectedSelection2:"",selectors:{WIDGET_CONTAINER:".chained-selectors",SELECT1:".chained-selectors__select1",SELECT2:".chained-selectors__select2",SELECT:"select"},init:function init(){this.widget=document.querySelector(this.selectors.WIDGET_CONTAINER),this.widget&&(this.selection1=this.widget.querySelector(this.selectors.SELECT1),this.selection2=this.widget.querySelector(this.selectors.SELECT2),this.selection1Select=this.selection1.querySelector(this.selectors.SELECT),this.selection2Select=this.selection2.querySelector(this.selectors.SELECT),this.getSelectedSelection1(),this.getSelectedSelection2(),this.selectedSelection2=this.selection2Select.value,this.control())},control:function control(){$(this.selection1).on("change",this.on.selection1Change.bind(this)),$(this.selection2).on("change",this.on.selection2Change.bind(this))},on:{selection1Change:function selection1Change(e){this.getSelectedSelection1(),this.rebuildSelection2()},selection2Change:function selection2Change(e){this.getSelectedSelection2()}},getSelectedSelection1:function getSelectedSelection1(){this.selectedSelection1=this.selection1Select.value},getSelectedSelection2:function getSelectedSelection2(){this.selectedSelection2=this.selection2Select.value},rebuildSelection2:function rebuildSelection2(){""===this.selectedSelection1?(this.selection2Select.setAttribute("disabled",!0),this.selection2Select.setAttribute("aria-disabled","true")):(this.selection2Select.removeAttribute("disabled"),this.selection2Select.removeAttribute("aria-disabled"))}},UX.chainedSelectors=n},429:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n.n(r),i=n(14),s=n.n(i),a=n(3),c=n.n(a),l=n(4),u=n.n(l),d=n(5),h=n.n(d),f=n(7),v=n.n(f),p=n(2),m=n.n(p),y=n(6),g=n.n(y),E=n(175),_=n.n(E),S=n(8);n(319);function _regeneratorRuntime(){/*!regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE*/_regeneratorRuntime=function _regeneratorRuntime(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,s=Object.create(o.prototype),a=new Context(r||[]);return i(s,"_invoke",{value:makeInvokeMethod(e,n,a)}),s}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=wrap;var u="suspendedStart",d="executing",h="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var v={};define(v,a,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(values([])));m&&m!==n&&r.call(m,a)&&(v=m);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,i,s,a){var c=tryCatch(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==o()(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){invoke("next",e,s,a)}),(function(e){invoke("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return invoke("throw",e,s,a)}))}a(c.arg)}var n;i(this,"_invoke",{value:function value(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,n,r){var o=u;return function(i,s){if(o===d)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===u)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=tryCatch(t,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function maybeInvokeDelegate(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=tryCatch(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=e,next.done=!0,next};return s.next=s}}throw new TypeError(o()(t)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,i(y,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),i(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new AsyncIterator(wrap(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},defineIteratorMethods(y),define(y,l,"Generator"),define(y,a,(function(){return this})),define(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),f}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}function _callSuper(e,t,n){return t=m()(t),h()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],m()(e).constructor):t.apply(e,n))}var b=function(e){function ShibbolethLogin(){var e;return c()(this,ShibbolethLogin),(e=_callSuper(this,ShibbolethLogin)).AJAX_URL="/pb/widgets/shibbolethLogin/institutions",e.federationSelect=document.querySelector(e._selectors.FEDERATION_SELECT),e.autocompleteEl=document.querySelector(e._selectors.AUTOCOMPLETE_ELEMENT),e.recentInstitutionsContainer=document.querySelector(e._selectors.RECENT_INSTITUTIONS_CONTAINER),e.federationSelect&&(e.institutionsList=document.querySelector(e._selectors.INSTITUTIONS_LIST),e.seamlessOptInCheckbox=document.querySelector(e._selectors.SEAMLESS_PREFERENCE_INPUT),e.initialize()),e}return g()(ShibbolethLogin,e),u()(ShibbolethLogin,[{key:"selectors",get:function get(){return{AUTOCOMPLETE_ELEMENT:".js--autocomplete-element",FEDERATION_SELECT:'[name="federationSelect"]',INSTITUTIONS_LIST:".institutional-access__list",INSTITUTIONS_LIST_ITEM:"a",SEAMLESS_PREFERENCE_INPUT:"#seamless-preference-input",LOCAL_STORRAGE_ERROR:".local-storage-error",RECENT_INSTITUTIONS_CONTAINER:".recent-institutions__section",RECENT_INSTITUTIONS_LIST:".recent-institutions__list",RECENT_INSTITUTIONS_ITEM:".recent-institutions__item"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",HEADING_CLASS:"heading-s",RECENT_INSTITUTIONS_ITEM:"recent-institutions__item",BTN:"btn",BTN_OUTLINE_PRIMARY:"btn-outline-primary",ICON_SEAMLESS:"icon-seamless-access",ICON_ARROW_RIGHT:"icon-arrow_right"}}},{key:"elements",get:function get(){return{HEADER:"h3",LIST:"ul",LIST_ITEM:"li",LINK:"a"}}},{key:"texts",get:function get(){return{NO_SEAMLESS_ACCESS_SERVICE:"SeamlessAccessService is not imported..."}}},{key:"initialize",value:function initialize(){v()(m()(ShibbolethLogin.prototype),"initialize",this).call(this),this.data={},this.control()}},{key:"control",value:function control(){$(this.federationSelect).on("change",this.onFederationSelectHandler.bind(this)),this.autocompleteEl&&this.autocomplete(),this.recentInstitutionsContainer&&this.retrieveEntity(),this.optInCheckboxInit()}},{key:"isSeamlessOptOutEnabled",value:function isSeamlessOptOutEnabled(){return"true"===UX.cookies.getItem("SeamlessAccess_OptOut","")}},{key:"showLocalStorageErrorMsg",value:function showLocalStorageErrorMsg(){var e=document.querySelector(this._selectors.LOCAL_STORRAGE_ERROR);$(e).collapse("show"),this.seamlessOptInCheckbox.checked=!1,this.seamlessOptInCheckbox.setAttribute("disabled",!0)}},{key:"onFederationSelectHandler",value:function onFederationSelectHandler(e){var t=this;if(this.institutionsList.innerHTML="",e.target.value){this.data=JSON.parse(e.target.value);var n=document.createElement(this._elements.HEADER);n.classList.add(this._classList.HEADING_CLASS),n.innerText=this.data["federation-name"];var r=document.createElement(this._elements.LIST);this.data.institutions.forEach((function(e){var n=document.createElement(t._elements.LIST_ITEM),o=document.createElement(t._elements.LINK);o.setAttribute("href",e["institution-url"]),o.dataset.entityid=e["entity-id"],o.dataset.name=e["institution-name"],o.innerText=e["institution-name"],n.appendChild(o),r.appendChild(n),o.addEventListener("click",t.onInstitutionClickHandler.bind(t))}),this),this.institutionsList.appendChild(n),this.institutionsList.appendChild(r)}}},{key:"onInstitutionClickHandler",value:function onInstitutionClickHandler(e){e.preventDefault();var t=e.target,n={entityID:t.dataset.entityid,title:t.dataset.name};this.updateEntity(n,t.href)}},{key:"autocomplete",value:function autocomplete(){var e,t=this,n=new URL(window.location.href).searchParams.get("redirectUri"),r=new _.a({selector:this._selectors.AUTOCOMPLETE_ELEMENT,data:{src:(e=s()(_regeneratorRuntime().mark((function _callee(e){var r;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,$.ajax({url:t.AJAX_URL,data:{query:e,redirectUrl:n}});case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}}),_callee)}))),function src(t){return e.apply(this,arguments)}),keys:["name"]},resultsList:{tag:"div",class:"autocomplete dropdown-menu show",maxResults:20,noResults:!0},resultItem:{tag:"div",class:"dropdown-item"},wrapper:!1,threshold:3,debounce:300,highlight:!0,events:{input:{focus:function focus(){r.input.value.length&&r.start()},selection:function selection(e){var n=e.detail;r.input.value=n.selection.value.name;var o={entityID:n.selection.value.entityId,title:n.selection.value.name};t.updateEntity(o,n.selection.value.institutionUrl)}}}})}},{key:"optInCheckboxInit",value:function optInCheckboxInit(){var e=this;try{SeamlessAccessService.retrieveEntity().then((function(){e.isSeamlessOptOutEnabled()&&(e.seamlessOptInCheckbox.checked=!1)}),(function(t){e.showLocalStorageErrorMsg()}))}catch(t){e.showLocalStorageErrorMsg(),console.error(this._texts.NO_SEAMLESS_ACCESS_SERVICE)}}},{key:"updateEntity",value:function updateEntity(e,t){if(this.seamlessOptInCheckbox.checked)try{SeamlessAccessService.updateEntity(e).then((function(e){window.location.href=t})).catch((function(e){window.location.href=t}))}catch(e){console.error(this._texts.NO_SEAMLESS_ACCESS_SERVICE),window.location.href=t}else window.location.href=t}},{key:"retrieveEntity",value:function retrieveEntity(){var e=this;try{SeamlessAccessService.retrieveEntity().then((function(t){var n,r=[];for(var o in t){n="/pb/widgets/shibboleth/sage/checkSupportedInstitution?entityid="+t[o].entity.entityID;var i={};i.val=t[o],r.push(e.resolvePromise(n,i))}Promise.all(r).then((function(t){e.displayFinalResponse(t)}))}))}catch(e){console.error(this._texts.NO_SEAMLESS_ACCESS_SERVICE)}}},{key:"resolvePromise",value:function resolvePromise(e,t){return new Promise((function(n,r){$.get(e,{}).done((function(e,r,o){"string"==typeof e&&""!==e&&(e=JSON.parse(e)),t.supported=e.supported,n(t)})).fail((function(e,r,o){t.supported=!1,n(t),console.log("error occure on the server "+o)}))}))}},{key:"displayFinalResponse",value:function displayFinalResponse(e){if(e.length>0){var t=document.querySelector(this._selectors.RECENT_INSTITUTIONS_LIST),n=this.recentInstitutionsContainer.parentElement,r=!1;e.forEach((function(e){if(!0===e.supported){r=!0;var n=e.val.entity,o={entityID:n.entityID,title:n.title},i=document.createElement("div");i.classList.add("my-3");var s=document.createElement("a");s.classList.add(this._classList.RECENT_INSTITUTIONS_ITEM),s.classList.add(this._classList.BTN),s.setAttribute("href","#"),s.dataset.link=SeamlessAccessService.getWAYFLessUrl(n.entityID),s.dataset.updateentity=JSON.stringify(o);var a=document.createElement("span");a.innerText=o.title;var c=document.createElement("i");c.setAttribute("aria-hiddden","true"),c.classList.add(this._classList.ICON_SEAMLESS),a.prepend(c);var l=document.createElement("i");l.classList.add(this._classList.ICON_ARROW_RIGHT),s.append(a),s.append(l),i.append(s),t.append(i),s.addEventListener("click",this.onClickHandler)}}),this),r&&(null==n||n.classList.remove(this.classList.DISPLAY_NONE))}}},{key:"onClickHandler",value:function onClickHandler(e){var t=JSON.parse(this.dataset.updateentity),n=this.dataset.link;try{SeamlessAccessService.updateEntity(t).then((function(e){void 0!==n&&(window.location.href=n)}),(function(e){console.log(e),window.location.href=n}))}catch(e){window.location.href=n}}}]),ShibbolethLogin}(S.a)},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),o=n.n(r),i=n(4),s=n.n(i),a=function(){function NavMenu(){o()(this,NavMenu),this.selectors={modalBtn:"button[data-id='global-header-browse-menu']",mainModal:"div[id='main1-modal-1']",browseMenu:"li[aria-label='Browse by discipline']",informationMenu:"li[aria-label='Information for']"},this.elements={modalBtn:null,mainModal:null,browseMenu:null,informationMenu:null},this.setElements(),this.init()}return s()(NavMenu,[{key:"setElements",value:function setElements(){this.elements.modalBtn=document.querySelector(this.selectors.modalBtn),this.elements.mainModal=document.querySelector(this.selectors.mainModal),this.elements.browseMenu=document.querySelector(this.selectors.browseMenu),this.elements.informationMenu=document.querySelector(this.selectors.informationMenu)}},{key:"init",value:function init(){this.addListener()}},{key:"buttonClicked",value:function buttonClicked(e){if(13===e.keyCode||32===e.keyCode){var t,n,r;if(null===(t=e.target.querySelector("button"))||void 0===t||t.click(),e.target.classList.contains("modal-open")||e.target.classList.contains("show"))e.target.setAttribute("aria-expanded","true"),e.target.querySelector("button").setAttribute("aria-expanded","true"),document.body.style.overflow="hidden";else null===(n=e.target)||void 0===n||n.setAttribute("aria-expanded","false"),null===(r=e.target.querySelector("button"))||void 0===r||r.setAttribute("aria-expanded","false"),setTimeout((function(){document.body.removeAttribute("style")}),0);e.target.focus()}else if(27===e.keyCode){var o,i,s,a,c,l;if(e.target.closest('li[role="menuitem"]').classList.contains("modal-open")||e.target.closest('li[role="menuitem"]').classList.contains("show"))null===(o=e.target)||void 0===o||null===(i=o.closest('li[role="menuitem"]'))||void 0===i||i.click(),null===(s=e.target)||void 0===s||null===(a=s.closest('li[role="menuitem"]'))||void 0===a||a.setAttribute("aria-expanded","false"),null===(c=e.target)||void 0===c||null===(l=c.closest('li[role="menuitem"]'))||void 0===l||l.focus(),document.body.removeAttribute("style")}}},{key:"addListener",value:function addListener(){var e=this;[this.elements.browseMenu,this.elements.informationMenu].forEach((function(t){t.addEventListener("keydown",e.buttonClicked.bind(e)),t.addEventListener("click",(function(t){var n,r,o,i,s,a,c,l,u,d;"false"===(null===(n=t.target)||void 0===n||null===(r=n.closest("button"))||void 0===r?void 0:r.getAttribute("aria-expanded"))?(null===(o=t.target)||void 0===o||null===(i=o.closest("button"))||void 0===i||i.setAttribute("aria-expanded","true"),null===(s=t.target)||void 0===s||null===(a=s.closest('li[role="menuitem"]'))||void 0===a||a.setAttribute("aria-expanded","true"),setTimeout((function(){e.elements.mainModal.removeAttribute("aria-modal")}),50)):(null===(c=t.target)||void 0===c||null===(l=c.closest("button"))||void 0===l||l.setAttribute("aria-expanded","false"),null===(u=t.target)||void 0===u||null===(d=u.closest('li[role="menuitem"]'))||void 0===d||d.setAttribute("aria-expanded","false"))}))}))}}]),NavMenu}()},431:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),o=n.n(r),i=n(4),s=n.n(i),a=function(){function SagePhone(){o()(this,SagePhone),this.selectors={sagePhoneInput:'input[id="phone[0].label"]',sagePhoneSelect:".select-country-prefix"},this.elements={sagePhoneInput:null,sagePhoneSelect:null},this.setElements(),this.init()}return s()(SagePhone,[{key:"setElements",value:function setElements(){this.elements.sagePhoneInput=document.querySelector(this.selectors.sagePhoneInput),this.elements.sagePhoneSelect=document.querySelector(this.selectors.sagePhoneSelect)}},{key:"init",value:function init(){this.updateInput(),this.addListener()}},{key:"updateInput",value:function updateInput(){this.elements.sagePhoneInput.value=this.elements.sagePhoneSelect.options[this.elements.sagePhoneSelect.selectedIndex].getAttribute("data-class")}},{key:"addListener",value:function addListener(){var e=this;this.elements.sagePhoneSelect.addEventListener("change",(function(){e.elements.sagePhoneInput.value=e.elements.sagePhoneSelect.options[e.elements.sagePhoneSelect.selectedIndex].getAttribute("data-class")}))}}]),SagePhone}()},432:function(e,t,n){"use strict";n(854);!function(e){var t=e.menu||{},n=$("body");t.on.show=function(r){void 0!==e.controller&&e.controller.check(),r&&$(r.target).closest(".main-nav").addClass("js--open"),n.addClass("lock-screen").attr("data-active","menu"),t.$toggle.addClass("js--open"),t.$target.attr("style","display: flex !important")},t.on.showNested=new Function,t.init=function(e){$(".main-nav").each((function(e){t.$target=$(this);var n=t.$target.find(".menu-header");t.menuHeaderMainTitle=n.text(),t.redirectPath=n.data("redirect-to"),t.check.viewPort(e),t.responsive(e)})),t.items=$(".main-nav").find("a, button, input"),t.control(),t.additionalControl()},t.control=function(e){$('[data-toggle="nav"]').on("click",(function(e){e.preventDefault(),this.classList.contains("js--open")?t.on.hide(e):(t.$toggle=$(this),t.$target=$("#"+t.$toggle.data("target")),t.items=t.$target.find("a, button, input"),t.items.each((function(e){e===t.items.length-1&&(t.lastItem=$(this))})),t.on.show(e))}))}}(UX)},434:function(e,t,n){"use strict";n(435);var r=n(9);!function(e){var t=e.slide,n=$("body");t.constants=t.constants||{},t.constants.TRANSLATE_X="100%",t.selectors=t.selectors||{},t.selectors.W_SLIDE=".w-slide",t.selectors.W_SLIDE_TITLE=".w-slide__title",t.selectors.W_SLIDE_CONTENT=".w-slide__content",t.selectors.W_SLIDE_HEAD=".w-slide__head",t.selectors.W_SLIDE_BACK=".w-slide__back",t.selectors.W_SLIDE_BTN=".w-slide__btn",t.classes=t.classes||{},t.classes.JS_OPEN="js--open",t.dataIdClose=null,t.init=function(){t.$toggle=$(t.selectors.W_SLIDE_BTN),t.dataIdClose=t.$toggle[0].dataset.idClose,t.$slide=t.setHTMLMarkup(),t.$elements=$(t.$slide),t.displaySlideHtmlToPage(),t.wSlide=document.querySelector(t.selectors.W_SLIDE),t.$contents=t.$elements.find(t.selectors.W_SLIDE_CONTENT),t.$slideinfo=t.$elements.find(t.selectors.W_SLIDE_TITLE),t.$back=t.$elements.find(t.selectors.W_SLIDE_BACK),t.elementvPort=t.vPort,t.vPort=[],t.customViewPorts(),t.$toggle.each((function(e){t.check.viewPort($(this),e),t.responsive(e)})),t.additionalInitialization(),t.control(),t.additionalControls(),t.trapFocus(t.wSlide),"undefined"!=typeof facetDateChart&&facetDateChart.control(),e.utils&&e.utils.isRTL()&&(t.isRTL=!0)},t.trapFocus=function(e){e.addEventListener("keydown",(function(n){var o="Tab"===n.key||n.keyCode===r.b.TAB;if(("Esc"===n.key||n.keyCode===r.b.ESC)&&(t.back=!0,t.on.hide(n)),o){var i=e.querySelectorAll('button, [href]:not(.sr-only-focusable), input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=i[0],a=i[i.length-1];n.shiftKey?document.activeElement===s&&(a.focus(),n.preventDefault()):document.activeElement===a&&(s.focus(),n.preventDefault())}}))},t.setHTMLMarkup=function(){return'<div class="w-slide"><header class="w-slide__head"><a href="#" class="w-slide__back" title="Close" data-id="'+t.dataIdClose+'"><i class=" icon-arrow_l" aria-hidden="true"></i>'+t.backLabel+'</a><h2 class="w-slide__title heading-m"></h2></header><div class="w-slide__content"></div></div>'},t.setBackLabel=function(){t.$back.html('<i class="icon-close" aria-hidden="true"></i>')},t.displaySlideHtmlToPage=function(){if(!document.querySelector(t.selectors.W_SLIDE)){var e=$("main");e.length>0?e.append(t.$elements):n.append(t.$elements)}},t.on._showSlide=function(){var e=t.$toggle.data("slide-width")||t.constants.TRANSLATE_X,n=t.isRTL?t.constants.TRANSLATE_X:"-".concat(t.constants.TRANSLATE_X),r=t.$elements;(t.nested||t.multi)&&(r=t.$contents),!t.$elements.hasClass(t.classes.JS_OPEN)&&t.multi&&(r=$("[class*=nested--], .w-slide")),r.css({transform:"translateX(".concat(n,")"),"max-width":e}),t.isQueue=!1,t.$slideinfo.show().addClass(t.classes.JS_OPEN),t.$elements.addClass(t.classes.JS_OPEN),t.on.additionalShowSlide()}}(UX)},848:function(e,t,n){"use strict";var r=n(3),o=n.n(r),i=n(4),s=n.n(i),a=n(5),c=n.n(a),l=n(7),u=n.n(l),d=n(2),h=n.n(d),f=n(6),v=n.n(f),p=n(8),m=n(22),y=n(23),g=n(17);function _callSuper(e,t,n){return t=h()(t),c()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],h()(e).constructor):t.apply(e,n))}var E=function(e){function ChangePassword(){var e;return o()(this,ChangePassword),(e=_callSuper(this,ChangePassword)).form=document.querySelector(e._selectors.FORM),e.form&&(e.form.setAttribute("novalidate","true"),e.initialize()),e}return v()(ChangePassword,e),s()(ChangePassword,[{key:"selectors",get:function get(){return{FORM:".change-password-form",DROPDOWN_TOGGLE:".dropdown-toggle",FORM_GROUP:".form-group",FORM_CONTROL:".form-control",MODAL:".modal",CONTENT:".modal-body",ALERT_DANGER:".message.error",ALERT_SUCCESS:".success-message",PASSWORD_INPUT_FORMAT_VALIDATE:".js-format-validate",IS_INVALID:".is-invalid"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",IS_VALID:"is-valid",IS_INVALID:"is-invalid"}}},{key:"initialize",value:function initialize(){u()(h()(ChangePassword.prototype),"initialize",this).call(this),this.requiredFieldsValidation=new g.a(this.form),this.passwordFormatValidation=new m.a(this.form),this.passwordEqualityValidation=new y.a(this.form),this.modal=this.form.closest(this._selectors.MODAL),this.modal&&(this.alertSuccess=this.modal.querySelector(this._selectors.ALERT_SUCCESS),this.alertDanger=this.modal.querySelector(this._selectors.ALERT_DANGER),this.control())}},{key:"control",value:function control(){$(this.modal).on("shown.bs.modal",this.resetAll.bind(this)),this.form.addEventListener("submit",this.onSubmit.bind(this))}},{key:"resetAll",value:function resetAll(){this.form.reset(),this.resetAlerts()}},{key:"resetAlerts",value:function resetAlerts(){var e=this;this.alertSuccess.classList.add(this._classList.DISPLAY_NONE),this.alertDanger.classList.add(this._classList.DISPLAY_NONE),this.alertDanger.innerHTML="";var t=document.querySelectorAll(this._selectors.IS_INVALID);null==t||t.forEach((function(t){e.passwordFormatValidation.setValid(t)}),this)}},{key:"onSubmit",value:function onSubmit(e){e.preventDefault(),this.resetAlerts();var t=this.requiredFieldsValidation.checkRequired(),n=this.checkPasswordFormat(e.target.querySelector(this._selectors.PASSWORD_INPUT_FORMAT_VALIDATE)),r=this.checkPasswordEquality();if(t&&n&&r){var o=this.form.getAttribute("action"),i=$(this.form).serializeArray();i.push({name:"ajaxRequest",value:!0}),$.ajax({context:this,method:"post",url:o,data:i,xhrFields:{withCredentials:!0}}).done((function(e,t,n){e.result?(this.alertSuccess.classList.add(this._classList.DISPLAY_NONE),this.alertDanger.classList.remove(this._classList.DISPLAY_NONE),this.alertDanger.innerHTML=e.message):(this.alertSuccess.classList.remove(this._classList.DISPLAY_NONE),this.alertSuccess.removeAttribute("role"),this.alertSuccess.setAttribute("aria-live","polite"),this.alertSuccess.querySelector("em").innerText="Password changed successfully!")})).fail((function(e,t,n){this.alertSuccess.classList.add(this._classList.DISPLAY_NONE),this.alertDanger.classList.remove(this._classList.DISPLAY_NONE),this.alertDanger.innerHTML="Unknown error"}))}else this.focusFirstInvalid(),this.form.scrollIntoView()}},{key:"focusFirstInvalid",value:function focusFirstInvalid(){var e=this.form.querySelector(".form-group.is-invalid"),t=(null==e?void 0:e.querySelector(this._selectors.DROPDOWN_TOGGLE))||(null==e?void 0:e.querySelector(this._selectors.FORM_CONTROL));null==t||t.focus()}},{key:"checkPasswordFormat",value:function checkPasswordFormat(e){return this.passwordFormatValidation.checkPasswordFormat(e,!0)}},{key:"checkPasswordEquality",value:function checkPasswordEquality(){return this.passwordEqualityValidation.checkPasswordEquality()}}]),ChangePassword}(p.a),_=n(9);function _show_password_callSuper(e,t,n){return t=h()(t),c()(e,function _show_password_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],h()(e).constructor):t.apply(e,n))}var S=function(e){function ShowPassword(){var e;return o()(this,ShowPassword),(e=_show_password_callSuper(this,ShowPassword)).passwordInputs=document.querySelectorAll(e._selectors.PASSWORD_INPUT),e.passwordInputs.length>0&&e.initialize(),e}return v()(ShowPassword,e),s()(ShowPassword,[{key:"selectors",get:function get(){return{INPUT:"input",PASSWORD_INPUT:'[type="password"]',EYE_ELEMENT:'[class^="icon-eye"], [class*=" icon-eye"]',SR_ONLY:".sr-only"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex",ICON_EYE:"icon-eye",ICON_EYE_OFF:"icon-eye-off",SR_ONLY:"sr-only"}}},{key:"texts",get:function get(){return{SHOW_PWD:"Show password",HIDE_PWD:"Hide password"}}},{key:"initialize",value:function initialize(){u()(h()(ShowPassword.prototype),"initialize",this).call(this),this.control()}},{key:"control",value:function control(){var e=this;Array.from(this.passwordInputs).forEach((function(t){t.addEventListener("input",e.onChangePassword.bind(e));var n=t.parentElement.querySelector(e._selectors.EYE_ELEMENT);if(n){var r=document.createElement("span");r.classList.add(e._classList.SR_ONLY),r.innerText=n.classList.contains(e._classList.DISPLAY_NONE)?e._texts.SHOW_PWD:e._texts.HIDE_PWD,n.append(r),["click","keyup"].forEach((function(e){n.addEventListener(e,this.onEyeClick.bind(this))}),e),n.setAttribute("aria-live","polite")}}))}},{key:"onChangePassword",value:function onChangePassword(e){var t=e.target,n=t.parentElement.querySelector(this._selectors.EYE_ELEMENT);n&&n.classList.toggle(this._classList.DISPLAY_NONE,!t.value)}},{key:"onEyeClick",value:function onEyeClick(e){if("keyup"===e.type&&e.keyCode!==_.b.RETURN)return!1;var t=e.target,n=t.parentElement.querySelector(this._selectors.INPUT);t.classList.toggle(this._classList.ICON_EYE),t.classList.toggle(this._classList.ICON_EYE_OFF),t.querySelector(this._selectors.SR_ONLY).innerText=t.classList.contains(this._classList.ICON_EYE)?this._texts.SHOW_PWD:this._texts.HIDE_PWD,n.setAttribute("type","password"),t.classList.contains(this._classList.ICON_EYE_OFF)&&n.setAttribute("type","text")}}]),ShowPassword}(p.a);new E,new S}}]);