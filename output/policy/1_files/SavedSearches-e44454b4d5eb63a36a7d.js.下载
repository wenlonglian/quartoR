(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{461:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r(3),s=r.n(n),a=r(4),c=r.n(a),l=r(5),o=r.n(l),i=r(2),u=r.n(i),d=r(6),v=r.n(d),S=r(8),h=r(11);function _callSuper(e,t,r){return t=u()(t),o()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,r||[],u()(e).constructor):t.apply(e,r))}var _=function(e){function SavedSearches(){var e;return s()(this,SavedSearches),(e=_callSuper(this,SavedSearches)).widgetTable=document.querySelector(e._selectors.WIDGET_TABLE),e.linksToRemove=document.querySelectorAll(e._selectors.LINK_TO_REMOVE),e.linkToRemoveAll=document.querySelector(e._selectors.LINK_TO_REMOVE_ALL),e.linksToRemove.length>0&&e.control(),e}return v()(SavedSearches,e),c()(SavedSearches,[{key:"selectors",get:function get(){return{LINK_TO_REMOVE:'[data-action-type="saved-search--remove"]',LINK_TO_REMOVE_ALL:'[data-id="saved-search-delete-all"]',WIDGET_TABLE:".saved-searches",SUCCESS_MESSAGE:".success-message"}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none",DISPLAY_FLEX:"d-flex"}}},{key:"texts",get:function get(){return{SUCCESS_MESSAGE_HTML:'<div class="success-message" role="alert" aria-live="assertive"><i class="icon-check-circle-outline text-success" aria-hidden="true"></i><span>%search_name% has been deleted.</span></div>',SUCCESS_MESSAGE_ALL_HTML:'<div class="success-message" role="alert" aria-live="assertive"><i class="icon-check-circle-outline text-success" aria-hidden="true"></i><span>All records has been deleted.</span></div>',NO_SEARCHES_HTML:"<p>You do not have any saved searches</p>"}}},{key:"control",value:function control(){var e,t=this,r=this;this.linksToRemove.forEach((function(e){e.addEventListener("click",t.onClickHandler.bind(r))}),this),null===(e=this.linkToRemoveAll)||void 0===e||e.addEventListener("click",this.onClickHandler.bind(r))}},{key:"onClickHandler",value:function onClickHandler(e){e.preventDefault();var t=this,r=e.target.closest("a"),n=r.getAttribute("href");$.ajax({method:"POST",url:n,data:{ajax:!0}}).done((function(e,n,s){"success"===n&&t.removeRecord(r)})).fail((function(e,t,r){console.error(e)}))}},{key:"removeRecord",value:function removeRecord(e){var t;null===(t=document.querySelector(this._selectors.SUCCESS_MESSAGE))||void 0===t||t.remove();var r=e.closest("tr");if(r){var n,s=r.querySelector('[data-thead="Name"]').textContent;null==r||r.remove();var a=this._texts.SUCCESS_MESSAGE_HTML.replace("%search_name%",Object(h.a)(s));null===(n=this.widgetTable)||void 0===n||n.insertAdjacentHTML("beforebegin",a),this.widgetTable.querySelectorAll("tbody tr").length<1&&this.removeAll()}else{var c,l=this._texts.SUCCESS_MESSAGE_ALL_HTML;null===(c=this.widgetTable)||void 0===c||c.insertAdjacentHTML("beforebegin",l),this.removeAll()}}},{key:"removeAll",value:function removeAll(){var e=this._texts.NO_SEARCHES_HTML;this.widgetTable.insertAdjacentHTML("beforebegin",e),this.widgetTable.remove(),this.linkToRemoveAll.remove()}}]),SavedSearches}(S.a)}}]);